<!DOCTYPE html><html lang='en'><head><title>[func.wrap]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>20</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>20.14</a> Function objects <a class='abbr_ref' href='function.objects#func.wrap'>[function.objects]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>20.14.16</a> Polymorphic function wrappers <a class='abbr_ref'>[func.wrap]</a></h3><span class='indexparent'><a class='index' id=':function_object,wrapper'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15038'>#</a></div><div id='1.sentence-1' class='sentence'>This subclause describes a polymorphic wrapper class that
encapsulates arbitrary callable objects<a class='hidden_link' href='#1.sentence-1'>.</a></div></div><div id='badcall' class='section'><h4 ><a class='secnum' href='#badcall' style='min-width:118pt'>20.14.16.1</a> Class <span class='texttt'>bad_&shy;function_&shy;call</span> <a class='abbr_ref' href='func.wrap.badcall'>[func.wrap.badcall]</a></h4><span class='indexparent'><a class='index' id='lib:bad_function_call'></a></span><div class='para' id='badcall-1'><div class='marginalizedparent'><a class='marginalized' href='#badcall-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15045'>#</a></div><div id='badcall-1.sentence-1' class='sentence'>An exception of type <span class='texttt'>bad_&shy;function_&shy;call</span> is thrown by
<span class='texttt'>function<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='#func.inv'>[func.wrap.func.inv]</a>)
when the function wrapper object has no target<a class='hidden_link' href='#badcall-1.sentence-1'>.</a></div><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> bad_function_call <span class='operator'>:</span> <span class='keyword'>public</span> exception <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='comment'>// see <a href='exception'>[exception]</a> for the specification of the special member functions</span>
    <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='keyword'>override</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre><span class='indexparent'><a class='index' id='lib:what,bad_function_call'></a></span><span class='indexparent'><a class='index' id='lib:bad_function_call,what'></a></span></div><div class='itemdecl' id='badcall-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#badcall-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='keyword'>override</span>;
</code></div><div class='itemdescr'></div><div class='para' id='badcall-2'><div class='marginalizedparent'><a class='marginalized' href='#badcall-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15066'>#</a></div><div id='badcall-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
An
<span class='indexparent'><a class='index' id=':return_value_of_bad_function_call::what'></a></span>implementation-defined <span class='textsc'>ntbs</span><a class='hidden_link' href='#badcall-2.sentence-1'>.</a></div></div></div></div><div id='func' class='section'><h4 ><a class='secnum' href='#func' style='min-width:118pt'>20.14.16.2</a> Class template <span class='texttt'>function</span> <a class='abbr_ref' href='func.wrap.func'>[func.wrap.func]</a></h4><span class='indexparent'><a class='index' id='lib:function'></a></span>
<span class='indexparent'><a class='index' id='lib:result_type,function'></a></span><span class='indexparent'><a class='index' id='lib:function,result_type'></a></span><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> function;       <span class='comment'>// <span class='textit'>not defined</span></span>

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> result_type <span class='operator'>=</span> R;

    <span class='comment'>// <a href='#func.con'>[func.wrap.func.con]</a>, construct/copy/destroy</span>
    function<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    function<span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    function<span class='parenthesis'>(</span><span class='keyword'>const</span> function<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    function<span class='parenthesis'>(</span>function<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span>;

    function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> function<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>function<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>reference_wrapper<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='operator'>~</span>function<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#func.mod'>[func.wrap.func.mod]</a>, function modifiers</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>function<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='comment'>// <a href='#func.cap'>[func.wrap.func.cap]</a>, function capacity</span>
    <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='comment'>// <a href='#func.inv'>[func.wrap.func.inv]</a>, function invocation</span>
    R <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;

    <span class='comment'>// <a href='#func.targ'>[func.wrap.func.targ]</a>, function target access</span>
    <span class='keyword'>const</span> type_info<span class='operator'>&amp;</span> target_type<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>       T<span class='operator'>*</span> target<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>const</span> T<span class='operator'>*</span> target<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
    function<span class='parenthesis'>(</span>R<span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function<span class='anglebracket'>&lt;</span><span class='textit'><span class='texttt'>see below</span></span><span class='anglebracket'>&gt;</span>;

  <span class='comment'>// <a href='#func.nullptr'>[func.wrap.func.nullptr]</a>, null pointer comparison functions</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
    <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='comment'>// <a href='#func.alg'>[func.wrap.func.alg]</a>, specialized algorithms</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='curlybracket'>}</span>
</pre><div class='para' id='func-1'><div class='marginalizedparent'><a class='marginalized' href='#func-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15130'>#</a></div><div id='func-1.sentence-1' class='sentence'>The <span class='texttt'>function</span> class template provides polymorphic wrappers that
generalize the notion of a function pointer<a class='hidden_link' href='#func-1.sentence-1'>.</a></div> <div id='func-1.sentence-2' class='sentence'>Wrappers can store, copy,
and call arbitrary <a href='func.def#def:callable_object'>callable objects</a>, given a
<a href='func.def#def:call_signature'>call signature</a>, allowing functions to be first-class objects<a class='hidden_link' href='#func-1.sentence-2'>.</a></div></div><div class='para' id='func-2'><div class='marginalizedparent'><a class='marginalized' href='#func-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15136'>#</a></div><div id='func-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':callable_type'></a></span>A <a href='func.def#def:callable_type'>callable type</a> <span class='texttt'>F</span>
is <a class='hidden_link' href='#def:Lvalue-Callable' id='def:Lvalue-Callable'><i >Lvalue-Callable</i></a> for argument
types <span class='texttt'>ArgTypes</span>
and return type <span class='texttt'>R</span>
if the expression
<span class='texttt'><span class='textit'>INVOKE</span><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>declval<span class='anglebracket'>&lt;</span>F<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>, declval<span class='anglebracket'>&lt;</span>ArgTypes<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>,
considered as an <a href='expr.prop#def:unevaluated_operand'>unevaluated operand</a>, is
well-formed (<a href='func.require'>[func.require]</a>)<a class='hidden_link' href='#func-2.sentence-1'>.</a></div></div><div class='para' id='func-3'><div class='marginalizedparent'><a class='marginalized' href='#func-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15147'>#</a></div><div id='func-3.sentence-1' class='sentence'>The <span class='texttt'>function</span> class template is a
<a href='func.def#def:call_wrapper'>call wrapper</a> whose <a href='func.def#def:call_signature'>call signature</a>
is <span class='texttt'>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#func-3.sentence-1'>.</a></div></div><div class='para' id='func-4'><div class='marginalizedparent'><a class='marginalized' href='#func-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15152'>#</a></div><div id='func-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#func-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='func-4.sentence-1' class='sentence'>The types deduced by the deduction guides for <span class='texttt'>function</span>
may change in future versions of this International Standard<a class='hidden_link' href='#func-4.sentence-1'>.</a></div> â€”&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div id='func.con' class='section'><h4 ><a class='secnum' href='#func.con' style='min-width:133pt'>20.14.16.2.1</a> Constructors and destructor <a class='abbr_ref' href='func.wrap.func.con'>[func.wrap.func.con]</a></h4><span class='indexparent'><a class='index' id='lib:function,constructor'></a></span><div class='itemdecl' id='func.con-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-1'><div class='marginalizedparent'><a class='marginalized' href='#func.con-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15166'>#</a></div><div id='func.con-1.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'><span class='operator'>!</span><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-1.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:function,constructor_'></a></span><div class='itemdecl' id='func.con-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-2'><div class='marginalizedparent'><a class='marginalized' href='#func.con-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15177'>#</a></div><div id='func.con-2.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'><span class='operator'>!</span><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:function,constructor__'></a></span><div class='itemdecl' id='func.con-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='parenthesis'>(</span><span class='keyword'>const</span> function<span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-3'><div class='marginalizedparent'><a class='marginalized' href='#func.con-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15188'>#</a></div><div id='func.con-3.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'><span class='operator'>!</span><span class='operator'>*</span><span class='keyword'>this</span></span> if <span class='texttt'><span class='operator'>!</span>f</span>; otherwise,
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> targets a copy of <span class='texttt'>f<span class='operator'>.</span>target<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#func.con-3.sentence-1'>.</a></div></div></div><div class='para' id='func.con-4'><div class='marginalizedparent'><a class='marginalized' href='#func.con-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15193'>#</a></div><div id='func.con-4.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Nothing if <span class='texttt'>f</span>'s target is
a specialization of <span class='texttt'>reference_&shy;wrapper</span> or
a function pointer<a class='hidden_link' href='#func.con-4.sentence-1'>.</a></div> <div id='func.con-4.sentence-2' class='sentence'>Otherwise, may throw <span class='texttt'>bad_&shy;alloc</span>
or any exception thrown by the copy constructor of the stored callable object<a class='hidden_link' href='#func.con-4.sentence-2'>.</a></div> <div id='func.con-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#func.con-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='func.con-4.sentence-3' class='sentence'>Implementations should avoid the use of
dynamically allocated memory for small callable objects, for example, where
<span class='texttt'>f</span>'s target is an object holding only a pointer or reference
to an object and a member function pointer<a class='hidden_link' href='#func.con-4.sentence-3'>.</a></div> â€”&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><span class='indexparent'><a class='index' id='lib:function,constructor___'></a></span><div class='itemdecl' id='func.con-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='parenthesis'>(</span>function<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-5'><div class='marginalizedparent'><a class='marginalized' href='#func.con-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15213'>#</a></div><div id='func.con-5.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
If <span class='texttt'><span class='operator'>!</span>f</span>, <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has no target;
otherwise, the target of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> is equivalent to
the target of <span class='texttt'>f</span> before the construction, and
<span class='texttt'>f</span> is in a valid state with an unspecified value<a class='hidden_link' href='#func.con-5.sentence-1'>.</a></div></div></div><div class='para' id='func.con-6'><div class='marginalizedparent'><a class='marginalized' href='#func.con-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15220'>#</a></div><div id='func.con-6.note-1' class='note'>[&nbsp;<a class='note_link' href='#func.con-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='func.con-6.sentence-1' class='sentence'>Implementations should avoid the use of
dynamically allocated memory for small callable objects, for example,
where <span class='texttt'>f</span>'s target is an object holding only a pointer or reference
to an object and a member function pointer<a class='hidden_link' href='#func.con-6.sentence-1'>.</a></div> â€”&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><span class='indexparent'><a class='index' id='lib:function,constructor____'></a></span><div class='itemdecl' id='func.con-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:5'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='parenthesis'>(</span>F f<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-7'><div class='marginalizedparent'><a class='marginalized' href='#func.con-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15235'>#</a></div><div id='func.con-7.sentence-1' class='sentence'><span class='textit'>Constraints:</span> 
<span class='texttt'>F</span> is Lvalue-Callable (<a href='#func'>[func.wrap.func]</a>) for argument types
<span class='texttt'>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> and return type <span class='texttt'>R</span><a class='hidden_link' href='#func.con-7.sentence-1'>.</a></div></div></div><div class='para' id='func.con-8'><div class='marginalizedparent'><a class='marginalized' href='#func.con-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15240'>#</a></div><div id='func.con-8.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
<span class='texttt'>F</span> meets the <span class='textit'>Cpp17CopyConstructible</span> requirements<a class='hidden_link' href='#func.con-8.sentence-1'>.</a></div></div></div><div class='para' id='func.con-9'><div class='marginalizedparent'><a class='marginalized' href='#func.con-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15244'>#</a></div><div id='func.con-9.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'><span class='operator'>!</span><span class='operator'>*</span><span class='keyword'>this</span></span> if any of the following hold:
<ul class='itemize'><li id='func.con-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.con-9.1'>(9.1)</a></div><span class='texttt'>f</span> is a null function pointer value.</li><li id='func.con-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.con-9.2'>(9.2)</a></div><span class='texttt'>f</span> is a null member pointer value.</li><li id='func.con-9.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#func.con-9.3'>(9.3)</a></div><span class='texttt'>F</span> is an instance of the <span class='texttt'>function</span> class template, and
  <span class='texttt'><span class='operator'>!</span>f</span>.</li></ul></div></div></div><div class='para' id='func.con-10'><div class='marginalizedparent'><a class='marginalized' href='#func.con-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15254'>#</a></div><div id='func.con-10.sentence-1' class='sentence'>Otherwise, <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> targets a copy of <span class='texttt'>f</span>
initialized with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>f<span class='parenthesis'>)</span></span><a class='hidden_link' href='#func.con-10.sentence-1'>.</a></div> <div id='func.con-10.note-1' class='note'>[&nbsp;<a class='note_link' href='#func.con-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='func.con-10.sentence-2' class='sentence'>Implementations should avoid the use of
dynamically allocated memory for small callable objects, for example,
where <span class='texttt'>f</span> is an object holding only a pointer or
reference to an object and a member function pointer<a class='hidden_link' href='#func.con-10.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div class='para' id='func.con-11'><div class='marginalizedparent'><a class='marginalized' href='#func.con-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15264'>#</a></div><div id='func.con-11.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Nothing if <span class='texttt'>f</span> is
a specialization of <span class='texttt'>reference_&shy;wrapper</span> or
a function pointer<a class='hidden_link' href='#func.con-11.sentence-1'>.</a></div> <div id='func.con-11.sentence-2' class='sentence'>Otherwise, may throw <span class='texttt'>bad_&shy;alloc</span>
or any exception thrown by <span class='texttt'>F</span>'s copy or move constructor<a class='hidden_link' href='#func.con-11.sentence-2'>.</a></div></div></div><div class='itemdecl' id='func.con-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:6'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='parenthesis'>(</span>F<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> function<span class='anglebracket'>&lt;</span><span class='textit'><span class='texttt'>see below</span></span><span class='anglebracket'>&gt;</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-12'><div class='marginalizedparent'><a class='marginalized' href='#func.con-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15278'>#</a></div><div id='func.con-12.sentence-1' class='sentence'><span class='textit'>Constraints:</span> 
<span class='texttt'><span class='operator'>&amp;</span>F<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is well-formed when treated as an unevaluated operand and
<span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>&#x200b;<span class='operator'>&amp;</span>F<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> is of the form
<span class='texttt'>R<span class='parenthesis'>(</span>G<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>A<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> <span class='mathit'>cv</span> <span class='texttt'><span class='operator'>&amp;</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><span class='operator'> </span><span class='keyword'>noexcept</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span></span>
for a class type <span class='texttt'>G</span><a class='hidden_link' href='#func.con-12.sentence-1'>.</a></div></div></div><div class='para' id='func.con-13'><div class='marginalizedparent'><a class='marginalized' href='#func.con-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15285'>#</a></div><div id='func.con-13.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The deduced type is <span class='texttt'>function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>A<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#func.con-13.sentence-1'>.</a></div></div></div><div class='para' id='func.con-14'><div class='marginalizedparent'><a class='marginalized' href='#func.con-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15289'>#</a></div><div id='func.con-14.example-1' class='example'>[&nbsp;<a class='example_link' href='#func.con-14.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i<span class='curlybracket'>{</span><span class='literal'>5</span><span class='curlybracket'>}</span>;
  function g <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i; <span class='curlybracket'>}</span>;       <span class='comment'>// deduces <span class='tcode_in_codeblock'>function&lt;int(double)&gt;</span></span>
<span class='curlybracket'>}</span>
</pre> â€”&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator=,function'></a></span><span class='indexparent'><a class='index' id='lib:function,operator='></a></span><div class='itemdecl' id='func.con-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:7'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> function<span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-15'><div class='marginalizedparent'><a class='marginalized' href='#func.con-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15306'>#</a></div><div id='func.con-15.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
As if by <span class='texttt'>function<span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;</span></div></div></div><div class='para' id='func.con-16'><div class='marginalizedparent'><a class='marginalized' href='#func.con-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15310'>#</a></div><div id='func.con-16.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-16.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,function_'></a></span><span class='indexparent'><a class='index' id='lib:function,operator=_'></a></span><div class='itemdecl' id='func.con-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:8'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>function<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-17'><div class='marginalizedparent'><a class='marginalized' href='#func.con-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15321'>#</a></div><div id='func.con-17.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Replaces the target of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
with the target of <span class='texttt'>f</span><a class='hidden_link' href='#func.con-17.sentence-1'>.</a></div></div></div><div class='para' id='func.con-18'><div class='marginalizedparent'><a class='marginalized' href='#func.con-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15326'>#</a></div><div id='func.con-18.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-18.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,function__'></a></span><span class='indexparent'><a class='index' id='lib:function,operator=__'></a></span><div class='itemdecl' id='func.con-itemdecl:9'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:9'>ðŸ”—</a></div><code class='itemdeclcode'>function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-19'><div class='marginalizedparent'><a class='marginalized' href='#func.con-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15337'>#</a></div><div id='func.con-19.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>nullptr</span></span>, destroys the target of <span class='texttt'><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-19.sentence-1'>.</a></div></div></div><div class='para' id='func.con-20'><div class='marginalizedparent'><a class='marginalized' href='#func.con-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15341'>#</a></div><div id='func.con-20.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#func.con-20.sentence-1'>.</a></div></div></div><div class='para' id='func.con-21'><div class='marginalizedparent'><a class='marginalized' href='#func.con-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15345'>#</a></div><div id='func.con-21.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-21.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,function___'></a></span><span class='indexparent'><a class='index' id='lib:function,operator=___'></a></span><div class='itemdecl' id='func.con-itemdecl:10'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:10'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>F<span class='operator'>&amp;</span><span class='operator'>&amp;</span> f<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-22'><div class='marginalizedparent'><a class='marginalized' href='#func.con-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15356'>#</a></div><div id='func.con-22.sentence-1' class='sentence'><span class='textit'>Constraints:</span> 
<span class='texttt'>decay_&shy;t<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span> is Lvalue-Callable (<a href='#func'>[func.wrap.func]</a>)
for argument types <span class='texttt'>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> and return type <span class='texttt'>R</span><a class='hidden_link' href='#func.con-22.sentence-1'>.</a></div></div></div><div class='para' id='func.con-23'><div class='marginalizedparent'><a class='marginalized' href='#func.con-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15361'>#</a></div><div id='func.con-23.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
As if by: <span class='texttt'>function<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;</span></div></div></div><div class='para' id='func.con-24'><div class='marginalizedparent'><a class='marginalized' href='#func.con-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15365'>#</a></div><div id='func.con-24.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-24.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:operator=,function____'></a></span><span class='indexparent'><a class='index' id='lib:function,operator=____'></a></span><div class='itemdecl' id='func.con-itemdecl:11'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:11'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> F<span class='anglebracket'>&gt;</span> function<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>reference_wrapper<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span> f<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-25'><div class='marginalizedparent'><a class='marginalized' href='#func.con-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15376'>#</a></div><div id='func.con-25.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
As if by: <span class='texttt'>function<span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='operator'>.</span>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>;</span></div></div></div><div class='para' id='func.con-26'><div class='marginalizedparent'><a class='marginalized' href='#func.con-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15380'>#</a></div><div id='func.con-26.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-26.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:function,destructor'></a></span><div class='itemdecl' id='func.con-itemdecl:12'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.con-itemdecl:12'>ðŸ”—</a></div><code class='itemdeclcode'><span class='operator'>~</span>function<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.con-27'><div class='marginalizedparent'><a class='marginalized' href='#func.con-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15391'>#</a></div><div id='func.con-27.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>nullptr</span></span>, destroys the target of <span class='texttt'><span class='keyword'>this</span></span><a class='hidden_link' href='#func.con-27.sentence-1'>.</a></div></div></div></div><div id='func.mod' class='section'><h4 ><a class='secnum' href='#func.mod' style='min-width:133pt'>20.14.16.2.2</a> Modifiers <a class='abbr_ref' href='func.wrap.func.mod'>[func.wrap.func.mod]</a></h4><span class='indexparent'><a class='index' id='lib:swap,function'></a></span><span class='indexparent'><a class='index' id='lib:function,swap'></a></span><div class='itemdecl' id='func.mod-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.mod-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>function<span class='operator'>&amp;</span> other<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.mod-1'><div class='marginalizedparent'><a class='marginalized' href='#func.mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15404'>#</a></div><div id='func.mod-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Interchanges the targets of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and <span class='texttt'>other</span><a class='hidden_link' href='#func.mod-1.sentence-1'>.</a></div></div></div></div><div id='func.cap' class='section'><h4 ><a class='secnum' href='#func.cap' style='min-width:133pt'>20.14.16.2.3</a> Capacity <a class='abbr_ref' href='func.wrap.func.cap'>[func.wrap.func.cap]</a></h4><div id='lib:function,operator_bool'><div id='lib:operator_bool,function'>
<div class='itemdecl' id='func.cap-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.cap-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='func.cap-1'><div class='marginalizedparent'><a class='marginalized' href='#func.cap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15418'>#</a></div><div id='func.cap-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='literal'>true</span></span> if <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target, otherwise <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#func.cap-1.sentence-1'>.</a></div></div></div></div><div id='func.inv' class='section'><h4 ><a class='secnum' href='#func.inv' style='min-width:133pt'>20.14.16.2.4</a> Invocation <a class='abbr_ref' href='func.wrap.func.inv'>[func.wrap.func.inv]</a></h4><div id='lib:function,operator()'><div id='lib:operator(),function'><div id='lib:function,invocation'>
<div class='itemdecl' id='func.inv-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.inv-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>R <span class='keyword'>operator</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div>
</div></div></div><div class='itemdescr'></div><div class='para' id='func.inv-1'><div class='marginalizedparent'><a class='marginalized' href='#func.inv-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15432'>#</a></div><div id='func.inv-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='textit'>INVOKE</span><span class='anglebracket'>&lt;</span>R<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>f, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>ArgTypes<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> (<a href='func.require'>[func.require]</a>),
where <span class='texttt'>f</span> is the <a href='func.def#def:target_object'>target object</a> of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#func.inv-1.sentence-1'>.</a></div></div></div><div class='para' id='func.inv-2'><div class='marginalizedparent'><a class='marginalized' href='#func.inv-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15437'>#</a></div><div id='func.inv-2.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
<span class='texttt'>bad_&shy;function_&shy;call</span> if <span class='texttt'><span class='operator'>!</span><span class='operator'>*</span><span class='keyword'>this</span></span>; otherwise, any
exception thrown by the wrapped callable object<a class='hidden_link' href='#func.inv-2.sentence-1'>.</a></div></div></div></div><div id='func.targ' class='section'><h4 ><a class='secnum' href='#func.targ' style='min-width:133pt'>20.14.16.2.5</a> Target access <a class='abbr_ref' href='func.wrap.func.targ'>[func.wrap.func.targ]</a></h4><div id='lib:function,target_type'><div id='lib:target_type,function'>
<div class='itemdecl' id='func.targ-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.targ-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>const</span> type_info<span class='operator'>&amp;</span> target_type<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='func.targ-1'><div class='marginalizedparent'><a class='marginalized' href='#func.targ-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15452'>#</a></div><div id='func.targ-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has a target of type <span class='texttt'>T</span>,
  <span class='texttt'><span class='keyword'>typeid</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span></span>; otherwise, <span class='texttt'><span class='keyword'>typeid</span><span class='parenthesis'>(</span><span class='keyword'>void</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#func.targ-1.sentence-1'>.</a></div></div></div><div id='lib:function,target'><div id='lib:target,function'>
<div class='itemdecl' id='func.targ-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.targ-itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>       T<span class='operator'>*</span> target<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>const</span> T<span class='operator'>*</span> target<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='func.targ-2'><div class='marginalizedparent'><a class='marginalized' href='#func.targ-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15466'>#</a></div><div id='func.targ-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
If <span class='texttt'>target_&shy;type<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>typeid</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span></span>
a pointer to the stored function target; otherwise a null pointer<a class='hidden_link' href='#func.targ-2.sentence-1'>.</a></div></div></div></div><div id='func.nullptr' class='section'><h4 ><a class='secnum' href='#func.nullptr' style='min-width:133pt'>20.14.16.2.6</a> Null pointer comparison functions <a class='abbr_ref' href='func.wrap.func.nullptr'>[func.wrap.func.nullptr]</a></h4><span class='indexparent'><a class='index' id='lib:operator==,function'></a></span><span class='indexparent'><a class='index' id='lib:function,operator=='></a></span><div class='itemdecl' id='func.nullptr-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.nullptr-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
  <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> f, nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.nullptr-1'><div class='marginalizedparent'><a class='marginalized' href='#func.nullptr-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15481'>#</a></div><div id='func.nullptr-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='operator'>!</span>f</span><a class='hidden_link' href='#func.nullptr-1.sentence-1'>.</a></div></div></div></div><div id='func.alg' class='section'><h4 ><a class='secnum' href='#func.alg' style='min-width:133pt'>20.14.16.2.7</a> Specialized algorithms <a class='abbr_ref' href='func.wrap.func.alg'>[func.wrap.func.alg]</a></h4><span class='indexparent'><a class='index' id='lib:swap,function_'></a></span><span class='indexparent'><a class='index' id='lib:function,swap_'></a></span><div class='itemdecl' id='func.alg-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#func.alg-itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> R, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> ArgTypes<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> f1, function<span class='anglebracket'>&lt;</span>R<span class='parenthesis'>(</span>ArgTypes<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> f2<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='func.alg-1'><div class='marginalizedparent'><a class='marginalized' href='#func.alg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L15495'>#</a></div><div id='func.alg-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
As if by: <span class='texttt'>f1<span class='operator'>.</span>swap<span class='parenthesis'>(</span>f2<span class='parenthesis'>)</span>;</span></div></div></div></div></div></div></body></html>