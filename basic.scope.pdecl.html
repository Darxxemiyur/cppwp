<!DOCTYPE html><html lang='en'><head><title>[basic.scope.pdecl]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>6</a> Basics <a class='abbr_ref' href='./#basic'>[basic]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>6.4</a> Scope <a class='abbr_ref' href='basic.scope#pdecl'>[basic.scope]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>6.4.2</a> Point of declaration <a class='abbr_ref'>[basic.scope.pdecl]</a></h3><span class='indexparent'><a class='index' id=':declaration,point_of'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L848'>#</a></div><div id='1.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:declaration,point_of' id='def:declaration,point_of'><i >point of declaration</i></a> for a name is immediately after its
complete declarator (<a href='dcl.decl'>[dcl.decl]</a>) and before its
<a class='grammarterm' href='dcl.init#nt:initializer'>initializer</a> (if any), except as noted below<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.example-1' class='example'>[&nbsp;<a class='example_link' href='#1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>unsigned</span> <span class='keyword'>char</span> x <span class='operator'>=</span> <span class='literal'>12</span>;
<span class='curlybracket'>{</span> <span class='keyword'>unsigned</span> <span class='keyword'>char</span> x <span class='operator'>=</span> x; <span class='curlybracket'>}</span>
</pre> <div id='1.sentence-2' class='sentence'>
Here, the initialization of the second <span class='texttt'>x</span> has undefined behavior,
because the initializer accesses the second <span class='texttt'>x</span>
outside its lifetime (<a href='basic.life'>[basic.life]</a>)<a class='hidden_link' href='#1.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L864'>#</a></div><div id='2.note-1' class='note'>[&nbsp;<a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':name_hiding'></a></span>A name from an outer scope remains visible up
to the point of declaration of the name that hides it<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.example-1' class='example'>[&nbsp;<a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='2.sentence-2' class='sentence'><pre class='codeblock'>
<span class='keyword'>const</span> <span class='keyword'>int</span>  i <span class='operator'>=</span> <span class='literal'>2</span>;
<span class='curlybracket'>{</span> <span class='keyword'>int</span>  i<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>
</pre>
declares a block-scope array of two integers<a class='hidden_link' href='#2.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L878'>#</a></div><div id='3.sentence-1' class='sentence'>The point of declaration for a class or class template first declared by a
<a class='grammarterm' href='class.pre#nt:class-specifier'>class-specifier</a> is immediately after the <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> or
<a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a> (if any) in its <a class='grammarterm' href='class.pre#nt:class-head'>class-head</a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>The point of declaration for an enumeration is
immediately after the <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> (if any) in either its
<a class='grammarterm' href='dcl.enum#nt:enum-specifier'>enum-specifier</a> or its first
<a class='grammarterm' href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a>, whichever comes first<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>The point of declaration of an alias or alias template immediately
follows the <a class='grammarterm' href='dcl.name#nt:defining-type-id'>defining-type-id</a> to which the
alias refers<a class='hidden_link' href='#3.sentence-3'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L890'>#</a></div><div id='4.sentence-1' class='sentence'>The point of declaration of a <a class='grammarterm' href='namespace.udecl#nt:using-declarator'>using-declarator</a> that does not name a
constructor is immediately after the <a class='grammarterm' href='namespace.udecl#nt:using-declarator'>using-declarator</a><a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L894'>#</a></div><div id='5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,enumerator_point_of'></a></span>The point of declaration for an enumerator is immediately after its
<a class='grammarterm' href='dcl.enum#nt:enumerator-definition'>enumerator-definition</a><a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.example-1' class='example'>[&nbsp;<a class='example_link' href='#5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>const</span> <span class='keyword'>int</span> x <span class='operator'>=</span> <span class='literal'>12</span>;
<span class='curlybracket'>{</span> <span class='keyword'>enum</span> <span class='curlybracket'>{</span> x <span class='operator'>=</span> x <span class='curlybracket'>}</span>; <span class='curlybracket'>}</span>
</pre> <div id='5.sentence-2' class='sentence'>
Here, the enumerator <span class='texttt'>x</span> is initialized with the value of the
constant <span class='texttt'>x</span>, namely 12<a class='hidden_link' href='#5.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L907'>#</a></div><div id='6.sentence-1' class='sentence'>After the point of declaration of a class member, the member name can be
looked up in the scope of its class<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.note-1' class='note'>[&nbsp;<a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':type,incomplete'></a></span>This is true even if the class is an incomplete class<a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.sentence-3' class='sentence'>For example,
<pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>enum</span> E <span class='curlybracket'>{</span> z <span class='operator'>=</span> <span class='literal'>16</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> b<span class='squarebracket'>[</span>X<span class='operator'>::</span>z<span class='squarebracket'>]</span>;      <span class='comment'>// OK</span>
<span class='curlybracket'>}</span>;
</pre></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L921'>#</a></div><div id='7.sentence-1' class='sentence'>The point of declaration of a class first declared in an
<a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> is as follows:
<ul class='itemize'><li id='7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.1'>(7.1)</a></div>for a declaration of the form
<pre class='ncbnf'><a class='grammarterm' href='class.pre#nt:class-key'>class-key</a> <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <span class='terminal'>;</span>
</pre>
the <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> is declared to be a
<a class='grammarterm' href='class.pre#nt:class-name'>class-name</a> in the scope that contains the declaration,
otherwise</li><li id='7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.2'>(7.2)</a></div>for an <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> of the form
<pre class='ncbnf'><a class='grammarterm' href='class.pre#nt:class-key'>class-key</a> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
</pre>
if the
<a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> is used in the
<a class='grammarterm' href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a> or <a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a>
of a function defined in namespace scope, the <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> is
declared as a <a class='grammarterm' href='class.pre#nt:class-name'>class-name</a> in the namespace that contains the
declaration; otherwise, except as a friend declaration, the
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> is declared in the smallest namespace or block
scope that contains the declaration<a class='hidden_link' href='#7.sentence-1'>.</a> <div id='7.2.note-1' class='note'>[&nbsp;<a class='note_link' href='#7.2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> These rules also apply within templates. —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='7.2.note-2' class='note'>[&nbsp;<a class='note_link' href='#7.2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> Other
forms of <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> do not declare a new name,
and therefore must refer to an existing <a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a>. See <a href='basic.lookup.elab'>[basic.lookup.elab]</a> and <a href='dcl.type.elab'>[dcl.type.elab]</a>. —&nbsp;<i>end note</i></div>&nbsp;]</div> </li></ul></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L955'>#</a></div><div id='8.sentence-1' class='sentence'>The point of declaration for an
injected-class-name (<a href='class.pre'>[class.pre]</a>) is immediately following
the opening brace of the class definition<a class='hidden_link' href='#8.sentence-1'>.</a></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L960'>#</a></div><div id='9.sentence-1' class='sentence'>The point of declaration for a function-local predefined
variable (<a href='dcl.fct.def.general'>[dcl.fct.def.general]</a>) is immediately before the
<a class='grammarterm' href='dcl.fct.def.general#nt:function-body'>function-body</a> of a function definition<a class='hidden_link' href='#9.sentence-1'>.</a></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L965'>#</a></div><div id='10.sentence-1' class='sentence'>The point of declaration of a structured binding (<a href='dcl.struct.bind'>[dcl.struct.bind]</a>)
is immediately after
the <a class='grammarterm' href='cpp.pre#nt:identifier-list'>identifier-list</a> of the structured binding declaration<a class='hidden_link' href='#10.sentence-1'>.</a></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L970'>#</a></div><div id='11.sentence-1' class='sentence'>The point of declaration for the variable or the structured bindings
declared in the <a class='grammarterm' href='stmt.iter#nt:for-range-declaration'>for-range-declaration</a>
of a range-based <span class='texttt'><span class='keyword'>for</span></span> statement (<a href='stmt.ranged'>[stmt.ranged]</a>)
is immediately after the <a class='grammarterm' href='stmt.iter#nt:for-range-initializer'>for-range-initializer</a><a class='hidden_link' href='#11.sentence-1'>.</a></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L976'>#</a></div><div id='12.sentence-1' class='sentence'>The point of declaration for a template parameter is immediately after its complete
<a class='grammarterm' href='temp.param#nt:template-parameter'>template-parameter</a><a class='hidden_link' href='#12.sentence-1'>.</a></div> <div id='12.example-1' class='example'>[&nbsp;<a class='example_link' href='#12.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>typedef</span> <span class='keyword'>unsigned</span> <span class='keyword'>char</span> T;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T
  <span class='operator'>=</span> T               <span class='comment'>// lookup finds the typedef name of <span class='tcode_in_codeblock'>unsigned char</span></span>
  , T               <span class='comment'>// lookup finds the template parameter</span>
    N <span class='operator'>=</span> <span class='literal'>0</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L989'>#</a></div><div id='13.note-1' class='note'>[&nbsp;<a class='note_link' href='#13.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='13.sentence-1' class='sentence'>Friend declarations refer to functions or classes that are
members of the nearest enclosing namespace, but they do not introduce
new names into that namespace (<a href='namespace.memdef'>[namespace.memdef]</a>)<a class='hidden_link' href='#13.sentence-1'>.</a></div> <div id='13.sentence-2' class='sentence'>Function
declarations at block scope and variable declarations with the
<span class='texttt'><span class='keyword'>extern</span></span> specifier at block scope refer to declarations that are
members of an enclosing namespace, but they do not introduce new names
into that scope<a class='hidden_link' href='#13.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/basic.tex#L1000'>#</a></div><div id='14.note-1' class='note'>[&nbsp;<a class='note_link' href='#14.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='14.sentence-1' class='sentence'>For point of instantiation of a template, see <a href='temp.point'>[temp.point]</a><a class='hidden_link' href='#14.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  </div></div></body></html>