<!DOCTYPE html><html lang='en'><head><title>[expr.const]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>7</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>7.7</a> Constant expressions <a class='abbr_ref'>[expr.const]</a></h2><div class='texpara'><a class='index' id=':expression,constant'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L6965'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>Certain contexts require expressions that satisfy additional
requirements as detailed in this subclause; other contexts have different
semantics depending on whether or not an expression satisfies these requirements<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Expressions that satisfy these requirements,
assuming that <a href='class.copy.elision' title='11.9.6&emsp;Copy/move elision&emsp;[class.copy.elision]'>copy elision</a> is not performed,
are called
<a class='index' id='def:expression,constant'></a><a class='hidden_link' href='#def:constant_expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:constant_expression'><i >constant expressions</i></span></a><a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>: <div id='1.sentence-3' class='sentence'>Constant expressions can be evaluated
during translation<a class='hidden_link' href='#1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div><div class='texpara'><div class='bnf' id='nt:constant-expression'>
<a class='hidden_link' href='#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='nt:constant-expression'><span id=':constant-expression'>constant-expression<span class='textnormal'>:</span></span></span></a><br/><a href='expr.cond#nt:conditional-expression' title='7.6.16&emsp;Conditional operator&emsp;[expr.cond]'><span id='ntref:conditional-expression'><span class='textsf'><i >conditional-expression</i></span></span></a>
</div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L6984'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>A variable or temporary object <span class='texttt'>o</span> is <a class='hidden_link' href='#def:constant-initialized' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:constant-initialized'><i >constant-initialized</i></span></a> if
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.1'>(2.1)</a></div>either it has an initializer or
  its default-initialization results in some initialization being performed, and</li><li id='2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#2.2'>(2.2)</a></div>the full-expression of its initialization is a constant expression
  when interpreted as a <a href='#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression'><span class='textsf'><i >constant-expression</i></span></span></a>,
  except that if <span class='texttt'>o</span> is an object,
  that full-expression
  may also invoke constexpr constructors
  for <span class='texttt'>o</span> and its subobjects
  even if those objects are of non-literal class types<a class='hidden_link' href='#2.sentence-1'>.</a> <div class='texpara'><div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>: <div id='2.2.sentence-2' class='sentence'>Such a class can have a non-trivial destructor<a class='hidden_link' href='#2.2.sentence-2'>.</a></div> <div id='2.2.sentence-3' class='sentence'>Within this evaluation,
  <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>is_&shy;constant_&shy;evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='meta.const.eval' title='20.15.11&emsp;Constant evaluation context'>[meta.<span class='shy'></span>const.<span class='shy'></span>eval]</a>)
  returns <span id=':true'><span class='texttt'><span class='literal'>true</span></span></span><a class='hidden_link' href='#2.2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7006'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>A variable is <a class='hidden_link' href='#def:potentially-constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:potentially-constant'><i >potentially-constant</i></span></a> if
it is constexpr or
it has reference or const-qualified integral or enumeration type<a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7011'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>A constant-initialized potentially-constant variable <span class='math'><span class='mathalpha'>V</span></span> is
<a class='hidden_link' href='#def:usable_in_constant_expressions' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:usable_in_constant_expressions'><i >usable in constant expressions</i></span></a> at a point <span class='math'><span class='mathalpha'>P</span></span> if
<span class='math'><span class='mathalpha'>V</span></span>'s initializing declaration <span class='math'><span class='mathalpha'>D</span></span> is reachable from <span class='math'><span class='mathalpha'>P</span></span> and
<ul class='itemize'><li id='4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.1'>(4.1)</a></div><span class='math'><span class='mathalpha'>V</span></span> is constexpr,</li><li id='4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.2'>(4.2)</a></div><span class='math'><span class='mathalpha'>V</span></span> is not initialized to a TU-local value, or</li><li id='4.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.3'>(4.3)</a></div><span class='math'><span class='mathalpha'>P</span></span> is in the same translation unit as <span class='math'><span class='mathalpha'>D</span></span><a class='hidden_link' href='#4.sentence-1'>.</a></li></ul></div> <div id='4.sentence-2' class='sentence'>
An object or reference is <a class='hidden_link' href='#def:usable_in_constant_expressions' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:usable_in_constant_expressions_'><i >usable in constant expressions</i></span></a> if it is
<ul class='itemize'><li id='4.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.4'>(4.4)</a></div>a variable that is usable in constant expressions, or</li><li id='4.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.5'>(4.5)</a></div>a <a href='temp.param' title='13.2&emsp;Template parameters&emsp;[temp.param]'>template parameter</a> object, or</li><li id='4.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.6'>(4.6)</a></div>a <a href='lex.string' title='5.13.5&emsp;String literals&emsp;[lex.string]'>string literal</a> object, or</li><li id='4.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.7'>(4.7)</a></div>a temporary object of non-volatile const-qualified literal type
  whose lifetime is extended (<a href='class.temporary' title='6.7.7&emsp;Temporary objects'>[class.<span class='shy'></span>temporary]</a>)
  to that of a variable that is usable in constant expressions, or</li><li id='4.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.8'>(4.8)</a></div>a non-mutable subobject or reference member of any of the above<a class='hidden_link' href='#4.sentence-2'>.</a></li></ul></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7031'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>An expression <span class='math'><span class='mathalpha'>E</span></span> is a <a class='hidden_link' href='#def:expression,core_constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:expression,core_constant'><i >core constant expression</i></span></a>
unless the evaluation of <span class='math'><span class='mathalpha'>E</span></span>, following the rules of the abstract
machine (<a href='intro.execution' title='6.9.1&emsp;Sequential execution'>[intro.<span class='shy'></span>execution]</a>), would evaluate one of the following:
<ul class='itemize'><li id='5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.1'>(5.1)</a></div><span id=':this'><span class='texttt'><span class='keyword'>this</span></span></span> (<a href='expr.prim.this' title='7.5.2&emsp;This'>[expr.<span class='shy'></span>prim.<span class='shy'></span>this]</a>), except in a constexpr
function (<a href='dcl.constexpr' title='9.2.6&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>) that is being evaluated as part
of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.2'>(5.2)</a></div>an invocation of a non-constexpr function;<a class='footnoteref' href='#footnote-75' id='footnoteref-75' title='Overload resolution ([over.match]) is applied as usual.'>75</a></li><li id='5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.3'>(5.3)</a></div>an invocation of an undefined constexpr function;</li><li id='5.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.4'>(5.4)</a></div>an invocation of an instantiated constexpr function
that fails to satisfy the requirements
for a constexpr function;</li><li id='5.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.5'>(5.5)</a></div>an invocation of a <a href='class.virtual#def:function,virtual' title='11.7.3&emsp;Virtual functions&emsp;[class.virtual]'>virtual function</a>
for an object unless
  <ul class='itemize'><li id='5.5.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#5.5.1'>(5.5.1)</a></div>the object is usable in constant expressions or</li><li id='5.5.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#5.5.2'>(5.5.2)</a></div>its lifetime began within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li></ul></li><li id='5.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.6'>(5.6)</a></div>an expression that would exceed the implementation-defined
limits (see <a href='implimits' title='Annex B&emsp;(normative)&emsp;Implementation quantities'>[implimits]</a>);</li><li id='5.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.7'>(5.7)</a></div>an operation that would have undefined behavior
as specified in <a href='intro' title='4&emsp;General principles'>[intro]</a> through <a href='cpp' title='15&emsp;Preprocessing directives'>[cpp]</a>;<a class='footnoteref' href='#footnote-76' id='footnoteref-76' title='This includes, for example, signed integer overflow ([expr.prop]), certain pointer arithmetic ([expr.add]), division by zero ([expr.mul]), or certain shift operations ([expr.shift]).'>76</a></li><li id='5.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.8'>(5.8)</a></div>an <a href='conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue conversion</a> unless
it is applied to
<ul class='itemize'><li id='5.8.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#5.8.1'>(5.8.1)</a></div>a non-volatile glvalue that refers to an object that is
  usable in constant expressions, or</li><li id='5.8.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#5.8.2'>(5.8.2)</a></div>a non-volatile glvalue of literal type that refers to a non-volatile object
  whose lifetime began within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li></ul></li><li id='5.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.9'>(5.9)</a></div>an lvalue-to-rvalue conversion
that is applied to a glvalue
that refers to a non-active member of a union or a subobject thereof;</li><li id='5.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.10'>(5.10)</a></div>an lvalue-to-rvalue conversion that is applied to
an object with an <a href='basic.indet#def:value,indeterminate' title='6.7.4&emsp;Indeterminate values&emsp;[basic.indet]'>indeterminate value</a>;</li><li id='5.11'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.11'>(5.11)</a></div>an invocation of an implicitly-defined copy/move constructor or
copy/move assignment operator
for a union whose active member (if any) is mutable,
unless the lifetime of the union object began within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='5.12'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.12'>(5.12)</a></div>an <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a> that refers to a variable or
data member of reference type
unless the reference has a preceding initialization and either
<ul class='itemize'><li id='5.12.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#5.12.1'>(5.12.1)</a></div>it is usable in constant expressions or</li><li id='5.12.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#5.12.2'>(5.12.2)</a></div>its lifetime began within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li></ul></li><li id='5.13'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.13'>(5.13)</a></div>in a <a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression'><span class='textsf'><i >lambda-expression</i></span></span></a>,
a reference to <span id=':this_'><span class='texttt'><span class='keyword'>this</span></span></span> or to a variable with
automatic storage duration defined outside that
<a href='expr.prim.lambda.general#nt:lambda-expression' title='7.5.5.1&emsp;General&emsp;[expr.prim.lambda.general]'><span id='ntref:lambda-expression_'><span class='textsf'><i >lambda-expression</i></span></span></a>, where
the reference would be an <a href='basic.def.odr' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'>odr-use</a>;
<div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span> n <span class='operator'>=</span> <span class='literal'>0</span>;
  <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>int</span> i <span class='operator'>=</span> n;        <span class='comment'>// OK, <span class='tcode_in_codeblock'>n</span> is not odr-used here</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>int</span> j <span class='operator'>=</span> <span class='operator'>*</span><span class='operator'>&amp;</span>n;      <span class='comment'>// error: <span class='tcode_in_codeblock'>&amp;n</span> would be an odr-use of <span class='tcode_in_codeblock'>n</span></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div>
<div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>: <div id='5.13.sentence-1' class='sentence'>If the odr-use occurs in an invocation
of a function call operator of a closure type,
it no longer refers to <span id=':this__'><span class='texttt'><span class='keyword'>this</span></span></span> or to an enclosing automatic variable
due to the transformation (<a href='expr.prim.lambda.capture' title='7.5.5.3&emsp;Captures'>[expr.<span class='shy'></span>prim.<span class='shy'></span>lambda.<span class='shy'></span>capture]</a>)
of the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a> into
an access of the corresponding data member<a class='hidden_link' href='#5.13.sentence-1'>.</a></div> <div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>: <span class='codeblock'><span class='keyword'>auto</span> monad <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> v<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> v; <span class='curlybracket'>}</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>auto</span> bind <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> m<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> <span class='squarebracket'>[</span><span class='operator'>=</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> fvm<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> fvm<span class='parenthesis'>(</span>m<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='comment'>// OK to capture objects with automatic storage duration created during constant expression evaluation.</span>
<span class='keyword'>static_assert</span><span class='parenthesis'>(</span>bind<span class='parenthesis'>(</span>monad<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>monad<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> monad<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></li><li id='5.14'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.14'>(5.14)</a></div>a conversion from type <span class='mathit'>cv</span> <span class='texttt'><span id=':void'><span class='texttt'><span class='keyword'>void</span></span></span><span class='operator'>*</span></span> to a pointer-to-object type;</li><li id='5.15'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.15'>(5.15)</a></div>a <span id=':reinterpret_cast'><span class='texttt'><span class='keyword'>reinterpret_&shy;cast</span></span></span> (<a href='expr.reinterpret.cast' title='7.6.1.10&emsp;Reinterpret cast'>[expr.<span class='shy'></span>reinterpret.<span class='shy'></span>cast]</a>);</li><li id='5.16'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.16'>(5.16)</a></div>a modification of an object (<a href='expr.ass' title='7.6.19&emsp;Assignment and compound assignment operators'>[expr.<span class='shy'></span>ass]</a>, <a href='expr.post.incr' title='7.6.1.6&emsp;Increment and decrement'>[expr.<span class='shy'></span>post.<span class='shy'></span>incr]</a>,
<a href='expr.pre.incr' title='7.6.2.3&emsp;Increment and decrement'>[expr.<span class='shy'></span>pre.<span class='shy'></span>incr]</a>)
unless it is applied to a non-volatile lvalue of literal type
that refers to a non-volatile object
whose lifetime began within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='5.17'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.17'>(5.17)</a></div>a <a href='expr.new#nt:new-expression' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-expression'><span class='textsf'><i >new-expression</i></span></span></a> (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>),
unless the selected allocation function is
a replaceable global allocation function (<a href='new.delete.single' title='17.6.3.2&emsp;Single-object forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>single]</a>,
<a href='new.delete.array' title='17.6.3.3&emsp;Array forms'>[new.<span class='shy'></span>delete.<span class='shy'></span>array]</a>) and
the allocated storage is deallocated within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='5.18'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.18'>(5.18)</a></div>a <a href='expr.delete#nt:delete-expression' title='7.6.2.9&emsp;Delete&emsp;[expr.delete]'><span id='ntref:delete-expression'><span class='textsf'><i >delete-expression</i></span></span></a> (<a href='expr.delete' title='7.6.2.9&emsp;Delete'>[expr.<span class='shy'></span>delete]</a>),
unless it deallocates a region of storage
allocated within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='5.19'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.19'>(5.19)</a></div>a call to an instance of
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>allocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>allocate</span> (<a href='allocator.members' title='20.10.9.2&emsp;Members'>[allocator.<span class='shy'></span>members]</a>),
unless the allocated storage is deallocated within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='5.20'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.20'>(5.20)</a></div>a call to an instance of
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>allocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>deallocate</span> (<a href='allocator.members' title='20.10.9.2&emsp;Members'>[allocator.<span class='shy'></span>members]</a>),
unless it deallocates a region of storage
allocated within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>;</li><li id='5.21'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.21'>(5.21)</a></div>an <a href='expr.await#nt:await-expression' title='7.6.2.4&emsp;Await&emsp;[expr.await]'><span id='ntref:await-expression'><span class='textsf'><i >await-expression</i></span></span></a> (<a href='expr.await' title='7.6.2.4&emsp;Await'>[expr.<span class='shy'></span>await]</a>);</li><li id='5.22'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.22'>(5.22)</a></div>a <a href='expr.yield#nt:yield-expression' title='7.6.17&emsp;Yielding a value&emsp;[expr.yield]'><span id='ntref:yield-expression'><span class='textsf'><i >yield-expression</i></span></span></a> (<a href='expr.yield' title='7.6.17&emsp;Yielding a value'>[expr.<span class='shy'></span>yield]</a>);</li><li id='5.23'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.23'>(5.23)</a></div>a three-way comparison (<a href='expr.spaceship' title='7.6.8&emsp;Three-way comparison operator'>[expr.<span class='shy'></span>spaceship]</a>),
relational (<a href='expr.rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>), or equality (<a href='expr.eq' title='7.6.10&emsp;Equality operators'>[expr.<span class='shy'></span>eq]</a>)
operator where the result is unspecified;</li><li id='5.24'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.24'>(5.24)</a></div>a <a href='expr.throw#nt:throw-expression' title='7.6.18&emsp;Throwing an exception&emsp;[expr.throw]'><span id='ntref:throw-expression'><span class='textsf'><i >throw-expression</i></span></span></a> (<a href='expr.throw' title='7.6.18&emsp;Throwing an exception'>[expr.<span class='shy'></span>throw]</a>);</li><li id='5.25'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.25'>(5.25)</a></div>a <span id=':dynamic_cast'><span class='texttt'><span class='keyword'>dynamic_&shy;cast</span></span></span> (<a href='expr.dynamic.cast' title='7.6.1.7&emsp;Dynamic cast'>[expr.<span class='shy'></span>dynamic.<span class='shy'></span>cast]</a>) or <span id=':typeid'><span class='texttt'><span class='keyword'>typeid</span></span></span> (<a href='expr.typeid' title='7.6.1.8&emsp;Type identification'>[expr.<span class='shy'></span>typeid]</a>) expression
that would throw an exception;</li><li id='5.26'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.26'>(5.26)</a></div>an <a href='dcl.asm#nt:asm-declaration' title='9.10&emsp;The asm declaration&emsp;[dcl.asm]'><span id='ntref:asm-declaration'><span class='textsf'><i >asm-declaration</i></span></span></a> (<a href='dcl.asm' title='9.10&emsp;The asm declaration'>[dcl.<span class='shy'></span>asm]</a>); or</li><li id='5.27'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#5.27'>(5.27)</a></div>an invocation of the <span class='texttt'>va_&shy;arg</span> macro (<a href='cstdarg.syn' title='17.13.2&emsp;Header &lt;cstdarg&gt; synopsis'>[cstdarg.<span class='shy'></span>syn]</a>)<a class='hidden_link' href='#5.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='5.sentence-2' class='sentence'>If <span class='math'><span class='mathalpha'>E</span></span> satisfies the constraints of a core constant expression, but
evaluation of <span class='math'><span class='mathalpha'>E</span></span> would evaluate an operation that has undefined behavior
as specified in <a href='library' title='16&emsp;Library introduction'>[library]</a> through <a href='thread' title='32&emsp;Thread support library'>[thread]</a>, or
an invocation of the <span class='texttt'>va_&shy;start</span> macro (<a href='cstdarg.syn' title='17.13.2&emsp;Header &lt;cstdarg&gt; synopsis'>[cstdarg.<span class='shy'></span>syn]</a>),
it is unspecified whether <span class='math'><span class='mathalpha'>E</span></span> is a core constant expression<a class='hidden_link' href='#5.sentence-2'>.</a></div></div><div class='texpara'><div id='example-3' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-3'>3</a></i>: <span class='codeblock'><span class='keyword'>int</span> x;                              <span class='comment'>// not constant</span>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> A<span class='parenthesis'>(</span><span class='keyword'>bool</span> b<span class='parenthesis'>)</span> <span class='operator'>:</span> m<span class='parenthesis'>(</span>b<span class='operator'>?</span><span class='literal'>42</span><span class='operator'>:</span>x<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> v <span class='operator'>=</span> A<span class='parenthesis'>(</span><span class='literal'>true</span><span class='parenthesis'>)</span><span class='operator'>.</span>m;        <span class='comment'>// OK: constructor call initializes <span class='tcode_in_codeblock'>m</span> with the value <span class='tcode_in_codeblock'>42</span></span>

<span class='keyword'>constexpr</span> <span class='keyword'>int</span> w <span class='operator'>=</span> A<span class='parenthesis'>(</span><span class='literal'>false</span><span class='parenthesis'>)</span><span class='operator'>.</span>m;       <span class='comment'>// error: initializer for <span class='tcode_in_codeblock'>m</span> is <span class='tcode_in_codeblock'>x</span>, which is non-constant</span>

<span class='keyword'>constexpr</span> <span class='keyword'>int</span> f1<span class='parenthesis'>(</span><span class='keyword'>int</span> k<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>int</span> x <span class='operator'>=</span> k;              <span class='comment'>// error: <span class='tcode_in_codeblock'>x</span> is not initialized by a constant expression</span>
                                    <span class='comment'>// because lifetime of <span class='tcode_in_codeblock'>k</span> began outside the initializer of <span class='tcode_in_codeblock'>x</span></span>
  <span class='keyword'>return</span> x;
<span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> f2<span class='parenthesis'>(</span><span class='keyword'>int</span> k<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x <span class='operator'>=</span> k;                        <span class='comment'>// OK: not required to be a constant expression</span>
                                    <span class='comment'>// because <span class='tcode_in_codeblock'>x</span> is not <span id=':constexpr'><span class='tcode_in_codeblock'>constexpr</span></span></span>
  <span class='keyword'>return</span> x;
<span class='curlybracket'>}</span>

<span class='keyword'>constexpr</span> <span class='keyword'>int</span> incr<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>&amp;</span>n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> <span class='operator'>+</span><span class='operator'>+</span>n;
<span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span> k<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>int</span> x <span class='operator'>=</span> incr<span class='parenthesis'>(</span>k<span class='parenthesis'>)</span>;        <span class='comment'>// error: <span class='tcode_in_codeblock'>incr(k)</span> is not a core constant expression</span>
                                    <span class='comment'>// because lifetime of <span class='tcode_in_codeblock'>k</span> began outside the expression <span class='tcode_in_codeblock'>incr(k)</span></span>
  <span class='keyword'>return</span> x;
<span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> k<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x <span class='operator'>=</span> incr<span class='parenthesis'>(</span>k<span class='parenthesis'>)</span>;                  <span class='comment'>// OK: <span class='tcode_in_codeblock'>incr(k)</span> is not required to be a core constant expression</span>
  <span class='keyword'>return</span> x;
<span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> y <span class='operator'>=</span> h<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;             <span class='comment'>// OK: initializes <span class='tcode_in_codeblock'>y</span> with the value <span class='tcode_in_codeblock'>2</span></span>
                                    <span class='comment'>// <span class='tcode_in_codeblock'>h(1)</span> is a core constant expression because</span>
                                    <span class='comment'>// the lifetime of <span class='tcode_in_codeblock'>k</span> begins inside <span class='tcode_in_codeblock'>h(1)</span></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7262'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>For the purposes of determining
whether an expression <span class='math'><span class='mathalpha'>E</span></span> is a core constant expression,
the evaluation of a call to a member function of <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>allocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>
as defined in <a href='allocator.members' title='20.10.9.2&emsp;Members'>[allocator.<span class='shy'></span>members]</a>, where <span class='texttt'>T</span> is a literal type,
does not disqualify <span class='math'><span class='mathalpha'>E</span></span> from being a core constant expression,
even if the actual evaluation of such a call
would otherwise fail the requirements for a core constant expression<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>Similarly, the evaluation of a call to
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>destroy_&shy;at</span>,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>ranges<span class='operator'>&#x200b;::&#x200b;</span>destroy_&shy;at</span>,
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>construct_&shy;at</span>, or
<span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>ranges<span class='operator'>&#x200b;::&#x200b;</span>construct_&shy;at</span>
does not disqualify <span class='math'><span class='mathalpha'>E</span></span>
from being a core constant expression unless:
<ul class='itemize'><li id='6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.1'>(6.1)</a></div>for a call to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>construct_&shy;at</span> or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>ranges<span class='operator'>&#x200b;::&#x200b;</span>construct_&shy;at</span>,
  the first argument, of type <span class='texttt'>T<span class='operator'>*</span></span>,
  does not point
  to storage allocated with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>allocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> or
  to an object whose lifetime began within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>, or
  the evaluation of the underlying constructor call
  disqualifies <span class='math'><span class='mathalpha'>E</span></span> from being a core constant expression, or</li><li id='6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.2'>(6.2)</a></div>for a call to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>destroy_&shy;at</span> or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>ranges<span class='operator'>&#x200b;::&#x200b;</span>destroy_&shy;at</span>,
  the first argument, of type <span class='texttt'>T<span class='operator'>*</span></span>,
  does not point
  to storage allocated with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>allocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> or
  to an object whose lifetime began within the evaluation of <span class='math'><span class='mathalpha'>E</span></span>, or
  the evaluation of the underlying destructor call
  disqualifies <span class='math'><span class='mathalpha'>E</span></span> from being a core constant expression<a class='hidden_link' href='#6.sentence-2'>.</a></li></ul></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7296'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>An object <span class='texttt'>a</span> is said to have <a class='hidden_link' href='#def:destruction,constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:destruction,constant'><i >constant destruction</i></span></a> if:
<ul class='itemize'><li id='7.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.1'>(7.1)</a></div>it is not of class type nor (possibly multi-dimensional) array thereof, or</li><li id='7.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#7.2'>(7.2)</a></div>it is of class type or (possibly multi-dimensional) array thereof,
  that class type has a constexpr destructor, and
  for a hypothetical expression <span class='math'><span class='mathalpha'>E</span></span>
  whose only effect is to destroy <span class='texttt'>a</span>,
  <span class='math'><span class='mathalpha'>E</span></span> would be a core constant expression
  if the lifetime of <span class='texttt'>a</span> and its non-mutable subobjects
  (but not its mutable subobjects) were considered to start within <span class='math'><span class='mathalpha'>E</span></span><a class='hidden_link' href='#7.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7311'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:expression,integral_constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:expression,integral_constant'><i >integral constant expression</i></span></a>
is an expression of integral or
unscoped enumeration type, implicitly converted to a prvalue, where the converted expression is a core constant expression<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-4'>4</a></i>: <div id='8.sentence-2' class='sentence'>Such expressions can be
used as bit-field lengths (<a href='class.bit' title='11.4.10&emsp;Bit-fields'>[class.<span class='shy'></span>bit]</a>), as enumerator
initializers if the underlying type is not fixed (<a href='dcl.enum' title='9.7.1&emsp;Enumeration declarations'>[dcl.<span class='shy'></span>enum]</a>),
and as <a href='dcl.align' title='9.12.2&emsp;Alignment specifier&emsp;[dcl.align]'>alignments</a><a class='hidden_link' href='#8.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7322'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'>If an expression of literal class type is used in a context where an
integral constant expression is required, then that expression is
contextually implicitly converted (<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>) to an integral or unscoped
enumeration type
and the selected conversion function shall be <span id=':constexpr_'><span class='texttt'><span class='keyword'>constexpr</span></span></span><a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='example-4' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-4'>4</a></i>: <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>constexpr</span> A<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='operator'>:</span> val<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> val; <span class='curlybracket'>}</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>operator</span> <span class='keyword'>long</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>42</span>; <span class='curlybracket'>}</span>
<span class='keyword'>private</span><span class='operator'>:</span>
  <span class='keyword'>int</span> val;
<span class='curlybracket'>}</span>;
<span class='keyword'>constexpr</span> A a <span class='operator'>=</span> <span class='keyword'>alignof</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>alignas</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='keyword'>int</span> n;               <span class='comment'>// error: ambiguous conversion</span>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>int</span> n <span class='operator'>:</span> a; <span class='curlybracket'>}</span>;        <span class='comment'>// error: ambiguous conversion</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7343'>#</a></div><div class='texpara'><div id='10.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:expression,converted_constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:expression,converted_constant'><i >converted constant expression</i></span></a>
of type <span class='texttt'>T</span> is an
expression, implicitly converted to type <span class='texttt'>T</span>, where
the converted expression is a constant expression and the
implicit conversion sequence contains only
<ul class='itemize'><li id='10.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#10.1'>(10.1)</a></div>user-defined conversions,</li><li id='10.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#10.2'>(10.2)</a></div><a href='conv.lval' title='7.3.2&emsp;Lvalue-to-rvalue conversion&emsp;[conv.lval]'>lvalue-to-rvalue conversions</a>,</li><li id='10.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#10.3'>(10.3)</a></div><a href='conv.array' title='7.3.3&emsp;Array-to-pointer conversion&emsp;[conv.array]'>array-to-pointer conversions</a>,</li><li id='10.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#10.4'>(10.4)</a></div><a href='conv.func' title='7.3.4&emsp;Function-to-pointer conversion&emsp;[conv.func]'>function-to-pointer conversions</a>,</li><li id='10.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#10.5'>(10.5)</a></div><a href='conv.qual' title='7.3.6&emsp;Qualification conversions&emsp;[conv.qual]'>qualification conversions</a>,</li><li id='10.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#10.6'>(10.6)</a></div><a href='conv.prom#def:integral_promotion' title='7.3.7&emsp;Integral promotions&emsp;[conv.prom]'>integral promotions</a>,</li><li id='10.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#10.7'>(10.7)</a></div><a href='conv.integral' title='7.3.9&emsp;Integral conversions&emsp;[conv.integral]'>integral conversions</a> other than
<a href='dcl.init.list#def:conversion,narrowing' title='9.4.5&emsp;List-initialization&emsp;[dcl.init.list]'>narrowing conversions</a>,</li><li id='10.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#10.8'>(10.8)</a></div><a href='conv.ptr#def:conversion,null_pointer' title='7.3.12&emsp;Pointer conversions&emsp;[conv.ptr]'>null pointer conversions</a> from <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_&shy;t</span>,</li><li id='10.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#10.9'>(10.9)</a></div><a href='conv.mem#def:conversion,null_member_pointer' title='7.3.13&emsp;Pointer-to-member conversions&emsp;[conv.mem]'>null member pointer conversions</a> from <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_&shy;t</span>, and</li><li id='10.10'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#10.10'>(10.10)</a></div><a href='conv.fctptr' title='7.3.14&emsp;Function pointer conversions&emsp;[conv.fctptr]'>function pointer conversions</a>,</li></ul>
and where the reference binding (if any) binds directly<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-5'>5</a></i>: <div id='10.sentence-2' class='sentence'>Such expressions can be used in <span id=':new'><span class='texttt'><span class='keyword'>new</span></span></span>
expressions (<a href='expr.new' title='7.6.2.8&emsp;New'>[expr.<span class='shy'></span>new]</a>), as case expressions (<a href='stmt.switch' title='8.5.3&emsp;The switch statement'>[stmt.<span class='shy'></span>switch]</a>),
as enumerator initializers if the underlying type is
<a href='dcl.enum#def:type,underlying,fixed' title='9.7.1&emsp;Enumeration declarations&emsp;[dcl.enum]'>fixed</a>, as <a href='dcl.array' title='9.3.4.5&emsp;Arrays&emsp;[dcl.array]'>array</a> bounds, and
as non-type <a href='temp.arg' title='13.4&emsp;Template arguments&emsp;[temp.arg]'>template arguments</a><a class='hidden_link' href='#10.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='10.sentence-3' class='sentence'><a class='index' id=':conversion,contextual_to_constant_expression_of_type_bool'></a>A <a class='hidden_link' href='#def:contextually_converted_constant_expression_of_type_bool' id='def:contextually_converted_constant_expression_of_type_bool'><i>contextually converted constant expression of type <span class='texttt'><span class='keyword'>bool</span></span></i></a> is
an expression, contextually converted to <span id=':bool'><span class='texttt'><span class='keyword'>bool</span></span></span> (<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>),
where the converted expression is a constant expression and
the conversion sequence contains only the conversions above<a class='hidden_link' href='#10.sentence-3'>.</a></div></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7377'>#</a></div><div class='texpara'><div id='11.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:expression,constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:expression,constant_'><i >constant expression</i></span></a> is either
a glvalue core constant expression that refers to
an entity that is a permitted result of a constant expression (as defined below), or
a prvalue core constant expression whose value
satisfies the following constraints:
<ul class='itemize'><li id='11.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#11.1'>(11.1)</a></div>if the value is an object of class type,
  each non-static data member of reference type refers to
  an entity that is a permitted result of a constant expression,</li><li id='11.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#11.2'>(11.2)</a></div>if the value is of pointer type, it contains
  the address of an object with static storage duration,
  the address past the end of such an object (<a href='expr.add' title='7.6.6&emsp;Additive operators'>[expr.<span class='shy'></span>add]</a>),
  the address of a non-immediate function,
  or a null pointer value,</li><li id='11.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#11.3'>(11.3)</a></div>if the value is of pointer-to-member-function type,
  it does not designate an immediate function, and</li><li id='11.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#11.4'>(11.4)</a></div>if the value is an object of class or array type,
  each subobject satisfies these constraints for the value<a class='hidden_link' href='#11.sentence-1'>.</a></li></ul></div> <div id='11.sentence-2' class='sentence'>
An entity is a
<a class='hidden_link' href='#def:constant_expression,permitted_result_of' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:constant_expression,permitted_result_of'><i >permitted result of a constant expression</i></span></a>
if it is an
object with static storage duration that either is not a temporary object or is
a temporary object whose value satisfies the above constraints, or if
it is a non-immediate function<a class='hidden_link' href='#11.sentence-2'>.</a></div> <div id='example-5' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-5'>5</a></i>: <span class='codeblock'><span class='keyword'>consteval</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>42</span>; <span class='curlybracket'>}</span>
<span class='keyword'>consteval</span> <span class='keyword'>auto</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> f; <span class='curlybracket'>}</span>
<span class='keyword'>consteval</span> <span class='keyword'>int</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> p<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>
<span class='keyword'>constexpr</span> <span class='keyword'>int</span> r <span class='operator'>=</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                          <span class='comment'>// OK</span>
<span class='keyword'>constexpr</span> <span class='keyword'>auto</span> e <span class='operator'>=</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                         <span class='comment'>// error: a pointer to an immediate function is</span>
                                                <span class='comment'>// not a permitted result of a constant expression</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7420'>#</a></div><div class='texpara'><div id='12.sentence-1' class='sentence'><i >Recommended practice</i>: Implementations should provide consistent results of floating-point evaluations,
irrespective of whether the evaluation is performed
during translation or during program execution<a class='hidden_link' href='#12.sentence-1'>.</a></div> <div id='note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-6'>6</a></i>: <div id='12.sentence-2' class='sentence'>Since this document
imposes no restrictions on the accuracy of floating-point operations, it is unspecified whether the
evaluation of a floating-point expression during translation yields the same result as the
evaluation of the same expression (or the same operations on the same values) during program
execution<a class='hidden_link' href='#12.sentence-2'>.</a></div> <div id='example-6' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-6'>6</a></i>: <span class='codeblock'><span class='keyword'>bool</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>char</span> array<span class='squarebracket'>[</span><span class='literal'>1</span> <span class='operator'>+</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='literal'>1</span> <span class='operator'>+</span> <span class='literal'>0.2</span> <span class='operator'>-</span> <span class='literal'>0.1</span> <span class='operator'>-</span> <span class='literal'>0.1</span><span class='parenthesis'>)</span><span class='squarebracket'>]</span>;   <span class='comment'>// Must be evaluated during translation</span>
    <span class='keyword'>int</span> size <span class='operator'>=</span> <span class='literal'>1</span> <span class='operator'>+</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='literal'>1</span> <span class='operator'>+</span> <span class='literal'>0.2</span> <span class='operator'>-</span> <span class='literal'>0.1</span> <span class='operator'>-</span> <span class='literal'>0.1</span><span class='parenthesis'>)</span>;    <span class='comment'>// May be evaluated at runtime</span>
    <span class='keyword'>return</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>array<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> size;
<span class='curlybracket'>}</span>
</span> <div id='12.sentence-3' class='sentence'>
It is unspecified whether the value of <span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> will be <span class='texttt'><span class='literal'>true</span></span> or <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#12.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7443'>#</a></div><div class='texpara'><div id='13.sentence-1' class='sentence'>An expression or conversion is in an <a class='hidden_link' href='#def:immediate_function_context' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:immediate_function_context'><i >immediate function context</i></span></a>
if it is potentially evaluated and either:
<ul class='itemize'><li id='13.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#13.1'>(13.1)</a></div>its innermost enclosing non-block scope is
a function parameter scope of an immediate function, or</li><li id='13.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#13.2'>(13.2)</a></div>its enclosing statement is enclosed (<a href='stmt.pre' title='8.1&emsp;Preamble'>[stmt.<span class='shy'></span>pre]</a>) by
the <a href='stmt.block#nt:compound-statement' title='8.4&emsp;Compound statement or block&emsp;[stmt.block]'><span id='ntref:compound-statement'><span class='textsf'><i >compound-statement</i></span></span></a> of a consteval if statement (<a href='stmt.if' title='8.5.2&emsp;The if statement'>[stmt.<span class='shy'></span>if]</a>)<a class='hidden_link' href='#13.sentence-1'>.</a></li></ul></div> <div id='13.sentence-2' class='sentence'>
An expression or conversion is an <a class='hidden_link' href='#def:immediate_invocation' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:immediate_invocation'><i >immediate invocation</i></span></a>
if it is a potentially-evaluated explicit or implicit invocation of
an immediate function and
is not in an immediate function context<a class='hidden_link' href='#13.sentence-2'>.</a></div> <div id='13.sentence-3' class='sentence'>An immediate invocation shall be a constant expression<a class='hidden_link' href='#13.sentence-3'>.</a></div></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7460'>#</a></div><div class='texpara'><div id='14.sentence-1' class='sentence'>An expression or conversion is <a class='hidden_link' href='#def:manifestly_constant-evaluated' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:manifestly_constant-evaluated'><i >manifestly constant-evaluated</i></span></a>
if it is:
<ul class='itemize'><li id='14.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#14.1'>(14.1)</a></div>a <a href='#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression_'><span class='textsf'><i >constant-expression</i></span></span></a>, or</li><li id='14.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#14.2'>(14.2)</a></div>the condition of a constexpr if statement (<a href='stmt.if' title='8.5.2&emsp;The if statement'>[stmt.<span class='shy'></span>if]</a>), or</li><li id='14.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#14.3'>(14.3)</a></div>an immediate invocation, or</li><li id='14.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#14.4'>(14.4)</a></div>the result of substitution into an atomic constraint expression
to determine whether it is satisfied (<a href='temp.constr.atomic' title='13.5.2.3&emsp;Atomic constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>atomic]</a>), or</li><li id='14.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#14.5'>(14.5)</a></div>the initializer of a variable
that is usable in constant expressions or
has constant initialization (<a href='basic.start.static' title='6.9.3.2&emsp;Static initialization'>[basic.<span class='shy'></span>start.<span class='shy'></span>static]</a>)<a class='hidden_link' href='#14.sentence-1'>.</a><a class='footnoteref' href='#footnote-77' id='footnoteref-77' title='Testing this condition can involve a trial evaluation of its initializer as described above.'>77</a> <div class='texpara'><div id='example-7' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-7'>7</a></i>: <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>bool</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
X<span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> x;                      <span class='comment'>// type <span class='tcode_in_codeblock'>X&lt;true&gt;</span></span>
<span class='keyword'>int</span> y;
<span class='keyword'>const</span> <span class='keyword'>int</span> a <span class='operator'>=</span> std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> y <span class='operator'>:</span> <span class='literal'>1</span>;     <span class='comment'>// dynamic initialization to 1</span>
<span class='keyword'>double</span> z<span class='squarebracket'>[</span>a<span class='squarebracket'>]</span>;                                            <span class='comment'>// error: <span class='tcode_in_codeblock'>a</span> is not usable</span>
                                                        <span class='comment'>// in constant expressions</span>
<span class='keyword'>const</span> <span class='keyword'>int</span> b <span class='operator'>=</span> std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>2</span> <span class='operator'>:</span> y;     <span class='comment'>// static initialization to 2</span>
<span class='keyword'>int</span> c <span class='operator'>=</span> y <span class='operator'>+</span> <span class='parenthesis'>(</span>std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>2</span> <span class='operator'>:</span> y<span class='parenthesis'>)</span>;     <span class='comment'>// dynamic initialization to <span class='tcode_in_codeblock'>y+y</span></span>

<span class='keyword'>constexpr</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>int</span> n <span class='operator'>=</span> std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>13</span> <span class='operator'>:</span> <span class='literal'>17</span>; <span class='comment'>// <span class='tcode_in_codeblock'>n</span> is 13</span>
  <span class='keyword'>int</span> m <span class='operator'>=</span> std<span class='operator'>::</span>is_constant_evaluated<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>13</span> <span class='operator'>:</span> <span class='literal'>17</span>;       <span class='comment'>// <span class='tcode_in_codeblock'>m</span> can be 13 or 17 (see below)</span>
  <span class='keyword'>char</span> arr<span class='squarebracket'>[</span>n<span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>; <span class='comment'>// char[13]</span>
  <span class='keyword'>return</span> m <span class='operator'>+</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>arr<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>int</span> p <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                            <span class='comment'>// <span class='tcode_in_codeblock'>m</span> is 13; initialized to 26</span>
<span class='keyword'>int</span> q <span class='operator'>=</span> p <span class='operator'>+</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                        <span class='comment'>// <span class='tcode_in_codeblock'>m</span> is 17 for this call; initialized to 56</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></li></ul></div> <div id='note-7' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-7'>7</a></i>: <div id='14.sentence-2' class='sentence'>A manifestly constant-evaluated expression
is evaluated even in an unevaluated operand<a class='hidden_link' href='#14.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/d3fbad184abd1c327dd2dd097cd3caa17ada48af/source/expressions.tex#L7503'>#</a></div><div class='texpara'><div id='15.sentence-1' class='sentence'><a class='index' id=':expression,potentially_constant_evaluated'></a>An expression or conversion is <a class='hidden_link' href='#def:potentially_constant_evaluated' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:potentially_constant_evaluated'><i >potentially constant evaluated</i></span></a>
if it is:
<ul class='itemize'><li id='15.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#15.1'>(15.1)</a></div>a manifestly constant-evaluated expression,</li><li id='15.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#15.2'>(15.2)</a></div>a <a href='basic.def.odr#def:potentially_evaluated' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'>potentially-evaluated</a> expression,</li><li id='15.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#15.3'>(15.3)</a></div>an immediate subexpression of a <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list'><span class='textsf'><i >braced-init-list</i></span></span></a>,<a class='footnoteref' href='#footnote-78' id='footnoteref-78' title='In some cases, constant evaluation is needed to determine whether a narrowing conversion is performed ([dcl.init.list]).'>78</a></li><li id='15.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#15.4'>(15.4)</a></div>an expression of the form <span class='texttt'><span class='operator'>&amp;</span></span> <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression'><span class='textsf'><i >cast-expression</i></span></span></a>
that occurs within a templated entity,<a class='footnoteref' href='#footnote-79' id='footnoteref-79' title='In some cases, constant evaluation is needed to determine whether such an expression is value-dependent ([temp.dep.constexpr]).'>79</a>
or</li><li id='15.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#15.5'>(15.5)</a></div>a subexpression of one of the above
that is not a subexpression of a nested unevaluated operand<a class='hidden_link' href='#15.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='15.sentence-2' class='sentence'><a class='index' id=':function,needed_for_constant_evaluation'></a><a class='index' id=':variable,needed_for_constant_evaluation'></a>A function or variable is
<a class='hidden_link' href='#def:needed_for_constant_evaluation' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='def:needed_for_constant_evaluation'><i >needed for constant evaluation</i></span></a>
if it is:
<ul class='itemize'><li id='15.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#15.6'>(15.6)</a></div>a constexpr function that
<a href='basic.def.odr#def:function,named_by_expression_or_conversion' title='6.3&emsp;One-definition rule&emsp;[basic.def.odr]'>is named by</a>
an expression
that is potentially constant evaluated, or</li><li id='15.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#15.7'>(15.7)</a></div>a variable named by a potentially constant evaluated expression
that is either a constexpr variable or
is of non-volatile const-qualified integral type or of reference type<a class='hidden_link' href='#15.sentence-2'>.</a></li></ul></div></div><div class='texpara'></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-75'><div class='texpara'><a class='footnotenum' href='#footnote-75'>75)</a><a class='footnoteBacklink' href='#footnoteref-75'>75)</a> <div id='footnote-75.sentence-1' class='sentence'>Overload resolution (<a href='over.match' title='12.2&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)
is applied as usual<a class='hidden_link' href='#footnote-75.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-76'><div class='texpara'><a class='footnotenum' href='#footnote-76'>76)</a><a class='footnoteBacklink' href='#footnoteref-76'>76)</a> <div id='footnote-76.sentence-1' class='sentence'>This includes,
for example, signed integer overflow (<a href='expr.prop' title='7.2&emsp;Properties of expressions'>[expr.<span class='shy'></span>prop]</a>), certain
pointer arithmetic (<a href='expr.add' title='7.6.6&emsp;Additive operators'>[expr.<span class='shy'></span>add]</a>), division by
zero (<a href='expr.mul' title='7.6.5&emsp;Multiplicative operators'>[expr.<span class='shy'></span>mul]</a>), or certain shift operations (<a href='expr.shift' title='7.6.7&emsp;Shift operators'>[expr.<span class='shy'></span>shift]</a>)<a class='hidden_link' href='#footnote-76.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-77'><div class='texpara'><a class='footnotenum' href='#footnote-77'>77)</a><a class='footnoteBacklink' href='#footnoteref-77'>77)</a> <div id='footnote-77.sentence-1' class='sentence'>Testing this condition
can involve a trial evaluation of its initializer as described above<a class='hidden_link' href='#footnote-77.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-78'><div class='texpara'><a class='footnotenum' href='#footnote-78'>78)</a><a class='footnoteBacklink' href='#footnoteref-78'>78)</a> <div id='footnote-78.sentence-1' class='sentence'>In some cases, constant evaluation is needed to determine whether a narrowing conversion is performed (<a href='dcl.init.list' title='9.4.5&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>)<a class='hidden_link' href='#footnote-78.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-79'><div class='texpara'><a class='footnotenum' href='#footnote-79'>79)</a><a class='footnoteBacklink' href='#footnoteref-79'>79)</a> <div id='footnote-79.sentence-1' class='sentence'>In some cases, constant evaluation is needed to determine whether such an expression is value-dependent (<a href='temp.dep.constexpr' title='13.8.3.4&emsp;Value-dependent expressions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>constexpr]</a>)<a class='hidden_link' href='#footnote-79.sentence-1'>.</a></div></div></div></div></body></html>