<!DOCTYPE html><html lang='en'><head><title>[class.mem]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>11.4</a> Class members <a class='abbr_ref'>[class.mem]</a></h2><span class='indexparent'><a class='index' id=':declaration,member'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:member-specification' id='nt:member-specification'>member-specification</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:member-declaration'>member-declaration</a> <a class='grammarterm' href='#nt:member-specification'>member-specification</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<a class='grammarterm' href='class.derived#nt:access-specifier'>access-specifier</a> <span class='terminal'><span class='operator'>:</span></span> <a class='grammarterm' href='#nt:member-specification'>member-specification</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:member-declaration' id='nt:member-declaration'>member-declaration</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:member-declarator-list'>member-declarator-list</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span>
&#9;<a class='grammarterm' href='dcl.fct.def.general#nt:function-definition'>function-definition</a>
&#9;<a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a>
&#9;<a class='grammarterm' href='enum.udecl#nt:using-enum-declaration'>using-enum-declaration</a>
&#9;<a class='grammarterm' href='dcl.pre#nt:static_assert-declaration'>static_assert-declaration</a>
&#9;<a class='grammarterm' href='temp.pre#nt:template-declaration'>template-declaration</a>
&#9;<a class='grammarterm' href='temp.expl.spec#nt:explicit-specialization'>explicit-specialization</a>
&#9;<a class='grammarterm' href='temp.deduct.guide#nt:deduction-guide'>deduction-guide</a>
&#9;<a class='grammarterm' href='dcl.pre#nt:alias-declaration'>alias-declaration</a>
&#9;<a class='grammarterm' href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a>
&#9;<a class='grammarterm' href='dcl.pre#nt:empty-declaration'>empty-declaration</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:member-declarator-list' id='nt:member-declarator-list'>member-declarator-list</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:member-declarator'>member-declarator</a>
&#9;<a class='grammarterm' href='#nt:member-declarator-list'>member-declarator-list</a> <span class='terminal'>,</span> <a class='grammarterm' href='#nt:member-declarator'>member-declarator</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:member-declarator' id='nt:member-declarator'>member-declarator</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='dcl.decl#nt:declarator'>declarator</a> <a class='grammarterm' href='#nt:virt-specifier-seq'>virt-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:pure-specifier'>pure-specifier</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<a class='grammarterm' href='dcl.decl#nt:declarator'>declarator</a> <a class='grammarterm' href='temp.pre#nt:requires-clause'>requires-clause</a>
&#9;<a class='grammarterm' href='dcl.decl#nt:declarator'>declarator</a> <a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='operator'>:</span></span> <a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> <a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:virt-specifier-seq' id='nt:virt-specifier-seq'>virt-specifier-seq</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:virt-specifier'>virt-specifier</a>
&#9;<a class='grammarterm' href='#nt:virt-specifier-seq'>virt-specifier-seq</a> <a class='grammarterm' href='#nt:virt-specifier'>virt-specifier</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:virt-specifier' id='nt:virt-specifier'>virt-specifier</a><span class='ntdefcolon'>:</span>
&#9;<span class='texttt'><span class='keyword'>override</span></span><span class='indexparent'><a class='index' id=':override'></a></span>
&#9;<span class='texttt'><span class='keyword'>final</span></span><span class='indexparent'><a class='index' id=':final'></a></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:pure-specifier' id='nt:pure-specifier'>pure-specifier</a><span class='ntdefcolon'>:</span>
&#9;<span class='terminal'><span class='operator'>=</span></span> <span class='terminal'><span class='literal'>0</span></span>
</pre><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L495'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':definition,class'></a></span>The <a class='grammarterm' href='#nt:member-specification'>member-specification</a> in a class definition declares the
full set of members of the class; no member can be added elsewhere<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:direct_member' id='def:direct_member'><i >direct member</i></a> of a class <span class='texttt'>X</span> is a member of <span class='texttt'>X</span>
that was first declared within the <a class='grammarterm' href='#nt:member-specification'>member-specification</a> of <span class='texttt'>X</span>,
including anonymous union objects (<a href='class.union.anon'>[class.union.anon]</a>) and direct members thereof<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>Members of a class are data members, <a href='#class.mfct'>member functions</a>,
nested types, enumerators,
and <a href='temp.mem'>member templates</a> and specializations thereof<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.note-1' class='note'>[&nbsp;<a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-4' class='sentence'>A specialization of a static data member template is a static data member<a class='hidden_link' href='#1.sentence-4'>.</a></div> <div id='1.sentence-5' class='sentence'>A specialization of a member function template is a member function<a class='hidden_link' href='#1.sentence-5'>.</a></div> <div id='1.sentence-6' class='sentence'>A specialization of a member class template is a nested class<a class='hidden_link' href='#1.sentence-6'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L511'>#</a></div><div id='2.sentence-1' class='sentence'>A <a class='grammarterm' href='#nt:member-declaration'>member-declaration</a> does not declare new members of the class
if it is
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.1'>(2.1)</a></div>a <a href='class.friend'>friend declaration</a>,</li><li id='2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.2'>(2.2)</a></div>a <a class='grammarterm' href='dcl.pre#nt:static_assert-declaration'>static_assert-declaration</a>,</li><li id='2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.3'>(2.3)</a></div>a <a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a>, or</li><li id='2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.4'>(2.4)</a></div>an <a class='grammarterm' href='dcl.pre#nt:empty-declaration'>empty-declaration</a><a class='hidden_link' href='#2.sentence-1'>.</a></li></ul></div> <div id='2.sentence-2' class='sentence'>
For any other <a class='grammarterm' href='#nt:member-declaration'>member-declaration</a>,
each declared entity
that is not an <a href='#def:bit-field,unnamed'>unnamed bit-field</a>
is a member of the class,
and each such <a class='grammarterm' href='#nt:member-declaration'>member-declaration</a>
shall either
declare at least one member name of the class
or declare at least one unnamed bit-field<a class='hidden_link' href='#2.sentence-2'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L529'>#</a></div><div id='3.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:data_member' id='def:data_member'><i >data member</i></a> is a non-function member introduced by a
<a class='grammarterm' href='#nt:member-declarator'>member-declarator</a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:member_function' id='def:member_function'><i >member function</i></a> is a member that is a function<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='3.sentence-3' class='sentence'>Nested types are classes (<a href='class.name'>[class.name]</a>, <a href='#class.nest'>[class.nest]</a>) and
<a href='dcl.enum'>enumerations</a> declared in the class and arbitrary types
declared as members by use of a <a href='dcl.typedef'>typedef declaration</a>
or <a class='grammarterm' href='dcl.pre#nt:alias-declaration'>alias-declaration</a><a class='hidden_link' href='#3.sentence-3'>.</a></div> <div id='3.sentence-4' class='sentence'>The enumerators of an <a href='dcl.enum'>unscoped enumeration</a> defined in the class
are members of the class<a class='hidden_link' href='#3.sentence-4'>.</a></div> <span class='indexparent'><a class='index' id=':member,static'></a></span><span class='indexparent'><a class='index' id=':member_function,static'></a></span><span class='indexparent'><a class='index' id=':data_member,static'></a></span></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L543'>#</a></div><div id='4.sentence-1' class='sentence'>A data member or member function
may be declared <span class='texttt'><span class='keyword'>static</span></span> in its <a class='grammarterm' href='#nt:member-declaration'>member-declaration</a>,
in which case it is a <a class='hidden_link' href='#def:static_member' id='def:static_member'><i >static member</i></a> (see <a href='#class.static'>[class.static]</a>)
(a <a class='hidden_link' href='#def:static_data_member' id='def:static_data_member'><i >static data member</i></a> (<a href='#class.static.data'>[class.static.data]</a>) or
<a class='hidden_link' href='#def:static_member_function' id='def:static_member_function'><i >static member function</i></a> (<a href='#class.static.mfct'>[class.static.mfct]</a>), respectively)
of the class<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>Any other data member or member function is a <a class='hidden_link' href='#def:non-static_member' id='def:non-static_member'><i >non-static member</i></a>
(a <a class='hidden_link' href='#def:non-static_data_member' id='def:non-static_data_member'><i >non-static data member</i></a> or
<a class='hidden_link' href='#def:non-static_member_function' id='def:non-static_member_function'><i >non-static member function</i></a> (<a href='#class.mfct.non-static'>[class.mfct.non-static]</a>), respectively)<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.note-1' class='note'>[&nbsp;<a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-3' class='sentence'>A non-static data member of non-reference
type is a <a href='intro.object#def:member_subobject'>member subobject</a> of a class object<a class='hidden_link' href='#4.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L558'>#</a></div><div id='5.sentence-1' class='sentence'>A member shall not be declared twice in the
<a class='grammarterm' href='#nt:member-specification'>member-specification</a>, except that
<ul class='itemize'><li id='5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.1'>(5.1)</a></div>a nested class or member
class template can be declared and then later defined, and</li><li id='5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#5.2'>(5.2)</a></div>an
enumeration can be introduced with an <a class='grammarterm' href='dcl.enum#nt:opaque-enum-declaration'>opaque-enum-declaration</a> and later
redeclared with an <a class='grammarterm' href='dcl.enum#nt:enum-specifier'>enum-specifier</a><a class='hidden_link' href='#5.sentence-1'>.</a></li></ul></div> <div id='5.note-1' class='note'>[&nbsp;<a class='note_link' href='#5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='5.sentence-2' class='sentence'>A single name can denote several member functions provided their types
are sufficiently different (<a href='over.load'>[over.load]</a>)<a class='hidden_link' href='#5.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L573'>#</a></div><div id='6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':completely_defined'></a></span>A <a class='hidden_link' href='#def:complete-class_context' id='def:complete-class_context'><i >complete-class context</i></a> of a class is a
<ul class='itemize'><li id='6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.1'>(6.1)</a></div>function body (<a href='dcl.fct.def.general'>[dcl.fct.def.general]</a>),</li><li id='6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.2'>(6.2)</a></div><a href='dcl.fct.default'>default argument</a>,</li><li id='6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.3'>(6.3)</a></div><a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a>, or</li><li id='6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.4'>(6.4)</a></div>default member initializer</li></ul>
within the <a class='grammarterm' href='#nt:member-specification'>member-specification</a> of the class<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.note-1' class='note'>[&nbsp;<a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-2' class='sentence'>A complete-class context of a nested class is also a complete-class
context of any enclosing class, if the nested class is defined within
the <a class='grammarterm' href='#nt:member-specification'>member-specification</a> of the enclosing class<a class='hidden_link' href='#6.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L589'>#</a></div><div id='7.sentence-1' class='sentence'>A class is considered a completely-defined object
type (<a href='basic.types'>[basic.types]</a>) (or complete type) at the closing <span class='texttt'><span class='curlybracket'>}</span></span> of
the <a class='grammarterm' href='class.pre#nt:class-specifier'>class-specifier</a><a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>The class is regarded as complete within its complete-class contexts;
otherwise it is regarded as incomplete within its own class
<a class='grammarterm' href='#nt:member-specification'>member-specification</a><a class='hidden_link' href='#7.sentence-2'>.</a></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L597'>#</a></div><div id='8.sentence-1' class='sentence'>In a <a class='grammarterm' href='#nt:member-declarator'>member-declarator</a>,
an <span class='texttt'><span class='operator'>=</span></span> immediately following the <a class='grammarterm' href='dcl.decl#nt:declarator'>declarator</a>
is interpreted as introducing a <a class='grammarterm' href='#nt:pure-specifier'>pure-specifier</a>
if the <a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a> has function type,
otherwise it is interpreted as introducing
a <a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a><a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.example-1' class='example'>[&nbsp;<a class='example_link' href='#8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> T <span class='operator'>=</span> <span class='keyword'>void</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  T <span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span>;        <span class='comment'>// OK: <span class='grammarterm'>brace-or-equal-initializer</span></span>
  <span class='keyword'>virtual</span> T f <span class='operator'>=</span> <span class='literal'>0</span>;  <span class='comment'>// OK: <span class='grammarterm'>pure-specifier</span></span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L614'>#</a></div><div id='9.sentence-1' class='sentence'>In a <a class='grammarterm' href='#nt:member-declarator'>member-declarator</a> for a bit-field,
the <a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> is parsed as
the longest sequence of tokens
that could syntactically form a <a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a><a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.example-1' class='example'>[&nbsp;<a class='example_link' href='#9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> a;
<span class='keyword'>const</span> <span class='keyword'>int</span> b <span class='operator'>=</span> <span class='literal'>0</span>;
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x1 <span class='operator'>:</span> <span class='literal'>8</span> <span class='operator'>=</span> <span class='literal'>42</span>;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>"= 42"</span> is <span class='grammarterm'>brace-or-equal-initializer</span></span>
  <span class='keyword'>int</span> x2 <span class='operator'>:</span> <span class='literal'>8</span> <span class='curlybracket'>{</span> <span class='literal'>42</span> <span class='curlybracket'>}</span>;            <span class='comment'>// OK, <span class='tcode_in_codeblock'>"{ 42 }"</span> is <span class='grammarterm'>brace-or-equal-initializer</span></span>
  <span class='keyword'>int</span> y1 <span class='operator'>:</span> <span class='literal'>true</span> <span class='operator'>?</span> <span class='literal'>8</span> <span class='operator'>:</span> a <span class='operator'>=</span> <span class='literal'>42</span>;   <span class='comment'>// OK, <span class='grammarterm'>brace-or-equal-initializer</span> is absent</span>
  <span class='keyword'>int</span> y2 <span class='operator'>:</span> <span class='literal'>true</span> <span class='operator'>?</span> <span class='literal'>8</span> <span class='operator'>:</span> b <span class='operator'>=</span> <span class='literal'>42</span>;   <span class='comment'>// error: cannot assign to <span class='tcode_in_codeblock'>const int</span></span>
  <span class='keyword'>int</span> y3 <span class='operator'>:</span> <span class='parenthesis'>(</span><span class='literal'>true</span> <span class='operator'>?</span> <span class='literal'>8</span> <span class='operator'>:</span> b<span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='literal'>42</span>; <span class='comment'>// OK, <span class='tcode_in_codeblock'>"= 42"</span> is <span class='grammarterm'>brace-or-equal-initializer</span></span>
  <span class='keyword'>int</span> z <span class='operator'>:</span> <span class='literal'>1</span> <span class='operator'>|</span><span class='operator'>|</span> <span class='keyword'>new</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span> <span class='literal'>0</span> <span class='curlybracket'>}</span>;   <span class='comment'>// OK, <span class='grammarterm'>brace-or-equal-initializer</span> is absent</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L634'>#</a></div><div id='10.sentence-1' class='sentence'>A <a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a> shall appear only in the
declaration of a data member<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.sentence-2' class='sentence'>(For static data members,
see <a href='#class.static.data'>[class.static.data]</a>; for non-static data members,
see <a href='class.base.init'>[class.base.init]</a> and <a href='dcl.init.aggr'>[dcl.init.aggr]</a>)<a class='hidden_link' href='#10.sentence-2'>.</a></div> <div id='10.sentence-3' class='sentence'>A <a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a> for a non-static data member
<span class='indexparent'><a class='index' id=':member,default_initializer'></a></span>specifies a <a class='hidden_link' href='#def:default_member_initializer' id='def:default_member_initializer'><i >default member initializer</i></a> for the member, and
shall not directly or indirectly cause the implicit definition of a
defaulted default constructor for the enclosing class or the
exception specification of that constructor<a class='hidden_link' href='#10.sentence-3'>.</a></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L646'>#</a></div><div id='11.sentence-1' class='sentence'>A member shall not be declared with the <span class='texttt'><span class='keyword'>extern</span></span>
<a class='grammarterm' href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a><a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.sentence-2' class='sentence'>Within a class definition, a member shall not be declared with the <span class='texttt'><span class='keyword'>thread_&shy;local</span></span> <a class='grammarterm' href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a> unless also declared <span class='texttt'><span class='keyword'>static</span></span><a class='hidden_link' href='#11.sentence-2'>.</a></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L650'>#</a></div><div id='12.sentence-1' class='sentence'>The <a class='grammarterm' href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a> may be omitted in constructor, destructor,
and conversion function declarations only;
when declaring another kind of member the <a class='grammarterm' href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a>
shall contain a <a class='grammarterm' href='dcl.type#nt:type-specifier'>type-specifier</a> that is not a <a class='grammarterm' href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a><a class='hidden_link' href='#12.sentence-1'>.</a></div> <div id='12.sentence-2' class='sentence'>The
<a class='grammarterm' href='#nt:member-declarator-list'>member-declarator-list</a> can be omitted only after a
<a class='grammarterm' href='class.pre#nt:class-specifier'>class-specifier</a> or an <a class='grammarterm' href='dcl.enum#nt:enum-specifier'>enum-specifier</a> or in a
<a href='class.friend'>friend declaration</a><a class='hidden_link' href='#12.sentence-2'>.</a></div> <div id='12.sentence-3' class='sentence'>A
<a class='grammarterm' href='#nt:pure-specifier'>pure-specifier</a> shall be used only in the declaration of a
<a href='class.virtual'>virtual function</a>
that is not a friend declaration<a class='hidden_link' href='#12.sentence-3'>.</a></div></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L663'>#</a></div><div id='13.sentence-1' class='sentence'>The optional <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a> in a <a class='grammarterm' href='#nt:member-declaration'>member-declaration</a>
appertains to each of the entities declared by the <a class='grammarterm' href='#nt:member-declarator'>member-declarator</a><span class='textit'>s</span>;
it shall not appear if the optional <a class='grammarterm' href='#nt:member-declarator-list'>member-declarator-list</a> is omitted<a class='hidden_link' href='#13.sentence-1'>.</a></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L668'>#</a></div><div id='14.sentence-1' class='sentence'>A <a class='grammarterm' href='#nt:virt-specifier-seq'>virt-specifier-seq</a> shall contain at most one of each
<a class='grammarterm' href='#nt:virt-specifier'>virt-specifier</a><a class='hidden_link' href='#14.sentence-1'>.</a></div> <div id='14.sentence-2' class='sentence'>A <a class='grammarterm' href='#nt:virt-specifier-seq'>virt-specifier-seq</a>
shall appear only in the first declaration of a virtual member
function (<a href='class.virtual'>[class.virtual]</a>)<a class='hidden_link' href='#14.sentence-2'>.</a></div></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L675'>#</a></div><div id='15.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class_object,member'></a></span>The type of a non-static data member shall not be an
incomplete type (<a href='basic.types'>[basic.types]</a>),
an abstract class type (<a href='class.abstract'>[class.abstract]</a>),
or a (possibly multi-dimensional) array thereof<a class='hidden_link' href='#15.sentence-1'>.</a></div> <div id='15.note-1' class='note'>[&nbsp;<a class='note_link' href='#15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='15.sentence-2' class='sentence'>In particular, a class <span class='texttt'>C</span> cannot contain
a non-static member of class <span class='texttt'>C</span>,
but it can contain a pointer or reference to an object of class <span class='texttt'>C</span><a class='hidden_link' href='#15.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='16'><div class='marginalizedparent'><a class='marginalized' href='#16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L687'>#</a></div><div id='16.note-1' class='note'>[&nbsp;<a class='note_link' href='#16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='16.sentence-1' class='sentence'>See <a href='expr.prim.id'>[expr.prim.id]</a> for restrictions on the use of non-static data
members and non-static member functions<a class='hidden_link' href='#16.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='17'><div class='marginalizedparent'><a class='marginalized' href='#17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L693'>#</a></div><div id='17.note-1' class='note'>[&nbsp;<a class='note_link' href='#17.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='17.sentence-1' class='sentence'>The type of a non-static member function is an ordinary function type,
and the type of a non-static data member is an ordinary object type<a class='hidden_link' href='#17.sentence-1'>.</a></div> <div id='17.sentence-2' class='sentence'>There are no special member function types or data member types<a class='hidden_link' href='#17.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='18'><div class='marginalizedparent'><a class='marginalized' href='#18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L700'>#</a></div><div id='18.example-1' class='example'>[&nbsp;<a class='example_link' href='#18.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='18.sentence-1' class='sentence'>A simple example of a class definition is
<pre class='codeblock'>
<span class='keyword'>struct</span> tnode <span class='curlybracket'>{</span>
  <span class='keyword'>char</span> tword<span class='squarebracket'>[</span><span class='literal'>20</span><span class='squarebracket'>]</span>;
  <span class='keyword'>int</span> count;
  tnode<span class='operator'>*</span> left;
  tnode<span class='operator'>*</span> right;
<span class='curlybracket'>}</span>;
</pre>
which contains an array of twenty characters, an integer, and two
pointers to objects of the same type<a class='hidden_link' href='#18.sentence-1'>.</a></div> <div id='18.sentence-2' class='sentence'>Once this definition has been
given, the declaration
<pre class='codeblock'>
tnode s, <span class='operator'>*</span>sp;
</pre>
declares <span class='texttt'>s</span> to be a <span class='texttt'>tnode</span> and <span class='texttt'>sp</span> to be a pointer
to a <span class='texttt'>tnode</span><a class='hidden_link' href='#18.sentence-2'>.</a></div> <div id='18.sentence-3' class='sentence'>With these declarations, <span class='texttt'>sp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>count</span> refers to
the <span class='texttt'>count</span> member of the object to which <span class='texttt'>sp</span> points;
<span class='texttt'>s<span class='operator'>.</span>left</span> refers to the <span class='texttt'>left</span> subtree pointer of the object
<span class='texttt'>s</span>; and <span class='texttt'>s<span class='operator'>.</span>right<span class='operator'>-</span><span class='anglebracket'>&gt;</span>tword<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span></span> refers to the initial character
of the <span class='texttt'>tword</span> member of the <span class='texttt'>right</span> subtree of <span class='texttt'>s</span><a class='hidden_link' href='#18.sentence-3'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='19'><div class='marginalizedparent'><a class='marginalized' href='#19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L725'>#</a></div><div id='19.note-1' class='note'>[&nbsp;<a class='note_link' href='#19.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='19.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':layout,class_object'></a></span>Non-static data members of a (non-union) class
with the same <a href='class.access'>access control</a> and
non-zero size (<a href='intro.object'>[intro.object]</a>)
are allocated so that later
members have higher addresses within a class object (<a href='expr.rel'>[expr.rel]</a>)<a class='hidden_link' href='#19.sentence-1'>.</a></div> <div id='19.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':allocation,unspecified'></a></span>The order of allocation of non-static data members
with different access control
is unspecified<a class='hidden_link' href='#19.sentence-2'>.</a></div> <div id='19.sentence-3' class='sentence'>Implementation alignment requirements might cause two adjacent members
not to be allocated immediately after each other; so might requirements
for space for managing virtual functions (<a href='class.virtual'>[class.virtual]</a>) and
virtual base classes (<a href='class.mi'>[class.mi]</a>)<a class='hidden_link' href='#19.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='20'><div class='marginalizedparent'><a class='marginalized' href='#20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L743'>#</a></div><div id='20.sentence-1' class='sentence'>If <span class='texttt'>T</span> is the name of a class, then each of the following shall
have a name different from <span class='texttt'>T</span>:
<ul class='itemize'><li id='20.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#20.1'>(20.1)</a></div>every static data member of class <span class='texttt'>T</span>;</li><li id='20.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#20.2'>(20.2)</a></div>every member function of class <span class='texttt'>T</span>
<div id='20.2.note-1' class='note'>[&nbsp;<a class='note_link' href='#20.2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> This restriction does not apply to <a href='#class.ctor'>constructors</a>,
which do not have names —&nbsp;<i>end note</i></div>&nbsp;]</div> ;</li><li id='20.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#20.3'>(20.3)</a></div>every member of class <span class='texttt'>T</span> that is itself a type;</li><li id='20.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#20.4'>(20.4)</a></div>every member template of class <span class='texttt'>T</span>;</li><li id='20.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#20.5'>(20.5)</a></div>every enumerator of every member of class <span class='texttt'>T</span> that is an
unscoped enumerated type; and</li><li id='20.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#20.6'>(20.6)</a></div>every member of every anonymous union that is a member of class
<span class='texttt'>T</span><a class='hidden_link' href='#20.sentence-1'>.</a></li></ul></div></div><div class='para' id='21'><div class='marginalizedparent'><a class='marginalized' href='#21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L767'>#</a></div><div id='21.sentence-1' class='sentence'>In addition, if class <span class='texttt'>T</span> has a user-declared
<a href='#class.ctor'>constructor</a>, every non-static data member of class
<span class='texttt'>T</span> shall have a name different from <span class='texttt'>T</span><a class='hidden_link' href='#21.sentence-1'>.</a></div></div><div class='para' id='22'><div class='marginalizedparent'><a class='marginalized' href='#22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L772'>#</a></div><div id='22.sentence-1' class='sentence'>The <a class='hidden_link' href='#def:common_initial_sequence' id='def:common_initial_sequence'><i >common initial sequence</i></a> of two standard-layout struct (<a href='class.prop'>[class.prop]</a>)
types is the longest sequence of non-static data
members and bit-fields in declaration order, starting with the first
such entity in each of the structs, such that corresponding entities
have layout-compatible types,
either both entities are declared with
the <span class='texttt'>no_&shy;unique_&shy;address</span> attribute (<a href='dcl.attr.nouniqueaddr'>[dcl.attr.nouniqueaddr]</a>)
or neither is,
and either both entities are bit-fields with the same width
or neither is a bit-field<a class='hidden_link' href='#22.sentence-1'>.</a></div> <div id='22.example-1' class='example'>[&nbsp;<a class='example_link' href='#22.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> a; <span class='keyword'>char</span> b; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>const</span> <span class='keyword'>int</span> b1; <span class='keyword'>volatile</span> <span class='keyword'>char</span> b2; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='keyword'>int</span> c; <span class='keyword'>unsigned</span> <span class='operator'>:</span> <span class='literal'>0</span>; <span class='keyword'>char</span> b; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='curlybracket'>{</span> <span class='keyword'>int</span> d; <span class='keyword'>char</span> b <span class='operator'>:</span> <span class='literal'>4</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> E <span class='curlybracket'>{</span> <span class='keyword'>unsigned</span> <span class='keyword'>int</span> e; <span class='keyword'>char</span> b; <span class='curlybracket'>}</span>;
</pre> <div id='22.sentence-2' class='sentence'>
The common initial sequence of <span class='texttt'>A</span> and <span class='texttt'>B</span> comprises all members
of either class<a class='hidden_link' href='#22.sentence-2'>.</a></div> <div id='22.sentence-3' class='sentence'>The common initial sequence of <span class='texttt'>A</span> and <span class='texttt'>C</span> and
of <span class='texttt'>A</span> and <span class='texttt'>D</span> comprises the first member in each case<a class='hidden_link' href='#22.sentence-3'>.</a></div> <div id='22.sentence-4' class='sentence'>The common initial sequence of <span class='texttt'>A</span> and <span class='texttt'>E</span> is empty<a class='hidden_link' href='#22.sentence-4'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='23'><div class='marginalizedparent'><a class='marginalized' href='#23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L797'>#</a></div><div id='23.sentence-1' class='sentence'>Two standard-layout struct (<a href='class.prop'>[class.prop]</a>) types are
<a class='hidden_link' href='#def:layout-compatible,class' id='def:layout-compatible,class'><i >layout-compatible classes</i></a> if
their common initial sequence comprises all members and bit-fields of
both classes (<a href='basic.types'>[basic.types]</a>)<a class='hidden_link' href='#23.sentence-1'>.</a></div></div><div class='para' id='24'><div class='marginalizedparent'><a class='marginalized' href='#24'>24</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L803'>#</a></div><div id='24.sentence-1' class='sentence'>Two standard-layout unions are layout-compatible if they
have the same number of non-static data members and corresponding
non-static data members (in any order) have <a href='basic.types#def:layout-compatible'>layout-compatible
types</a><a class='hidden_link' href='#24.sentence-1'>.</a></div></div><div class='para' id='25'><div class='marginalizedparent'><a class='marginalized' href='#25'>25</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L809'>#</a></div><div id='25.sentence-1' class='sentence'>In a standard-layout union with an <a href='class.union#def:active,union_member'>active member</a>
of struct type <span class='texttt'>T1</span>, it is permitted to read a non-static
data member <span class='texttt'>m</span> of another union member of struct type <span class='texttt'>T2</span>
provided <span class='texttt'>m</span> is part of the common initial sequence of <span class='texttt'>T1</span> and <span class='texttt'>T2</span>;
the behavior is as if the corresponding member of <span class='texttt'>T1</span> were nominated<a class='hidden_link' href='#25.sentence-1'>.</a></div> <div id='25.example-1' class='example'>[&nbsp;<a class='example_link' href='#25.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> T1 <span class='curlybracket'>{</span> <span class='keyword'>int</span> a, b; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> T2 <span class='curlybracket'>{</span> <span class='keyword'>int</span> c; <span class='keyword'>double</span> d; <span class='curlybracket'>}</span>;
<span class='keyword'>union</span> U <span class='curlybracket'>{</span> T1 t1; T2 t2; <span class='curlybracket'>}</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  U u <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span> <span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;   <span class='comment'>// active member is <span class='tcode_in_codeblock'>t1</span></span>
  <span class='keyword'>return</span> u<span class='operator'>.</span>t2<span class='operator'>.</span>c;        <span class='comment'>// OK, as if <span class='tcode_in_codeblock'>u.t1.a</span> were nominated</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='25.note-1' class='note'>[&nbsp;<a class='note_link' href='#25.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='25.sentence-2' class='sentence'>Reading a volatile object through a glvalue of non-volatile type has
undefined behavior (<a href='dcl.type.cv'>[dcl.type.cv]</a>)<a class='hidden_link' href='#25.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='26'><div class='marginalizedparent'><a class='marginalized' href='#26'>26</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L831'>#</a></div><div id='26.sentence-1' class='sentence'>If a standard-layout class object has any non-static data members, its address
is the same as the address of its first non-static data member
if that member is not a bit-field<a class='hidden_link' href='#26.sentence-1'>.</a></div> <div id='26.sentence-2' class='sentence'>Its
address is also the same as the address of each of its base class subobjects<a class='hidden_link' href='#26.sentence-2'>.</a></div> <div id='26.note-1' class='note'>[&nbsp;<a class='note_link' href='#26.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='26.sentence-3' class='sentence'>There might therefore be unnamed padding within a standard-layout struct object
inserted by an implementation, but
not at its beginning, as necessary to achieve appropriate alignment<a class='hidden_link' href='#26.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='26.note-2' class='note'>[&nbsp;<a class='note_link' href='#26.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='26.sentence-4' class='sentence'>The object and its first subobject are
pointer-interconvertible (<a href='basic.compound'>[basic.compound]</a>, <a href='expr.static.cast'>[expr.static.cast]</a>)<a class='hidden_link' href='#26.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div id='class.mfct' class='section'><h3 ><a class='secnum' href='#class.mfct' style='min-width:103pt'>11.4.1</a> Member functions <a class='abbr_ref' href='class.mfct'>[class.mfct]</a></h3><span class='indexparent'><a class='index' id=':member_function,class'></a></span><div class='para' id='class.mfct-1'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L849'>#</a></div><div id='class.mfct-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':member_function,inline'></a></span><span class='indexparent'><a class='index' id=':definition,member_function'></a></span>A member function may be <a href='dcl.fct.def'>defined</a> in its class definition,
in which case it is an inline (<a href='dcl.inline'>[dcl.inline]</a>) member function
if it is attached to the global module, or
it may be defined outside of its class
definition if it has already been declared but not defined in its class
definition<a class='hidden_link' href='#class.mfct-1.sentence-1'>.</a></div> <div id='class.mfct-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mfct-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mfct-1.sentence-2' class='sentence'>A member function is also inline if it is declared
<span class='texttt'><span class='keyword'>inline</span></span>, <span class='texttt'><span class='keyword'>constexpr</span></span>, or <span class='texttt'><span class='keyword'>consteval</span></span><a class='hidden_link' href='#class.mfct-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.mfct-2'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L863'>#</a></div><div id='class.mfct-2.sentence-1' class='sentence'>A member function definition that appears outside of the
class definition shall appear in a namespace scope enclosing the class
definition<a class='hidden_link' href='#class.mfct-2.sentence-1'>.</a></div> <div id='class.mfct-2.sentence-2' class='sentence'>Except for member function definitions that appear outside
of a class definition, and except for explicit specializations of member
functions of class templates and member function
templates (<a href='temp.spec'>[temp.spec]</a>) appearing outside of the class definition, a
member function shall not be redeclared<a class='hidden_link' href='#class.mfct-2.sentence-2'>.</a></div> <div id='class.mfct-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mfct-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mfct-2.sentence-3' class='sentence'>There can be at most one definition of a non-inline member function in
a program<a class='hidden_link' href='#class.mfct-2.sentence-3'>.</a></div> <div id='class.mfct-2.sentence-4' class='sentence'>There may be more than one
inline member function definition in a program<a class='hidden_link' href='#class.mfct-2.sentence-4'>.</a></div> <div id='class.mfct-2.sentence-5' class='sentence'>See <a href='basic.def.odr'>[basic.def.odr]</a> and <a href='dcl.inline'>[dcl.inline]</a><a class='hidden_link' href='#class.mfct-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.mfct-2.note-2' class='note'>[&nbsp;<a class='note_link' href='#class.mfct-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mfct-2.sentence-6' class='sentence'>Member functions of a class have the linkage of the name of the class<a class='hidden_link' href='#class.mfct-2.sentence-6'>.</a></div> <div id='class.mfct-2.sentence-7' class='sentence'>See <a href='basic.link'>[basic.link]</a><a class='hidden_link' href='#class.mfct-2.sentence-7'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.mfct-3'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L882'>#</a></div><div id='class.mfct-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,scope_resolution'></a></span>If the definition of a member function is lexically outside its class
definition, the member function name shall be qualified by its class
name using the <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> operator<a class='hidden_link' href='#class.mfct-3.sentence-1'>.</a></div> <div id='class.mfct-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mfct-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mfct-3.sentence-2' class='sentence'>A name used in a member function definition (that is, in the
<a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a> including the <a href='dcl.fct.default'>default
arguments</a> or in the member function body) is looked up
as described in <a href='basic.lookup'>[basic.lookup]</a><a class='hidden_link' href='#class.mfct-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.mfct-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.mfct-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> T;
  <span class='keyword'>static</span> T count;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> X<span class='operator'>::</span>f<span class='parenthesis'>(</span>T t <span class='operator'>=</span> count<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
</pre><div id='class.mfct-3.sentence-3' class='sentence'>The member function <span class='texttt'>f</span> of class <span class='texttt'>X</span> is defined in global
scope; the notation <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>f</span> specifies that the function <span class='texttt'>f</span>
is a member of class <span class='texttt'>X</span> and in the scope of class <span class='texttt'>X</span><a class='hidden_link' href='#class.mfct-3.sentence-3'>.</a></div> <div id='class.mfct-3.sentence-4' class='sentence'>In
the function definition, the parameter type <span class='texttt'>T</span> refers to the
typedef member <span class='texttt'>T</span> declared in class <span class='texttt'>X</span> and the default
argument <span class='texttt'>count</span> refers to the static data member <span class='texttt'>count</span>
declared in class <span class='texttt'>X</span><a class='hidden_link' href='#class.mfct-3.sentence-4'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.mfct-4'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L912'>#</a></div><div id='class.mfct-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mfct-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mfct-4.sentence-1' class='sentence'>A <span class='texttt'><span class='keyword'>static</span></span> local variable or local type in a member function always refers to
the same entity, whether or not the member function is inline<a class='hidden_link' href='#class.mfct-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.mfct-5'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L918'>#</a></div><div id='class.mfct-5.sentence-1' class='sentence'>Previously declared member functions may be mentioned in friend declarations<a class='hidden_link' href='#class.mfct-5.sentence-1'>.</a></div></div><div class='para' id='class.mfct-6'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L921'>#</a></div><div id='class.mfct-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':local_class,member_function_in'></a></span>Member functions of a local class shall be defined inline in their class
definition, if they are defined at all<a class='hidden_link' href='#class.mfct-6.sentence-1'>.</a></div></div><div class='para' id='class.mfct-7'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L926'>#</a></div><div id='class.mfct-7.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mfct-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mfct-7.sentence-1' class='sentence'>A member function can be declared (but not defined) using a typedef for
a function type<a class='hidden_link' href='#class.mfct-7.sentence-1'>.</a></div> <div id='class.mfct-7.sentence-2' class='sentence'>The resulting member function has exactly the same type
as it would have if the function declarator were provided explicitly,
see <a href='dcl.fct'>[dcl.fct]</a><a class='hidden_link' href='#class.mfct-7.sentence-2'>.</a></div> <div id='class.mfct-7.sentence-3' class='sentence'>For example,</div><pre class='codeblock'>
<span class='keyword'>typedef</span> <span class='keyword'>void</span> fv<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>typedef</span> <span class='keyword'>void</span> fvc<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  fv memfunc1;      <span class='comment'>// equivalent to: <span class='tcode_in_codeblock'>void memfunc1();</span></span>
  <span class='keyword'>void</span> memfunc2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  fvc memfunc3;     <span class='comment'>// equivalent to: <span class='tcode_in_codeblock'>void memfunc3() const;</span></span>
<span class='curlybracket'>}</span>;
fv  S<span class='operator'>::</span><span class='operator'>*</span> pmfv1 <span class='operator'>=</span> <span class='operator'>&amp;</span>S<span class='operator'>::</span>memfunc1;
fv  S<span class='operator'>::</span><span class='operator'>*</span> pmfv2 <span class='operator'>=</span> <span class='operator'>&amp;</span>S<span class='operator'>::</span>memfunc2;
fvc S<span class='operator'>::</span><span class='operator'>*</span> pmfv3 <span class='operator'>=</span> <span class='operator'>&amp;</span>S<span class='operator'>::</span>memfunc3;
</pre><div id='class.mfct-7.sentence-4' class='sentence'>Also see <a href='temp.arg'>[temp.arg]</a><a class='hidden_link' href='#class.mfct-7.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='class.mfct.non-static' class='section'><h3 ><a class='secnum' href='#class.mfct.non-static' style='min-width:103pt'>11.4.2</a> Non-static member functions <a class='abbr_ref' href='class.mfct.non-static'>[class.mfct.non-static]</a></h3><span class='indexparent'><a class='index' id=':member_function,non-static'></a></span><div class='para' id='class.mfct.non-static-1'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct.non-static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L952'>#</a></div><div id='class.mfct.non-static-1.sentence-1' class='sentence'>A non-static member function may be called for an object of
its class type, or for an object of a class <a href='class.derived'>derived</a>
from its class type, using the
<a href='expr.ref'>class member access</a> syntax (<a href='over.match.call'>[over.match.call]</a>)<a class='hidden_link' href='#class.mfct.non-static-1.sentence-1'>.</a></div> <div id='class.mfct.non-static-1.sentence-2' class='sentence'>A non-static
member function may also be called directly using the function call
syntax (<a href='expr.call'>[expr.call]</a>, <a href='over.match.call'>[over.match.call]</a>) from within
its class or a class derived from its class, or
a member thereof, as described below<a class='hidden_link' href='#class.mfct.non-static-1.sentence-2'>.</a></div></div><div class='para' id='class.mfct.non-static-2'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct.non-static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L962'>#</a></div><div id='class.mfct.non-static-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':member_function,call_undefined'></a></span>If a non-static member function of a class <span class='texttt'>X</span> is called for an
object that is not of type <span class='texttt'>X</span>, or of a type derived from
<span class='texttt'>X</span>, the behavior is undefined<a class='hidden_link' href='#class.mfct.non-static-2.sentence-1'>.</a></div></div><div class='para' id='class.mfct.non-static-3'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct.non-static-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L968'>#</a></div><div id='class.mfct.non-static-3.sentence-1' class='sentence'>When an <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> that is not part of a
<a href='expr.ref'>class member access</a> syntax and not used to form a
pointer to member (<a href='expr.unary.op'>[expr.unary.op]</a>) is used in
a member of class <span class='texttt'>X</span> in a context where <a href='expr.prim.this'><span class='texttt'>this</span></a> can be
used,
if <a href='basic.lookup'>name lookup</a> resolves the name in the
<a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> to a non-static non-type member of some class
<span class='texttt'>C</span>,
and if either the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> is potentially evaluated or
<span class='texttt'>C</span> is <span class='texttt'>X</span> or a base class of <span class='texttt'>X</span>,
the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> is transformed into a
<a href='expr.ref'>class member access</a> expression using
<a href='#class.this'><span class='texttt'>(*this)</span></a> as the <a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a>
to the left of the <span class='texttt'><span class='operator'>.</span></span> operator<a class='hidden_link' href='#class.mfct.non-static-3.sentence-1'>.</a></div> <div id='class.mfct.non-static-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.mfct.non-static-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.mfct.non-static-3.sentence-2' class='sentence'>If <span class='texttt'>C</span> is not <span class='texttt'>X</span> or a base class of <span class='texttt'>X</span>, the class
member access expression is ill-formed<a class='hidden_link' href='#class.mfct.non-static-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.mfct.non-static-3.sentence-3' class='sentence'>
This transformation does not apply in the
template definition context (<a href='temp.dep.type'>[temp.dep.type]</a>)<a class='hidden_link' href='#class.mfct.non-static-3.sentence-3'>.</a></div> <div id='class.mfct.non-static-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.mfct.non-static-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> tnode <span class='curlybracket'>{</span>
  <span class='keyword'>char</span> tword<span class='squarebracket'>[</span><span class='literal'>20</span><span class='squarebracket'>]</span>;
  <span class='keyword'>int</span> count;
  tnode<span class='operator'>*</span> left;
  tnode<span class='operator'>*</span> right;
  <span class='keyword'>void</span> set<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, tnode<span class='operator'>*</span> l, tnode<span class='operator'>*</span> r<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> tnode<span class='operator'>::</span>set<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> w, tnode<span class='operator'>*</span> l, tnode<span class='operator'>*</span> r<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  count <span class='operator'>=</span> strlen<span class='parenthesis'>(</span>w<span class='parenthesis'>)</span><span class='operator'>+</span><span class='literal'>1</span>;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>tword<span class='parenthesis'>)</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span>count<span class='parenthesis'>)</span>
      perror<span class='parenthesis'>(</span><span class='literal'>"tnode string too long"</span><span class='parenthesis'>)</span>;
  strcpy<span class='parenthesis'>(</span>tword,w<span class='parenthesis'>)</span>;
  left <span class='operator'>=</span> l;
  right <span class='operator'>=</span> r;
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>tnode n1, tnode n2<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  n1<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"abc"</span>,<span class='operator'>&amp;</span>n2,<span class='literal'>0</span><span class='parenthesis'>)</span>;
  n2<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"def"</span>,<span class='literal'>0</span>,<span class='literal'>0</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</pre><div id='class.mfct.non-static-3.sentence-4' class='sentence'>In the body of the member function <span class='texttt'>tnode<span class='operator'>&#x200b;::&#x200b;</span>set</span>, the member names
<span class='texttt'>tword</span>, <span class='texttt'>count</span>, <span class='texttt'>left</span>, and <span class='texttt'>right</span> refer to
members of the object for which the function is called<a class='hidden_link' href='#class.mfct.non-static-3.sentence-4'>.</a></div> <div id='class.mfct.non-static-3.sentence-5' class='sentence'>Thus, in the
call <span class='texttt'>n1<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"abc"</span>,<span class='operator'>&amp;</span>n2,<span class='literal'>0</span><span class='parenthesis'>)</span></span>, <span class='texttt'>tword</span> refers to
<span class='texttt'>n1<span class='operator'>.</span>tword</span>, and in the call <span class='texttt'>n2<span class='operator'>.</span>set<span class='parenthesis'>(</span><span class='literal'>"def"</span>,<span class='literal'>0</span>,<span class='literal'>0</span><span class='parenthesis'>)</span></span>, it refers
to <span class='texttt'>n2<span class='operator'>.</span>tword</span><a class='hidden_link' href='#class.mfct.non-static-3.sentence-5'>.</a></div> <div id='class.mfct.non-static-3.sentence-6' class='sentence'>The functions <span class='texttt'>strlen</span>, <span class='texttt'>perror</span>, and
<span class='texttt'>strcpy</span> are not members of the class <span class='texttt'>tnode</span> and should be
declared elsewhere<a class='hidden_link' href='#class.mfct.non-static-3.sentence-6'>.</a><a class='footnotenum' href='#footnote-102' id='footnoteref-102'>102</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.mfct.non-static-4'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct.non-static-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1024'>#</a></div><div id='class.mfct.non-static-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':member_function,const'></a></span><span class='indexparent'><a class='index' id=':member_function,volatile'></a></span><span class='indexparent'><a class='index' id=':member_function,const_volatile'></a></span>A non-static member function may be declared <span class='texttt'><span class='keyword'>const</span></span>,
<span class='texttt'><span class='keyword'>volatile</span></span>, or <span class='texttt'><span class='keyword'>const</span></span> <span class='texttt'><span class='keyword'>volatile</span></span><a class='hidden_link' href='#class.mfct.non-static-4.sentence-1'>.</a></div> <div id='class.mfct.non-static-4.sentence-2' class='sentence'>These
<a class='grammarterm' href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a><span class='textit'>s</span> affect the type of the <a href='#class.this'><span class='texttt'>this</span>
pointer</a><a class='hidden_link' href='#class.mfct.non-static-4.sentence-2'>.</a></div> <div id='class.mfct.non-static-4.sentence-3' class='sentence'>They also affect the <a href='dcl.fct'>function
type</a> of the member function; a member function declared
<span class='texttt'><span class='keyword'>const</span></span> is a <a class='hidden_link' href='#def:const' id='def:const'><i>const</i></a> member function, a member function
declared <span class='texttt'><span class='keyword'>volatile</span></span> is a <a class='hidden_link' href='#def:volatile' id='def:volatile'><i>volatile</i></a> member function and a
member function declared <span class='texttt'><span class='keyword'>const</span></span> <span class='texttt'><span class='keyword'>volatile</span></span> is a
<a class='hidden_link' href='#def:const_volatile_member_function' id='def:const_volatile_member_function'><i >const volatile member function</i></a><a class='hidden_link' href='#class.mfct.non-static-4.sentence-3'>.</a></div> <div id='class.mfct.non-static-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.mfct.non-static-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>volatile</span>;
<span class='curlybracket'>}</span>;
</pre><div id='class.mfct.non-static-4.sentence-4' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>g</span> is a const member function and <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>h</span> is a
const volatile member function<a class='hidden_link' href='#class.mfct.non-static-4.sentence-4'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.mfct.non-static-5'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct.non-static-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1049'>#</a></div><div id='class.mfct.non-static-5.sentence-1' class='sentence'>A non-static member function may be declared with a <a class='grammarterm' href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a> (<a href='dcl.fct'>[dcl.fct]</a>); see <a href='over.match.funcs'>[over.match.funcs]</a><a class='hidden_link' href='#class.mfct.non-static-5.sentence-1'>.</a></div></div><div class='para' id='class.mfct.non-static-6'><div class='marginalizedparent'><a class='marginalized' href='#class.mfct.non-static-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1052'>#</a></div><div id='class.mfct.non-static-6.sentence-1' class='sentence'>A non-static member function may be declared
virtual (<a href='class.virtual'>[class.virtual]</a>) or pure virtual (<a href='class.abstract'>[class.abstract]</a>)<a class='hidden_link' href='#class.mfct.non-static-6.sentence-1'>.</a></div></div><div class='footnote' id='footnote-102'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-102'>102)</a></div><div id='footnote-102.sentence-1' class='sentence'>See, for example, <span class='indexparent'><a class='index' id=':<cstring>'></a></span><span class='texttt'><span class='anglebracket'>&lt;</span>cstring<span class='anglebracket'>&gt;</span></span> (<a href='cstring.syn'>[cstring.syn]</a>)<a class='hidden_link' href='#footnote-102.sentence-1'>.</a></div> <a href='#footnoteref-102'>⮥</a></div><div id='class.this' class='section'><h4 ><a class='secnum' href='#class.this' style='min-width:118pt'>11.4.2.1</a> The <span class='texttt'>this</span> pointer <a class='abbr_ref' href='class.this'>[class.this]</a></h4><span class='indexparent'><a class='index' id=':this'></a></span>
<span class='indexparent'><a class='index' id=':member_function,this'></a></span><div class='para' id='class.this-1'><div class='marginalizedparent'><a class='marginalized' href='#class.this-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1060'>#</a></div><div id='class.this-1.sentence-1' class='sentence'>In the body of a non-static (<a href='#class.mfct'>[class.mfct]</a>) member function, the
keyword <span class='texttt'><span class='keyword'>this</span></span> is a prvalue whose value is
a pointer to the object for which the function is called<a class='hidden_link' href='#class.this-1.sentence-1'>.</a></div> <div id='class.this-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':this,type_of'></a></span>The type of <span class='texttt'><span class='keyword'>this</span></span> in a member function
whose type has a <a class='grammarterm' href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a> <span class='mathit'>cv</span> and
whose class is <span class='texttt'>X</span>
is “pointer to <span class='mathit'>cv</span> <span class='texttt'>X</span>”<a class='hidden_link' href='#class.this-1.sentence-2'>.</a></div> <div id='class.this-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.this-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.this-1.sentence-3' class='sentence'>Thus in a const member function, the object for which the function is
called is accessed through a const access path<a class='hidden_link' href='#class.this-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.this-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.this-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> s <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> a<span class='operator'>+</span><span class='operator'>+</span>; <span class='curlybracket'>}</span>
  <span class='keyword'>int</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> a<span class='operator'>+</span><span class='operator'>+</span>; <span class='curlybracket'>}</span> <span class='comment'>// error</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> s<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> a; <span class='curlybracket'>}</span>
</pre><div id='class.this-1.sentence-4' class='sentence'>The <span class='texttt'>a<span class='operator'>+</span><span class='operator'>+</span></span> in the body of <span class='texttt'>s<span class='operator'>&#x200b;::&#x200b;</span>h</span> is ill-formed because it
tries to modify (a part of) the object for which <span class='texttt'>s<span class='operator'>&#x200b;::&#x200b;</span>h<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is
called<a class='hidden_link' href='#class.this-1.sentence-4'>.</a></div> <div id='class.this-1.sentence-5' class='sentence'>This is not allowed in a const member function because
<span class='texttt'><span class='keyword'>this</span></span> is a pointer to <span class='texttt'><span class='keyword'>const</span></span>; that is, <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> has
<span class='texttt'><span class='keyword'>const</span></span> type<a class='hidden_link' href='#class.this-1.sentence-5'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.this-2'><div class='marginalizedparent'><a class='marginalized' href='#class.this-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1093'>#</a></div><div id='class.this-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.this-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.this-2.sentence-1' class='sentence'>Similarly, <a href='dcl.type.cv'><span class='texttt'>volatile</span></a> semantics apply in
volatile member functions when accessing the object and its
non-static data members<a class='hidden_link' href='#class.this-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.this-3'><div class='marginalizedparent'><a class='marginalized' href='#class.this-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1100'>#</a></div><div id='class.this-3.sentence-1' class='sentence'>A member function whose type has a <a class='grammarterm' href='dcl.decl#nt:cv-qualifier-seq'>cv-qualifier-seq</a> <span class='textit'>cv1</span>
can be called on an
<a href='expr.ref'>object expression</a> of type <span class='textit'>cv2</span> <span class='texttt'>T</span> only
if <span class='textit'>cv1</span> is the same as or more cv-qualified than <span class='textit'>cv2</span> (<a href='basic.type.qualifier'>[basic.type.qualifier]</a>)<a class='hidden_link' href='#class.this-3.sentence-1'>.</a></div> <div id='class.this-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.this-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> k<span class='parenthesis'>(</span>s<span class='operator'>&amp;</span> x, <span class='keyword'>const</span> s<span class='operator'>&amp;</span> y<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  x<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  x<span class='operator'>.</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  y<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  y<span class='operator'>.</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                        <span class='comment'>// error</span>
<span class='curlybracket'>}</span>
</pre><div id='class.this-3.sentence-2' class='sentence'>The call <span class='texttt'>y<span class='operator'>.</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is ill-formed because <span class='texttt'>y</span> is <span class='texttt'><span class='keyword'>const</span></span>
and <span class='texttt'>s<span class='operator'>&#x200b;::&#x200b;</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is a non-const member function, that is,
<span class='texttt'>s<span class='operator'>&#x200b;::&#x200b;</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is less-qualified than the object expression <span class='texttt'>y</span><a class='hidden_link' href='#class.this-3.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.this-4'><div class='marginalizedparent'><a class='marginalized' href='#class.this-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1120'>#</a></div><span class='indexparent'><a class='index' id=':const,constructor_and'></a></span><span class='indexparent'><a class='index' id=':const,destructor_and'></a></span><span class='indexparent'><a class='index' id=':volatile,constructor_and'></a></span><span class='indexparent'><a class='index' id=':volatile,destructor_and'></a></span><div id='class.this-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.this-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.this-4.sentence-1' class='sentence'>Constructors and destructors
cannot be declared <span class='texttt'><span class='keyword'>const</span></span>, <span class='texttt'><span class='keyword'>volatile</span></span>, or <span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'><span class='keyword'>volatile</span></span><a class='hidden_link' href='#class.this-4.sentence-1'>.</a></div> <div id='class.this-4.sentence-2' class='sentence'>However, these functions can be invoked
to create and destroy objects with cv-qualified types;
see <a href='#class.ctor'>[class.ctor]</a> and <a href='#class.dtor'>[class.dtor]</a><a class='hidden_link' href='#class.this-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div></div><div id='special' class='section'><h3 ><a class='secnum' href='#special' style='min-width:103pt'>11.4.3</a> Special member functions <a class='abbr_ref' href='special'>[special]</a></h3><div class='para' id='special-1'><div class='marginalizedparent'><a class='marginalized' href='#special-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1142'>#</a></div><div id='special-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constructor,default'></a></span><span class='indexparent'><a class='index' id=':constructor,copy'></a></span><span class='indexparent'><a class='index' id=':constructor,move'></a></span><span class='indexparent'><a class='index' id=':assignment_operator,copy'></a></span><span class='indexparent'><a class='index' id=':assignment_operator,move'></a></span>Default constructors (<a href='#class.default.ctor'>[class.default.ctor]</a>),
copy constructors, move constructors (<a href='#class.copy.ctor'>[class.copy.ctor]</a>),
copy assignment operators, move assignment operators (<a href='#class.copy.assign'>[class.copy.assign]</a>),
and prospective destructors (<a href='#class.dtor'>[class.dtor]</a>) are
<a class='hidden_link' href='#def:special_member_functions' id='def:special_member_functions'><i>special member functions</i></a><a class='hidden_link' href='#special-1.sentence-1'>.</a></div> <div id='special-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#special-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='special-1.sentence-2' class='sentence'>The implementation will implicitly declare these member functions for some class
types when the program does not explicitly declare them<a class='hidden_link' href='#special-1.sentence-2'>.</a></div> <div id='special-1.sentence-3' class='sentence'>The implementation will implicitly define them
if they are odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>) or
needed for constant evaluation (<a href='expr.const'>[expr.const]</a>)<a class='hidden_link' href='#special-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='special-1.sentence-4' class='sentence'>
An implicitly-declared special member function is declared at the closing
<span class='texttt'><span class='curlybracket'>}</span></span> of the <a class='grammarterm' href='class.pre#nt:class-specifier'>class-specifier</a><a class='hidden_link' href='#special-1.sentence-4'>.</a></div> <div id='special-1.sentence-5' class='sentence'>Programs shall not define implicitly-declared special member functions<a class='hidden_link' href='#special-1.sentence-5'>.</a></div></div><div class='para' id='special-2'><div class='marginalizedparent'><a class='marginalized' href='#special-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1164'>#</a></div><div id='special-2.sentence-1' class='sentence'>Programs may explicitly refer to implicitly-declared special member functions<a class='hidden_link' href='#special-2.sentence-1'>.</a></div> <div id='special-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#special-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='special-2.sentence-2' class='sentence'>A program may explicitly call or form a pointer to member
to an implicitly-declared special member function<a class='hidden_link' href='#special-2.sentence-2'>.</a></div><pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                   <span class='comment'>// implicitly declared <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;operator=</span></span>
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span>
  B<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> B <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
B<span class='operator'>&amp;</span> B<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> B<span class='operator'>&amp;</span> s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>A<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>;        <span class='comment'>// well-formed</span>
  <span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>;
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='special-3'><div class='marginalizedparent'><a class='marginalized' href='#special-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1182'>#</a></div><div id='special-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#special-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='special-3.sentence-1' class='sentence'>The special member functions affect the way objects of class type are created,
copied, moved, and destroyed, and how values can be converted to values of other types<a class='hidden_link' href='#special-3.sentence-1'>.</a></div> <div id='special-3.sentence-2' class='sentence'>Often such special member functions are called implicitly<a class='hidden_link' href='#special-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='special-4'><div class='marginalizedparent'><a class='marginalized' href='#special-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1189'>#</a></div><div id='special-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':access_control,member_function_and'></a></span>Special member functions obey the usual access rules (<a href='class.access'>[class.access]</a>)<a class='hidden_link' href='#special-4.sentence-1'>.</a></div> <div id='special-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#special-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='special-4.sentence-2' class='sentence'>Declaring a constructor protected
ensures that only derived classes and friends can create objects using it<a class='hidden_link' href='#special-4.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='special-5'><div class='marginalizedparent'><a class='marginalized' href='#special-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1197'>#</a></div><div id='special-5.sentence-1' class='sentence'>Two special member functions are of the same kind if:
<ul class='itemize'><li id='special-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#special-5.1'>(5.1)</a></div>they are both default constructors,</li><li id='special-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#special-5.2'>(5.2)</a></div>they are both copy or move constructors
with the same first parameter type, or</li><li id='special-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#special-5.3'>(5.3)</a></div>they are both copy or move assignment operators
with the same first parameter type
and the same <a class='grammarterm' href='dcl.decl#nt:cv-qualifier'>cv-qualifier</a>s and <a class='grammarterm' href='dcl.decl#nt:ref-qualifier'>ref-qualifier</a>, if any<a class='hidden_link' href='#special-5.sentence-1'>.</a></li></ul></div></div><div class='para' id='special-6'><div class='marginalizedparent'><a class='marginalized' href='#special-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1208'>#</a></div><div id='special-6.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:special_member_function,eligible' id='def:special_member_function,eligible'><i >eligible special member function</i></a> is a special member function for which:
<ul class='itemize'><li id='special-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#special-6.1'>(6.1)</a></div>the function is not deleted,</li><li id='special-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#special-6.2'>(6.2)</a></div>the associated constraints (<a href='temp.constr'>[temp.constr]</a>), if any, are satisfied, and</li><li id='special-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#special-6.3'>(6.3)</a></div>no special member function of the same kind is more constrained (<a href='temp.constr.order'>[temp.constr.order]</a>)<a class='hidden_link' href='#special-6.sentence-1'>.</a></li></ul></div></div><div class='para' id='special-7'><div class='marginalizedparent'><a class='marginalized' href='#special-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1216'>#</a></div><div id='special-7.sentence-1' class='sentence'>For a class, its non-static data members, its non-virtual direct base classes,
and, if the class is not abstract (<a href='class.abstract'>[class.abstract]</a>), its virtual base
classes are called its <a class='hidden_link' href='#def:potentially_constructed_subobjects' id='def:potentially_constructed_subobjects'><i>potentially constructed subobjects</i></a><a class='hidden_link' href='#special-7.sentence-1'>.</a></div></div><div class='para' id='special-8'><div class='marginalizedparent'><a class='marginalized' href='#special-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1221'>#</a></div><div id='special-8.sentence-1' class='sentence'>A defaulted special member function is
<span class='indexparent'><a class='index' id=':member_function,constexpr-compatible'></a></span><a class='hidden_link' href='#def:constexpr-compatible,defaulted_special_member_function' id='def:constexpr-compatible,defaulted_special_member_function'><i >constexpr-compatible</i></a>
if the corresponding implicitly-declared special member function
would be a constexpr function<a class='hidden_link' href='#special-8.sentence-1'>.</a></div></div></div><div id='class.ctor' class='section'><h3 ><a class='secnum' href='#class.ctor' style='min-width:103pt'>11.4.4</a> Constructors <a class='abbr_ref' href='class.ctor'>[class.ctor]</a></h3><span class='indexparent'><a class='index' id=':constructor'></a></span><div class='para' id='class.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1232'>#</a></div><div id='class.ctor-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:constructor' id='def:constructor'><i >constructor</i></a> is introduced by a declaration
whose <a class='grammarterm' href='dcl.decl#nt:declarator'>declarator</a> is a
function declarator (<a href='dcl.fct'>[dcl.fct]</a>) of the form
<pre class='ncbnf'><a class='grammarterm' href='dcl.decl#nt:ptr-declarator'>ptr-declarator</a> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a> <span class='terminal'><span class='parenthesis'>)</span></span> <a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre>
where the <a class='grammarterm' href='dcl.decl#nt:ptr-declarator'>ptr-declarator</a> consists solely of an
<a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a>, an optional <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a>,
and optional surrounding parentheses, and the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> has
one of the following forms:
<ul class='itemize'><li id='class.ctor-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.ctor-1.1'>(1.1)</a></div>in a <a class='grammarterm' href='#nt:member-declaration'>member-declaration</a> that belongs to the
<a class='grammarterm' href='#nt:member-specification'>member-specification</a> of a class or class template
but is not a friend
declaration (<a href='class.friend'>[class.friend]</a>), the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> is the
injected-class-name (<a href='class.pre'>[class.pre]</a>) of the immediately-enclosing entity or</li><li id='class.ctor-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.ctor-1.2'>(1.2)</a></div>in a declaration at namespace scope or in a friend declaration, the
<a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> is a <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> that names a
constructor (<a href='class.qual'>[class.qual]</a>)<a class='hidden_link' href='#class.ctor-1.sentence-1'>.</a></li></ul></div> <div id='class.ctor-1.sentence-2' class='sentence'>
Constructors do not have names<a class='hidden_link' href='#class.ctor-1.sentence-2'>.</a></div> <div id='class.ctor-1.sentence-3' class='sentence'>In a constructor declaration, each <a class='grammarterm' href='dcl.spec#nt:decl-specifier'>decl-specifier</a> in the optional
<a class='grammarterm' href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a> shall be <span class='texttt'><span class='keyword'>friend</span></span>, <span class='texttt'><span class='keyword'>inline</span></span>,
<span class='texttt'><span class='keyword'>constexpr</span></span>, or an <a class='grammarterm' href='dcl.fct.spec#nt:explicit-specifier'>explicit-specifier</a><a class='hidden_link' href='#class.ctor-1.sentence-3'>.</a></div> <div id='class.ctor-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.ctor-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// declares the constructor</span>
<span class='curlybracket'>}</span>;

S<span class='operator'>::</span>S<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>          <span class='comment'>// defines the constructor</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1270'>#</a></div><div id='class.ctor-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constructor,explicit_call'></a></span>A constructor is used to initialize objects of its class type<a class='hidden_link' href='#class.ctor-2.sentence-1'>.</a></div> <div id='class.ctor-2.sentence-2' class='sentence'>Because constructors do not have names, they are never found during
name lookup; however an explicit type conversion using the functional
notation (<a href='expr.type.conv'>[expr.type.conv]</a>) will cause a constructor to be called to
initialize an object<a class='hidden_link' href='#class.ctor-2.sentence-2'>.</a></div> <div id='class.ctor-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.ctor-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.ctor-2.sentence-3' class='sentence'>The syntax looks like an explicit call of the constructor<a class='hidden_link' href='#class.ctor-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.ctor-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.ctor-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
complex zz <span class='operator'>=</span> complex<span class='parenthesis'>(</span><span class='literal'>1</span>,<span class='literal'>2.3</span><span class='parenthesis'>)</span>;
cprint<span class='parenthesis'>(</span> complex<span class='parenthesis'>(</span><span class='literal'>7.8</span>,<span class='literal'>1.2</span><span class='parenthesis'>)</span> <span class='parenthesis'>)</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='class.ctor-2.note-2' class='note'>[&nbsp;<a class='note_link' href='#class.ctor-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.ctor-2.sentence-4' class='sentence'>For initialization of objects of class type see <a href='class.init'>[class.init]</a><a class='hidden_link' href='#class.ctor-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1290'>#</a></div><div id='class.ctor-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':object,unnamed'></a></span>An object created in this way is unnamed<a class='hidden_link' href='#class.ctor-3.sentence-1'>.</a></div> <div id='class.ctor-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.ctor-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.ctor-3.sentence-2' class='sentence'><a href='class.temporary'>[class.temporary]</a> describes the lifetime of temporary objects<a class='hidden_link' href='#class.ctor-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.ctor-3.note-2' class='note'>[&nbsp;<a class='note_link' href='#class.ctor-3.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.ctor-3.sentence-3' class='sentence'>Explicit constructor calls do not yield lvalues, see <a href='basic.lval'>[basic.lval]</a><a class='hidden_link' href='#class.ctor-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1300'>#</a></div><div id='class.ctor-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.ctor-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.ctor-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':member_function,constructor_and'></a></span>Some language constructs have special semantics when used during construction;
see <a href='class.base.init'>[class.base.init]</a> and <a href='class.cdtor'>[class.cdtor]</a><a class='hidden_link' href='#class.ctor-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1307'>#</a></div><div id='class.ctor-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':const,constructor_and_'></a></span><span class='indexparent'><a class='index' id=':volatile,constructor_and_'></a></span>A constructor can be invoked for a
<span class='texttt'><span class='keyword'>const</span></span>,
<span class='texttt'><span class='keyword'>volatile</span></span>
or
<span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'><span class='keyword'>volatile</span></span>
object<a class='hidden_link' href='#class.ctor-5.sentence-1'>.</a></div> <div id='class.ctor-5.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':restriction,constructor'></a></span><span class='texttt'><span class='keyword'>const</span></span>
and
<span class='texttt'><span class='keyword'>volatile</span></span>
semantics (<a href='dcl.type.cv'>[dcl.type.cv]</a>) are not applied on an object under construction<a class='hidden_link' href='#class.ctor-5.sentence-2'>.</a></div> <div id='class.ctor-5.sentence-3' class='sentence'>They come into effect when the constructor for the
most derived object (<a href='intro.object'>[intro.object]</a>) ends<a class='hidden_link' href='#class.ctor-5.sentence-3'>.</a></div></div><div class='para' id='class.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1325'>#</a></div><div id='class.ctor-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':restriction,constructor_'></a></span>A
<span class='texttt'><span class='keyword'>return</span></span>
statement in the body of a constructor shall not specify a return value<a class='hidden_link' href='#class.ctor-6.sentence-1'>.</a></div> <div id='class.ctor-6.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':constructor,address_of'></a></span>The address of a constructor shall not be taken<a class='hidden_link' href='#class.ctor-6.sentence-2'>.</a></div></div><div class='para' id='class.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#class.ctor-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1333'>#</a></div><div id='class.ctor-7.sentence-1' class='sentence'>A constructor shall not be a coroutine<a class='hidden_link' href='#class.ctor-7.sentence-1'>.</a></div></div><div id='class.default.ctor' class='section'><h4 ><a class='secnum' href='#class.default.ctor' style='min-width:118pt'>11.4.4.1</a> Default constructors <a class='abbr_ref' href='class.default.ctor'>[class.default.ctor]</a></h4><div class='para' id='class.default.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1338'>#</a></div><div id='class.default.ctor-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constructor,inheritance_of'></a></span><span class='indexparent'><a class='index' id=':constructor,non-trivial'></a></span>A <a class='hidden_link' href='#def:constructor,default' id='def:constructor,default'><i >default constructor</i></a> for a class <span class='texttt'>X</span>
is a constructor of class <span class='texttt'>X</span>
for which each parameter
that is not a function parameter pack
has a default argument
(including the case of a constructor with no parameters)<a class='hidden_link' href='#class.default.ctor-1.sentence-1'>.</a></div> <div id='class.default.ctor-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':implicitly-declared_default_constructor'></a></span>If there is no user-declared constructor for class
<span class='texttt'>X</span>,
a non-explicit constructor having no parameters is implicitly declared
as defaulted (<a href='dcl.fct.def'>[dcl.fct.def]</a>)<a class='hidden_link' href='#class.default.ctor-1.sentence-2'>.</a></div> <div id='class.default.ctor-1.sentence-3' class='sentence'>An implicitly-declared default constructor is an
inline public member of its class<a class='hidden_link' href='#class.default.ctor-1.sentence-3'>.</a></div></div><div class='para' id='class.default.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1355'>#</a></div><div id='class.default.ctor-2.sentence-1' class='sentence'>A defaulted default constructor for class <span class='texttt'>X</span> is defined as deleted if:
<ul class='itemize'><li id='class.default.ctor-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-2.1'>(2.1)</a></div><span class='texttt'>X</span> is a union that has a variant member
with a non-trivial default constructor and
no variant member of <span class='texttt'>X</span> has a default member initializer,</li><li id='class.default.ctor-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-2.2'>(2.2)</a></div><span class='texttt'>X</span> is a non-union class that has a variant member <span class='texttt'>M</span>
with a non-trivial default constructor and
no variant member of the anonymous union containing <span class='texttt'>M</span>
has a default member initializer,</li><li id='class.default.ctor-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-2.3'>(2.3)</a></div>any non-static data member with no default member initializer (<a href='#class.mem'>[class.mem]</a>) is
of reference type,</li><li id='class.default.ctor-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-2.4'>(2.4)</a></div>any non-variant non-static data member of const-qualified type (or array
thereof) with no <a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a>
is not const-default-constructible (<a href='dcl.init'>[dcl.init]</a>),</li><li id='class.default.ctor-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-2.5'>(2.5)</a></div><span class='texttt'>X</span> is a union and all of its variant members are of const-qualified
type (or array thereof),</li><li id='class.default.ctor-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-2.6'>(2.6)</a></div><span class='texttt'>X</span> is a non-union class and all members of any anonymous union member are
of const-qualified type (or array thereof),</li><li id='class.default.ctor-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-2.7'>(2.7)</a></div>any potentially constructed subobject, except for a non-static data member
with a <a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a>, has
class type <span class='texttt'>M</span> (or array thereof) and either <span class='texttt'>M</span>
has no default constructor or overload resolution (<a href='over.match'>[over.match]</a>)
as applied to find <span class='texttt'>M</span>'s corresponding
constructor results in an ambiguity or in a function that is deleted or
inaccessible from the defaulted default constructor, or</li><li id='class.default.ctor-2.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-2.8'>(2.8)</a></div>any potentially constructed subobject has a type
with a destructor that is deleted or inaccessible from the defaulted default
constructor<a class='hidden_link' href='#class.default.ctor-2.sentence-1'>.</a></li></ul></div></div><div class='para' id='class.default.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1393'>#</a></div><div id='class.default.ctor-3.sentence-1' class='sentence'>A default constructor is
<a class='hidden_link' href='#def:constructor,default,trivial' id='def:constructor,default,trivial'><i >trivial</i></a>
if it is not user-provided and if:
<ul class='itemize'><li id='class.default.ctor-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-3.1'>(3.1)</a></div>its class has no virtual functions (<a href='class.virtual'>[class.virtual]</a>) and no virtual base
classes (<a href='class.mi'>[class.mi]</a>), and</li><li id='class.default.ctor-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-3.2'>(3.2)</a></div>no non-static data member of its class has
a default member initializer (<a href='#class.mem'>[class.mem]</a>), and</li><li id='class.default.ctor-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-3.3'>(3.3)</a></div>all the direct base classes of its class have trivial default constructors, and</li><li id='class.default.ctor-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.default.ctor-3.4'>(3.4)</a></div>for all the non-static data members of its class that are of class
type (or array thereof), each such class has a trivial default constructor<a class='hidden_link' href='#class.default.ctor-3.sentence-1'>.</a></li></ul></div><div id='class.default.ctor-3.sentence-2' class='sentence'>Otherwise, the default constructor is
<a class='hidden_link' href='#def:constructor,default,non-trivial' id='def:constructor,default,non-trivial'><i >non-trivial</i></a><a class='hidden_link' href='#class.default.ctor-3.sentence-2'>.</a></div></div><div class='para' id='class.default.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1416'>#</a></div><div id='class.default.ctor-4.sentence-1' class='sentence'>A default constructor
that is defaulted and not defined as deleted
is
<a class='hidden_link' href='#def:constructor,implicitly_defined' id='def:constructor,implicitly_defined'><i >implicitly defined</i></a>
when it is odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>)
to create an object of its class type (<a href='intro.object'>[intro.object]</a>),
when it is needed for constant evaluation (<a href='expr.const'>[expr.const]</a>), or
when it is explicitly defaulted after its first declaration<a class='hidden_link' href='#class.default.ctor-4.sentence-1'>.</a></div> <div id='class.default.ctor-4.sentence-2' class='sentence'>The implicitly-defined default constructor performs the set of
initializations of the class that would be performed by a user-written default
constructor for that class with no
<a class='grammarterm' href='class.base.init#nt:ctor-initializer'>ctor-initializer</a> and an empty
<a class='grammarterm' href='stmt.block#nt:compound-statement'>compound-statement</a><a class='hidden_link' href='#class.default.ctor-4.sentence-2'>.</a></div> <div id='class.default.ctor-4.sentence-3' class='sentence'>If that user-written default constructor would be ill-formed,
the program is ill-formed<a class='hidden_link' href='#class.default.ctor-4.sentence-3'>.</a></div> <div id='class.default.ctor-4.sentence-4' class='sentence'>If that user-written default constructor would satisfy the requirements
of a constexpr constructor (<a href='dcl.constexpr'>[dcl.constexpr]</a>), the implicitly-defined
default constructor is <span class='texttt'><span class='keyword'>constexpr</span></span><a class='hidden_link' href='#class.default.ctor-4.sentence-4'>.</a></div> <div id='class.default.ctor-4.sentence-5' class='sentence'>Before the defaulted default constructor for a class is
implicitly defined,
all the non-user-provided default constructors for its base classes and
its non-static data members are implicitly defined<a class='hidden_link' href='#class.default.ctor-4.sentence-5'>.</a></div> <div id='class.default.ctor-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.default.ctor-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.default.ctor-4.sentence-6' class='sentence'>An implicitly-declared default constructor has an
exception specification (<a href='except.spec'>[except.spec]</a>)<a class='hidden_link' href='#class.default.ctor-4.sentence-6'>.</a></div> <div id='class.default.ctor-4.sentence-7' class='sentence'>An explicitly-defaulted definition might have an
implicit exception specification, see <a href='dcl.fct.def'>[dcl.fct.def]</a><a class='hidden_link' href='#class.default.ctor-4.sentence-7'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.default.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1446'>#</a></div><div id='class.default.ctor-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constructor,implicitly_called'></a></span>Default constructors are called implicitly to create class objects of static, thread,
or automatic storage duration (<a href='basic.stc.static'>[basic.stc.static]</a>, <a href='basic.stc.thread'>[basic.stc.thread]</a>, <a href='basic.stc.auto'>[basic.stc.auto]</a>) defined
without an initializer (<a href='dcl.init'>[dcl.init]</a>),
are called to create class objects of dynamic storage duration (<a href='basic.stc.dynamic'>[basic.stc.dynamic]</a>) created by a
<a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a>
in which the
<a class='grammarterm' href='expr.new#nt:new-initializer'>new-initializer</a>
is omitted (<a href='expr.new'>[expr.new]</a>), or
are called when the explicit type conversion syntax (<a href='expr.type.conv'>[expr.type.conv]</a>) is
used<a class='hidden_link' href='#class.default.ctor-5.sentence-1'>.</a></div> <div id='class.default.ctor-5.sentence-2' class='sentence'>A program is ill-formed if the default constructor for an object
is implicitly used and the constructor is not accessible (<a href='class.access'>[class.access]</a>)<a class='hidden_link' href='#class.default.ctor-5.sentence-2'>.</a></div></div><div class='para' id='class.default.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#class.default.ctor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1461'>#</a></div><div id='class.default.ctor-6.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.default.ctor-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.default.ctor-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':order_of_execution,base_class_constructor'></a></span><span class='indexparent'><a class='index' id=':order_of_execution,member_constructor'></a></span><a href='class.base.init'>[class.base.init]</a> describes the order in which constructors for base
classes and non-static data members are called and
describes how arguments can be specified for the calls to these constructors<a class='hidden_link' href='#class.default.ctor-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='class.copy.ctor' class='section'><h4 ><a class='secnum' href='#class.copy.ctor' style='min-width:118pt'>11.4.4.2</a> Copy/move constructors <a class='abbr_ref' href='class.copy.ctor'>[class.copy.ctor]</a></h4><div class='para' id='class.copy.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1472'>#</a></div><div id='class.copy.ctor-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constructor,copy_'></a></span><span class='indexparent'><a class='index' id=':constructor,move_'></a></span>A non-template constructor for class
<span class='texttt'>X</span>
is
a
copy
constructor if its first parameter is of type
<span class='texttt'>X<span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span>
or
<span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span>,
and either there are no other parameters
or else all other parameters have default arguments (<a href='dcl.fct.default'>[dcl.fct.default]</a>)<a class='hidden_link' href='#class.copy.ctor-1.sentence-1'>.</a></div> <div id='class.copy.ctor-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.copy.ctor-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='class.copy.ctor-1.sentence-2' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span>,<span class='keyword'>int</span><span class='operator'>=</span><span class='literal'>1</span><span class='parenthesis'>)</span></span>
are copy constructors<a class='hidden_link' href='#class.copy.ctor-1.sentence-2'>.</a></div><pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span>, <span class='keyword'>int</span> <span class='operator'>=</span> <span class='literal'>1</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
X a<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;             <span class='comment'>// calls <span class='tcode_in_codeblock'>X(int);</span></span>
X b<span class='parenthesis'>(</span>a, <span class='literal'>0</span><span class='parenthesis'>)</span>;          <span class='comment'>// calls <span class='tcode_in_codeblock'>X(const X&amp;, int);</span></span>
X c <span class='operator'>=</span> b;            <span class='comment'>// calls <span class='tcode_in_codeblock'>X(const X&amp;, int);</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1507'>#</a></div><div id='class.copy.ctor-2.sentence-1' class='sentence'>A non-template constructor for class <span class='texttt'>X</span> is a move constructor if its
first parameter is of type <span class='texttt'>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, or <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, and either there are
no other parameters or else all other parameters have default
arguments (<a href='dcl.fct.default'>[dcl.fct.default]</a>)<a class='hidden_link' href='#class.copy.ctor-2.sentence-1'>.</a></div> <div id='class.copy.ctor-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.copy.ctor-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='class.copy.ctor-2.sentence-2' class='sentence'><span class='texttt'>Y<span class='operator'>&#x200b;::&#x200b;</span>Y<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> is a move constructor<a class='hidden_link' href='#class.copy.ctor-2.sentence-2'>.</a></div> <pre class='codeblock'>
<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  Y<span class='parenthesis'>(</span><span class='keyword'>const</span> Y<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  Y<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>extern</span> Y f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
Y d<span class='parenthesis'>(</span>f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;          <span class='comment'>// calls <span class='tcode_in_codeblock'>Y(Y&amp;&amp;)</span></span>
Y e <span class='operator'>=</span> d;            <span class='comment'>// calls <span class='tcode_in_codeblock'>Y(const Y&amp;)</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1526'>#</a></div><div id='class.copy.ctor-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.copy.ctor-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.ctor-3.sentence-1' class='sentence'>All forms of copy/move constructor may be declared for a class<a class='hidden_link' href='#class.copy.ctor-3.sentence-1'>.</a></div> <div id='class.copy.ctor-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.copy.ctor-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// OK</span>
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK, but possibly not sensible</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1541'>#</a></div><div id='class.copy.ctor-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.copy.ctor-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.ctor-4.sentence-1' class='sentence'>If a class
<span class='texttt'>X</span>
only has a copy constructor with a parameter of type
<span class='texttt'>X<span class='operator'>&amp;</span></span>,
an initializer of type
<span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'>X</span>
or
<span class='texttt'><span class='keyword'>volatile</span></span>
<span class='texttt'>X</span>
cannot initialize an object of type
<span class='mathit'>cv</span> <span class='texttt'>X</span><a class='hidden_link' href='#class.copy.ctor-4.sentence-1'>.</a></div> <div id='class.copy.ctor-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.copy.ctor-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// default constructor</span>
  X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// copy constructor with a non-const parameter</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>const</span> X cx;
X x <span class='operator'>=</span> cx;           <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;X(X&amp;)</span> cannot copy <span class='tcode_in_codeblock'>cx</span> into <span class='tcode_in_codeblock'>x</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1567'>#</a></div><div id='class.copy.ctor-5.sentence-1' class='sentence'>A declaration of a constructor for a class
<span class='texttt'>X</span>
is ill-formed if its first parameter is of type
<span class='mathit'>cv</span> <span class='texttt'>X</span>
and either there are no other parameters or else all other parameters have
default arguments<a class='hidden_link' href='#class.copy.ctor-5.sentence-1'>.</a></div> <div id='class.copy.ctor-5.sentence-2' class='sentence'>A member function template is never instantiated to
produce such a constructor signature<a class='hidden_link' href='#class.copy.ctor-5.sentence-2'>.</a></div> <div id='class.copy.ctor-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.copy.ctor-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> S<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span>;
  S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

S g;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  S a<span class='parenthesis'>(</span>g<span class='parenthesis'>)</span>;           <span class='comment'>// does not instantiate the member template to produce <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;S&lt;S&gt;(S)</span>;</span>
                    <span class='comment'>// uses the implicitly declared copy constructor</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1592'>#</a></div><div id='class.copy.ctor-6.sentence-1' class='sentence'>If the class definition does not explicitly declare a copy constructor,
a non-explicit one is declared <a class='hidden_link' href='#def:constructor,copy,implicitly_declared' id='def:constructor,copy,implicitly_declared'><i >implicitly</i></a><a class='hidden_link' href='#class.copy.ctor-6.sentence-1'>.</a></div> <div id='class.copy.ctor-6.sentence-2' class='sentence'>If the class definition declares a move
constructor or move assignment operator, the implicitly declared copy
constructor is defined as deleted; otherwise, it is defined as
defaulted (<a href='dcl.fct.def'>[dcl.fct.def]</a>)<a class='hidden_link' href='#class.copy.ctor-6.sentence-2'>.</a></div> <div id='class.copy.ctor-6.sentence-3' class='sentence'>The latter case is deprecated if the class has a user-declared copy assignment
operator or a user-declared destructor  (<a href='depr.impldec'>[depr.impldec]</a>)<a class='hidden_link' href='#class.copy.ctor-6.sentence-3'>.</a></div></div><div class='para' id='class.copy.ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1602'>#</a></div><div id='class.copy.ctor-7.sentence-1' class='sentence'>The implicitly-declared copy constructor for a class
<span class='texttt'>X</span>
will have the form
<pre class='codeblock'>
X<span class='operator'>::</span>X<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</pre>
if each potentially constructed subobject of a class type
<span class='texttt'>M</span>
(or array thereof)
has a copy constructor whose first parameter is of type
<span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'>M<span class='operator'>&amp;</span></span>
or
<span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'><span class='keyword'>volatile</span></span>
<span class='texttt'>M<span class='operator'>&amp;</span></span><a class='hidden_link' href='#class.copy.ctor-7.sentence-1'>.</a><a class='footnotenum' href='#footnote-103' id='footnoteref-103'>103</a></div> <div id='class.copy.ctor-7.sentence-2' class='sentence'>
Otherwise, the implicitly-declared copy constructor will have the form
<pre class='codeblock'>
X<span class='operator'>::</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</pre></div></div><div class='para' id='class.copy.ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1628'>#</a></div><div id='class.copy.ctor-8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constructor,move,implicitly_declared'></a></span>If the definition of a class <span class='texttt'>X</span> does not explicitly declare
a move constructor, a non-explicit one will be
implicitly declared as defaulted if and only if
<ul class='itemize'><li id='class.copy.ctor-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-8.1'>(8.1)</a></div><span class='texttt'>X</span> does not have a user-declared copy constructor,</li><li id='class.copy.ctor-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-8.2'>(8.2)</a></div><span class='texttt'>X</span> does not have a user-declared copy assignment operator,</li><li id='class.copy.ctor-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-8.3'>(8.3)</a></div><span class='texttt'>X</span> does not have a user-declared move assignment operator, and</li><li id='class.copy.ctor-8.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-8.4'>(8.4)</a></div><span class='texttt'>X</span> does not have a user-declared destructor.</li></ul></div><div id='class.copy.ctor-8.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.copy.ctor-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.ctor-8.sentence-2' class='sentence'>When the move constructor is not implicitly declared or explicitly supplied,
expressions that otherwise would have invoked the move constructor may instead invoke
a copy constructor<a class='hidden_link' href='#class.copy.ctor-8.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1653'>#</a></div><div id='class.copy.ctor-9.sentence-1' class='sentence'>The implicitly-declared move constructor for class <span class='texttt'>X</span> will have the form
<pre class='codeblock'>
X<span class='operator'>::</span>X<span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</pre></div></div><div class='para' id='class.copy.ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1659'>#</a></div><div id='class.copy.ctor-10.sentence-1' class='sentence'>An implicitly-declared copy/move constructor is an
inline public member of its class<a class='hidden_link' href='#class.copy.ctor-10.sentence-1'>.</a></div> <div id='class.copy.ctor-10.sentence-2' class='sentence'>A defaulted copy/&#x200b;move constructor for a class
  <span class='texttt'>X</span> is defined as deleted (<a href='dcl.fct.def.delete'>[dcl.fct.def.delete]</a>) if <span class='texttt'>X</span> has:
<ul class='itemize'><li id='class.copy.ctor-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-10.1'>(10.1)</a></div>a potentially constructed subobject type
  <span class='texttt'>M</span> (or array thereof) that cannot be copied/moved because
  overload resolution (<a href='over.match'>[over.match]</a>), as applied to find
  <span class='texttt'>M</span>'s
  corresponding constructor, results in an ambiguity or
  a function that is deleted or inaccessible from the
  defaulted constructor,</li><li id='class.copy.ctor-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-10.2'>(10.2)</a></div>a variant member whose corresponding constructor
  as selected by overload resolution is non-trivial,</li><li id='class.copy.ctor-10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-10.3'>(10.3)</a></div>any potentially constructed subobject of a type
  with a destructor that is deleted or inaccessible from the defaulted
  constructor, or,</li><li id='class.copy.ctor-10.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-10.4'>(10.4)</a></div>for the copy constructor, a non-static data member of rvalue reference type<a class='hidden_link' href='#class.copy.ctor-10.sentence-2'>.</a></li></ul></div><div id='class.copy.ctor-10.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.copy.ctor-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.ctor-10.sentence-3' class='sentence'>A defaulted move constructor that is defined as deleted is ignored by overload
resolution (<a href='over.match'>[over.match]</a>, <a href='over.over'>[over.over]</a>)<a class='hidden_link' href='#class.copy.ctor-10.sentence-3'>.</a></div> <div id='class.copy.ctor-10.sentence-4' class='sentence'>Such a constructor would otherwise interfere with initialization from
an rvalue which can use the copy constructor instead<a class='hidden_link' href='#class.copy.ctor-10.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1690'>#</a></div><div id='class.copy.ctor-11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constructor,copy,trivial'></a></span><span class='indexparent'><a class='index' id=':constructor,move,trivial'></a></span>A copy/move constructor for class
<span class='texttt'>X</span>
is
trivial
if it is not user-provided and if:
<ul class='itemize'><li id='class.copy.ctor-11.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-11.1'>(11.1)</a></div>class
<span class='texttt'>X</span>
has no virtual functions (<a href='class.virtual'>[class.virtual]</a>)
and no virtual base classes (<a href='class.mi'>[class.mi]</a>), and</li><li id='class.copy.ctor-11.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-11.2'>(11.2)</a></div>the constructor selected to copy/move each direct base class subobject is trivial, and</li><li id='class.copy.ctor-11.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-11.3'>(11.3)</a></div>for each non-static data member of
<span class='texttt'>X</span>
that is of class type (or array thereof),
the constructor selected to copy/move that member is trivial;</li></ul></div><div id='class.copy.ctor-11.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':constructor,move,non-trivial'></a></span>otherwise the copy/move constructor is
<a class='hidden_link' href='#def:constructor,copy,nontrivial' id='def:constructor,copy,nontrivial'><i >non-trivial</i></a><a class='hidden_link' href='#class.copy.ctor-11.sentence-2'>.</a></div></div><div class='para' id='class.copy.ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1719'>#</a></div><div id='class.copy.ctor-12.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':constructor,copy,implicitly_defined'></a></span><span class='indexparent'><a class='index' id=':constructor,move,implicitly_defined'></a></span>A copy/move constructor
that is defaulted and not defined as deleted
is
<a class='hidden_link' href='#def:implicitly_defined' id='def:implicitly_defined'><i>implicitly defined</i></a>
when it is odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>),
when it is needed for constant evaluation (<a href='expr.const'>[expr.const]</a>), or
when it is explicitly defaulted after its first declaration<a class='hidden_link' href='#class.copy.ctor-12.sentence-1'>.</a></div> <div id='class.copy.ctor-12.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.copy.ctor-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.ctor-12.sentence-2' class='sentence'>The copy/move constructor is implicitly defined even if the implementation elided
its odr-use (<a href='basic.def.odr'>[basic.def.odr]</a>, <a href='class.temporary'>[class.temporary]</a>)<a class='hidden_link' href='#class.copy.ctor-12.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.copy.ctor-12.sentence-3' class='sentence'>
If the implicitly-defined constructor would satisfy the requirements of a
constexpr constructor (<a href='dcl.constexpr'>[dcl.constexpr]</a>), the implicitly-defined
constructor is <span class='texttt'><span class='keyword'>constexpr</span></span><a class='hidden_link' href='#class.copy.ctor-12.sentence-3'>.</a></div></div><div class='para' id='class.copy.ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1737'>#</a></div><div id='class.copy.ctor-13.sentence-1' class='sentence'>Before the defaulted copy/move constructor for a class is
implicitly defined,
all non-user-provided copy/move constructors for its
potentially constructed subobjects
are implicitly defined<a class='hidden_link' href='#class.copy.ctor-13.sentence-1'>.</a></div> <div id='class.copy.ctor-13.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.copy.ctor-13.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.ctor-13.sentence-2' class='sentence'>An implicitly-declared copy/move constructor has an
implied exception specification (<a href='except.spec'>[except.spec]</a>)<a class='hidden_link' href='#class.copy.ctor-13.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1748'>#</a></div><div id='class.copy.ctor-14.sentence-1' class='sentence'>The implicitly-defined copy/move constructor for a non-union class
<span class='texttt'>X</span>
performs a memberwise copy/move of its bases and members<a class='hidden_link' href='#class.copy.ctor-14.sentence-1'>.</a></div> <div id='class.copy.ctor-14.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.copy.ctor-14.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.ctor-14.sentence-2' class='sentence'>Default member initializers of non-static data members are ignored<a class='hidden_link' href='#class.copy.ctor-14.sentence-2'>.</a></div> <div id='class.copy.ctor-14.sentence-3' class='sentence'>See also the example in <a href='class.base.init'>[class.base.init]</a><a class='hidden_link' href='#class.copy.ctor-14.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.copy.ctor-14.sentence-4' class='sentence'>
The order of initialization is the same as the order of initialization of bases
and members in a user-defined constructor (see <a href='class.base.init'>[class.base.init]</a>)<a class='hidden_link' href='#class.copy.ctor-14.sentence-4'>.</a></div> <div id='class.copy.ctor-14.sentence-5' class='sentence'>Let <span class='texttt'>x</span> be either the parameter of the constructor or, for the move constructor, an
xvalue referring to the parameter<a class='hidden_link' href='#class.copy.ctor-14.sentence-5'>.</a></div> <div id='class.copy.ctor-14.sentence-6' class='sentence'>Each base or non-static data member
is copied/moved in the manner appropriate to its type:
<ul class='itemize'><li id='class.copy.ctor-14.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-14.1'>(14.1)</a></div>if the member is an array, each element is
direct-initialized with the corresponding subobject of <span class='texttt'>x</span>;</li><li id='class.copy.ctor-14.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-14.2'>(14.2)</a></div>if a member <span class='texttt'>m</span> has rvalue reference type <span class='texttt'>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, it is direct-initialized with
<span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>m<span class='parenthesis'>)</span></span>;</li><li id='class.copy.ctor-14.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.ctor-14.3'>(14.3)</a></div>otherwise, the base or member is direct-initialized with the corresponding base or member of <span class='texttt'>x</span><a class='hidden_link' href='#class.copy.ctor-14.sentence-6'>.</a></li></ul></div><div id='class.copy.ctor-14.sentence-7' class='sentence'><span class='indexparent'><a class='index' id=':initialization,virtual_base_class'></a></span>Virtual base class subobjects shall be initialized only once by
the implicitly-defined copy/move constructor (see <a href='class.base.init'>[class.base.init]</a>)<a class='hidden_link' href='#class.copy.ctor-14.sentence-7'>.</a></div></div><div class='para' id='class.copy.ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.ctor-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1778'>#</a></div><div id='class.copy.ctor-15.sentence-1' class='sentence'>The implicitly-defined copy/move constructor for a union
<span class='texttt'>X</span> copies the object representation (<a href='basic.types'>[basic.types]</a>) of <span class='texttt'>X</span><a class='hidden_link' href='#class.copy.ctor-15.sentence-1'>.</a></div> <div id='class.copy.ctor-15.sentence-2' class='sentence'>For each object nested within (<a href='intro.object'>[intro.object]</a>)
the object that is the source of the copy,
a corresponding object <span class='math'><span class='mathalpha'>o</span></span> nested within the destination
is identified (if the object is a subobject) or created (otherwise),
and the lifetime of <span class='math'><span class='mathalpha'>o</span></span> begins before the copy is performed<a class='hidden_link' href='#class.copy.ctor-15.sentence-2'>.</a></div> 
</div><div class='footnote' id='footnote-103'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-103'>103)</a></div><div id='footnote-103.sentence-1' class='sentence'>This implies that the reference parameter of the
implicitly-declared copy constructor
cannot bind to a
<span class='texttt'><span class='keyword'>volatile</span></span>
lvalue; see <a href='diff.class'>[diff.class]</a><a class='hidden_link' href='#footnote-103.sentence-1'>.</a></div> <a href='#footnoteref-103'>⮥</a></div></div></div><div id='class.copy.assign' class='section'><h3 ><a class='secnum' href='#class.copy.assign' style='min-width:103pt'>11.4.5</a> Copy/move assignment operator <a class='abbr_ref' href='class.copy.assign'>[class.copy.assign]</a></h3><div class='para' id='class.copy.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1791'>#</a></div><div id='class.copy.assign-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':assignment_operator,copy_'></a></span><span class='indexparent'><a class='index' id=':assignment_operator,move_'></a></span>A user-declared <a class='hidden_link' href='#def:copy' id='def:copy'><i>copy</i></a> assignment operator <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>=</span></span> is a
non-static non-template member function of class <span class='texttt'>X</span> with exactly one
parameter of type <span class='texttt'>X</span>, <span class='texttt'>X<span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span></span>,
<span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span>, or <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span></span><a class='hidden_link' href='#class.copy.assign-1.sentence-1'>.</a><a class='footnotenum' href='#footnote-104' id='footnoteref-104'>104</a></div> <div id='class.copy.assign-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.copy.assign-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.assign-1.sentence-2' class='sentence'>An overloaded assignment operator must be declared to have only one parameter;
see <a href='over.ass'>[over.ass]</a><a class='hidden_link' href='#class.copy.assign-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.copy.assign-1.note-2' class='note'>[&nbsp;<a class='note_link' href='#class.copy.assign-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.assign-1.sentence-3' class='sentence'>More than one form of copy assignment operator may be declared for a class<a class='hidden_link' href='#class.copy.assign-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.copy.assign-1.note-3' class='note'>[&nbsp;<a class='note_link' href='#class.copy.assign-1.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.assign-1.sentence-4' class='sentence'>If a class
<span class='texttt'>X</span>
only has a copy assignment operator with a parameter of type
<span class='texttt'>X<span class='operator'>&amp;</span></span>,
an expression of type const
<span class='texttt'>X</span>
cannot be assigned to an object of type
<span class='texttt'>X</span><a class='hidden_link' href='#class.copy.assign-1.sentence-4'>.</a></div> <div id='class.copy.assign-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.copy.assign-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  X<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>const</span> X cx;
X x;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  x <span class='operator'>=</span> cx;           <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;operator=(X&amp;)</span> cannot assign <span class='tcode_in_codeblock'>cx</span> into <span class='tcode_in_codeblock'>x</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1840'>#</a></div><div id='class.copy.assign-2.sentence-1' class='sentence'>If the class definition does not explicitly declare a copy assignment operator,
one is declared <a class='hidden_link' href='#def:assignment_operator,copy,implicitly_declared' id='def:assignment_operator,copy,implicitly_declared'><i >implicitly</i></a><a class='hidden_link' href='#class.copy.assign-2.sentence-1'>.</a></div> <div id='class.copy.assign-2.sentence-2' class='sentence'>If the class definition declares a move
constructor or move assignment operator, the implicitly declared copy
assignment operator is defined as deleted; otherwise, it is defined as
defaulted (<a href='dcl.fct.def'>[dcl.fct.def]</a>)<a class='hidden_link' href='#class.copy.assign-2.sentence-2'>.</a></div> <div id='class.copy.assign-2.sentence-3' class='sentence'>The latter case is deprecated if the class has a user-declared copy constructor
or a user-declared destructor  (<a href='depr.impldec'>[depr.impldec]</a>)<a class='hidden_link' href='#class.copy.assign-2.sentence-3'>.</a></div> <div id='class.copy.assign-2.sentence-4' class='sentence'>The implicitly-declared copy assignment operator for a class
<span class='texttt'>X</span>
will have the form
<pre class='codeblock'>
X<span class='operator'>&amp;</span> X<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</pre>
if
<ul class='itemize'><li id='class.copy.assign-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-2.1'>(2.1)</a></div>each direct base class <span class='texttt'>B</span> of <span class='texttt'>X</span>
has a copy assignment operator whose parameter is of type
<span class='texttt'><span class='keyword'>const</span> B<span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> B<span class='operator'>&amp;</span></span>, or <span class='texttt'>B</span>, and</li><li id='class.copy.assign-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-2.2'>(2.2)</a></div>for all the non-static data members of <span class='texttt'>X</span>
that are of a class type <span class='texttt'>M</span> (or array thereof),
each such class type has a copy assignment operator whose parameter is of type
<span class='texttt'><span class='keyword'>const</span> M<span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> M<span class='operator'>&amp;</span></span>,
or <span class='texttt'>M</span><a class='hidden_link' href='#class.copy.assign-2.sentence-4'>.</a><a class='footnotenum' href='#footnote-105' id='footnoteref-105'>105</a></li></ul></div><div id='class.copy.assign-2.sentence-5' class='sentence'>Otherwise, the implicitly-declared copy assignment operator
will have the form
<pre class='codeblock'>
X<span class='operator'>&amp;</span> X<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</pre></div></div><div class='para' id='class.copy.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1877'>#</a></div><div id='class.copy.assign-3.sentence-1' class='sentence'>A user-declared move assignment operator <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>=</span></span> is
a non-static non-template member function of class <span class='texttt'>X</span> with exactly
one parameter of type <span class='texttt'>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>const</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, <span class='texttt'><span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>, or
<span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span> X<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span><a class='hidden_link' href='#class.copy.assign-3.sentence-1'>.</a></div> <div id='class.copy.assign-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.copy.assign-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.assign-3.sentence-2' class='sentence'>An overloaded assignment operator must be
declared to have only one parameter; see <a href='over.ass'>[over.ass]</a><a class='hidden_link' href='#class.copy.assign-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  
<div id='class.copy.assign-3.note-2' class='note'>[&nbsp;<a class='note_link' href='#class.copy.assign-3.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.assign-3.sentence-3' class='sentence'>More
than one form of move assignment operator may be declared for a class<a class='hidden_link' href='#class.copy.assign-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.assign-4'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1892'>#</a></div><div id='class.copy.assign-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':assignment_operator,move,implicitly_declared'></a></span>If the definition of a class <span class='texttt'>X</span> does not explicitly declare a
move assignment operator, one
will be implicitly declared as defaulted if and only if
<ul class='itemize'><li id='class.copy.assign-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-4.1'>(4.1)</a></div><span class='texttt'>X</span> does not have a user-declared copy constructor,</li><li id='class.copy.assign-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-4.2'>(4.2)</a></div><span class='texttt'>X</span> does not have a user-declared move constructor,</li><li id='class.copy.assign-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-4.3'>(4.3)</a></div><span class='texttt'>X</span> does not have a user-declared copy assignment operator, and</li><li id='class.copy.assign-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-4.4'>(4.4)</a></div><span class='texttt'>X</span> does not have a user-declared destructor.</li></ul></div><div id='class.copy.assign-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.copy.assign-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='class.copy.assign-4.sentence-2' class='sentence'>The class definition
<pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  S<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> S<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
<span class='curlybracket'>}</span>;
</pre>
will not have a default move assignment operator implicitly declared because the
copy assignment operator has been user-declared<a class='hidden_link' href='#class.copy.assign-4.sentence-2'>.</a></div> <div id='class.copy.assign-4.sentence-3' class='sentence'>The move assignment operator may
be explicitly defaulted<a class='hidden_link' href='#class.copy.assign-4.sentence-3'>.</a></div><pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  S<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> S<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
  S<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>S<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.assign-5'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1932'>#</a></div><div id='class.copy.assign-5.sentence-1' class='sentence'>The implicitly-declared move assignment operator for a class <span class='texttt'>X</span> will have the form
<pre class='codeblock'>
X<span class='operator'>&amp;</span> X<span class='operator'>::</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>X<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>
</pre></div></div><div class='para' id='class.copy.assign-6'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1938'>#</a></div><div id='class.copy.assign-6.sentence-1' class='sentence'>The implicitly-declared copy/move assignment operator for class
<span class='texttt'>X</span>
has the return type
<span class='texttt'>X<span class='operator'>&amp;</span></span>;
it returns the object for which the assignment operator is invoked, that is,
the object assigned to<a class='hidden_link' href='#class.copy.assign-6.sentence-1'>.</a></div> <div id='class.copy.assign-6.sentence-2' class='sentence'>An implicitly-declared copy/move assignment operator is an
inline public member of its class<a class='hidden_link' href='#class.copy.assign-6.sentence-2'>.</a></div></div><div class='para' id='class.copy.assign-7'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1948'>#</a></div><div id='class.copy.assign-7.sentence-1' class='sentence'>A defaulted copy/move assignment operator for
class <span class='texttt'>X</span> is defined as deleted if <span class='texttt'>X</span> has:
<ul class='itemize'><li id='class.copy.assign-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-7.1'>(7.1)</a></div>a variant member with a non-trivial corresponding assignment operator and
  <span class='texttt'>X</span> is a union-like class, or</li><li id='class.copy.assign-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-7.2'>(7.2)</a></div>a non-static data member of <span class='texttt'><span class='keyword'>const</span></span> non-class
  type (or array thereof), or</li><li id='class.copy.assign-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-7.3'>(7.3)</a></div>a non-static data member of reference type, or</li><li id='class.copy.assign-7.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-7.4'>(7.4)</a></div>a direct non-static data member of class type <span class='texttt'>M</span>
  (or array thereof) or a direct base class <span class='texttt'>M</span>
  that cannot be copied/moved because overload resolution
  (<a href='over.match'>[over.match]</a>), as applied to find <span class='texttt'>M</span>'s corresponding
  assignment operator, results in an ambiguity or
  a function that is deleted or inaccessible from the
  defaulted assignment operator<a class='hidden_link' href='#class.copy.assign-7.sentence-1'>.</a></li></ul></div><div id='class.copy.assign-7.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.copy.assign-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.assign-7.sentence-2' class='sentence'>A defaulted move assignment operator that is defined as deleted is ignored by
overload resolution (<a href='over.match'>[over.match]</a>, <a href='over.over'>[over.over]</a>)<a class='hidden_link' href='#class.copy.assign-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.assign-8'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1974'>#</a></div><div id='class.copy.assign-8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':assignment_operator,copy,hidden'></a></span><span class='indexparent'><a class='index' id=':assignment_operator,move,hidden'></a></span>Because a copy/move assignment operator is implicitly declared for a class
if not declared by the user,
a base class copy/move assignment operator is always hidden
by the corresponding assignment operator of a derived class (<a href='over.ass'>[over.ass]</a>)<a class='hidden_link' href='#class.copy.assign-8.sentence-1'>.</a></div> <div id='class.copy.assign-8.sentence-2' class='sentence'>A
<a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a> that brings in from a base class an assignment operator
with a parameter type that could be that of a
copy/move assignment operator for the
derived class is not considered an explicit declaration of such an
operator and does not suppress the implicit declaration of the derived class
operator;
the operator introduced by the
<a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a>
is hidden by the implicitly-declared operator in the derived
class<a class='hidden_link' href='#class.copy.assign-8.sentence-2'>.</a></div></div><div class='para' id='class.copy.assign-9'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L1993'>#</a></div><div id='class.copy.assign-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':assignment_operator,copy,trivial'></a></span><span class='indexparent'><a class='index' id=':assignment_operator,move,trivial'></a></span>A copy/move assignment operator for class
<span class='texttt'>X</span>
is
trivial
if it is not user-provided and if:
<ul class='itemize'><li id='class.copy.assign-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-9.1'>(9.1)</a></div>class
<span class='texttt'>X</span>
has no virtual functions (<a href='class.virtual'>[class.virtual]</a>)
and no virtual base classes (<a href='class.mi'>[class.mi]</a>), and</li><li id='class.copy.assign-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-9.2'>(9.2)</a></div>the assignment operator selected to copy/move each direct
base class subobject is trivial, and</li><li id='class.copy.assign-9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-9.3'>(9.3)</a></div>for each non-static data member of
<span class='texttt'>X</span>
that is of class type (or array thereof),
the assignment operator selected to copy/move that member is trivial;</li></ul>
<span class='indexparent'><a class='index' id=':assignment_operator,move,non-trivial'></a></span>otherwise the copy/move assignment operator is
<a class='hidden_link' href='#def:assignment_operator,copy,non-trivial' id='def:assignment_operator,copy,non-trivial'><i >non-trivial</i></a><a class='hidden_link' href='#class.copy.assign-9.sentence-1'>.</a></div></div><div class='para' id='class.copy.assign-10'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2021'>#</a></div><div id='class.copy.assign-10.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':assignment_operator,copy,implicitly_defined'></a></span><span class='indexparent'><a class='index' id=':assignment_operator,move,implicitly_defined'></a></span>A copy/move assignment operator for a class <span class='texttt'>X</span>
that is defaulted and not defined as deleted
is
<a class='hidden_link' href='#def:implicitly_defined' id='def:implicitly_defined'><i>implicitly defined</i></a>
when it is odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>)
(e.g., when it is selected by overload resolution
to assign to an object of its class type),
when it is needed for constant evaluation (<a href='expr.const'>[expr.const]</a>), or
when it is explicitly defaulted after its first declaration<a class='hidden_link' href='#class.copy.assign-10.sentence-1'>.</a></div> <div id='class.copy.assign-10.sentence-2' class='sentence'>The implicitly-defined copy/move assignment operator is <span class='texttt'><span class='keyword'>constexpr</span></span> if
<ul class='itemize'><li id='class.copy.assign-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-10.1'>(10.1)</a></div><span class='texttt'>X</span> is a literal type, and</li><li id='class.copy.assign-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-10.2'>(10.2)</a></div>the assignment operator selected to copy/move each direct base class subobject
is a constexpr function, and</li><li id='class.copy.assign-10.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-10.3'>(10.3)</a></div>for each non-static data member of <span class='texttt'>X</span> that is of class type (or array
thereof), the assignment operator selected to copy/move that member is a
constexpr function<a class='hidden_link' href='#class.copy.assign-10.sentence-2'>.</a></li></ul></div></div><div class='para' id='class.copy.assign-11'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2048'>#</a></div><div id='class.copy.assign-11.sentence-1' class='sentence'>Before the defaulted copy/move assignment operator for a class is
implicitly defined,
all non-user-provided copy/move assignment operators for
its direct base classes and
its non-static data members are implicitly defined<a class='hidden_link' href='#class.copy.assign-11.sentence-1'>.</a></div> <div id='class.copy.assign-11.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.copy.assign-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.copy.assign-11.sentence-2' class='sentence'>An implicitly-declared copy/move assignment operator has an
implied exception specification (<a href='except.spec'>[except.spec]</a>)<a class='hidden_link' href='#class.copy.assign-11.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.assign-12'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2059'>#</a></div><div id='class.copy.assign-12.sentence-1' class='sentence'>The implicitly-defined copy/move assignment operator for a
non-union class <span class='texttt'>X</span> performs memberwise copy/move assignment of its subobjects<a class='hidden_link' href='#class.copy.assign-12.sentence-1'>.</a></div> <div id='class.copy.assign-12.sentence-2' class='sentence'>The direct
base classes of <span class='texttt'>X</span> are assigned first, in the order of their declaration in the
<a class='grammarterm' href='class.derived#nt:base-specifier-list'>base-specifier-list</a>, and then the immediate non-static data members of
<span class='texttt'>X</span> are assigned, in the order in which they were declared in the class
definition<a class='hidden_link' href='#class.copy.assign-12.sentence-2'>.</a></div> <div id='class.copy.assign-12.sentence-3' class='sentence'>Let <span class='texttt'>x</span> be either the parameter of the function or, for the move operator, an
xvalue referring to the parameter<a class='hidden_link' href='#class.copy.assign-12.sentence-3'>.</a></div> <div id='class.copy.assign-12.sentence-4' class='sentence'>Each subobject is assigned in the manner appropriate to its type:
<ul class='itemize'><li id='class.copy.assign-12.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-12.1'>(12.1)</a></div>if the subobject is of class type,
as if by a call to <span class='texttt'><span class='keyword'>operator</span><span class='operator'>=</span></span> with the subobject as the object expression
and the corresponding subobject of <span class='texttt'>x</span> as a single function argument
(as if by explicit qualification; that is,
ignoring any possible virtual overriding functions in more derived classes);</li><li id='class.copy.assign-12.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-12.2'>(12.2)</a></div>if the subobject is an array, each element is assigned,
in the manner appropriate to the element type;</li><li id='class.copy.assign-12.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.copy.assign-12.3'>(12.3)</a></div>if the subobject is of scalar type,
the built-in assignment operator is used<a class='hidden_link' href='#class.copy.assign-12.sentence-4'>.</a></li></ul></div><div id='class.copy.assign-12.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':assignment_operator,copy,virtual_bases_and'></a></span>It is unspecified whether subobjects representing virtual base classes
are assigned more than once by the implicitly-defined copy/move assignment
operator<a class='hidden_link' href='#class.copy.assign-12.sentence-5'>.</a></div> <div id='class.copy.assign-12.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.copy.assign-12.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> A <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>virtual</span> V <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> B, A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
</pre><div id='class.copy.assign-12.sentence-6' class='sentence'>It is unspecified whether the virtual base class subobject
<span class='texttt'>V</span>
is assigned twice by the implicitly-defined copy/move assignment operator for
<span class='texttt'>C</span><a class='hidden_link' href='#class.copy.assign-12.sentence-6'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.copy.assign-13'><div class='marginalizedparent'><a class='marginalized' href='#class.copy.assign-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2102'>#</a></div><div id='class.copy.assign-13.sentence-1' class='sentence'>The implicitly-defined copy assignment operator for a
union <span class='texttt'>X</span> copies the object representation (<a href='basic.types'>[basic.types]</a>) of <span class='texttt'>X</span><a class='hidden_link' href='#class.copy.assign-13.sentence-1'>.</a></div> <div id='class.copy.assign-13.sentence-2' class='sentence'>If the source and destination of the assignment are not the same object, then
for each object nested within (<a href='intro.object'>[intro.object]</a>)
the object that is the source of the copy,
a corresponding object <span class='math'><span class='mathalpha'>o</span></span> nested within the destination is created,
and the lifetime of <span class='math'><span class='mathalpha'>o</span></span> begins before the copy is performed<a class='hidden_link' href='#class.copy.assign-13.sentence-2'>.</a></div> 
</div><div class='footnote' id='footnote-104'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-104'>104)</a></div><div id='footnote-104.sentence-1' class='sentence'>Because
a template assignment operator or an assignment operator
taking an rvalue reference parameter is never a copy assignment operator,
the presence of such an assignment operator does not suppress the
implicit declaration of a copy assignment operator<a class='hidden_link' href='#footnote-104.sentence-1'>.</a></div> <div id='footnote-104.sentence-2' class='sentence'>Such assignment operators
participate in overload resolution with other assignment operators, including
copy assignment operators, and, if selected, will be used to assign an object<a class='hidden_link' href='#footnote-104.sentence-2'>.</a></div> <a href='#footnoteref-104'>⮥</a></div><div class='footnote' id='footnote-105'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-105'>105)</a></div><div id='footnote-105.sentence-1' class='sentence'>This implies that the reference parameter of the
implicitly-declared copy assignment operator cannot bind to a
<span class='texttt'><span class='keyword'>volatile</span></span> lvalue; see <a href='diff.class'>[diff.class]</a><a class='hidden_link' href='#footnote-105.sentence-1'>.</a></div> <a href='#footnoteref-105'>⮥</a></div></div><div id='class.dtor' class='section'><h3 ><a class='secnum' href='#class.dtor' style='min-width:103pt'>11.4.6</a> Destructors <a class='abbr_ref' href='class.dtor'>[class.dtor]</a></h3><span class='indexparent'><a class='index' id=':destructor'></a></span><div class='para' id='class.dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2117'>#</a></div><div id='class.dtor-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:destructor,prospective' id='def:destructor,prospective'><i >prospective destructor</i></a> is introduced by a declaration
whose <a class='grammarterm' href='dcl.decl#nt:declarator'>declarator</a> is a
function declarator (<a href='dcl.fct'>[dcl.fct]</a>) of the form
<pre class='ncbnf'><a class='grammarterm' href='dcl.decl#nt:ptr-declarator'>ptr-declarator</a> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a> <span class='terminal'><span class='parenthesis'>)</span></span> <a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre>
where the <a class='grammarterm' href='dcl.decl#nt:ptr-declarator'>ptr-declarator</a> consists solely of an
<a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a>, an optional <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a>,
and optional surrounding parentheses, and the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> has
one of the following forms:
<ul class='itemize'><li id='class.dtor-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-1.1'>(1.1)</a></div>in a <a class='grammarterm' href='#nt:member-declaration'>member-declaration</a> that belongs to the
<a class='grammarterm' href='#nt:member-specification'>member-specification</a> of a class or class template
but is not a friend
declaration (<a href='class.friend'>[class.friend]</a>), the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> is
<span class='texttt'><span class='operator'>~</span></span><a class='grammarterm' href='class.pre#nt:class-name'>class-name</a> and the <a class='grammarterm' href='class.pre#nt:class-name'>class-name</a> is the
injected-class-name (<a href='class.pre'>[class.pre]</a>) of the immediately-enclosing entity or</li><li id='class.dtor-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-1.2'>(1.2)</a></div>in a declaration at namespace scope or in a friend declaration, the
<a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> is <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>
<span class='texttt'><span class='operator'>~</span></span><a class='grammarterm' href='class.pre#nt:class-name'>class-name</a> and the <a class='grammarterm' href='class.pre#nt:class-name'>class-name</a> names the
same class as the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a><a class='hidden_link' href='#class.dtor-1.sentence-1'>.</a></li></ul></div><div id='class.dtor-1.sentence-2' class='sentence'>A prospective destructor shall take no arguments (<a href='dcl.fct'>[dcl.fct]</a>)<a class='hidden_link' href='#class.dtor-1.sentence-2'>.</a></div> <div id='class.dtor-1.sentence-3' class='sentence'>Each <a class='grammarterm' href='dcl.spec#nt:decl-specifier'>decl-specifier</a> of the <a class='grammarterm' href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a>
of a prospective destructor declaration (if any)
shall be
<span class='texttt'><span class='keyword'>friend</span></span>,
<span class='texttt'><span class='keyword'>inline</span></span>,
<span class='texttt'><span class='keyword'>virtual</span></span>,
<span class='texttt'><span class='keyword'>constexpr</span></span>, or
<span class='texttt'><span class='keyword'>consteval</span></span><a class='hidden_link' href='#class.dtor-1.sentence-3'>.</a></div></div><div class='para' id='class.dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2154'>#</a></div><div id='class.dtor-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':destructor,default'></a></span>If a class has no user-declared
prospective destructor,
a prospective destructor is implicitly
declared as defaulted (<a href='dcl.fct.def'>[dcl.fct.def]</a>)<a class='hidden_link' href='#class.dtor-2.sentence-1'>.</a></div> <div id='class.dtor-2.sentence-2' class='sentence'>An implicitly-declared prospective destructor is an
inline public member of its class<a class='hidden_link' href='#class.dtor-2.sentence-2'>.</a></div></div><div class='para' id='class.dtor-3'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2164'>#</a></div><div id='class.dtor-3.sentence-1' class='sentence'>An implicitly-declared prospective destructor for a class <span class='texttt'>X</span> will have the form
<pre class='codeblock'>
<span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
</pre></div></div><div class='para' id='class.dtor-4'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2170'>#</a></div><div id='class.dtor-4.sentence-1' class='sentence'>At the end of the definition of a class,
overload resolution is performed
among the prospective destructors declared in that class
with an empty argument list
to select the <a class='hidden_link' href='#def:destructor' id='def:destructor'><i >destructor</i></a> for the class,
also known as the <a class='hidden_link' href='#def:destructor,selected' id='def:destructor,selected'><i >selected destructor</i></a><a class='hidden_link' href='#class.dtor-4.sentence-1'>.</a></div> <div id='class.dtor-4.sentence-2' class='sentence'>The program is ill-formed if overload resolution fails<a class='hidden_link' href='#class.dtor-4.sentence-2'>.</a></div> <div id='class.dtor-4.sentence-3' class='sentence'>Destructor selection does not constitute
a reference to,
or odr-use (<a href='basic.def.odr'>[basic.def.odr]</a>) of,
the selected destructor,
and in particular,
the selected destructor may be deleted (<a href='dcl.fct.def.delete'>[dcl.fct.def.delete]</a>)<a class='hidden_link' href='#class.dtor-4.sentence-3'>.</a></div></div><div class='para' id='class.dtor-5'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2185'>#</a></div><div id='class.dtor-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':restriction,destructor'></a></span>The address of a destructor shall not be taken<a class='hidden_link' href='#class.dtor-5.sentence-1'>.</a></div> <div id='class.dtor-5.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':const,destructor_and_'></a></span><span class='indexparent'><a class='index' id=':volatile,destructor_and_'></a></span>A destructor can be invoked for a
<span class='texttt'><span class='keyword'>const</span></span>,
<span class='texttt'><span class='keyword'>volatile</span></span>
or
<span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'><span class='keyword'>volatile</span></span>
object<a class='hidden_link' href='#class.dtor-5.sentence-2'>.</a></div> <div id='class.dtor-5.sentence-3' class='sentence'><span class='texttt'><span class='keyword'>const</span></span>
and
<span class='texttt'><span class='keyword'>volatile</span></span>
semantics (<a href='dcl.type.cv'>[dcl.type.cv]</a>) are not applied on an object under destruction<a class='hidden_link' href='#class.dtor-5.sentence-3'>.</a></div> <div id='class.dtor-5.sentence-4' class='sentence'>They stop being in effect when the destructor for the
most derived object (<a href='intro.object'>[intro.object]</a>) starts<a class='hidden_link' href='#class.dtor-5.sentence-4'>.</a></div></div><div class='para' id='class.dtor-6'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2204'>#</a></div><div id='class.dtor-6.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.dtor-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.dtor-6.sentence-1' class='sentence'>A declaration of a destructor that does not have a <a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a>
has the same exception specification as if it had been implicitly declared (<a href='except.spec'>[except.spec]</a>)<a class='hidden_link' href='#class.dtor-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.dtor-7'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2210'>#</a></div><div id='class.dtor-7.sentence-1' class='sentence'>A defaulted destructor for a class
  <span class='texttt'>X</span> is defined as deleted if:
<ul class='itemize'><li id='class.dtor-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-7.1'>(7.1)</a></div><span class='texttt'>X</span> is a union-like class that has a variant
  member with a non-trivial destructor,</li><li id='class.dtor-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-7.2'>(7.2)</a></div>any potentially constructed subobject has class type
  <span class='texttt'>M</span> (or array thereof) and
  <span class='texttt'>M</span> has a deleted destructor or a destructor
  that is inaccessible from the defaulted destructor,</li><li id='class.dtor-7.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-7.3'>(7.3)</a></div>or, for a virtual destructor, lookup of the non-array deallocation
  function results in an ambiguity or in a function that is deleted or
  inaccessible from the defaulted destructor<a class='hidden_link' href='#class.dtor-7.sentence-1'>.</a></li></ul></div></div><div class='para' id='class.dtor-8'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2227'>#</a></div><div id='class.dtor-8.sentence-1' class='sentence'>A destructor is trivial if it is not user-provided and if:
<ul class='itemize'><li id='class.dtor-8.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-8.1'>(8.1)</a></div>the destructor is not <span class='texttt'><span class='keyword'>virtual</span></span>,</li><li id='class.dtor-8.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-8.2'>(8.2)</a></div>all of the direct base classes of its class have trivial destructors, and</li><li id='class.dtor-8.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-8.3'>(8.3)</a></div>for all of the non-static data members of its class that are of class
type (or array thereof), each such class has a trivial destructor<a class='hidden_link' href='#class.dtor-8.sentence-1'>.</a></li></ul></div><div id='class.dtor-8.sentence-2' class='sentence'>Otherwise, the destructor is
<a class='hidden_link' href='#def:destructor,non-trivial' id='def:destructor,non-trivial'><i >non-trivial</i></a><a class='hidden_link' href='#class.dtor-8.sentence-2'>.</a></div></div><div class='para' id='class.dtor-9'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2241'>#</a></div><div id='class.dtor-9.sentence-1' class='sentence'>A defaulted destructor is a constexpr destructor
if it satisfies the requirements for a constexpr destructor (<a href='dcl.constexpr'>[dcl.constexpr]</a>)<a class='hidden_link' href='#class.dtor-9.sentence-1'>.</a></div></div><div class='para' id='class.dtor-10'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2245'>#</a></div><div id='class.dtor-10.sentence-1' class='sentence'>A destructor
that is defaulted and not defined as deleted
is
<a class='hidden_link' href='#def:destructor,implicitly_defined' id='def:destructor,implicitly_defined'><i >implicitly defined</i></a>
when it is odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>)
or when it is explicitly defaulted after its first declaration<a class='hidden_link' href='#class.dtor-10.sentence-1'>.</a></div></div><div class='para' id='class.dtor-11'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2253'>#</a></div><div id='class.dtor-11.sentence-1' class='sentence'>Before a
defaulted destructor for a class is implicitly defined, all the non-user-provided
destructors for its base classes and its non-static data members are
implicitly defined<a class='hidden_link' href='#class.dtor-11.sentence-1'>.</a></div></div><div class='para' id='class.dtor-12'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2259'>#</a></div><div id='class.dtor-12.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':destructor,virtual'></a></span><span class='indexparent'><a class='index' id=':destructor,pure_virtual'></a></span>A prospective destructor can be declared
<span class='texttt'><span class='keyword'>virtual</span></span> (<a href='class.virtual'>[class.virtual]</a>)
or pure
<span class='texttt'><span class='keyword'>virtual</span></span> (<a href='class.abstract'>[class.abstract]</a>)<a class='hidden_link' href='#class.dtor-12.sentence-1'>.</a></div> <div id='class.dtor-12.sentence-2' class='sentence'>If the destructor of a class is virtual and
any objects of that class or any derived class are created in the program,
the destructor shall be defined<a class='hidden_link' href='#class.dtor-12.sentence-2'>.</a></div> <div id='class.dtor-12.sentence-3' class='sentence'>If a class has a base class with a virtual destructor, its  destructor
(whether user- or implicitly-declared) is virtual<a class='hidden_link' href='#class.dtor-12.sentence-3'>.</a></div></div><div class='para' id='class.dtor-13'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2272'>#</a></div><div id='class.dtor-13.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.dtor-13.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.dtor-13.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':member_function,destructor_and'></a></span>Some language constructs have special semantics when used during destruction;
see <a href='class.cdtor'>[class.cdtor]</a><a class='hidden_link' href='#class.dtor-13.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.dtor-14'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2279'>#</a></div><div id='class.dtor-14.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':order_of_execution,destructor'></a></span><span class='indexparent'><a class='index' id=':order_of_execution,base_class_destructor'></a></span><span class='indexparent'><a class='index' id=':order_of_execution,member_destructor'></a></span>After executing the body of the destructor and destroying
any objects with automatic storage duration allocated within the body, a
destructor for class
<span class='texttt'>X</span>
calls the destructors for
<span class='texttt'>X</span>'s
direct non-variant non-static data members, the destructors for
<span class='texttt'>X</span>'s
non-virtual direct base classes and, if
<span class='texttt'>X</span>
is the most derived class (<a href='class.base.init'>[class.base.init]</a>),
its destructor calls the destructors for
<span class='texttt'>X</span>'s
virtual base classes<a class='hidden_link' href='#class.dtor-14.sentence-1'>.</a></div> <div id='class.dtor-14.sentence-2' class='sentence'>All destructors are called as if they were referenced with a qualified name,
that is, ignoring any possible virtual overriding destructors in more
derived classes<a class='hidden_link' href='#class.dtor-14.sentence-2'>.</a></div> <div id='class.dtor-14.sentence-3' class='sentence'>Bases and members are destroyed in the reverse order of the completion of
their constructor (see <a href='class.base.init'>[class.base.init]</a>)<a class='hidden_link' href='#class.dtor-14.sentence-3'>.</a></div> <div id='class.dtor-14.sentence-4' class='sentence'>A
<span class='texttt'><span class='keyword'>return</span></span>
statement (<a href='stmt.return'>[stmt.return]</a>) in a destructor might not directly return to the
caller; before transferring control to the caller, the destructors for the
members and bases are called<a class='hidden_link' href='#class.dtor-14.sentence-4'>.</a></div> <div id='class.dtor-14.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':order_of_execution,destructor_and_array'></a></span>Destructors for elements of an array are called in reverse order of their
construction (see <a href='class.init'>[class.init]</a>)<a class='hidden_link' href='#class.dtor-14.sentence-5'>.</a></div></div><div class='para' id='class.dtor-15'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2311'>#</a></div><div id='class.dtor-15.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':destructor,implicit_call'></a></span><span class='indexparent'><a class='index' id=':destructor,program_termination_and'></a></span>A destructor is invoked implicitly
<ul class='itemize'><li id='class.dtor-15.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-15.1'>(15.1)</a></div>for a constructed object with static storage duration (<a href='basic.stc.static'>[basic.stc.static]</a>) at program termination (<a href='basic.start.term'>[basic.start.term]</a>),</li><li id='class.dtor-15.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-15.2'>(15.2)</a></div>for a constructed object with thread storage duration (<a href='basic.stc.thread'>[basic.stc.thread]</a>) at thread exit,</li><li id='class.dtor-15.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-15.3'>(15.3)</a></div>for a constructed object with automatic storage duration (<a href='basic.stc.auto'>[basic.stc.auto]</a>) when the block in which an object is created exits (<a href='stmt.dcl'>[stmt.dcl]</a>),</li><li id='class.dtor-15.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#class.dtor-15.4'>(15.4)</a></div>for a constructed temporary object when its lifetime ends (<a href='conv.rval'>[conv.rval]</a>, <a href='class.temporary'>[class.temporary]</a>)<a class='hidden_link' href='#class.dtor-15.sentence-1'>.</a></li></ul></div><div id='class.dtor-15.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':delete,destructor_and'></a></span><span class='indexparent'><a class='index' id=':destructor,explicit_call'></a></span>In each case, the context of the invocation is the context of the construction of
the object<a class='hidden_link' href='#class.dtor-15.sentence-2'>.</a></div> <div id='class.dtor-15.sentence-3' class='sentence'>A destructor may also be invoked implicitly through use of a
<a class='grammarterm' href='expr.delete#nt:delete-expression'>delete-expression</a> for a constructed object allocated
by a <a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a>; the context of the invocation is the
<a class='grammarterm' href='expr.delete#nt:delete-expression'>delete-expression</a><a class='hidden_link' href='#class.dtor-15.sentence-3'>.</a></div> <div id='class.dtor-15.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.dtor-15.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.dtor-15.sentence-4' class='sentence'>An array of class type contains several subobjects for each of which
the destructor is invoked<a class='hidden_link' href='#class.dtor-15.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.dtor-15.sentence-5' class='sentence'>
A destructor can also be invoked explicitly<a class='hidden_link' href='#class.dtor-15.sentence-5'>.</a></div> <div id='class.dtor-15.sentence-6' class='sentence'>A destructor is <a class='hidden_link' href='#def:potentially_invoked' id='def:potentially_invoked'><i>potentially invoked</i></a>
if it is invoked or as specified in <a href='expr.new'>[expr.new]</a>,
<a href='stmt.return'>[stmt.return]</a>, <a href='dcl.init.aggr'>[dcl.init.aggr]</a>,
<a href='class.base.init'>[class.base.init]</a>, and <a href='except.throw'>[except.throw]</a><a class='hidden_link' href='#class.dtor-15.sentence-6'>.</a></div> <div id='class.dtor-15.sentence-7' class='sentence'>A program is ill-formed if a destructor that is potentially invoked is deleted
or not accessible from the context of the invocation<a class='hidden_link' href='#class.dtor-15.sentence-7'>.</a></div></div><div class='para' id='class.dtor-16'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2343'>#</a></div><div id='class.dtor-16.sentence-1' class='sentence'>At the point of definition of a virtual destructor (including an implicit
definition (<a href='#class.dtor'>[class.dtor]</a>)), the non-array deallocation function is
determined as if for the expression <span class='texttt'><span class='keyword'>delete</span> <span class='keyword'>this</span></span> appearing in a
non-virtual destructor of the destructor's class (see <a href='expr.delete'>[expr.delete]</a>)<a class='hidden_link' href='#class.dtor-16.sentence-1'>.</a></div> <div id='class.dtor-16.sentence-2' class='sentence'>If the lookup fails or if the deallocation function has
a deleted definition (<a href='dcl.fct.def'>[dcl.fct.def]</a>), the program is ill-formed<a class='hidden_link' href='#class.dtor-16.sentence-2'>.</a></div> <div id='class.dtor-16.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.dtor-16.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.dtor-16.sentence-3' class='sentence'>This assures that a deallocation function corresponding to the dynamic type of an
object is available for the
<a class='grammarterm' href='expr.delete#nt:delete-expression'>delete-expression</a> (<a href='class.free'>[class.free]</a>)<a class='hidden_link' href='#class.dtor-16.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.dtor-17'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2356'>#</a></div><div id='class.dtor-17.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':destructor,explicit_call_'></a></span>In an explicit destructor call, the destructor is specified by a
<span class='texttt'><span class='operator'>~</span></span>
followed by a
<a class='grammarterm' href='dcl.type.simple#nt:type-name'>type-name</a> or <a class='grammarterm' href='dcl.type.decltype#nt:decltype-specifier'>decltype-specifier</a>
that denotes the destructor's class type<a class='hidden_link' href='#class.dtor-17.sentence-1'>.</a></div> <div id='class.dtor-17.sentence-2' class='sentence'>The invocation of a destructor is subject to the usual rules for member
functions (<a href='#class.mfct'>[class.mfct]</a>);
that is, if the object is not of the destructor's class type and
not of a class derived from the destructor's class type (including when
the destructor is invoked via a null pointer value), the program has
undefined behavior<a class='hidden_link' href='#class.dtor-17.sentence-2'>.</a></div> <div id='class.dtor-17.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.dtor-17.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.dtor-17.sentence-3' class='sentence'>Invoking <span class='texttt'><span class='keyword'>delete</span></span> on a null pointer does not call the
destructor; see <a href='expr.delete'>[expr.delete]</a><a class='hidden_link' href='#class.dtor-17.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.dtor-17.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.dtor-17.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='operator'>~</span>D<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

D D_object;
<span class='keyword'>typedef</span> B B_alias;
B<span class='operator'>*</span> B_ptr <span class='operator'>=</span> <span class='operator'>&amp;</span>D_object;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  D_object<span class='operator'>.</span>B<span class='operator'>::</span><span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// calls <span class='tcode_in_codeblock'>B</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                  <span class='comment'>// calls <span class='tcode_in_codeblock'>D</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>~</span>B_alias<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// calls <span class='tcode_in_codeblock'>D</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B_alias<span class='operator'>::</span><span class='operator'>~</span>B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// calls <span class='tcode_in_codeblock'>B</span>'s destructor</span>
  B_ptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B_alias<span class='operator'>::</span><span class='operator'>~</span>B_alias<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;   <span class='comment'>// calls <span class='tcode_in_codeblock'>B</span>'s destructor</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='class.dtor-17.note-2' class='note'>[&nbsp;<a class='note_link' href='#class.dtor-17.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.dtor-17.sentence-4' class='sentence'>An explicit destructor call must always be written using
a member access operator (<a href='expr.ref'>[expr.ref]</a>) or a <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>;
in particular, the
<a class='grammarterm' href='expr.unary#nt:unary-expression'>unary-expression</a>
<span class='texttt'><span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
in a member function is not an explicit destructor call (<a href='expr.unary.op'>[expr.unary.op]</a>)<a class='hidden_link' href='#class.dtor-17.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.dtor-18'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2404'>#</a></div><div id='class.dtor-18.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.dtor-18.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.dtor-18.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':object,destructor_and_placement_of'></a></span>Explicit calls of destructors are rarely needed<a class='hidden_link' href='#class.dtor-18.sentence-1'>.</a></div> <div id='class.dtor-18.sentence-2' class='sentence'>One use of such calls is for objects placed at specific
addresses using a placement
<a class='grammarterm' href='expr.new#nt:new-expression'>new-expression</a><a class='hidden_link' href='#class.dtor-18.sentence-2'>.</a></div> <div id='class.dtor-18.sentence-3' class='sentence'>Such use of explicit placement and destruction of objects can be necessary
to cope with dedicated hardware resources and for writing memory management
facilities<a class='hidden_link' href='#class.dtor-18.sentence-3'>.</a></div> <div id='class.dtor-18.sentence-4' class='sentence'>For example,
<pre class='codeblock'>
<span class='keyword'>void</span><span class='operator'>*</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>size_t, <span class='keyword'>void</span><span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> p; <span class='curlybracket'>}</span>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>X<span class='operator'>*</span> p<span class='parenthesis'>)</span>;

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>                      <span class='comment'>// rare, specialized use:</span>
  <span class='keyword'>char</span><span class='operator'>*</span> buf <span class='operator'>=</span> <span class='keyword'>new</span> <span class='keyword'>char</span><span class='squarebracket'>[</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>X<span class='parenthesis'>)</span><span class='squarebracket'>]</span>;
  X<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>buf<span class='parenthesis'>)</span> X<span class='parenthesis'>(</span><span class='literal'>222</span><span class='parenthesis'>)</span>;       <span class='comment'>// use <span class='tcode_in_codeblock'>buf[]</span> and initialize</span>
  f<span class='parenthesis'>(</span>p<span class='parenthesis'>)</span>;
  p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>X<span class='operator'>::</span><span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                   <span class='comment'>// cleanup</span>
<span class='curlybracket'>}</span>
</pre></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.dtor-19'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2432'>#</a></div><div id='class.dtor-19.sentence-1' class='sentence'>Once a destructor is invoked for an object, the object no longer exists;
the behavior is undefined if the destructor is invoked
for an object whose lifetime has ended (<a href='basic.life'>[basic.life]</a>)<a class='hidden_link' href='#class.dtor-19.sentence-1'>.</a></div> <div id='class.dtor-19.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.dtor-19.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='class.dtor-19.sentence-2' class='sentence'>If the destructor for an object with automatic storage duration is explicitly invoked,
and the block is subsequently left in a manner that would ordinarily
invoke implicit destruction of the object, the behavior is undefined<a class='hidden_link' href='#class.dtor-19.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.dtor-20'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2442'>#</a></div><div id='class.dtor-20.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.dtor-20.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.dtor-20.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':fundamental_type,destructor_and'></a></span>The notation for explicit call of a destructor can be used for any scalar type
name (<a href='expr.prim.id.dtor'>[expr.prim.id.dtor]</a>)<a class='hidden_link' href='#class.dtor-20.sentence-1'>.</a></div> <div id='class.dtor-20.sentence-2' class='sentence'>Allowing this makes it possible to write code without having to know if a
destructor exists for a given type<a class='hidden_link' href='#class.dtor-20.sentence-2'>.</a></div> <div id='class.dtor-20.sentence-3' class='sentence'>For example:
<pre class='codeblock'>
<span class='keyword'>typedef</span> <span class='keyword'>int</span> I;
I<span class='operator'>*</span> p;
p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>I<span class='operator'>::</span><span class='operator'>~</span>I<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</pre></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.dtor-21'><div class='marginalizedparent'><a class='marginalized' href='#class.dtor-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2457'>#</a></div><div id='class.dtor-21.sentence-1' class='sentence'>A destructor shall not be a coroutine<a class='hidden_link' href='#class.dtor-21.sentence-1'>.</a></div></div></div><div id='class.conv' class='section'><h3 ><a class='secnum' href='#class.conv' style='min-width:103pt'>11.4.7</a> Conversions <a class='abbr_ref' href='class.conv'>[class.conv]</a></h3><div class='para' id='class.conv-1'><div class='marginalizedparent'><a class='marginalized' href='#class.conv-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2462'>#</a></div><div id='class.conv-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':conversion,class'></a></span><span class='indexparent'><a class='index' id=':conversion,implicit'></a></span>Type conversions of class objects can be specified by constructors and
by conversion functions<a class='hidden_link' href='#class.conv-1.sentence-1'>.</a></div> <div id='class.conv-1.sentence-2' class='sentence'>These conversions are called
<a class='hidden_link' href='#def:conversion,user-defined' id='def:conversion,user-defined'><i >user-defined conversions</i></a>
and are used for implicit type conversions (<a href='conv'>[conv]</a>),
for initialization (<a href='dcl.init'>[dcl.init]</a>),
and for explicit type conversions (<a href='expr.type.conv'>[expr.type.conv]</a>, <a href='expr.cast'>[expr.cast]</a>,
<a href='expr.static.cast'>[expr.static.cast]</a>)<a class='hidden_link' href='#class.conv-1.sentence-2'>.</a></div></div><div class='para' id='class.conv-2'><div class='marginalizedparent'><a class='marginalized' href='#class.conv-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2476'>#</a></div><div id='class.conv-2.sentence-1' class='sentence'>User-defined conversions are applied only where they are unambiguous (<a href='class.member.lookup'>[class.member.lookup]</a>, <a href='#class.conv.fct'>[class.conv.fct]</a>)<a class='hidden_link' href='#class.conv-2.sentence-1'>.</a></div> <div id='class.conv-2.sentence-2' class='sentence'>Conversions obey the access control rules (<a href='class.access'>[class.access]</a>)<a class='hidden_link' href='#class.conv-2.sentence-2'>.</a></div> <div id='class.conv-2.sentence-3' class='sentence'>Access control is applied after ambiguity resolution (<a href='basic.lookup'>[basic.lookup]</a>)<a class='hidden_link' href='#class.conv-2.sentence-3'>.</a></div></div><div class='para' id='class.conv-3'><div class='marginalizedparent'><a class='marginalized' href='#class.conv-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2481'>#</a></div><div id='class.conv-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.conv-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.conv-3.sentence-1' class='sentence'>See <a href='over.match'>[over.match]</a> for a discussion of the use of conversions in function calls
as well as examples below<a class='hidden_link' href='#class.conv-3.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.conv-4'><div class='marginalizedparent'><a class='marginalized' href='#class.conv-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2487'>#</a></div><div id='class.conv-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':conversion,implicit_user-defined'></a></span>At most one user-defined conversion (constructor or conversion function)
is implicitly applied to a single value<a class='hidden_link' href='#class.conv-4.sentence-1'>.</a></div> <div id='class.conv-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.conv-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

Y a;
<span class='keyword'>int</span> b <span class='operator'>=</span> a;          <span class='comment'>// error: no viable conversion (<span class='tcode_in_codeblock'>a.operator X().operator int()</span> not considered)</span>
<span class='keyword'>int</span> c <span class='operator'>=</span> X<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;       <span class='comment'>// OK: <span class='tcode_in_codeblock'>a.operator X().operator int()</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.conv-5'><div class='marginalizedparent'><a class='marginalized' href='#class.conv-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2507'>#</a></div><div id='class.conv-5.sentence-1' class='sentence'>User-defined conversions are used implicitly only if they are unambiguous<a class='hidden_link' href='#class.conv-5.sentence-1'>.</a></div> <div id='class.conv-5.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':name_hiding,user-defined_conversion_and'></a></span>A conversion function in a derived class does not hide a conversion function
in a base class unless the two functions convert to the same type<a class='hidden_link' href='#class.conv-5.sentence-2'>.</a></div> <div id='class.conv-5.sentence-3' class='sentence'>Function overload resolution (<a href='over.match.best'>[over.match.best]</a>) selects the best
conversion function to perform the conversion<a class='hidden_link' href='#class.conv-5.sentence-3'>.</a></div> <div id='class.conv-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.conv-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Y <span class='operator'>:</span> X <span class='curlybracket'>{</span>
    <span class='keyword'>operator</span> <span class='keyword'>char</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span> a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>          <span class='comment'>// error: ambiguous between <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;operator int()</span> and <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;operator char()</span></span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div id='class.conv.ctor' class='section'><h4 ><a class='secnum' href='#class.conv.ctor' style='min-width:118pt'>11.4.7.1</a> Conversion by constructor <a class='abbr_ref' href='class.conv.ctor'>[class.conv.ctor]</a></h4><span class='indexparent'><a class='index' id=':conversion,user-defined'></a></span><div class='para' id='class.conv.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2534'>#</a></div><div id='class.conv.ctor-1.sentence-1' class='sentence'>A constructor that is not explicit (<a href='dcl.fct.spec'>[dcl.fct.spec]</a>)
specifies a conversion from
the types of its parameters (if any)
to the type of its class<a class='hidden_link' href='#class.conv.ctor-1.sentence-1'>.</a></div> <div id='class.conv.ctor-1.sentence-2' class='sentence'>Such a constructor is called a
<a class='hidden_link' href='#def:constructor,converting' id='def:constructor,converting'><i >converting constructor</i></a><a class='hidden_link' href='#class.conv.ctor-1.sentence-2'>.</a></div> <div id='class.conv.ctor-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.conv.ctor-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <span class='indexparent'><a class='index' id=':Jessie'></a></span><pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
    X<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
    X<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, <span class='keyword'>int</span> <span class='operator'>=</span><span class='literal'>0</span><span class='parenthesis'>)</span>;
    X<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>X arg<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  X a <span class='operator'>=</span> <span class='literal'>1</span>;          <span class='comment'>// <span class='tcode_in_codeblock'>a = X(1)</span></span>
  X b <span class='operator'>=</span> <span class='literal'>"Jessie"</span>;   <span class='comment'>// <span class='tcode_in_codeblock'>b = X("Jessie",0)</span></span>
  a <span class='operator'>=</span> <span class='literal'>2</span>;            <span class='comment'>// <span class='tcode_in_codeblock'>a = X(2)</span></span>
  f<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>f(X(3))</span></span>
  f<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;        <span class='comment'>// <span class='tcode_in_codeblock'>f(X(1,2))</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.conv.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.ctor-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2560'>#</a></div><div id='class.conv.ctor-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.conv.ctor-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.conv.ctor-2.sentence-1' class='sentence'>An explicit constructor constructs objects just like non-explicit
constructors, but does so only where the direct-initialization syntax (<a href='dcl.init'>[dcl.init]</a>)
or where casts (<a href='expr.static.cast'>[expr.static.cast]</a>, <a href='expr.cast'>[expr.cast]</a>) are explicitly
used; see also <a href='over.match.copy'>[over.match.copy]</a><a class='hidden_link' href='#class.conv.ctor-2.sentence-1'>.</a></div> <div id='class.conv.ctor-2.sentence-2' class='sentence'>A default constructor may be an explicit constructor; such a constructor
will be used to perform default-initialization
or value-initialization (<a href='dcl.init'>[dcl.init]</a>)<a class='hidden_link' href='#class.conv.ctor-2.sentence-2'>.</a></div> <div id='class.conv.ctor-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.conv.ctor-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> Z <span class='curlybracket'>{</span>
  <span class='keyword'>explicit</span> Z<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>explicit</span> Z<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>explicit</span> Z<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

Z a;                            <span class='comment'>// OK: default-initialization performed</span>
Z b<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                          <span class='comment'>// OK: direct initialization syntax used</span>
Z c <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;                       <span class='comment'>// error: copy-list-initialization</span>
Z a1 <span class='operator'>=</span> <span class='literal'>1</span>;                       <span class='comment'>// error: no implicit conversion</span>
Z a3 <span class='operator'>=</span> Z<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                    <span class='comment'>// OK: direct initialization syntax used</span>
Z a2<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                        <span class='comment'>// OK: direct initialization syntax used</span>
Z<span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>new</span> Z<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                <span class='comment'>// OK: direct initialization syntax used</span>
Z a4 <span class='operator'>=</span> <span class='parenthesis'>(</span>Z<span class='parenthesis'>)</span><span class='literal'>1</span>;                    <span class='comment'>// OK: explicit cast used</span>
Z a5 <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>Z<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK: explicit cast used</span>
Z a6 <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>3</span>, <span class='literal'>4</span> <span class='curlybracket'>}</span>;                <span class='comment'>// error: no implicit conversion</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.conv.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.ctor-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2591'>#</a></div><div id='class.conv.ctor-3.sentence-1' class='sentence'>A non-explicit copy/move constructor (<a href='#class.copy.ctor'>[class.copy.ctor]</a>) is
a converting constructor<a class='hidden_link' href='#class.conv.ctor-3.sentence-1'>.</a></div> <div id='class.conv.ctor-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.conv.ctor-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.conv.ctor-3.sentence-2' class='sentence'>An implicitly-declared copy/move constructor is not an explicit constructor;
it may be called for implicit type conversions<a class='hidden_link' href='#class.conv.ctor-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='class.conv.fct' class='section'><h4 ><a class='secnum' href='#class.conv.fct' style='min-width:118pt'>11.4.7.2</a> Conversion functions <a class='abbr_ref' href='class.conv.fct'>[class.conv.fct]</a></h4><span class='indexparent'><a class='index' id=':function,conversion'></a></span><span class='indexparent'><a class='index' id=':conversion,user-defined_'></a></span><div class='para' id='class.conv.fct-1'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2604'>#</a></div><div id='class.conv.fct-1.sentence-1' class='sentence'>A member function of a class <span class='texttt'>X</span> having no parameters with a name of the form
<pre class='bnf'><a class='nontermdef' href='#nt:conversion-function-id' id='nt:conversion-function-id'>conversion-function-id</a><span class='ntdefcolon'>:</span>
&#9;<span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator'></a></span> <a class='grammarterm' href='#nt:conversion-type-id'>conversion-type-id</a>
</pre></div><pre class='bnf'><a class='nontermdef' href='#nt:conversion-type-id' id='nt:conversion-type-id'>conversion-type-id</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='dcl.type#nt:type-specifier-seq'>type-specifier-seq</a> <a class='grammarterm' href='#nt:conversion-declarator'>conversion-declarator</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><div id='class.conv.fct-1.sentence-2' class='sentence'><pre class='bnf'><a class='nontermdef' href='#nt:conversion-declarator' id='nt:conversion-declarator'>conversion-declarator</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='dcl.decl#nt:ptr-operator'>ptr-operator</a> <a class='grammarterm' href='#nt:conversion-declarator'>conversion-declarator</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre>
specifies a conversion from
<span class='texttt'>X</span>
to the type specified by the
<a class='grammarterm' href='#nt:conversion-type-id'>conversion-type-id</a><a class='hidden_link' href='#class.conv.fct-1.sentence-2'>.</a></div> <div id='class.conv.fct-1.sentence-3' class='sentence'>Such functions are called <a class='hidden_link' href='#def:conversion_function' id='def:conversion_function'><i >conversion functions</i></a><a class='hidden_link' href='#class.conv.fct-1.sentence-3'>.</a></div> <div id='class.conv.fct-1.sentence-4' class='sentence'>A <a class='grammarterm' href='dcl.spec#nt:decl-specifier'>decl-specifier</a> in the <a class='grammarterm' href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a>
of a conversion function (if any) shall be neither
a <a class='grammarterm' href='dcl.type#nt:defining-type-specifier'>defining-type-specifier</a> nor <span class='texttt'><span class='keyword'>static</span></span><a class='hidden_link' href='#class.conv.fct-1.sentence-4'>.</a></div> <div id='class.conv.fct-1.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':conversion,type_of'></a></span>The type of the conversion function (<a href='dcl.fct'>[dcl.fct]</a>) is
“function taking no parameter returning
<a class='grammarterm' href='#nt:conversion-type-id'>conversion-type-id</a>”<a class='hidden_link' href='#class.conv.fct-1.sentence-5'>.</a></div> <div id='class.conv.fct-1.sentence-6' class='sentence'>A conversion function is never used to convert a (possibly cv-qualified) object
to the (possibly cv-qualified) same object type (or a reference to it),
to a (possibly cv-qualified) base class of that type (or a reference to it),
or to <span class='mathit'>cv</span> <span class='texttt'><span class='keyword'>void</span></span><a class='hidden_link' href='#class.conv.fct-1.sentence-6'>.</a><a class='footnotenum' href='#footnote-106' id='footnoteref-106'>106</a></div> <div id='class.conv.fct-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.conv.fct-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> <span class='keyword'>auto</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span class='keyword'>short</span>;     <span class='comment'>// error: trailing return type</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>X a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='keyword'>int</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;
  i <span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>a;
  i <span class='operator'>=</span> a;
<span class='curlybracket'>}</span>
</pre> <div id='class.conv.fct-1.sentence-7' class='sentence'>
In all three cases the value assigned will be converted by
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#class.conv.fct-1.sentence-7'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.conv.fct-2'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2657'>#</a></div><div id='class.conv.fct-2.sentence-1' class='sentence'>A conversion function may be explicit (<a href='dcl.fct.spec'>[dcl.fct.spec]</a>), in which case it is only considered as a user-defined conversion for direct-initialization (<a href='dcl.init'>[dcl.init]</a>)<a class='hidden_link' href='#class.conv.fct-2.sentence-1'>.</a></div> <div id='class.conv.fct-2.sentence-2' class='sentence'>Otherwise, user-defined conversions are not restricted to use in assignments and initializations<a class='hidden_link' href='#class.conv.fct-2.sentence-2'>.</a></div> <div id='class.conv.fct-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.conv.fct-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> Y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Z <span class='curlybracket'>{</span>
  <span class='keyword'>explicit</span> <span class='keyword'>operator</span> Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> h<span class='parenthesis'>(</span>Z z<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  Y y1<span class='parenthesis'>(</span>z<span class='parenthesis'>)</span>;          <span class='comment'>// OK: direct-initialization</span>
  Y y2 <span class='operator'>=</span> z;         <span class='comment'>// error: no conversion function candidate for copy-initialization</span>
  Y y3 <span class='operator'>=</span> <span class='parenthesis'>(</span>Y<span class='parenthesis'>)</span>z;      <span class='comment'>// OK: cast notation</span>
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span>X a, X b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='literal'>1</span><span class='operator'>+</span>a <span class='operator'>:</span> <span class='literal'>0</span>;
  <span class='keyword'>int</span> j <span class='operator'>=</span> <span class='parenthesis'>(</span>a<span class='operator'>&amp;</span><span class='operator'>&amp;</span>b<span class='parenthesis'>)</span> <span class='operator'>?</span> a<span class='operator'>+</span>b <span class='operator'>:</span> i;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.conv.fct-3'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2681'>#</a></div><div id='class.conv.fct-3.sentence-1' class='sentence'>The
<a class='grammarterm' href='#nt:conversion-type-id'>conversion-type-id</a>
shall not represent a function type nor an array type<a class='hidden_link' href='#class.conv.fct-3.sentence-1'>.</a></div> <div id='class.conv.fct-3.sentence-2' class='sentence'>The
<a class='grammarterm' href='#nt:conversion-type-id'>conversion-type-id</a>
in a
<a class='grammarterm' href='#nt:conversion-function-id'>conversion-function-id</a>
is the longest sequence of
tokens that could possibly form a <a class='grammarterm' href='#nt:conversion-type-id'>conversion-type-id</a><a class='hidden_link' href='#class.conv.fct-3.sentence-2'>.</a></div> <div id='class.conv.fct-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.conv.fct-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.conv.fct-3.sentence-3' class='sentence'>This prevents ambiguities between the declarator operator <span class='texttt'><span class='operator'>*</span></span> and its expression
counterparts<a class='hidden_link' href='#class.conv.fct-3.sentence-3'>.</a></div> <div id='class.conv.fct-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.conv.fct-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='operator'>&amp;</span>ac<span class='operator'>.</span><span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>*</span>i; <span class='comment'>// syntax error:</span>
                    <span class='comment'>// parsed as: <span class='tcode_in_codeblock'>&amp;(ac.operator int *)i</span></span>
                    <span class='comment'>// not as: <span class='tcode_in_codeblock'>&amp;(ac.operator int)*i</span></span>
</pre> <div id='class.conv.fct-3.sentence-4' class='sentence'>
The <span class='texttt'><span class='operator'>*</span></span> is the pointer declarator and not the multiplication operator<a class='hidden_link' href='#class.conv.fct-3.sentence-4'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='class.conv.fct-3.sentence-5' class='sentence'>
This rule also prevents ambiguities for attributes<a class='hidden_link' href='#class.conv.fct-3.sentence-5'>.</a></div> <div id='class.conv.fct-3.example-2' class='example'>[&nbsp;<a class='example_link' href='#class.conv.fct-3.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>operator</span> <span class='keyword'>int</span> <span class='squarebracket'>[</span><span class='squarebracket'>[</span>noreturn<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='parenthesis'>(</span><span class='parenthesis'>)</span>;   <span class='comment'>// error: <span class='tcode_in_codeblock'>noreturn</span> attribute applied to a type</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.conv.fct-4'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2710'>#</a></div><div id='class.conv.fct-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':conversion,inheritance_of_user-defined'></a></span>Conversion functions are inherited<a class='hidden_link' href='#class.conv.fct-4.sentence-1'>.</a></div></div><div class='para' id='class.conv.fct-5'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2714'>#</a></div><div id='class.conv.fct-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':conversion,virtual_user-defined'></a></span>Conversion functions can be virtual<a class='hidden_link' href='#class.conv.fct-5.sentence-1'>.</a></div></div><div class='para' id='class.conv.fct-6'><div class='marginalizedparent'><a class='marginalized' href='#class.conv.fct-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2718'>#</a></div><div id='class.conv.fct-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':conversion,deduced_return_type_of_user-defined'></a></span>A conversion function template shall not have a
deduced return type (<a href='dcl.spec.auto'>[dcl.spec.auto]</a>)<a class='hidden_link' href='#class.conv.fct-6.sentence-1'>.</a></div> <div id='class.conv.fct-6.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.conv.fct-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>auto</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>10</span>; <span class='curlybracket'>}</span>      <span class='comment'>// OK</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>operator</span> <span class='keyword'>auto</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>1.2</span>; <span class='curlybracket'>}</span>     <span class='comment'>// error: conversion function template</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-106'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-106'>106)</a></div><div id='footnote-106.sentence-1' class='sentence'>These conversions are considered
as standard conversions for the purposes of overload resolution (<a href='over.best.ics'>[over.best.ics]</a>, <a href='over.ics.ref'>[over.ics.ref]</a>) and therefore initialization (<a href='dcl.init'>[dcl.init]</a>) and explicit casts (<a href='expr.static.cast'>[expr.static.cast]</a>)<a class='hidden_link' href='#footnote-106.sentence-1'>.</a></div> <div id='footnote-106.sentence-2' class='sentence'>A conversion to <span class='texttt'><span class='keyword'>void</span></span> does not invoke any conversion function (<a href='expr.static.cast'>[expr.static.cast]</a>)<a class='hidden_link' href='#footnote-106.sentence-2'>.</a></div> <div id='footnote-106.sentence-3' class='sentence'>Even though never directly called to perform a conversion,
such conversion functions can be declared and can potentially
be reached through a call to a virtual conversion function in a base class<a class='hidden_link' href='#footnote-106.sentence-3'>.</a></div> <a href='#footnoteref-106'>⮥</a></div></div></div><div id='class.static' class='section'><h3 ><a class='secnum' href='#class.static' style='min-width:103pt'>11.4.8</a> Static members <a class='abbr_ref' href='class.static'>[class.static]</a></h3><span class='indexparent'><a class='index' id=':member,static_'></a></span><div class='para' id='class.static-1'><div class='marginalizedparent'><a class='marginalized' href='#class.static-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2735'>#</a></div><div id='class.static-1.sentence-1' class='sentence'>A static member <span class='texttt'>s</span> of class <span class='texttt'>X</span> may be referred to
using the <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> expression <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>s</span>; it is not
necessary to use the class member access syntax (<a href='expr.ref'>[expr.ref]</a>) to
refer to a static member<a class='hidden_link' href='#class.static-1.sentence-1'>.</a></div> <div id='class.static-1.sentence-2' class='sentence'>A static member may be
referred to using the class member access syntax, in which case the
object expression is evaluated<a class='hidden_link' href='#class.static-1.sentence-2'>.</a></div> <div id='class.static-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.static-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> process <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>void</span> reschedule<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
process<span class='operator'>&amp;</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  process<span class='operator'>::</span>reschedule<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;        <span class='comment'>// OK: no object necessary</span>
  g<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>reschedule<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// <span class='tcode_in_codeblock'>g()</span> is called</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.static-2'><div class='marginalizedparent'><a class='marginalized' href='#class.static-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2756'>#</a></div><div id='class.static-2.sentence-1' class='sentence'>A static member may be referred to directly in the scope of its
class or in the scope of a class derived (<a href='class.derived'>[class.derived]</a>)
from its class; in this case, the static member is referred to
as if a <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> expression was used, with the
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> of the <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> naming
the class scope from which the static member is referenced<a class='hidden_link' href='#class.static-2.sentence-1'>.</a></div> <div id='class.static-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.static-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Y <span class='operator'>:</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>int</span> i;
<span class='curlybracket'>}</span>;
<span class='keyword'>int</span> Y<span class='operator'>::</span>i <span class='operator'>=</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                 <span class='comment'>// equivalent to <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;g();</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.static-3'><div class='marginalizedparent'><a class='marginalized' href='#class.static-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2776'>#</a></div><div id='class.static-3.sentence-1' class='sentence'>Static members obey the usual class member access rules (<a href='class.access'>[class.access]</a>)<a class='hidden_link' href='#class.static-3.sentence-1'>.</a></div> <div id='class.static-3.sentence-2' class='sentence'>When used in the declaration of a class
member, the <span class='texttt'><span class='keyword'>static</span></span> specifier shall only be used in the member
declarations that appear within the <a class='grammarterm' href='#nt:member-specification'>member-specification</a> of
the class definition<a class='hidden_link' href='#class.static-3.sentence-2'>.</a></div> <div id='class.static-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.static-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.static-3.sentence-3' class='sentence'>It cannot be specified in member declarations that appear in namespace scope<a class='hidden_link' href='#class.static-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div id='class.static.mfct' class='section'><h4 ><a class='secnum' href='#class.static.mfct' style='min-width:118pt'>11.4.8.1</a> Static member functions <a class='abbr_ref' href='class.static.mfct'>[class.static.mfct]</a></h4><span class='indexparent'><a class='index' id=':member_function,static_'></a></span><div class='para' id='class.static.mfct-1'><div class='marginalizedparent'><a class='marginalized' href='#class.static.mfct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2789'>#</a></div><div id='class.static.mfct-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.static.mfct-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.static.mfct-1.sentence-1' class='sentence'>The rules described in <a href='#class.mfct'>[class.mfct]</a> apply to static member
functions<a class='hidden_link' href='#class.static.mfct-1.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.static.mfct-2'><div class='marginalizedparent'><a class='marginalized' href='#class.static.mfct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2795'>#</a></div><div id='class.static.mfct-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.static.mfct-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.static.mfct-2.sentence-1' class='sentence'>A static member function does not have a <span class='texttt'><span class='keyword'>this</span></span>
pointer (<a href='#class.this'>[class.this]</a>)<a class='hidden_link' href='#class.static.mfct-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.static.mfct-2.sentence-2' class='sentence'>
A static member function shall not be <span class='texttt'><span class='keyword'>virtual</span></span><a class='hidden_link' href='#class.static.mfct-2.sentence-2'>.</a></div> <div id='class.static.mfct-2.sentence-3' class='sentence'>There
shall not be a static and a non-static member function with the
same name and the same parameter types (<a href='over.load'>[over.load]</a>)<a class='hidden_link' href='#class.static.mfct-2.sentence-3'>.</a></div> <div id='class.static.mfct-2.sentence-4' class='sentence'>A
static member function shall not be declared <span class='texttt'><span class='keyword'>const</span></span>,
<span class='texttt'><span class='keyword'>volatile</span></span>, or <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>volatile</span></span><a class='hidden_link' href='#class.static.mfct-2.sentence-4'>.</a></div></div></div><div id='class.static.data' class='section'><h4 ><a class='secnum' href='#class.static.data' style='min-width:118pt'>11.4.8.2</a> Static data members <a class='abbr_ref' href='class.static.data'>[class.static.data]</a></h4><span class='indexparent'><a class='index' id=':member_data,static'></a></span><div class='para' id='class.static.data-1'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2809'>#</a></div><div id='class.static.data-1.sentence-1' class='sentence'>A static data member is not part of the subobjects of a class<a class='hidden_link' href='#class.static.data-1.sentence-1'>.</a></div> <div id='class.static.data-1.sentence-2' class='sentence'>If a
static data member is declared <span class='texttt'><span class='keyword'>thread_&shy;local</span></span> there is one copy of
the member per thread<a class='hidden_link' href='#class.static.data-1.sentence-2'>.</a></div> <div id='class.static.data-1.sentence-3' class='sentence'>If a static data member is not declared
<span class='texttt'><span class='keyword'>thread_&shy;local</span></span> there is one copy of the data member that is shared by all
the objects of the class<a class='hidden_link' href='#class.static.data-1.sentence-3'>.</a></div></div><div class='para' id='class.static.data-2'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2816'>#</a></div><div id='class.static.data-2.sentence-1' class='sentence'>A static data member shall not be <span class='texttt'><span class='keyword'>mutable</span></span> (<a href='dcl.stc'>[dcl.stc]</a>)<a class='hidden_link' href='#class.static.data-2.sentence-1'>.</a></div> <div id='class.static.data-2.sentence-2' class='sentence'>A static data member shall not be a direct member (<a href='#class.mem'>[class.mem]</a>)
of an unnamed (<a href='class.pre'>[class.pre]</a>) or local (<a href='class.local'>[class.local]</a>) class or
of a (possibly indirectly) nested class (<a href='#class.nest'>[class.nest]</a>) thereof<a class='hidden_link' href='#class.static.data-2.sentence-2'>.</a></div></div><div class='para' id='class.static.data-3'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2822'>#</a></div><div id='class.static.data-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':initialization,static_member'></a></span><span class='indexparent'><a class='index' id=':definition,static_member'></a></span>The declaration of a non-inline
static data member in its class definition
is not a definition and may be of an incomplete type other than
<span class='mathit'>cv</span> <span class='texttt'><span class='keyword'>void</span></span><a class='hidden_link' href='#class.static.data-3.sentence-1'>.</a></div> <div id='class.static.data-3.sentence-2' class='sentence'>The definition for a static data
member that is not defined inline in the class definition
shall appear in a namespace scope enclosing the member's class
definition<a class='hidden_link' href='#class.static.data-3.sentence-2'>.</a></div> <div id='class.static.data-3.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':operator_use,scope_resolution'></a></span>In the definition at namespace scope, the name of the static
data member shall be qualified by its class name using the <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>
operator<a class='hidden_link' href='#class.static.data-3.sentence-3'>.</a></div> <div id='class.static.data-3.sentence-4' class='sentence'>The <a class='grammarterm' href='dcl.init#nt:initializer'>initializer</a> expression in the definition of a
static data member is in the scope of its
class (<a href='basic.scope.class'>[basic.scope.class]</a>)<a class='hidden_link' href='#class.static.data-3.sentence-4'>.</a></div> <div id='class.static.data-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.static.data-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> process <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> process<span class='operator'>*</span> run_chain;
  <span class='keyword'>static</span> process<span class='operator'>*</span> running;
<span class='curlybracket'>}</span>;

process<span class='operator'>*</span> process<span class='operator'>::</span>running <span class='operator'>=</span> get_main<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
process<span class='operator'>*</span> process<span class='operator'>::</span>run_chain <span class='operator'>=</span> running;
</pre><div id='class.static.data-3.sentence-5' class='sentence'>The static data member <span class='texttt'>run_&shy;chain</span> of class
<span class='texttt'>process</span> is defined in global scope; the notation
<span class='texttt'>process<span class='operator'>&#x200b;::&#x200b;</span>run_&shy;chain</span> specifies that the member <span class='texttt'>run_&shy;chain</span>
is a member of class <span class='texttt'>process</span> and in the scope of class
<span class='texttt'>process</span><a class='hidden_link' href='#class.static.data-3.sentence-5'>.</a></div> <div id='class.static.data-3.sentence-6' class='sentence'>In the static data member definition, the
<a class='grammarterm' href='dcl.init#nt:initializer'>initializer</a> expression refers to the static data
member <span class='texttt'>running</span> of class <span class='texttt'>process</span><a class='hidden_link' href='#class.static.data-3.sentence-6'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> <div id='class.static.data-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.static.data-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.static.data-3.sentence-7' class='sentence'>Once the static data member has been defined, it exists even if
no objects of its class have been created<a class='hidden_link' href='#class.static.data-3.sentence-7'>.</a></div> <div id='class.static.data-3.example-2' class='example'>[&nbsp;<a class='example_link' href='#class.static.data-3.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='class.static.data-3.sentence-8' class='sentence'>In the example above, <span class='texttt'>run_&shy;chain</span> and <span class='texttt'>running</span> exist even
if no objects of class <span class='texttt'>process</span> are created by the program<a class='hidden_link' href='#class.static.data-3.sentence-8'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.static.data-4'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2867'>#</a></div><div id='class.static.data-4.sentence-1' class='sentence'>If a non-volatile non-inline <span class='texttt'><span class='keyword'>const</span></span> static data member is
of integral or enumeration type,
its declaration in the class definition can specify a
<a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a> in which every
<a class='grammarterm' href='dcl.init#nt:initializer-clause'>initializer-clause</a> that is an <a class='grammarterm' href='expr.ass#nt:assignment-expression'>assignment-expression</a>
is a constant expression (<a href='expr.const'>[expr.const]</a>)<a class='hidden_link' href='#class.static.data-4.sentence-1'>.</a></div> <div id='class.static.data-4.sentence-2' class='sentence'>The member shall still be defined in a namespace scope if
it is odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>) in the program and the
namespace scope definition shall not contain an <a class='grammarterm' href='dcl.init#nt:initializer'>initializer</a><a class='hidden_link' href='#class.static.data-4.sentence-2'>.</a></div> <div id='class.static.data-4.sentence-3' class='sentence'>An inline static data member may be defined in the class definition
and may specify a <a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a><a class='hidden_link' href='#class.static.data-4.sentence-3'>.</a></div> <div id='class.static.data-4.sentence-4' class='sentence'>If the
member is declared with the <span class='texttt'><span class='keyword'>constexpr</span></span> specifier, it may be
redeclared in namespace scope with no initializer (this usage is
deprecated; see <a href='depr.static.constexpr'>[depr.static.constexpr]</a>)<a class='hidden_link' href='#class.static.data-4.sentence-4'>.</a></div> <div id='class.static.data-4.sentence-5' class='sentence'>Declarations of other
static data members shall not specify a <a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a><a class='hidden_link' href='#class.static.data-4.sentence-5'>.</a></div></div><div class='para' id='class.static.data-5'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2884'>#</a></div><div id='class.static.data-5.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.static.data-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.static.data-5.sentence-1' class='sentence'>There is exactly one definition of a static data member
that is odr-used (<a href='basic.def.odr'>[basic.def.odr]</a>) in a valid program<a class='hidden_link' href='#class.static.data-5.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.static.data-6'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2890'>#</a></div><div id='class.static.data-6.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.static.data-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.static.data-6.sentence-1' class='sentence'>Static data members of a class in namespace scope have the linkage of the name of the class (<a href='basic.link'>[basic.link]</a>)<a class='hidden_link' href='#class.static.data-6.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.static.data-7'><div class='marginalizedparent'><a class='marginalized' href='#class.static.data-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2895'>#</a></div><div id='class.static.data-7.sentence-1' class='sentence'>Static data members are initialized and destroyed exactly like
non-local variables (<a href='basic.start.static'>[basic.start.static]</a>, <a href='basic.start.dynamic'>[basic.start.dynamic]</a>,
<a href='basic.start.term'>[basic.start.term]</a>)<a class='hidden_link' href='#class.static.data-7.sentence-1'>.</a></div></div></div></div><div id='class.bit' class='section'><h3 ><a class='secnum' href='#class.bit' style='min-width:103pt'>11.4.9</a> Bit-fields <a class='abbr_ref' href='class.bit'>[class.bit]</a></h3><span class='indexparent'><a class='index' id=':bit-field'></a></span><div class='para' id='class.bit-1'><div class='marginalizedparent'><a class='marginalized' href='#class.bit-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2903'>#</a></div><div id='class.bit-1.sentence-1' class='sentence'>A <a class='grammarterm' href='#nt:member-declarator'>member-declarator</a> of the form
<pre class='ncsimplebnf'><a class='grammarterm' href='lex.name#nt:identifier'>identifier</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='operator'>:</span></span> <a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> <a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre>
<span class='indexparent'><a class='index' id='::,bit-field_declaration'></a></span><span class='indexparent'><a class='index' id=':declaration,bit-field'></a></span>specifies a bit-field<a class='hidden_link' href='#class.bit-1.sentence-1'>.</a></div> <div id='class.bit-1.sentence-2' class='sentence'>The optional <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a> appertains
to the entity being declared<a class='hidden_link' href='#class.bit-1.sentence-2'>.</a></div> <div id='class.bit-1.sentence-3' class='sentence'>A bit-field shall not be a static member<a class='hidden_link' href='#class.bit-1.sentence-3'>.</a></div> <div id='class.bit-1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':bit-field,type_of'></a></span>A bit-field shall have integral or enumeration type;
the bit-field semantic property is not part of the type of the class member<a class='hidden_link' href='#class.bit-1.sentence-4'>.</a></div> <div id='class.bit-1.sentence-5' class='sentence'>The <a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> shall be an integral constant expression
with a value greater than or equal to zero and
is called the <a class='hidden_link' href='#def:width' id='def:width'><i >width</i></a> of the bit-field<a class='hidden_link' href='#class.bit-1.sentence-5'>.</a></div> <div id='class.bit-1.sentence-6' class='sentence'>If the width of a bit-field is larger than
the width of the bit-field's type
(or, in case of an enumeration type, of its underlying type),
the extra bits are padding bits (<a href='basic.types'>[basic.types]</a>)<a class='hidden_link' href='#class.bit-1.sentence-6'>.</a></div> <div id='class.bit-1.sentence-7' class='sentence'><span class='indexparent'><a class='index' id=':allocation,implementation-defined_bit-field'></a></span>Allocation of bit-fields within a class object is
<span class='indexparent'><a class='index' id=':allocation_of_bit-fields_within_a_class_object'></a></span>implementation-defined<a class='hidden_link' href='#class.bit-1.sentence-7'>.</a></div> <div id='class.bit-1.sentence-8' class='sentence'><span class='indexparent'><a class='index' id=':bit-field,implementation-defined_alignment_of'></a></span>Alignment of bit-fields is <span class='indexparent'><a class='index' id=':alignment_of_bit-fields_within_a_class_object'></a></span>implementation-defined<a class='hidden_link' href='#class.bit-1.sentence-8'>.</a></div> <div id='class.bit-1.sentence-9' class='sentence'><span class='indexparent'><a class='index' id=':layout,bit-field'></a></span>Bit-fields are packed into some addressable allocation unit<a class='hidden_link' href='#class.bit-1.sentence-9'>.</a></div> <div id='class.bit-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.bit-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.bit-1.sentence-10' class='sentence'>Bit-fields straddle allocation units on some machines and not on others<a class='hidden_link' href='#class.bit-1.sentence-10'>.</a></div> <div id='class.bit-1.sentence-11' class='sentence'>Bit-fields are assigned right-to-left on some machines, left-to-right on
others<a class='hidden_link' href='#class.bit-1.sentence-11'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.bit-2'><div class='marginalizedparent'><a class='marginalized' href='#class.bit-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2937'>#</a></div><div id='class.bit-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':bit-field,unnamed'></a></span>A declaration for a bit-field that omits the <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
declares an <a class='hidden_link' href='#def:unnamed_bit-field' id='def:unnamed_bit-field'><i >unnamed bit-field</i></a><a class='hidden_link' href='#class.bit-2.sentence-1'>.</a></div> <div id='class.bit-2.sentence-2' class='sentence'>Unnamed bit-fields are not
members and cannot be initialized<a class='hidden_link' href='#class.bit-2.sentence-2'>.</a></div> <div id='class.bit-2.sentence-3' class='sentence'>An unnamed bit-field shall not be declared with a cv-qualified type<a class='hidden_link' href='#class.bit-2.sentence-3'>.</a></div> <div id='class.bit-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.bit-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.bit-2.sentence-4' class='sentence'>An unnamed bit-field is useful for padding to conform to
externally-imposed layouts<a class='hidden_link' href='#class.bit-2.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='class.bit-2.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':bit-field,zero_width_of'></a></span><span class='indexparent'><a class='index' id=':bit-field,alignment_of'></a></span>As a special case, an unnamed bit-field with a width of zero specifies
alignment of the next bit-field at an allocation unit boundary<a class='hidden_link' href='#class.bit-2.sentence-5'>.</a></div> <div id='class.bit-2.sentence-6' class='sentence'>Only
when declaring an unnamed bit-field may the width be zero<a class='hidden_link' href='#class.bit-2.sentence-6'>.</a></div></div><div class='para' id='class.bit-3'><div class='marginalizedparent'><a class='marginalized' href='#class.bit-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2953'>#</a></div><div id='class.bit-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':bit-field,address_of'></a></span>The address-of operator <span class='texttt'><span class='operator'>&amp;</span></span> shall not be applied to a bit-field,
so there are no pointers to bit-fields<a class='hidden_link' href='#class.bit-3.sentence-1'>.</a></div> <div id='class.bit-3.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':restriction,bit-field'></a></span><span class='indexparent'><a class='index' id=':restriction,address_of_bit-field'></a></span><span class='indexparent'><a class='index' id=':restriction,pointer_to_bit-field'></a></span>A non-const reference shall not be bound to a
bit-field (<a href='dcl.init.ref'>[dcl.init.ref]</a>)<a class='hidden_link' href='#class.bit-3.sentence-2'>.</a></div> <div id='class.bit-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.bit-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.bit-3.sentence-3' class='sentence'>If the initializer for a reference of type <span class='texttt'><span class='keyword'>const</span></span> <span class='texttt'>T<span class='operator'>&amp;</span></span> is
an lvalue that refers to a bit-field, the reference is bound to a
temporary initialized to hold the value of the bit-field; the reference
is not bound to the bit-field directly<a class='hidden_link' href='#class.bit-3.sentence-3'>.</a></div> <div id='class.bit-3.sentence-4' class='sentence'>See <a href='dcl.init.ref'>[dcl.init.ref]</a><a class='hidden_link' href='#class.bit-3.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='class.bit-4'><div class='marginalizedparent'><a class='marginalized' href='#class.bit-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L2969'>#</a></div><div id='class.bit-4.sentence-1' class='sentence'>If a value of integral type (other than <span class='texttt'><span class='keyword'>bool</span></span>) is stored
into a bit-field of width <span class='math'><span class='mathalpha'>N</span></span> and the value would be representable
in a hypothetical signed or unsigned integer type
with width <span class='math'><span class='mathalpha'>N</span></span> and the same signedness as the bit-field's type,
the original value and the value of the bit-field compare equal<a class='hidden_link' href='#class.bit-4.sentence-1'>.</a></div> <div id='class.bit-4.sentence-2' class='sentence'>If the value <span class='texttt'><span class='literal'>true</span></span> or <span class='texttt'><span class='literal'>false</span></span> is stored into a bit-field of
type <span class='texttt'><span class='keyword'>bool</span></span> of any size (including a one bit bit-field), the
original <span class='texttt'><span class='keyword'>bool</span></span> value and the value of the bit-field compare
equal<a class='hidden_link' href='#class.bit-4.sentence-2'>.</a></div> <div id='class.bit-4.sentence-3' class='sentence'>If a value of an enumeration type is stored into a bit-field of the
same type and the width is large
enough to hold all the values of that enumeration type (<a href='dcl.enum'>[dcl.enum]</a>),
the original value and the value of the bit-field compare equal<a class='hidden_link' href='#class.bit-4.sentence-3'>.</a></div> <div id='class.bit-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.bit-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>enum</span> BOOL <span class='curlybracket'>{</span> FALSE<span class='operator'>=</span><span class='literal'>0</span>, TRUE<span class='operator'>=</span><span class='literal'>1</span> <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  BOOL b<span class='operator'>:</span><span class='literal'>1</span>;
<span class='curlybracket'>}</span>;
A a;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  a<span class='operator'>.</span>b <span class='operator'>=</span> TRUE;
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>a<span class='operator'>.</span>b <span class='operator'>=</span><span class='operator'>=</span> TRUE<span class='parenthesis'>)</span>              <span class='comment'>// yields <span class='tcode_in_codeblock'>true</span></span>
    <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='class.nest' class='section'><h3 ><a class='secnum' href='#class.nest' style='min-width:103pt'>11.4.10</a> Nested class declarations <a class='abbr_ref' href='class.nest'>[class.nest]</a></h3><span class='indexparent'><a class='index' id=':definition,nested_class'></a></span><div class='para' id='class.nest-1'><div class='marginalizedparent'><a class='marginalized' href='#class.nest-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L3001'>#</a></div><div id='class.nest-1.sentence-1' class='sentence'>A class can be declared within another class<a class='hidden_link' href='#class.nest-1.sentence-1'>.</a></div> <div id='class.nest-1.sentence-2' class='sentence'>A class declared within
another is called a <a class='hidden_link' href='#def:class,nested' id='def:class,nested'><i >nested class</i></a><a class='hidden_link' href='#class.nest-1.sentence-2'>.</a></div> <div id='class.nest-1.sentence-3' class='sentence'>The name of a nested class
is local to its enclosing class<a class='hidden_link' href='#class.nest-1.sentence-3'>.</a></div> <div id='class.nest-1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':nested_class,scope_of'></a></span>The nested class is in the scope of its enclosing class<a class='hidden_link' href='#class.nest-1.sentence-4'>.</a></div> <div id='class.nest-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#class.nest-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='class.nest-1.sentence-5' class='sentence'>See <a href='expr.prim.id'>[expr.prim.id]</a> for restrictions on the use of non-static data
members and non-static member functions<a class='hidden_link' href='#class.nest-1.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> <div id='class.nest-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.nest-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> x;
<span class='keyword'>int</span> y;

<span class='keyword'>struct</span> enclose <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> x;
  <span class='keyword'>static</span> <span class='keyword'>int</span> s;

  <span class='keyword'>struct</span> inner <span class='curlybracket'>{</span>
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      <span class='keyword'>int</span> a <span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>;        <span class='comment'>// OK: operand of sizeof is an unevaluated operand</span>
      x <span class='operator'>=</span> i;                    <span class='comment'>// error: assign to <span class='tcode_in_codeblock'>enclose&#x200b;::&#x200b;x</span></span>
      s <span class='operator'>=</span> i;                    <span class='comment'>// OK: assign to <span class='tcode_in_codeblock'>enclose&#x200b;::&#x200b;s</span></span>
      <span class='operator'>::</span>x <span class='operator'>=</span> i;                  <span class='comment'>// OK: assign to global <span class='tcode_in_codeblock'>x</span></span>
      y <span class='operator'>=</span> i;                    <span class='comment'>// OK: assign to global <span class='tcode_in_codeblock'>y</span></span>
    <span class='curlybracket'>}</span>
    <span class='keyword'>void</span> g<span class='parenthesis'>(</span>enclose<span class='operator'>*</span> p, <span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
      p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>x <span class='operator'>=</span> i;                 <span class='comment'>// OK: assign to <span class='tcode_in_codeblock'>enclose&#x200b;::&#x200b;x</span></span>
    <span class='curlybracket'>}</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

inner<span class='operator'>*</span> p <span class='operator'>=</span> <span class='literal'>0</span>;                   <span class='comment'>// error: <span class='tcode_in_codeblock'>inner</span> not in scope</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.nest-2'><div class='marginalizedparent'><a class='marginalized' href='#class.nest-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L3039'>#</a></div><div id='class.nest-2.sentence-1' class='sentence'>Member functions and static data members of a nested class can be
defined in a namespace scope enclosing the definition of their class<a class='hidden_link' href='#class.nest-2.sentence-1'>.</a></div> <div id='class.nest-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.nest-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> enclose <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> inner <span class='curlybracket'>{</span>
    <span class='keyword'>static</span> <span class='keyword'>int</span> x;
    <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> enclose<span class='operator'>::</span>inner<span class='operator'>::</span>x <span class='operator'>=</span> <span class='literal'>1</span>;

<span class='keyword'>void</span> enclose<span class='operator'>::</span>inner<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.nest-3'><div class='marginalizedparent'><a class='marginalized' href='#class.nest-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L3057'>#</a></div><div id='class.nest-3.sentence-1' class='sentence'>If class <span class='texttt'>X</span> is defined in a namespace scope, a nested class
<span class='texttt'>Y</span> may be declared in class <span class='texttt'>X</span> and later defined in the
definition of class <span class='texttt'>X</span> or be later defined in a namespace scope
enclosing the definition of class <span class='texttt'>X</span><a class='hidden_link' href='#class.nest-3.sentence-1'>.</a></div> <div id='class.nest-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.nest-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> E <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> I1;                     <span class='comment'>// forward declaration of nested class</span>
  <span class='keyword'>class</span> I2;
  <span class='keyword'>class</span> I1 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                 <span class='comment'>// definition of nested class</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>class</span> E<span class='operator'>::</span>I2 <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;                <span class='comment'>// definition of nested class</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='class.nest-4'><div class='marginalizedparent'><a class='marginalized' href='#class.nest-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L3073'>#</a></div><div id='class.nest-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':friend_function,nested_class'></a></span>Like a member function, a friend function (<a href='class.friend'>[class.friend]</a>) defined
within a nested class is in the lexical scope of that class; it obeys
the same rules for name binding as a static member function of that
class (<a href='#class.static'>[class.static]</a>), but it has no special access rights to
members of an enclosing class<a class='hidden_link' href='#class.nest-4.sentence-1'>.</a></div></div></div><div id='class.nested.type' class='section'><h3 ><a class='secnum' href='#class.nested.type' style='min-width:103pt'>11.4.11</a> Nested type names <a class='abbr_ref' href='class.nested.type'>[class.nested.type]</a></h3><span class='indexparent'><a class='index' id=':type_name,nested'></a></span><span class='indexparent'><a class='index' id=':type_name,nested,scope_of'></a></span><div class='para' id='class.nested.type-1'><div class='marginalizedparent'><a class='marginalized' href='#class.nested.type-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L3085'>#</a></div><div id='class.nested.type-1.sentence-1' class='sentence'>Type names obey exactly the same scope rules as other names<a class='hidden_link' href='#class.nested.type-1.sentence-1'>.</a></div> <div id='class.nested.type-1.sentence-2' class='sentence'>In
particular, type names defined within a class definition cannot be used
outside their class without qualification<a class='hidden_link' href='#class.nested.type-1.sentence-2'>.</a></div> <div id='class.nested.type-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#class.nested.type-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> I;
  <span class='keyword'>class</span> Y <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
  I a;
<span class='curlybracket'>}</span>;

I b;                            <span class='comment'>// error</span>
Y c;                            <span class='comment'>// error</span>
X<span class='operator'>::</span>Y d;                         <span class='comment'>// OK</span>
X<span class='operator'>::</span>I e;                         <span class='comment'>// OK</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  </div></div></div></body></html>