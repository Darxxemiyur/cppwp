<!DOCTYPE html><html lang='en'><head><title>[optional]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>20</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>20.6</a> Optional objects <a class='abbr_ref'>[optional]</a></h2><div id='general' class='section'><h3 ><a class='secnum' href='#general' style='min-width:103pt'>20.6.1</a> In general <a class='abbr_ref' href='optional.general'>[optional.general]</a></h3><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2347'>#</a></div><div id='general-1.sentence-1' class='sentence'>Subclause <a href='#optional' title='20.6&emsp;Optional objects'>[optional]</a> describes class template <span class='texttt'>optional</span> that represents
optional objects<a class='hidden_link' href='#general-1.sentence-1'>.</a></div> <div id='general-1.sentence-2' class='sentence'>An <a class='hidden_link' href='#def:optional_object' title='20.6.1&emsp;In general&emsp;[optional.general]'><span id='def:optional_object'><span class='textit'>optional object</span></span></a> is an
object that contains the storage for another object and manages the lifetime of
this contained object, if any<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> <div id='general-1.sentence-3' class='sentence'>The contained object may be initialized after
the optional object has been initialized, and may be destroyed before the
optional object has been destroyed<a class='hidden_link' href='#general-1.sentence-3'>.</a></div> <div id='general-1.sentence-4' class='sentence'>The initialization state of the contained
object is tracked by the optional object<a class='hidden_link' href='#general-1.sentence-4'>.</a></div></div></div><div id='syn' class='section'><h3 ><a class='secnum' href='#syn' style='min-width:103pt'>20.6.2</a> Header <span class='texttt'>&lt;optional&gt;</span> synopsis <a class='abbr_ref' href='optional.syn'>[optional.syn]</a></h3><span class='indexparent'><a class='index' id=':<optional>'></a></span><span class='indexparent'><a class='index' id='header:<optional>'></a></span><pre class='codeblock'>
<span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>compare<span class='anglebracket'>&gt;</span>              <span class='comment'>// see <a href='compare.syn' title='17.11.1&emsp;Header &lt;compare&gt; synopsis'>[compare.<span class='shy'></span>syn]</a></span>

<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='comment'>// <a href='#optional' title='20.6.3&emsp;Class template optional'>[optional.<span class='shy'></span>optional]</a>, class template <span class='tcode_in_codeblock'>optional</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>class</span> optional;

  <span class='comment'>// <a href='#nullopt' title='20.6.4&emsp;No-value state indicator'>[optional.<span class='shy'></span>nullopt]</a>, no-value state indicator</span>
  <span class='keyword'>struct</span> nullopt_t<span class='curlybracket'>{</span><span class='textit'><span class='texttt'>see below</span></span><span class='curlybracket'>}</span>;
  <span class='keyword'>inline</span> <span class='keyword'>constexpr</span> nullopt_t nullopt<span class='parenthesis'>(</span><span class='textit'><span class='texttt'>unspecified</span></span><span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#bad.access' title='20.6.5&emsp;Class bad_&shy;optional_&shy;access'>[optional.<span class='shy'></span>bad.<span class='shy'></span>access]</a>, class <span class='tcode_in_codeblock'>bad_&shy;optional_&shy;access</span></span>
  <span class='keyword'>class</span> bad_optional_access;

  <span class='comment'>// <a href='#relops' title='20.6.6&emsp;Relational operators'>[optional.<span class='shy'></span>relops]</a>, relational operators</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <a href='cmp.concept#concept:three_way_comparable_with' title='17.11.4&emsp;Concept three_&shy;way_&shy;comparable&emsp;[cmp.concept]'><span id='conceptref:three_way_comparable_with'><span class='tcode_in_codeblock'>three_&shy;way_&shy;comparable_&shy;with</span></span></a><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> compare_three_way_result_t<span class='anglebracket'>&lt;</span>T,U<span class='anglebracket'>&gt;</span>
      <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#nullops' title='20.6.7&emsp;Comparison with nullopt'>[optional.<span class='shy'></span>nullops]</a>, comparison with <span class='tcode_in_codeblock'>nullopt</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, nullopt_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> strong_ordering <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, nullopt_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='comment'>// <a href='#comp.with.t' title='20.6.8&emsp;Comparison with T'>[optional.<span class='shy'></span>comp.<span class='shy'></span>with.<span class='shy'></span>t]</a>, comparison with <span class='tcode_in_codeblock'>T</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> U<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> U<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> U<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> U<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> U<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> U<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <a href='cmp.concept#concept:three_way_comparable_with' title='17.11.4&emsp;Concept three_&shy;way_&shy;comparable&emsp;[cmp.concept]'><span id='conceptref:three_way_comparable_with_'><span class='tcode_in_codeblock'>three_&shy;way_&shy;comparable_&shy;with</span></span></a><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> compare_three_way_result_t<span class='anglebracket'>&lt;</span>T,U<span class='anglebracket'>&gt;</span>
      <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> U<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#specalg' title='20.6.9&emsp;Specialized algorithms'>[optional.<span class='shy'></span>specalg]</a>, specialized algorithms</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> optional<span class='anglebracket'>&lt;</span><span class='textit'><span class='texttt'>see below</span></span><span class='anglebracket'>&gt;</span> make_optional<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> make_optional<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    <span class='keyword'>constexpr</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> make_optional<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#hash' title='20.6.10&emsp;Hash support'>[optional.<span class='shy'></span>hash]</a>, hash support</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>
</pre></div><div id='optional' class='section'><h3 ><a class='secnum' href='#optional' style='min-width:103pt'>20.6.3</a> Class template <span class='texttt'>optional</span> <a class='abbr_ref' href='optional.optional'>[optional.optional]</a></h3><span class='indexparent'><a class='index' id='lib:optional'></a></span><span class='indexparent'><a class='index' id='lib:value_type,optional'></a></span><span class='indexparent'><a class='index' id='lib:optional,value_type'></a></span><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> optional <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> value_type <span class='operator'>=</span> T;

    <span class='comment'>// <a href='#ctor' title='20.6.3.1&emsp;Constructors'>[optional.<span class='shy'></span>ctor]</a>, constructors</span>
    <span class='keyword'>constexpr</span> optional<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> optional<span class='parenthesis'>(</span>nullopt_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> optional<span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> optional<span class='parenthesis'>(</span>optional<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> optional<span class='parenthesis'>(</span>in_place_t, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> optional<span class='parenthesis'>(</span>in_place_t, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span>
      <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span> optional<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span> optional<span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span> optional<span class='parenthesis'>(</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#dtor' title='20.6.3.2&emsp;Destructor'>[optional.<span class='shy'></span>dtor]</a>, destructor</span>
    <span class='operator'>~</span>optional<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#assign' title='20.6.3.3&emsp;Assignment'>[optional.<span class='shy'></span>assign]</a>, assignment</span>
    optional<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>nullopt_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> optional<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> optional<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>optional<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span> optional<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> optional<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> optional<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#swap' title='20.6.3.4&emsp;Swap'>[optional.<span class='shy'></span>swap]</a>, swap</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>optional<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#observe' title='20.6.3.5&emsp;Observers'>[optional.<span class='shy'></span>observe]</a>, observers</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span><span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span><span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>const</span><span class='operator'>&amp;</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;

    <span class='comment'>// <a href='#mod' title='20.6.3.6&emsp;Modifiers'>[optional.<span class='shy'></span>mod]</a>, modifiers</span>
    <span class='keyword'>void</span> reset<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    T <span class='operator'>*</span>val;         <span class='comment'>// <span class='textit'>exposition only</span></span>
  <span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
    optional<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>
</pre><div class='para' id='optional-1'><div class='marginalizedparent'><a class='marginalized' href='#optional-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2502'>#</a></div><div id='optional-1.sentence-1' class='sentence'>Any instance of <span class='texttt'>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> at any given time either contains a value or does not contain a value<a class='hidden_link' href='#optional-1.sentence-1'>.</a></div> <div id='optional-1.sentence-2' class='sentence'>When an instance of <span class='texttt'>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> <a class='hidden_link' href='#def:contains_a_value,optional' title='20.6.3&emsp;Class template optional&emsp;[optional.optional]'><span id='def:contains_a_value,optional'><span class='textit'>contains a value</span></span></a>,
it means that an object of type <span class='texttt'>T</span>, referred to as the optional object's <a class='hidden_link' href='#def:contained_value,optional' title='20.6.3&emsp;Class template optional&emsp;[optional.optional]'><span id='def:contained_value,optional'><span class='textit'>contained value</span></span></a>,
is allocated within the storage of the optional object<a class='hidden_link' href='#optional-1.sentence-2'>.</a></div> <div id='optional-1.sentence-3' class='sentence'>Implementations are not permitted to use additional storage, such as dynamic memory, to allocate its contained value<a class='hidden_link' href='#optional-1.sentence-3'>.</a></div> <div id='optional-1.sentence-4' class='sentence'>The contained value shall be allocated in a region of the <span class='texttt'>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> storage suitably aligned for the type <span class='texttt'>T</span><a class='hidden_link' href='#optional-1.sentence-4'>.</a></div> <div id='optional-1.sentence-5' class='sentence'>When an object of type <span class='texttt'>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is contextually converted to <span class='texttt'><span class='keyword'>bool</span></span>,
the conversion returns <span class='texttt'><span class='literal'>true</span></span> if the object contains a value;
otherwise the conversion returns <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#optional-1.sentence-5'>.</a></div></div><div class='para' id='optional-2'><div class='marginalizedparent'><a class='marginalized' href='#optional-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2513'>#</a></div><div id='optional-2.sentence-1' class='sentence'>Member <span class='texttt'>val</span> is provided for exposition only<a class='hidden_link' href='#optional-2.sentence-1'>.</a></div> <div id='optional-2.sentence-2' class='sentence'>When an <span class='texttt'>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> object contains a value, <span class='texttt'>val</span> points to the contained value<a class='hidden_link' href='#optional-2.sentence-2'>.</a></div></div><div class='para' id='optional-3'><div class='marginalizedparent'><a class='marginalized' href='#optional-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2516'>#</a></div><div id='optional-3.sentence-1' class='sentence'><span class='texttt'>T</span> shall be a type
other than <span class='mathit'>cv</span> <span class='texttt'>in_&shy;place_&shy;t</span> or <span class='mathit'>cv</span> <span class='texttt'>nullopt_&shy;t</span>
that meets the <span class='textit'>Cpp17Destructible</span> requirements (Table <a href='utility.arg.requirements#tab:cpp17.destructible' title='Table 32: Cpp17Destructible requirements &emsp;&ensp;[tab:cpp17.destructible]'>32</a>)<a class='hidden_link' href='#optional-3.sentence-1'>.</a></div></div><div id='ctor' class='section'><h4 ><a class='secnum' href='#ctor' style='min-width:118pt'>20.6.3.1</a> Constructors <a class='abbr_ref' href='optional.ctor'>[optional.ctor]</a></h4><div id='lib:optional,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:optional,constructor'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> optional<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>constexpr</span> optional<span class='parenthesis'>(</span>nullopt_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div><div class='para' id='ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2530'>#</a></div><div id='ctor-1.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> does not contain a value<a class='hidden_link' href='#ctor-1.sentence-1'>.</a></div></div></div><div class='para' id='ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2534'>#</a></div><div id='ctor-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> No contained value is initialized<a class='hidden_link' href='#ctor-2.sentence-1'>.</a></div> <div id='ctor-2.sentence-2' class='sentence'>For every object type <span class='texttt'>T</span> these constructors are constexpr constructors (<a href='dcl.constexpr' title='9.2.5&emsp;The constexpr and consteval specifiers'>[dcl.<span class='shy'></span>constexpr]</a>)<a class='hidden_link' href='#ctor-2.sentence-2'>.</a></div></div></div><div id='lib:optional,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:optional,constructor_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> optional<span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2546'>#</a></div><div id='ctor-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> If <span class='texttt'>rhs</span> contains a value, initializes the contained value as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'><span class='operator'>*</span>rhs</span><a class='hidden_link' href='#ctor-3.sentence-1'>.</a></div></div></div><div class='para' id='ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2551'>#</a></div><div id='ctor-4.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-4.sentence-1'>.</a></div></div></div><div class='para' id='ctor-5'><div class='marginalizedparent'><a class='marginalized' href='#ctor-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2555'>#</a></div><div id='ctor-5.sentence-1' class='sentence'><span class='textit'>Throws:</span> Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-5.sentence-1'>.</a></div></div></div><div class='para' id='ctor-6'><div class='marginalizedparent'><a class='marginalized' href='#ctor-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2559'>#</a></div><div id='ctor-6.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This constructor is defined as deleted unless
<span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-6.sentence-1'>.</a></div> <div id='ctor-6.sentence-2' class='sentence'>If <span class='texttt'>is_&shy;trivially_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
this constructor is trivial<a class='hidden_link' href='#ctor-6.sentence-2'>.</a></div></div></div><div id='lib:optional,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:optional,constructor__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> optional<span class='parenthesis'>(</span>optional<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='ctor-7'><div class='marginalizedparent'><a class='marginalized' href='#ctor-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2573'>#</a></div><div id='ctor-7.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-7.sentence-1'>.</a></div></div></div><div class='para' id='ctor-8'><div class='marginalizedparent'><a class='marginalized' href='#ctor-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2577'>#</a></div><div id='ctor-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> If <span class='texttt'>rhs</span> contains a value, initializes the contained value as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-8.sentence-1'>.</a></div> <div id='ctor-8.sentence-2' class='sentence'><span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span> is unchanged<a class='hidden_link' href='#ctor-8.sentence-2'>.</a></div></div></div><div class='para' id='ctor-9'><div class='marginalizedparent'><a class='marginalized' href='#ctor-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2583'>#</a></div><div id='ctor-9.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-9.sentence-1'>.</a></div></div></div><div class='para' id='ctor-10'><div class='marginalizedparent'><a class='marginalized' href='#ctor-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2587'>#</a></div><div id='ctor-10.sentence-1' class='sentence'><span class='textit'>Throws:</span> Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-10.sentence-1'>.</a></div></div></div><div class='para' id='ctor-11'><div class='marginalizedparent'><a class='marginalized' href='#ctor-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2591'>#</a></div><div id='ctor-11.sentence-1' class='sentence'><span class='textit'>Remarks:</span> The expression inside <span class='texttt'><span class='keyword'>noexcept</span></span> is equivalent to
<span class='texttt'>is_&shy;nothrow_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#ctor-11.sentence-1'>.</a></div> <div id='ctor-11.sentence-2' class='sentence'>If <span class='texttt'>is_&shy;trivially_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
this constructor is trivial<a class='hidden_link' href='#ctor-11.sentence-2'>.</a></div></div></div><div id='lib:optional,constructor___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:optional,constructor___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> optional<span class='parenthesis'>(</span>in_place_t, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='ctor-12'><div class='marginalizedparent'><a class='marginalized' href='#ctor-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2605'>#</a></div><div id='ctor-12.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-12.sentence-1'>.</a></div></div></div><div class='para' id='ctor-13'><div class='marginalizedparent'><a class='marginalized' href='#ctor-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2609'>#</a></div><div id='ctor-13.sentence-1' class='sentence'><span class='textit'>Effects:</span> Initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#ctor-13.sentence-1'>.</a></div></div></div><div class='para' id='ctor-14'><div class='marginalizedparent'><a class='marginalized' href='#ctor-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2613'>#</a></div><div id='ctor-14.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value<a class='hidden_link' href='#ctor-14.sentence-1'>.</a></div></div></div><div class='para' id='ctor-15'><div class='marginalizedparent'><a class='marginalized' href='#ctor-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2617'>#</a></div><div id='ctor-15.sentence-1' class='sentence'><span class='textit'>Throws:</span> Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-15.sentence-1'>.</a></div></div></div><div class='para' id='ctor-16'><div class='marginalizedparent'><a class='marginalized' href='#ctor-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2621'>#</a></div><div id='ctor-16.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If <span class='texttt'>T</span>'s constructor selected for the initialization is a constexpr constructor, this constructor is a constexpr constructor<a class='hidden_link' href='#ctor-16.sentence-1'>.</a></div></div></div><div id='lib:optional,constructor____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:optional,constructor____'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> optional<span class='parenthesis'>(</span>in_place_t, initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='ctor-17'><div class='marginalizedparent'><a class='marginalized' href='#ctor-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2633'>#</a></div><div id='ctor-17.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, initializer_&shy;list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ctor-17.sentence-1'>.</a></div></div></div><div class='para' id='ctor-18'><div class='marginalizedparent'><a class='marginalized' href='#ctor-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2637'>#</a></div><div id='ctor-18.sentence-1' class='sentence'><span class='textit'>Effects:</span> Initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>il, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#ctor-18.sentence-1'>.</a></div></div></div><div class='para' id='ctor-19'><div class='marginalizedparent'><a class='marginalized' href='#ctor-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2641'>#</a></div><div id='ctor-19.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value<a class='hidden_link' href='#ctor-19.sentence-1'>.</a></div></div></div><div class='para' id='ctor-20'><div class='marginalizedparent'><a class='marginalized' href='#ctor-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2645'>#</a></div><div id='ctor-20.sentence-1' class='sentence'><span class='textit'>Throws:</span> Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-20.sentence-1'>.</a></div></div></div><div class='para' id='ctor-21'><div class='marginalizedparent'><a class='marginalized' href='#ctor-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2649'>#</a></div><div id='ctor-21.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If <span class='texttt'>T</span>'s constructor selected for the initialization is a constexpr constructor, this constructor is a constexpr constructor<a class='hidden_link' href='#ctor-21.sentence-1'>.</a></div></div></div><div id='lib:optional,constructor_____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:optional,constructor_____'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span> optional<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='ctor-22'><div class='marginalizedparent'><a class='marginalized' href='#ctor-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2660'>#</a></div><div id='ctor-22.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>is_&shy;same_&shy;v<span class='anglebracket'>&lt;</span>remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, in_&shy;place_&shy;t<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>, and
<span class='texttt'>is_&shy;same_&shy;v<span class='anglebracket'>&lt;</span>remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, optional<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#ctor-22.sentence-1'>.</a></div></div></div><div class='para' id='ctor-23'><div class='marginalizedparent'><a class='marginalized' href='#ctor-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2666'>#</a></div><div id='ctor-23.sentence-1' class='sentence'><span class='textit'>Effects:</span> Initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-23.sentence-1'>.</a></div></div></div><div class='para' id='ctor-24'><div class='marginalizedparent'><a class='marginalized' href='#ctor-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2671'>#</a></div><div id='ctor-24.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value<a class='hidden_link' href='#ctor-24.sentence-1'>.</a></div></div></div><div class='para' id='ctor-25'><div class='marginalizedparent'><a class='marginalized' href='#ctor-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2675'>#</a></div><div id='ctor-25.sentence-1' class='sentence'><span class='textit'>Throws:</span> Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-25.sentence-1'>.</a></div></div></div><div class='para' id='ctor-26'><div class='marginalizedparent'><a class='marginalized' href='#ctor-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2679'>#</a></div><div id='ctor-26.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If <span class='texttt'>T</span>'s selected constructor is a constexpr constructor,
this constructor is a constexpr constructor<a class='hidden_link' href='#ctor-26.sentence-1'>.</a></div> <div id='ctor-26.sentence-2' class='sentence'>The expression inside <span class='texttt'><span class='keyword'>explicit</span></span> is equivalent to:
<pre class='codeblock'>
<span class='operator'>!</span>is_convertible_v<span class='anglebracket'>&lt;</span>U, T<span class='anglebracket'>&gt;</span>
</pre></div></div></div><div id='lib:optional,constructor______'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:optional,constructor______'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span> optional<span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='ctor-27'><div class='marginalizedparent'><a class='marginalized' href='#ctor-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2695'>#</a></div><div id='ctor-27.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <ul class='itemize'><li id='ctor-27.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-27.1'>(27.1)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> U<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,</li><li id='ctor-27.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-27.2'>(27.2)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-27.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-27.3'>(27.3)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-27.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-27.4'>(27.4)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-27.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-27.5'>(27.5)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-27.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-27.6'>(27.6)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-27.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-27.7'>(27.7)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-27.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-27.8'>(27.8)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>, and</li><li id='ctor-27.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-27.9'>(27.9)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#ctor-27.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='ctor-28'><div class='marginalizedparent'><a class='marginalized' href='#ctor-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2709'>#</a></div><div id='ctor-28.sentence-1' class='sentence'><span class='textit'>Effects:</span> If <span class='texttt'>rhs</span> contains a value,
initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with the expression <span class='texttt'><span class='operator'>*</span>rhs</span><a class='hidden_link' href='#ctor-28.sentence-1'>.</a></div></div></div><div class='para' id='ctor-29'><div class='marginalizedparent'><a class='marginalized' href='#ctor-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2715'>#</a></div><div id='ctor-29.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span> == <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-29.sentence-1'>.</a></div></div></div><div class='para' id='ctor-30'><div class='marginalizedparent'><a class='marginalized' href='#ctor-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2719'>#</a></div><div id='ctor-30.sentence-1' class='sentence'><span class='textit'>Throws:</span> Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-30.sentence-1'>.</a></div></div></div><div class='para' id='ctor-31'><div class='marginalizedparent'><a class='marginalized' href='#ctor-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2723'>#</a></div><div id='ctor-31.sentence-1' class='sentence'><span class='textit'>Remarks:</span> The expression inside <span class='texttt'><span class='keyword'>explicit</span></span> is equivalent to:
<pre class='codeblock'>
<span class='operator'>!</span>is_convertible_v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> U<span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span>
</pre></div></div></div><div id='lib:optional,constructor_______'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:optional,constructor_______'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span> optional<span class='parenthesis'>(</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='ctor-32'><div class='marginalizedparent'><a class='marginalized' href='#ctor-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2737'>#</a></div><div id='ctor-32.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <ul class='itemize'><li id='ctor-32.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-32.1'>(32.1)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span></span> is true,</li><li id='ctor-32.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-32.2'>(32.2)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-32.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-32.3'>(32.3)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-32.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-32.4'>(32.4)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-32.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-32.5'>(32.5)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-32.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-32.6'>(32.6)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-32.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-32.7'>(32.7)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='ctor-32.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-32.8'>(32.8)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>, and</li><li id='ctor-32.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#ctor-32.9'>(32.9)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#ctor-32.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='ctor-33'><div class='marginalizedparent'><a class='marginalized' href='#ctor-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2751'>#</a></div><div id='ctor-33.sentence-1' class='sentence'><span class='textit'>Effects:</span> If <span class='texttt'>rhs</span> contains a value,
initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-33.sentence-1'>.</a></div> <div id='ctor-33.sentence-2' class='sentence'><span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span> is unchanged<a class='hidden_link' href='#ctor-33.sentence-2'>.</a></div></div></div><div class='para' id='ctor-34'><div class='marginalizedparent'><a class='marginalized' href='#ctor-34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2758'>#</a></div><div id='ctor-34.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span> == <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ctor-34.sentence-1'>.</a></div></div></div><div class='para' id='ctor-35'><div class='marginalizedparent'><a class='marginalized' href='#ctor-35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2762'>#</a></div><div id='ctor-35.sentence-1' class='sentence'><span class='textit'>Throws:</span> Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#ctor-35.sentence-1'>.</a></div></div></div><div class='para' id='ctor-36'><div class='marginalizedparent'><a class='marginalized' href='#ctor-36'>36</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2766'>#</a></div><div id='ctor-36.sentence-1' class='sentence'><span class='textit'>Remarks:</span> The expression inside <span class='texttt'><span class='keyword'>explicit</span></span> is equivalent to:
<pre class='codeblock'>
<span class='operator'>!</span>is_convertible_v<span class='anglebracket'>&lt;</span>U, T<span class='anglebracket'>&gt;</span>
</pre></div></div></div></div><div id='dtor' class='section'><h4 ><a class='secnum' href='#dtor' style='min-width:118pt'>20.6.3.2</a> Destructor <a class='abbr_ref' href='optional.dtor'>[optional.dtor]</a></h4><div id='lib:optional,destructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:optional,destructor'>🔗</a></div><code class='itemdeclcode'><span class='operator'>~</span>optional<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='dtor-1'><div class='marginalizedparent'><a class='marginalized' href='#dtor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2782'>#</a></div><div id='dtor-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> If <span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>true</span></span> and <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value, calls
<pre class='codeblock'>
val<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>::</span><span class='operator'>~</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
</pre></div></div></div><div class='para' id='dtor-2'><div class='marginalizedparent'><a class='marginalized' href='#dtor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2789'>#</a></div><div id='dtor-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If <span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, then this destructor is trivial<a class='hidden_link' href='#dtor-2.sentence-1'>.</a></div></div></div></div><div id='assign' class='section'><h4 ><a class='secnum' href='#assign' style='min-width:118pt'>20.6.3.3</a> Assignment <a class='abbr_ref' href='optional.assign'>[optional.assign]</a></h4><div id='lib:optional,operator='><div id='lib:operator=,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,optional'>🔗</a></div><code class='itemdeclcode'>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>nullopt_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='assign-1'><div class='marginalizedparent'><a class='marginalized' href='#assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2802'>#</a></div><div id='assign-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> If <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value, calls <span class='texttt'>val<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>~</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> to destroy the contained value; otherwise no effect<a class='hidden_link' href='#assign-1.sentence-1'>.</a></div></div></div><div class='para' id='assign-2'><div class='marginalizedparent'><a class='marginalized' href='#assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2806'>#</a></div><div id='assign-2.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> does not contain a value<a class='hidden_link' href='#assign-2.sentence-1'>.</a></div></div></div><div class='para' id='assign-3'><div class='marginalizedparent'><a class='marginalized' href='#assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2810'>#</a></div><div id='assign-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-3.sentence-1'>.</a></div></div></div><div id='lib:optional,operator=_'><div id='lib:operator=,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='assign-4'><div class='marginalizedparent'><a class='marginalized' href='#assign-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2821'>#</a></div><div id='assign-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> See Table <a href='#tab:optional.assign.copy' title='Table 42: optional&#x200b;::&#x200b;operator=(const optional&amp;) effects &emsp;&ensp;[tab:optional.assign.copy]'>42</a><a class='hidden_link' href='#assign-4.sentence-1'>.</a></div> <div class='numberedTable' id='tab:optional.assign.copy'>Table <a href='#tab:optional.assign.copy'>42</a>: <span class='texttt'>optional<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> effects &emsp;&ensp;[tab:optional.assign.copy]<br><table ><tr ><td class='empty center'></td><td class='empty border justify'></td><td class='border left cline'><div id='assign-4.sentence-2' class='sentence'><b><span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value</b></div></td><td class='border left cline'><div id='assign-4.sentence-3' class='sentence'><b><span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> does not contain a value</b></div></td></tr><tr class='capsep'><td class='left'><div id='assign-4.sentence-4' class='sentence'><b><span class='texttt'>rhs</span> contains a value</b></div></td><td class='empty border justify'></td><td class='border left'><div id='assign-4.sentence-5' class='sentence'>assigns <span class='texttt'><span class='operator'>*</span>rhs</span> to the contained value</div></td><td class='border left'><div id='assign-4.sentence-6' class='sentence'>initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with <span class='texttt'><span class='operator'>*</span>rhs</span></div></td></tr><tr ><td class='left cline'><div id='assign-4.sentence-7' class='sentence'><b><span class='texttt'>rhs</span> does not contain a value</b></div></td><td class='empty border justify'></td><td class='border left cline'><div id='assign-4.sentence-8' class='sentence'>destroys the contained value by calling <span class='texttt'>val<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>~</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></div></td><td class='border left cline'><div id='assign-4.sentence-9' class='sentence'>no effect</div></td></tr></table></div></div></div><div class='para' id='assign-5'><div class='marginalizedparent'><a class='marginalized' href='#assign-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2838'>#</a></div><div id='assign-5.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-5.sentence-1'>.</a></div></div></div><div class='para' id='assign-6'><div class='marginalizedparent'><a class='marginalized' href='#assign-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2842'>#</a></div><div id='assign-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-6.sentence-1'>.</a></div></div></div><div class='para' id='assign-7'><div class='marginalizedparent'><a class='marginalized' href='#assign-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2846'>#</a></div><div id='assign-7.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If any exception is thrown, the result of the expression <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> remains unchanged<a class='hidden_link' href='#assign-7.sentence-1'>.</a></div> <div id='assign-7.sentence-2' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s copy constructor, no effect<a class='hidden_link' href='#assign-7.sentence-2'>.</a></div> <div id='assign-7.sentence-3' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s copy assignment,
the state of its contained value is as defined by the exception safety guarantee of <span class='texttt'>T</span>'s copy assignment<a class='hidden_link' href='#assign-7.sentence-3'>.</a></div> <div id='assign-7.sentence-4' class='sentence'>This operator is defined as deleted unless
<span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_&shy;copy_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#assign-7.sentence-4'>.</a></div> <div id='assign-7.sentence-5' class='sentence'>If <span class='texttt'>is_&shy;trivially_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_&shy;trivially_&shy;copy_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
this assignment operator is trivial<a class='hidden_link' href='#assign-7.sentence-5'>.</a></div></div></div><div id='lib:optional,operator=__'><div id='lib:operator=,optional__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,optional__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> optional<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>optional<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='assign-8'><div class='marginalizedparent'><a class='marginalized' href='#assign-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2867'>#</a></div><div id='assign-8.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_&shy;move_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#assign-8.sentence-1'>.</a></div></div></div><div class='para' id='assign-9'><div class='marginalizedparent'><a class='marginalized' href='#assign-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2872'>#</a></div><div id='assign-9.sentence-1' class='sentence'><span class='textit'>Effects:</span> See Table <a href='#tab:optional.assign.move' title='Table 43: optional&#x200b;::&#x200b;operator=(optional&amp;&amp;) effects &emsp;&ensp;[tab:optional.assign.move]'>43</a><a class='hidden_link' href='#assign-9.sentence-1'>.</a></div> <div id='assign-9.sentence-2' class='sentence'>The result of the expression <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span> remains unchanged<a class='hidden_link' href='#assign-9.sentence-2'>.</a></div> <div class='numberedTable' id='tab:optional.assign.move'>Table <a href='#tab:optional.assign.move'>43</a>: <span class='texttt'>optional<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>optional<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> effects &emsp;&ensp;[tab:optional.assign.move]<br><table ><tr ><td class='empty center'></td><td class='empty border justify'></td><td class='border left cline'><div id='assign-9.sentence-3' class='sentence'><b><span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value</b></div></td><td class='border left cline'><div id='assign-9.sentence-4' class='sentence'><b><span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> does not contain a value</b></div></td></tr><tr class='capsep'><td class='left'><div id='assign-9.sentence-5' class='sentence'><b><span class='texttt'>rhs</span> contains a value</b></div></td><td class='empty border justify'></td><td class='border left'><div id='assign-9.sentence-6' class='sentence'>assigns <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span> to the contained value</div></td><td class='border left'><div id='assign-9.sentence-7' class='sentence'>initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span></div></td></tr><tr ><td class='left cline'><div id='assign-9.sentence-8' class='sentence'><b><span class='texttt'>rhs</span> does not contain a value</b></div></td><td class='empty border justify'></td><td class='border left cline'><div id='assign-9.sentence-9' class='sentence'>destroys the contained value by calling <span class='texttt'>val<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>~</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></div></td><td class='border left cline'><div id='assign-9.sentence-10' class='sentence'>no effect</div></td></tr></table></div></div></div><div class='para' id='assign-10'><div class='marginalizedparent'><a class='marginalized' href='#assign-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2890'>#</a></div><div id='assign-10.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-10.sentence-1'>.</a></div></div></div><div class='para' id='assign-11'><div class='marginalizedparent'><a class='marginalized' href='#assign-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2894'>#</a></div><div id='assign-11.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-11.sentence-1'>.</a></div></div></div><div class='para' id='assign-12'><div class='marginalizedparent'><a class='marginalized' href='#assign-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2898'>#</a></div><div id='assign-12.sentence-1' class='sentence'><span class='textit'>Remarks:</span> The expression inside <span class='texttt'><span class='keyword'>noexcept</span></span> is equivalent to:
<pre class='codeblock'>
is_nothrow_move_assignable_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>
</pre></div></div></div><div class='para' id='assign-13'><div class='marginalizedparent'><a class='marginalized' href='#assign-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2905'>#</a></div><div id='assign-13.sentence-1' class='sentence'>If any exception is thrown, the result of the expression <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> remains unchanged<a class='hidden_link' href='#assign-13.sentence-1'>.</a></div> <div id='assign-13.sentence-2' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s move constructor,
the state of <span class='texttt'><span class='operator'>*</span>rhs<span class='operator'>.</span>val</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s move constructor<a class='hidden_link' href='#assign-13.sentence-2'>.</a></div> <div id='assign-13.sentence-3' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s move assignment,
the state of <span class='texttt'><span class='operator'>*</span>val</span> and <span class='texttt'><span class='operator'>*</span>rhs<span class='operator'>.</span>val</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s move assignment<a class='hidden_link' href='#assign-13.sentence-3'>.</a></div> <div id='assign-13.sentence-4' class='sentence'>If <span class='texttt'>is_&shy;trivially_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_&shy;trivially_&shy;move_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span>
<span class='texttt'>is_&shy;trivially_&shy;destructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,
this assignment operator is trivial<a class='hidden_link' href='#assign-13.sentence-4'>.</a></div></div></div><div id='lib:optional,operator=___'><div id='lib:operator=,optional___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,optional___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U <span class='operator'>=</span> T<span class='anglebracket'>&gt;</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='assign-14'><div class='marginalizedparent'><a class='marginalized' href='#assign-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2923'>#</a></div><div id='assign-14.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <span class='texttt'>is_&shy;same_&shy;v<span class='anglebracket'>&lt;</span>remove_&shy;cvref_&shy;t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span>, optional<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,
<span class='texttt'>conjunction_&shy;v<span class='anglebracket'>&lt;</span>is_&shy;scalar<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>, is_&shy;same<span class='anglebracket'>&lt;</span>T, decay_&shy;t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,
<span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>, and
<span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#assign-14.sentence-1'>.</a></div></div></div><div class='para' id='assign-15'><div class='marginalizedparent'><a class='marginalized' href='#assign-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2930'>#</a></div><div id='assign-15.sentence-1' class='sentence'><span class='textit'>Effects:</span> If <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value, assigns <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span> to the contained value; otherwise initializes the contained value as if direct-non-list-initializing object of type <span class='texttt'>T</span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-15.sentence-1'>.</a></div></div></div><div class='para' id='assign-16'><div class='marginalizedparent'><a class='marginalized' href='#assign-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2934'>#</a></div><div id='assign-16.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value<a class='hidden_link' href='#assign-16.sentence-1'>.</a></div></div></div><div class='para' id='assign-17'><div class='marginalizedparent'><a class='marginalized' href='#assign-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2938'>#</a></div><div id='assign-17.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-17.sentence-1'>.</a></div></div></div><div class='para' id='assign-18'><div class='marginalizedparent'><a class='marginalized' href='#assign-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2942'>#</a></div><div id='assign-18.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If any exception is thrown, the result of the expression <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> remains unchanged<a class='hidden_link' href='#assign-18.sentence-1'>.</a></div> <div id='assign-18.sentence-2' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor, the state of <span class='texttt'>v</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s constructor<a class='hidden_link' href='#assign-18.sentence-2'>.</a></div> <div id='assign-18.sentence-3' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s assignment, the state of <span class='texttt'><span class='operator'>*</span>val</span> and <span class='texttt'>v</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s assignment<a class='hidden_link' href='#assign-18.sentence-3'>.</a></div></div></div><div id='lib:optional,operator=____'><div id='lib:operator=,optional____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,optional____'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='assign-19'><div class='marginalizedparent'><a class='marginalized' href='#assign-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2953'>#</a></div><div id='assign-19.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <ul class='itemize'><li id='assign-19.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.1'>(19.1)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> U<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,</li><li id='assign-19.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.2'>(19.2)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> U<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,</li><li id='assign-19.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.3'>(19.3)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-19.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.4'>(19.4)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-19.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.5'>(19.5)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-19.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.6'>(19.6)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-19.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.7'>(19.7)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-19.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.8'>(19.8)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-19.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.9'>(19.9)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-19.10'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.10'>(19.10)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-19.11'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.11'>(19.11)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-19.12'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.12'>(19.12)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-19.13'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.13'>(19.13)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>, and</li><li id='assign-19.14'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-19.14'>(19.14)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#assign-19.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='assign-20'><div class='marginalizedparent'><a class='marginalized' href='#assign-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2972'>#</a></div><div id='assign-20.sentence-1' class='sentence'><span class='textit'>Effects:</span> See Table <a href='#tab:optional.assign.copy.templ' title='Table 44: optional&#x200b;::&#x200b;operator=(const optional&lt;U&gt;&amp;) effects &emsp;&ensp;[tab:optional.assign.copy.templ]'>44</a><a class='hidden_link' href='#assign-20.sentence-1'>.</a></div> <div class='numberedTable' id='tab:optional.assign.copy.templ'>Table <a href='#tab:optional.assign.copy.templ'>44</a>: <span class='texttt'>optional<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> effects &emsp;&ensp;[tab:optional.assign.copy.templ]<br><table ><tr ><td class='empty center'></td><td class='empty border justify'></td><td class='border left cline'><div id='assign-20.sentence-2' class='sentence'><b><span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value</b></div></td><td class='border left cline'><div id='assign-20.sentence-3' class='sentence'><b><span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> does not contain a value</b></div></td></tr><tr class='capsep'><td class='left'><div id='assign-20.sentence-4' class='sentence'><b><span class='texttt'>rhs</span> contains a value</b></div></td><td class='empty border justify'></td><td class='border left'><div id='assign-20.sentence-5' class='sentence'>assigns <span class='texttt'><span class='operator'>*</span>rhs</span> to the contained value</div></td><td class='border left'><div id='assign-20.sentence-6' class='sentence'>initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with <span class='texttt'><span class='operator'>*</span>rhs</span></div></td></tr><tr ><td class='left cline'><div id='assign-20.sentence-7' class='sentence'><b><span class='texttt'>rhs</span> does not contain a value</b></div></td><td class='empty border justify'></td><td class='border left cline'><div id='assign-20.sentence-8' class='sentence'>destroys the contained value by calling <span class='texttt'>val<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>~</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></div></td><td class='border left cline'><div id='assign-20.sentence-9' class='sentence'>no effect</div></td></tr></table></div></div></div><div class='para' id='assign-21'><div class='marginalizedparent'><a class='marginalized' href='#assign-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2990'>#</a></div><div id='assign-21.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-21.sentence-1'>.</a></div></div></div><div class='para' id='assign-22'><div class='marginalizedparent'><a class='marginalized' href='#assign-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2994'>#</a></div><div id='assign-22.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-22.sentence-1'>.</a></div></div></div><div class='para' id='assign-23'><div class='marginalizedparent'><a class='marginalized' href='#assign-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L2998'>#</a></div><div id='assign-23.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If any exception is thrown,
the result of the expression <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> remains unchanged<a class='hidden_link' href='#assign-23.sentence-1'>.</a></div> <div id='assign-23.sentence-2' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor,
the state of <span class='texttt'><span class='operator'>*</span>rhs<span class='operator'>.</span>val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s constructor<a class='hidden_link' href='#assign-23.sentence-2'>.</a></div> <div id='assign-23.sentence-3' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s assignment,
the state of <span class='texttt'><span class='operator'>*</span>val</span> and <span class='texttt'><span class='operator'>*</span>rhs<span class='operator'>.</span>val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s assignment<a class='hidden_link' href='#assign-23.sentence-3'>.</a></div></div></div><div id='lib:optional,operator=_____'><div id='lib:operator=,optional_____'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,optional_____'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='assign-24'><div class='marginalizedparent'><a class='marginalized' href='#assign-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3016'>#</a></div><div id='assign-24.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <ul class='itemize'><li id='assign-24.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.1'>(24.1)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,</li><li id='assign-24.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.2'>(24.2)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, U<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span>,</li><li id='assign-24.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.3'>(24.3)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-24.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.4'>(24.4)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-24.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.5'>(24.5)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-24.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.6'>(24.6)</a></div><span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-24.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.7'>(24.7)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-24.8'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.8'>(24.8)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-24.9'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.9'>(24.9)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-24.10'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.10'>(24.10)</a></div><span class='texttt'>is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-24.11'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.11'>(24.11)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-24.12'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.12'>(24.12)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>,</li><li id='assign-24.13'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.13'>(24.13)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span>, and</li><li id='assign-24.14'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#assign-24.14'>(24.14)</a></div><span class='texttt'>is_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#assign-24.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='assign-25'><div class='marginalizedparent'><a class='marginalized' href='#assign-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3035'>#</a></div><div id='assign-25.sentence-1' class='sentence'><span class='textit'>Effects:</span> See Table <a href='#tab:optional.assign.move.templ' title='Table 45: optional&#x200b;::&#x200b;operator=(optional&lt;U&gt;&amp;&amp;) effects &emsp;&ensp;[tab:optional.assign.move.templ]'>45</a><a class='hidden_link' href='#assign-25.sentence-1'>.</a></div> <div id='assign-25.sentence-2' class='sentence'>The result of the expression <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span> remains unchanged<a class='hidden_link' href='#assign-25.sentence-2'>.</a></div> <div class='numberedTable' id='tab:optional.assign.move.templ'>Table <a href='#tab:optional.assign.move.templ'>45</a>: <span class='texttt'>optional<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> effects &emsp;&ensp;[tab:optional.assign.move.templ]<br><table ><tr ><td class='empty center'></td><td class='empty border justify'></td><td class='border left cline'><div id='assign-25.sentence-3' class='sentence'><b><span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value</b></div></td><td class='border left cline'><div id='assign-25.sentence-4' class='sentence'><b><span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> does not contain a value</b></div></td></tr><tr class='capsep'><td class='left'><div id='assign-25.sentence-5' class='sentence'><b><span class='texttt'>rhs</span> contains a value</b></div></td><td class='empty border justify'></td><td class='border left'><div id='assign-25.sentence-6' class='sentence'>assigns <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span> to the contained value</div></td><td class='border left'><div id='assign-25.sentence-7' class='sentence'>initializes the contained value as if direct-non-list-initializing
an object of type <span class='texttt'>T</span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span></div></td></tr><tr ><td class='left cline'><div id='assign-25.sentence-8' class='sentence'><b><span class='texttt'>rhs</span> does not contain a value</b></div></td><td class='empty border justify'></td><td class='border left cline'><div id='assign-25.sentence-9' class='sentence'>destroys the contained value by calling <span class='texttt'>val<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>~</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></div></td><td class='border left cline'><div id='assign-25.sentence-10' class='sentence'>no effect</div></td></tr></table></div></div></div><div class='para' id='assign-26'><div class='marginalizedparent'><a class='marginalized' href='#assign-26'>26</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3054'>#</a></div><div id='assign-26.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#assign-26.sentence-1'>.</a></div></div></div><div class='para' id='assign-27'><div class='marginalizedparent'><a class='marginalized' href='#assign-27'>27</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3058'>#</a></div><div id='assign-27.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span><a class='hidden_link' href='#assign-27.sentence-1'>.</a></div></div></div><div class='para' id='assign-28'><div class='marginalizedparent'><a class='marginalized' href='#assign-28'>28</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3062'>#</a></div><div id='assign-28.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If any exception is thrown,
the result of the expression <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> remains unchanged<a class='hidden_link' href='#assign-28.sentence-1'>.</a></div> <div id='assign-28.sentence-2' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor,
the state of <span class='texttt'><span class='operator'>*</span>rhs<span class='operator'>.</span>val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s constructor<a class='hidden_link' href='#assign-28.sentence-2'>.</a></div> <div id='assign-28.sentence-3' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s assignment,
the state of <span class='texttt'><span class='operator'>*</span>val</span> and <span class='texttt'><span class='operator'>*</span>rhs<span class='operator'>.</span>val</span> is determined by
the exception safety guarantee of <span class='texttt'>T</span>'s assignment<a class='hidden_link' href='#assign-28.sentence-3'>.</a></div></div></div><div id='lib:optional,emplace'><div id='lib:emplace,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:emplace,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='assign-29'><div class='marginalizedparent'><a class='marginalized' href='#assign-29'>29</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3080'>#</a></div><div id='assign-29.sentence-1' class='sentence'><span class='textit'>Mandates:</span> <span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#assign-29.sentence-1'>.</a></div></div></div><div class='para' id='assign-30'><div class='marginalizedparent'><a class='marginalized' href='#assign-30'>30</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3084'>#</a></div><div id='assign-30.sentence-1' class='sentence'><span class='textit'>Effects:</span> Calls <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span> <span class='operator'>=</span> nullopt</span><a class='hidden_link' href='#assign-30.sentence-1'>.</a></div> <div id='assign-30.sentence-2' class='sentence'>Then initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#assign-30.sentence-2'>.</a></div></div></div><div class='para' id='assign-31'><div class='marginalizedparent'><a class='marginalized' href='#assign-31'>31</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3088'>#</a></div><div id='assign-31.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value<a class='hidden_link' href='#assign-31.sentence-1'>.</a></div></div></div><div class='para' id='assign-32'><div class='marginalizedparent'><a class='marginalized' href='#assign-32'>32</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3092'>#</a></div><div id='assign-32.sentence-1' class='sentence'><span class='textit'>Returns:</span> A reference to the new contained value<a class='hidden_link' href='#assign-32.sentence-1'>.</a></div></div></div><div class='para' id='assign-33'><div class='marginalizedparent'><a class='marginalized' href='#assign-33'>33</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3096'>#</a></div><div id='assign-33.sentence-1' class='sentence'><span class='textit'>Throws:</span> Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#assign-33.sentence-1'>.</a></div></div></div><div class='para' id='assign-34'><div class='marginalizedparent'><a class='marginalized' href='#assign-34'>34</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3100'>#</a></div><div id='assign-34.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor, <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> does not contain a value, and the previous <span class='texttt'><span class='operator'>*</span>val</span> (if any) has been destroyed<a class='hidden_link' href='#assign-34.sentence-1'>.</a></div></div></div><div id='lib:optional,emplace_'><div id='lib:emplace,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:emplace,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> T<span class='operator'>&amp;</span> emplace<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='assign-35'><div class='marginalizedparent'><a class='marginalized' href='#assign-35'>35</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3111'>#</a></div><div id='assign-35.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <span class='texttt'>is_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T, initializer_&shy;list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#assign-35.sentence-1'>.</a></div></div></div><div class='para' id='assign-36'><div class='marginalizedparent'><a class='marginalized' href='#assign-36'>36</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3115'>#</a></div><div id='assign-36.sentence-1' class='sentence'><span class='textit'>Effects:</span> Calls <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span> <span class='operator'>=</span> nullopt</span><a class='hidden_link' href='#assign-36.sentence-1'>.</a></div> <div id='assign-36.sentence-2' class='sentence'>Then initializes the contained value as if direct-non-list-initializing an object of type <span class='texttt'>T</span> with the arguments <span class='texttt'>il, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span><a class='hidden_link' href='#assign-36.sentence-2'>.</a></div></div></div><div class='para' id='assign-37'><div class='marginalizedparent'><a class='marginalized' href='#assign-37'>37</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3119'>#</a></div><div id='assign-37.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value<a class='hidden_link' href='#assign-37.sentence-1'>.</a></div></div></div><div class='para' id='assign-38'><div class='marginalizedparent'><a class='marginalized' href='#assign-38'>38</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3123'>#</a></div><div id='assign-38.sentence-1' class='sentence'><span class='textit'>Returns:</span> A reference to the new contained value<a class='hidden_link' href='#assign-38.sentence-1'>.</a></div></div></div><div class='para' id='assign-39'><div class='marginalizedparent'><a class='marginalized' href='#assign-39'>39</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3127'>#</a></div><div id='assign-39.sentence-1' class='sentence'><span class='textit'>Throws:</span> Any exception thrown by the selected constructor of <span class='texttt'>T</span><a class='hidden_link' href='#assign-39.sentence-1'>.</a></div></div></div><div class='para' id='assign-40'><div class='marginalizedparent'><a class='marginalized' href='#assign-40'>40</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3131'>#</a></div><div id='assign-40.sentence-1' class='sentence'><span class='textit'>Remarks:</span> If an exception is thrown during the call to <span class='texttt'>T</span>'s constructor, <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> does not contain a value, and the previous <span class='texttt'><span class='operator'>*</span>val</span> (if any) has been destroyed<a class='hidden_link' href='#assign-40.sentence-1'>.</a></div></div></div></div><div id='swap' class='section'><h4 ><a class='secnum' href='#swap' style='min-width:118pt'>20.6.3.4</a> Swap <a class='abbr_ref' href='optional.swap'>[optional.swap]</a></h4><div id='lib:optional,swap'><div id='lib:swap,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>optional<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='textit'><span class='texttt'>see below</span></span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='swap-1'><div class='marginalizedparent'><a class='marginalized' href='#swap-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3144'>#</a></div><div id='swap-1.sentence-1' class='sentence'><span class='textit'>Mandates:</span> <span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#swap-1.sentence-1'>.</a></div></div></div><div class='para' id='swap-2'><div class='marginalizedparent'><a class='marginalized' href='#swap-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3148'>#</a></div><div id='swap-2.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> Lvalues of type <span class='texttt'>T</span> are swappable<a class='hidden_link' href='#swap-2.sentence-1'>.</a></div></div></div><div class='para' id='swap-3'><div class='marginalizedparent'><a class='marginalized' href='#swap-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3152'>#</a></div><div id='swap-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> See Table <a href='#tab:optional.swap' title='Table 46: optional&#x200b;::&#x200b;swap(optional&amp;) effects &emsp;&ensp;[tab:optional.swap]'>46</a><a class='hidden_link' href='#swap-3.sentence-1'>.</a></div> <div class='numberedTable' id='tab:optional.swap'>Table <a href='#tab:optional.swap'>46</a>: <span class='texttt'>optional<span class='operator'>&#x200b;::&#x200b;</span>swap<span class='parenthesis'>(</span>optional<span class='operator'>&amp;</span><span class='parenthesis'>)</span></span> effects &emsp;&ensp;[tab:optional.swap]<br><table ><tr ><td class='empty center'></td><td class='empty border justify'></td><td class='border left cline'><div id='swap-3.sentence-2' class='sentence'><b><span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value</b></div></td><td class='border left cline'><div id='swap-3.sentence-3' class='sentence'><b><span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> does not contain a value</b></div></td></tr><tr class='capsep'><td class='left'><div id='swap-3.sentence-4' class='sentence'><b><span class='texttt'>rhs</span> contains a value</b></div></td><td class='empty border justify'></td><td class='border left'><div id='swap-3.sentence-5' class='sentence'>calls <span class='texttt'>swap<span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span>, <span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span></div></td><td class='border left'><div id='swap-3.sentence-6' class='sentence'>initializes the contained value of <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>rhs<span class='parenthesis'>)</span></span>,
followed by <span class='texttt'>rhs<span class='operator'>.</span>val<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>~</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>;
postcondition is that <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value and <span class='texttt'>rhs</span> does not contain a value</div></td></tr><tr ><td class='left cline'><div id='swap-3.sentence-7' class='sentence'><b><span class='texttt'>rhs</span> does not contain a value</b></div></td><td class='empty border justify'></td><td class='border left cline'><div id='swap-3.sentence-8' class='sentence'>initializes the contained value of <span class='texttt'>rhs</span> as if
direct-non-list-initializing an object of type <span class='texttt'>T</span> with the expression <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>,
followed by <span class='texttt'>val<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>~</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>;
postcondition is that <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> does not contain a value and <span class='texttt'>rhs</span> contains a value</div></td><td class='border left cline'><div id='swap-3.sentence-9' class='sentence'>no effect</div></td></tr></table></div></div></div><div class='para' id='swap-4'><div class='marginalizedparent'><a class='marginalized' href='#swap-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3175'>#</a></div><div id='swap-4.sentence-1' class='sentence'><span class='textit'>Throws:</span> Any exceptions thrown by the operations in the relevant part of Table <a href='#tab:optional.swap' title='Table 46: optional&#x200b;::&#x200b;swap(optional&amp;) effects &emsp;&ensp;[tab:optional.swap]'>46</a><a class='hidden_link' href='#swap-4.sentence-1'>.</a></div></div></div><div class='para' id='swap-5'><div class='marginalizedparent'><a class='marginalized' href='#swap-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3179'>#</a></div><div id='swap-5.sentence-1' class='sentence'><span class='textit'>Remarks:</span> The expression inside <span class='texttt'><span class='keyword'>noexcept</span></span> is equivalent to:
<pre class='codeblock'>
is_nothrow_move_constructible_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_nothrow_swappable_v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>
</pre></div> <div id='swap-5.sentence-2' class='sentence'>
If any exception is thrown, the results of the expressions <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span> and <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span> remain unchanged<a class='hidden_link' href='#swap-5.sentence-2'>.</a></div> <div id='swap-5.sentence-3' class='sentence'>If an exception is thrown during the call to function <span class='texttt'>swap</span>,
the state of <span class='texttt'><span class='operator'>*</span>val</span> and <span class='texttt'><span class='operator'>*</span>rhs<span class='operator'>.</span>val</span> is determined by the exception safety guarantee of <span class='texttt'>swap</span> for lvalues of <span class='texttt'>T</span><a class='hidden_link' href='#swap-5.sentence-3'>.</a></div> <div id='swap-5.sentence-4' class='sentence'>If an exception is thrown during the call to <span class='texttt'>T</span>'s move constructor,
the state of <span class='texttt'><span class='operator'>*</span>val</span> and <span class='texttt'><span class='operator'>*</span>rhs<span class='operator'>.</span>val</span> is determined by the exception safety guarantee of <span class='texttt'>T</span>'s move constructor<a class='hidden_link' href='#swap-5.sentence-4'>.</a></div></div></div></div><div id='observe' class='section'><h4 ><a class='secnum' href='#observe' style='min-width:118pt'>20.6.3.5</a> Observers <a class='abbr_ref' href='optional.observe'>[optional.observe]</a></h4><div id='lib:optional,operator->'><div id='lib:operator->,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator-%3e,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
<span class='keyword'>constexpr</span> T<span class='operator'>*</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='observe-1'><div class='marginalizedparent'><a class='marginalized' href='#observe-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3201'>#</a></div><div id='observe-1.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value<a class='hidden_link' href='#observe-1.sentence-1'>.</a></div></div></div><div class='para' id='observe-2'><div class='marginalizedparent'><a class='marginalized' href='#observe-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3205'>#</a></div><div id='observe-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>val</span><a class='hidden_link' href='#observe-2.sentence-1'>.</a></div></div></div><div class='para' id='observe-3'><div class='marginalizedparent'><a class='marginalized' href='#observe-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3209'>#</a></div><div id='observe-3.sentence-1' class='sentence'><span class='textit'>Throws:</span> Nothing<a class='hidden_link' href='#observe-3.sentence-1'>.</a></div></div></div><div class='para' id='observe-4'><div class='marginalizedparent'><a class='marginalized' href='#observe-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3213'>#</a></div><div id='observe-4.sentence-1' class='sentence'><span class='textit'>Remarks:</span> These functions are constexpr functions<a class='hidden_link' href='#observe-4.sentence-1'>.</a></div></div></div><div id='lib:optional,operator*'><div id='lib:operator*,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator*,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span><span class='operator'>&amp;</span>;
<span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
</code></div></div></div><div class='para' id='observe-5'><div class='marginalizedparent'><a class='marginalized' href='#observe-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3225'>#</a></div><div id='observe-5.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value<a class='hidden_link' href='#observe-5.sentence-1'>.</a></div></div></div><div class='para' id='observe-6'><div class='marginalizedparent'><a class='marginalized' href='#observe-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3229'>#</a></div><div id='observe-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>*</span>val</span><a class='hidden_link' href='#observe-6.sentence-1'>.</a></div></div></div><div class='para' id='observe-7'><div class='marginalizedparent'><a class='marginalized' href='#observe-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3233'>#</a></div><div id='observe-7.sentence-1' class='sentence'><span class='textit'>Throws:</span> Nothing<a class='hidden_link' href='#observe-7.sentence-1'>.</a></div></div></div><div class='para' id='observe-8'><div class='marginalizedparent'><a class='marginalized' href='#observe-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3237'>#</a></div><div id='observe-8.sentence-1' class='sentence'><span class='textit'>Remarks:</span> These functions are constexpr functions<a class='hidden_link' href='#observe-8.sentence-1'>.</a></div></div></div><div id='lib:optional,operator*_'><div id='lib:operator*,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator*,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div><div class='para' id='observe-9'><div class='marginalizedparent'><a class='marginalized' href='#observe-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3249'>#</a></div><div id='observe-9.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value<a class='hidden_link' href='#observe-9.sentence-1'>.</a></div></div></div><div class='para' id='observe-10'><div class='marginalizedparent'><a class='marginalized' href='#observe-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3253'>#</a></div><div id='observe-10.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>val<span class='parenthesis'>)</span>;</span></div></div></div><div id='lib:optional,operator_bool'><div id='lib:operator_bool,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator_bool,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='observe-11'><div class='marginalizedparent'><a class='marginalized' href='#observe-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3264'>#</a></div><div id='observe-11.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='literal'>true</span></span> if and only if <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value<a class='hidden_link' href='#observe-11.sentence-1'>.</a></div></div></div><div class='para' id='observe-12'><div class='marginalizedparent'><a class='marginalized' href='#observe-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3268'>#</a></div><div id='observe-12.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This function is a constexpr function<a class='hidden_link' href='#observe-12.sentence-1'>.</a></div></div></div><div id='lib:optional,has_value'><div id='lib:has_value,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:has_value,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>bool</span> has_value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='observe-13'><div class='marginalizedparent'><a class='marginalized' href='#observe-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3279'>#</a></div><div id='observe-13.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='literal'>true</span></span> if and only if <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value<a class='hidden_link' href='#observe-13.sentence-1'>.</a></div></div></div><div class='para' id='observe-14'><div class='marginalizedparent'><a class='marginalized' href='#observe-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3283'>#</a></div><div id='observe-14.sentence-1' class='sentence'><span class='textit'>Remarks:</span> This function is a constexpr function<a class='hidden_link' href='#observe-14.sentence-1'>.</a></div></div></div><div id='lib:optional,value'><div id='lib:value,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span><span class='operator'>&amp;</span>;
<span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
</code></div></div></div><div class='para' id='observe-15'><div class='marginalizedparent'><a class='marginalized' href='#observe-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3295'>#</a></div><div id='observe-15.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
<span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='operator'>*</span>val <span class='operator'>:</span> <span class='keyword'>throw</span> bad_optional_access<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</pre></div></div></div><div id='lib:optional,value_'><div id='lib:value,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
<span class='keyword'>constexpr</span> <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> value<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div><div class='para' id='observe-16'><div class='marginalizedparent'><a class='marginalized' href='#observe-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3311'>#</a></div><div id='observe-16.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
<span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span> <span class='operator'>?</span> std<span class='operator'>::</span>move<span class='parenthesis'>(</span><span class='operator'>*</span>val<span class='parenthesis'>)</span> <span class='operator'>:</span> <span class='keyword'>throw</span> bad_optional_access<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</pre></div></div></div><div id='lib:optional,value_or'><div id='lib:value_or,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value_or,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='keyword'>const</span><span class='operator'>&amp;</span>;
</code></div></div></div><div class='para' id='observe-17'><div class='marginalizedparent'><a class='marginalized' href='#observe-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3325'>#</a></div><div id='observe-17.sentence-1' class='sentence'><span class='textit'>Mandates:</span> <span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#observe-17.sentence-1'>.</a></div></div></div><div class='para' id='observe-18'><div class='marginalizedparent'><a class='marginalized' href='#observe-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3329'>#</a></div><div id='observe-18.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
<span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='operator'>*</span><span class='operator'>*</span><span class='keyword'>this</span> <span class='operator'>:</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div><div id='lib:optional,value_or_'><div id='lib:value_or,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:value_or,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> T value_or<span class='parenthesis'>(</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
</code></div></div></div><div class='para' id='observe-19'><div class='marginalizedparent'><a class='marginalized' href='#observe-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3343'>#</a></div><div id='observe-19.sentence-1' class='sentence'><span class='textit'>Mandates:</span> <span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> is_&shy;convertible_&shy;v<span class='anglebracket'>&lt;</span>U<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#observe-19.sentence-1'>.</a></div></div></div><div class='para' id='observe-20'><div class='marginalizedparent'><a class='marginalized' href='#observe-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3347'>#</a></div><div id='observe-20.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to:
<pre class='codeblock'>
<span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span> <span class='operator'>?</span> std<span class='operator'>::</span>move<span class='parenthesis'>(</span><span class='operator'>*</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span> <span class='operator'>:</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>forward<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div></div><div id='mod' class='section'><h4 ><a class='secnum' href='#mod' style='min-width:118pt'>20.6.3.6</a> Modifiers <a class='abbr_ref' href='optional.mod'>[optional.mod]</a></h4><div id='lib:optional,reset'><div id='lib:reset,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:reset,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> reset<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='mod-1'><div class='marginalizedparent'><a class='marginalized' href='#mod-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3363'>#</a></div><div id='mod-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> If <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> contains a value, calls <span class='texttt'>val<span class='operator'>-</span><span class='anglebracket'>&gt;</span>T<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>~</span>T<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> to destroy the contained value;
otherwise no effect<a class='hidden_link' href='#mod-1.sentence-1'>.</a></div></div></div><div class='para' id='mod-2'><div class='marginalizedparent'><a class='marginalized' href='#mod-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3368'>#</a></div><div id='mod-2.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> does not contain a value<a class='hidden_link' href='#mod-2.sentence-1'>.</a></div></div></div></div></div><div id='nullopt' class='section'><h3 ><a class='secnum' href='#nullopt' style='min-width:103pt'>20.6.4</a> No-value state indicator <a class='abbr_ref' href='optional.nullopt'>[optional.nullopt]</a></h3><span class='indexparent'><a class='index' id='lib:nullopt_t'></a></span><span class='indexparent'><a class='index' id='lib:nullopt'></a></span><div class='itemdecl' id='nullopt-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#nullopt-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>struct</span> nullopt_t<span class='curlybracket'>{</span><span class='textit'><span class='texttt'>see below</span></span><span class='curlybracket'>}</span>;
<span class='keyword'>inline</span> <span class='keyword'>constexpr</span> nullopt_t nullopt<span class='parenthesis'>(</span><span class='textit'><span class='texttt'>unspecified</span></span><span class='parenthesis'>)</span>;
</code></div><div class='para' id='nullopt-1'><div class='marginalizedparent'><a class='marginalized' href='#nullopt-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3382'>#</a></div><div id='nullopt-1.sentence-1' class='sentence'>The struct <span class='texttt'>nullopt_&shy;t</span> is an empty class type used as a unique type to indicate the state of not containing a value for <span class='texttt'>optional</span> objects<a class='hidden_link' href='#nullopt-1.sentence-1'>.</a></div> <div id='nullopt-1.sentence-2' class='sentence'>In particular, <span class='texttt'>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> has a constructor with <span class='texttt'>nullopt_&shy;t</span> as a single argument;
this indicates that an optional object not containing a value shall be constructed<a class='hidden_link' href='#nullopt-1.sentence-2'>.</a></div></div><div class='para' id='nullopt-2'><div class='marginalizedparent'><a class='marginalized' href='#nullopt-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3387'>#</a></div><div id='nullopt-2.sentence-1' class='sentence'>Type <span class='texttt'>nullopt_&shy;t</span> shall not have a default constructor or an initializer-list constructor, and shall not be an aggregate<a class='hidden_link' href='#nullopt-2.sentence-1'>.</a></div></div></div><div id='bad.access' class='section'><h3 ><a class='secnum' href='#bad.access' style='min-width:103pt'>20.6.5</a> Class <span class='texttt'>bad_&shy;optional_&shy;access</span> <a class='abbr_ref' href='optional.bad.access'>[optional.bad.access]</a></h3><pre class='codeblock'>
<span class='keyword'>class</span> bad_optional_access <span class='operator'>:</span> <span class='keyword'>public</span> exception <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='comment'>// see <a href='exception' title='17.9.2&emsp;Class exception'>[exception]</a> for the specification of the special member functions</span>
  <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='keyword'>override</span>;
<span class='curlybracket'>}</span>;
</pre><div class='para' id='bad.access-1'><div class='marginalizedparent'><a class='marginalized' href='#bad.access-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3400'>#</a></div><div id='bad.access-1.sentence-1' class='sentence'>The class <span class='texttt'>bad_&shy;optional_&shy;access</span> defines the type of objects thrown as exceptions to report the situation where an attempt is made to access the value of an optional object that does not contain a value<a class='hidden_link' href='#bad.access-1.sentence-1'>.</a></div></div><div id='lib:bad_optional_access,what'><div id='lib:what,bad_optional_access'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:what,bad_optional_access'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span> <span class='keyword'>override</span>;
</code></div></div></div><div class='para' id='bad.access-2'><div class='marginalizedparent'><a class='marginalized' href='#bad.access-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3409'>#</a></div><div id='bad.access-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> An <span class='indexparent'><a class='index' id=':return_value_of_bad_optional_access::what'></a></span>implementation-defined <span class='textsc'>ntbs</span><a class='hidden_link' href='#bad.access-2.sentence-1'>.</a></div></div></div></div><div id='relops' class='section'><h3 ><a class='secnum' href='#relops' style='min-width:103pt'>20.6.6</a> Relational operators <a class='abbr_ref' href='optional.relops'>[optional.relops]</a></h3><div id='lib:optional,operator=='><div id='lib:operator==,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='relops-1'><div class='marginalizedparent'><a class='marginalized' href='#relops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3422'>#</a></div><div id='relops-1.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>*</span>y</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#relops-1.sentence-1'>.</a></div> <div id='relops-1.note-1' class='note'>[<a class='note_link' href='#relops-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='relops-1.sentence-2' class='sentence'><span class='texttt'>T</span> need not be <span class='textit'>Cpp17EqualityComparable</span><a class='hidden_link' href='#relops-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </div></div><div class='para' id='relops-2'><div class='marginalizedparent'><a class='marginalized' href='#relops-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3430'>#</a></div><div id='relops-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> If <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>false</span></span>; otherwise if <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>false</span></span>, <span class='texttt'><span class='literal'>true</span></span>; otherwise <span class='texttt'><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>*</span>y</span><a class='hidden_link' href='#relops-2.sentence-1'>.</a></div></div></div><div class='para' id='relops-3'><div class='marginalizedparent'><a class='marginalized' href='#relops-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3434'>#</a></div><div id='relops-3.sentence-1' class='sentence'><span class='textit'>Remarks:</span> Specializations of this function template
for which <span class='texttt'><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>*</span>y</span> is a core constant expression
are constexpr functions<a class='hidden_link' href='#relops-3.sentence-1'>.</a></div></div></div><div id='lib:optional,operator!='><div id='lib:operator!=,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator!=,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='relops-4'><div class='marginalizedparent'><a class='marginalized' href='#relops-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3447'>#</a></div><div id='relops-4.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'><span class='operator'>*</span>x <span class='operator'>!</span><span class='operator'>=</span> <span class='operator'>*</span>y</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#relops-4.sentence-1'>.</a></div></div></div><div class='para' id='relops-5'><div class='marginalizedparent'><a class='marginalized' href='#relops-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3452'>#</a></div><div id='relops-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> If <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise, if <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>false</span></span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'><span class='operator'>*</span>x <span class='operator'>!</span><span class='operator'>=</span> <span class='operator'>*</span>y</span><a class='hidden_link' href='#relops-5.sentence-1'>.</a></div></div></div><div class='para' id='relops-6'><div class='marginalizedparent'><a class='marginalized' href='#relops-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3458'>#</a></div><div id='relops-6.sentence-1' class='sentence'><span class='textit'>Remarks:</span> Specializations of this function template
for which <span class='texttt'><span class='operator'>*</span>x <span class='operator'>!</span><span class='operator'>=</span> <span class='operator'>*</span>y</span> is a core constant expression
are constexpr functions<a class='hidden_link' href='#relops-6.sentence-1'>.</a></div></div></div><div id='lib:optional,operator<'><div id='lib:operator<,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='relops-7'><div class='marginalizedparent'><a class='marginalized' href='#relops-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3471'>#</a></div><div id='relops-7.sentence-1' class='sentence'><span class='textit'>Mandates:</span> <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&lt;</span> <span class='operator'>*</span>y</span> is well-formed
and its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#relops-7.sentence-1'>.</a></div></div></div><div class='para' id='relops-8'><div class='marginalizedparent'><a class='marginalized' href='#relops-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3476'>#</a></div><div id='relops-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> If <span class='texttt'><span class='operator'>!</span>y</span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise, if <span class='texttt'><span class='operator'>!</span>x</span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&lt;</span> <span class='operator'>*</span>y</span><a class='hidden_link' href='#relops-8.sentence-1'>.</a></div></div></div><div class='para' id='relops-9'><div class='marginalizedparent'><a class='marginalized' href='#relops-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3482'>#</a></div><div id='relops-9.sentence-1' class='sentence'><span class='textit'>Remarks:</span> Specializations of this function template
for which <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&lt;</span> <span class='operator'>*</span>y</span> is a core constant expression
are constexpr functions<a class='hidden_link' href='#relops-9.sentence-1'>.</a></div></div></div><div id='lib:optional,operator>'><div id='lib:operator>,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3e,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='relops-10'><div class='marginalizedparent'><a class='marginalized' href='#relops-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3495'>#</a></div><div id='relops-10.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&gt;</span> <span class='operator'>*</span>y</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#relops-10.sentence-1'>.</a></div></div></div><div class='para' id='relops-11'><div class='marginalizedparent'><a class='marginalized' href='#relops-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3500'>#</a></div><div id='relops-11.sentence-1' class='sentence'><span class='textit'>Returns:</span> If <span class='texttt'><span class='operator'>!</span>x</span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise, if <span class='texttt'><span class='operator'>!</span>y</span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&gt;</span> <span class='operator'>*</span>y</span><a class='hidden_link' href='#relops-11.sentence-1'>.</a></div></div></div><div class='para' id='relops-12'><div class='marginalizedparent'><a class='marginalized' href='#relops-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3506'>#</a></div><div id='relops-12.sentence-1' class='sentence'><span class='textit'>Remarks:</span> Specializations of this function template
for which <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&gt;</span> <span class='operator'>*</span>y</span> is a core constant expression
are constexpr functions<a class='hidden_link' href='#relops-12.sentence-1'>.</a></div></div></div><div id='lib:optional,operator<='><div id='lib:operator<=,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c=,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='relops-13'><div class='marginalizedparent'><a class='marginalized' href='#relops-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3519'>#</a></div><div id='relops-13.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='operator'>*</span>y</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#relops-13.sentence-1'>.</a></div></div></div><div class='para' id='relops-14'><div class='marginalizedparent'><a class='marginalized' href='#relops-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3524'>#</a></div><div id='relops-14.sentence-1' class='sentence'><span class='textit'>Returns:</span> If <span class='texttt'><span class='operator'>!</span>x</span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise, if <span class='texttt'><span class='operator'>!</span>y</span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='operator'>*</span>y</span><a class='hidden_link' href='#relops-14.sentence-1'>.</a></div></div></div><div class='para' id='relops-15'><div class='marginalizedparent'><a class='marginalized' href='#relops-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3530'>#</a></div><div id='relops-15.sentence-1' class='sentence'><span class='textit'>Remarks:</span> Specializations of this function template
for which <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='operator'>*</span>y</span> is a core constant expression
are constexpr functions<a class='hidden_link' href='#relops-15.sentence-1'>.</a></div></div></div><div id='lib:optional,operator>='><div id='lib:operator>=,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3e=,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='relops-16'><div class='marginalizedparent'><a class='marginalized' href='#relops-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3543'>#</a></div><div id='relops-16.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&gt;</span><span class='operator'>=</span> <span class='operator'>*</span>y</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#relops-16.sentence-1'>.</a></div></div></div><div class='para' id='relops-17'><div class='marginalizedparent'><a class='marginalized' href='#relops-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3548'>#</a></div><div id='relops-17.sentence-1' class='sentence'><span class='textit'>Returns:</span> If <span class='texttt'><span class='operator'>!</span>y</span>, <span class='texttt'><span class='literal'>true</span></span>;
otherwise, if <span class='texttt'><span class='operator'>!</span>x</span>, <span class='texttt'><span class='literal'>false</span></span>;
otherwise <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&gt;</span><span class='operator'>=</span> <span class='operator'>*</span>y</span><a class='hidden_link' href='#relops-17.sentence-1'>.</a></div></div></div><div class='para' id='relops-18'><div class='marginalizedparent'><a class='marginalized' href='#relops-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3554'>#</a></div><div id='relops-18.sentence-1' class='sentence'><span class='textit'>Remarks:</span> Specializations of this function template
for which <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&gt;</span><span class='operator'>=</span> <span class='operator'>*</span>y</span> is a core constant expression
are constexpr functions<a class='hidden_link' href='#relops-18.sentence-1'>.</a></div></div></div><div id='lib:optional,operator<=>'><div id='lib:operator<=>,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c=%3e,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <a href='cmp.concept#concept:three_way_comparable_with' title='17.11.4&emsp;Concept three_&shy;way_&shy;comparable&emsp;[cmp.concept]'><span id='conceptref:three_way_comparable_with__'><span class='texttt'>three_&shy;way_&shy;comparable_&shy;with</span></span></a><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> compare_three_way_result_t<span class='anglebracket'>&lt;</span>T,U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='relops-19'><div class='marginalizedparent'><a class='marginalized' href='#relops-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3569'>#</a></div><div id='relops-19.sentence-1' class='sentence'><span class='textit'>Returns:</span> If <span class='texttt'>x <span class='operator'>&amp;</span><span class='operator'>&amp;</span> y</span>, <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> <span class='operator'>*</span>y</span>; otherwise <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#relops-19.sentence-1'>.</a></div></div></div><div class='para' id='relops-20'><div class='marginalizedparent'><a class='marginalized' href='#relops-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3573'>#</a></div><div id='relops-20.sentence-1' class='sentence'><span class='textit'>Remarks:</span> Specializations of this function template
for which <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> <span class='operator'>*</span>y</span> is a core constant expression
are constexpr functions<a class='hidden_link' href='#relops-20.sentence-1'>.</a></div></div></div></div><div id='nullops' class='section'><h3 ><a class='secnum' href='#nullops' style='min-width:103pt'>20.6.7</a> Comparison with <span class='texttt'>nullopt</span> <a class='abbr_ref' href='optional.nullops'>[optional.nullops]</a></h3><div id='lib:optional,operator==_'><div id='lib:operator==,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, nullopt_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='nullops-1'><div class='marginalizedparent'><a class='marginalized' href='#nullops-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3588'>#</a></div><div id='nullops-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='operator'>!</span>x</span><a class='hidden_link' href='#nullops-1.sentence-1'>.</a></div></div></div><div id='lib:optional,operator<=>_'><div id='lib:operator<=>,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c=%3e,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> strong_ordering <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, nullopt_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='nullops-2'><div class='marginalizedparent'><a class='marginalized' href='#nullops-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3599'>#</a></div><div id='nullops-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> <span class='literal'>false</span></span><a class='hidden_link' href='#nullops-2.sentence-1'>.</a></div></div></div></div><div id='comp.with.t' class='section'><h3 ><a class='secnum' href='#comp.with.t' style='min-width:103pt'>20.6.8</a> Comparison with <span class='texttt'>T</span> <a class='abbr_ref' href='optional.comp.with.t'>[optional.comp.with.t]</a></h3><div id='lib:optional,operator==__'><div id='lib:operator==,optional__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,optional__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> U<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-1'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3612'>#</a></div><div id='comp.with.t-1.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'><span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> v</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-1.sentence-1'>.</a></div> <div id='comp.with.t-1.note-1' class='note'>[<a class='note_link' href='#comp.with.t-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='comp.with.t-1.sentence-2' class='sentence'><span class='texttt'>T</span> need not be <span class='textit'>Cpp17EqualityComparable</span><a class='hidden_link' href='#comp.with.t-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </div></div><div class='para' id='comp.with.t-2'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3620'>#</a></div><div id='comp.with.t-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;<span class='operator'>*</span>x <span class='operator'>=</span><span class='operator'>=</span> v <span class='operator'>:</span>&nbsp;<span class='literal'>false</span>;</span></div></div></div><div id='lib:optional,operator==___'><div id='lib:operator==,optional___'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator==,optional___'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> v, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-3'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3631'>#</a></div><div id='comp.with.t-3.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'>v <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>*</span>x</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-3.sentence-1'>.</a></div></div></div><div class='para' id='comp.with.t-4'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3636'>#</a></div><div id='comp.with.t-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;v <span class='operator'>=</span><span class='operator'>=</span> <span class='operator'>*</span>x <span class='operator'>:</span>&nbsp;<span class='literal'>false</span>;</span></div></div></div><div id='lib:optional,operator!=_'><div id='lib:operator!=,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator!=,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> U<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-5'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3647'>#</a></div><div id='comp.with.t-5.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'><span class='operator'>*</span>x <span class='operator'>!</span><span class='operator'>=</span> v</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-5.sentence-1'>.</a></div></div></div><div class='para' id='comp.with.t-6'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3652'>#</a></div><div id='comp.with.t-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;<span class='operator'>*</span>x <span class='operator'>!</span><span class='operator'>=</span> v <span class='operator'>:</span>&nbsp;<span class='literal'>true</span>;</span></div></div></div><div id='lib:optional,operator!=__'><div id='lib:operator!=,optional__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator!=,optional__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> v, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-7'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3663'>#</a></div><div id='comp.with.t-7.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'>v <span class='operator'>!</span><span class='operator'>=</span> <span class='operator'>*</span>x</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-7.sentence-1'>.</a></div></div></div><div class='para' id='comp.with.t-8'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3668'>#</a></div><div id='comp.with.t-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;v <span class='operator'>!</span><span class='operator'>=</span> <span class='operator'>*</span>x <span class='operator'>:</span>&nbsp;<span class='literal'>true</span>;</span></div></div></div><div id='lib:optional,operator<_'><div id='lib:operator<,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> U<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-9'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3679'>#</a></div><div id='comp.with.t-9.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&lt;</span> v</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-9.sentence-1'>.</a></div></div></div><div class='para' id='comp.with.t-10'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3684'>#</a></div><div id='comp.with.t-10.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;<span class='operator'>*</span>x <span class='anglebracket'>&lt;</span> v <span class='operator'>:</span>&nbsp;<span class='literal'>true</span>;</span></div></div></div><div id='lib:optional,operator<__'><div id='lib:operator<,optional__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c,optional__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> v, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-11'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3695'>#</a></div><div id='comp.with.t-11.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'>v <span class='anglebracket'>&lt;</span> <span class='operator'>*</span>x</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-11.sentence-1'>.</a></div></div></div><div class='para' id='comp.with.t-12'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3700'>#</a></div><div id='comp.with.t-12.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;v <span class='anglebracket'>&lt;</span> <span class='operator'>*</span>x <span class='operator'>:</span>&nbsp;<span class='literal'>false</span>;</span></div></div></div><div id='lib:optional,operator>_'><div id='lib:operator>,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3e,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> U<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-13'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3711'>#</a></div><div id='comp.with.t-13.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&gt;</span> v</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-13.sentence-1'>.</a></div></div></div><div class='para' id='comp.with.t-14'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3716'>#</a></div><div id='comp.with.t-14.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;<span class='operator'>*</span>x <span class='anglebracket'>&gt;</span> v <span class='operator'>:</span>&nbsp;<span class='literal'>false</span>;</span></div></div></div><div id='lib:optional,operator>__'><div id='lib:operator>,optional__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3e,optional__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> v, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-15'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3727'>#</a></div><div id='comp.with.t-15.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'>v <span class='anglebracket'>&gt;</span> <span class='operator'>*</span>x</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-15.sentence-1'>.</a></div></div></div><div class='para' id='comp.with.t-16'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3732'>#</a></div><div id='comp.with.t-16.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;v <span class='anglebracket'>&gt;</span> <span class='operator'>*</span>x <span class='operator'>:</span>&nbsp;<span class='literal'>true</span>;</span></div></div></div><div id='lib:optional,operator<=_'><div id='lib:operator<=,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c=,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> U<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-17'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3743'>#</a></div><div id='comp.with.t-17.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span> v</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-17.sentence-1'>.</a></div></div></div><div class='para' id='comp.with.t-18'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3748'>#</a></div><div id='comp.with.t-18.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;<span class='operator'>*</span>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span> v <span class='operator'>:</span>&nbsp;<span class='literal'>true</span>;</span></div></div></div><div id='lib:optional,operator<=__'><div id='lib:operator<=,optional__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c=,optional__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> v, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-19'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3759'>#</a></div><div id='comp.with.t-19.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'>v <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='operator'>*</span>x</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-19.sentence-1'>.</a></div></div></div><div class='para' id='comp.with.t-20'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3764'>#</a></div><div id='comp.with.t-20.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;v <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='operator'>*</span>x <span class='operator'>:</span>&nbsp;<span class='literal'>false</span>;</span></div></div></div><div id='lib:optional,operator>=_'><div id='lib:operator>=,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3e=,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> U<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-21'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3775'>#</a></div><div id='comp.with.t-21.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'><span class='operator'>*</span>x <span class='anglebracket'>&gt;</span><span class='operator'>=</span> v</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-21.sentence-1'>.</a></div></div></div><div class='para' id='comp.with.t-22'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3780'>#</a></div><div id='comp.with.t-22.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;<span class='operator'>*</span>x <span class='anglebracket'>&gt;</span><span class='operator'>=</span> v <span class='operator'>:</span>&nbsp;<span class='literal'>false</span>;</span></div></div></div><div id='lib:optional,operator>=__'><div id='lib:operator>=,optional__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3e=,optional__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> v, <span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-23'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3791'>#</a></div><div id='comp.with.t-23.sentence-1' class='sentence'><span class='textit'>Mandates:</span> The expression <span class='texttt'>v <span class='anglebracket'>&gt;</span><span class='operator'>=</span> <span class='operator'>*</span>x</span> is well-formed and
its result is convertible to <span class='texttt'><span class='keyword'>bool</span></span><a class='hidden_link' href='#comp.with.t-23.sentence-1'>.</a></div></div></div><div class='para' id='comp.with.t-24'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3796'>#</a></div><div id='comp.with.t-24.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;v <span class='anglebracket'>&gt;</span><span class='operator'>=</span> <span class='operator'>*</span>x <span class='operator'>:</span>&nbsp;<span class='literal'>true</span>;</span></div></div></div><div id='lib:optional,operator<=>__'><div id='lib:operator<=>,optional__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator%3c=%3e,optional__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <a href='cmp.concept#concept:three_way_comparable_with' title='17.11.4&emsp;Concept three_&shy;way_&shy;comparable&emsp;[cmp.concept]'><span id='conceptref:three_way_comparable_with___'><span class='texttt'>three_&shy;way_&shy;comparable_&shy;with</span></span></a><span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> compare_three_way_result_t<span class='anglebracket'>&lt;</span>T,U<span class='anglebracket'>&gt;</span>
    <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, <span class='keyword'>const</span> U<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='comp.with.t-25'><div class='marginalizedparent'><a class='marginalized' href='#comp.with.t-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3809'>#</a></div><div id='comp.with.t-25.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>?</span>&nbsp;<span class='operator'>*</span>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> v <span class='operator'>:</span>&nbsp;strong_&shy;ordering<span class='operator'>&#x200b;::&#x200b;</span>less;</span></div></div></div></div><div id='specalg' class='section'><h3 ><a class='secnum' href='#specalg' style='min-width:103pt'>20.6.9</a> Specialized algorithms <a class='abbr_ref' href='optional.specalg'>[optional.specalg]</a></h3><div id='lib:optional,swap_'><div id='lib:swap,optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span><span class='parenthesis'>(</span><span class='keyword'>noexcept</span><span class='parenthesis'>(</span>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='specalg-1'><div class='marginalizedparent'><a class='marginalized' href='#specalg-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3822'>#</a></div><div id='specalg-1.sentence-1' class='sentence'><span class='textit'>Constraints:</span> <span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span> and
<span class='texttt'>is_&shy;swappable_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#specalg-1.sentence-1'>.</a></div></div></div><div class='para' id='specalg-2'><div class='marginalizedparent'><a class='marginalized' href='#specalg-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3827'>#</a></div><div id='specalg-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> Calls <span class='texttt'>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#specalg-2.sentence-1'>.</a></div></div></div><div id='lib:make_optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:make_optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>constexpr</span> optional<span class='anglebracket'>&lt;</span>decay_t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> make_optional<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span> v<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='specalg-3'><div class='marginalizedparent'><a class='marginalized' href='#specalg-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3838'>#</a></div><div id='specalg-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> <span class='texttt'>optional<span class='anglebracket'>&lt;</span>decay_&shy;t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#specalg-3.sentence-1'>.</a></div></div></div><div id='lib:make_optional_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:make_optional_'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span>Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> make_optional<span class='parenthesis'>(</span>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='specalg-4'><div class='marginalizedparent'><a class='marginalized' href='#specalg-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3850'>#</a></div><div id='specalg-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>in_&shy;place, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;</span></div></div></div><div id='lib:make_optional__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:make_optional__'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>constexpr</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> make_optional<span class='parenthesis'>(</span>initializer_list<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span> il, Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div></div><div class='para' id='specalg-5'><div class='marginalizedparent'><a class='marginalized' href='#specalg-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3862'>#</a></div><div id='specalg-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> Equivalent to: <span class='texttt'><span class='keyword'>return</span> optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>in_&shy;place, il, std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div id='hash' class='section'><h3 ><a class='secnum' href='#hash' style='min-width:103pt'>20.6.10</a> Hash support <a class='abbr_ref' href='optional.hash'>[optional.hash]</a></h3><div id='lib:optional,hash'><div id='lib:hash,optional'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:hash,optional'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> hash<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
</code></div></div></div><div class='para' id='hash-1'><div class='marginalizedparent'><a class='marginalized' href='#hash-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/utilities.tex#L3875'>#</a></div><div id='hash-1.sentence-1' class='sentence'>The specialization <span class='texttt'>hash<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is enabled (<a href='unord.hash' title='20.14.18&emsp;Class template hash'>[unord.<span class='shy'></span>hash]</a>)
if and only if <span class='texttt'>hash<span class='anglebracket'>&lt;</span>remove_&shy;const_&shy;t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span> is enabled<a class='hidden_link' href='#hash-1.sentence-1'>.</a></div> <div id='hash-1.sentence-2' class='sentence'>When enabled, for an object <span class='texttt'>o</span> of type <span class='texttt'>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>,
if <span class='texttt'><span class='keyword'>bool</span><span class='parenthesis'>(</span>o<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>true</span></span>, then <span class='texttt'>hash<span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span>o<span class='parenthesis'>)</span></span>
evaluates to the same value as <span class='texttt'>hash<span class='anglebracket'>&lt;</span>remove_&shy;const_&shy;t<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='operator'>*</span>o<span class='parenthesis'>)</span></span>;
otherwise it evaluates to an unspecified value<a class='hidden_link' href='#hash-1.sentence-2'>.</a></div> <div id='hash-1.sentence-3' class='sentence'>The member functions are not guaranteed to be <span class='texttt'><span class='keyword'>noexcept</span></span><a class='hidden_link' href='#hash-1.sentence-3'>.</a></div></div></div></div></div></body></html>