<!DOCTYPE html><html lang='en'><head><title>[range.adaptors.general]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>24</a> Ranges library <a class='abbr_ref' href='./#ranges'>[ranges]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>24.7</a> Range adaptors <a class='abbr_ref' href='range.adaptors#general'>[range.adaptors]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>24.7.1</a> General <a class='abbr_ref'>[range.adaptors.general]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/ranges.tex#L2931'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>Subclause <a href='range.adaptors' title='24.7&emsp;Range adaptors'>[range.<span class='shy'></span>adaptors]</a> defines <a class='hidden_link' href='#def:range_adaptors' id='def:range_adaptors'><i>range adaptors</i></a>, which are utilities that transform a
<a href='range.range#concept:range' title='24.4.2&emsp;Ranges&emsp;[range.range]'><span id='conceptref:range'><span class='texttt'>range</span></span></a> into a <a href='range.view#concept:view' title='24.4.4&emsp;Views&emsp;[range.view]'><span id='conceptref:view'><span class='texttt'>view</span></span></a> with custom behaviors<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>These
adaptors can be chained to create pipelines of range transformations that
evaluate lazily as the resulting view is iterated<a class='hidden_link' href='#1.sentence-2'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/ranges.tex#L2937'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>Range adaptors are declared in namespace <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>ranges<span class='operator'>&#x200b;::&#x200b;</span>views</span><a class='hidden_link' href='#2.sentence-1'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/ranges.tex#L2940'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>The bitwise OR operator is overloaded for the purpose of creating adaptor chain
pipelines<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>The adaptors also support function call syntax with equivalent
semantics<a class='hidden_link' href='#3.sentence-2'>.</a></div></div></div><div class='para nonNormativeOnly' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/aecc22a58b2a3489ce2cd7504c7ffd5d957f6917/source/ranges.tex#L2945'>#</a></div><div class='texpara'><div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>: <span class='codeblock'>vector<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> ints<span class='curlybracket'>{</span><span class='literal'>0</span>,<span class='literal'>1</span>,<span class='literal'>2</span>,<span class='literal'>3</span>,<span class='literal'>4</span>,<span class='literal'>5</span><span class='curlybracket'>}</span>;
<span class='keyword'>auto</span> even <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span><span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span> <span class='operator'>=</span><span class='operator'>=</span> i <span class='operator'>%</span> <span class='literal'>2</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>auto</span> square <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> i <span class='operator'>*</span> i; <span class='curlybracket'>}</span>;
<span class='keyword'>for</span> <span class='parenthesis'>(</span><span class='keyword'>int</span> i <span class='operator'>:</span> ints <span class='operator'>|</span> views<span class='operator'>::</span>filter<span class='parenthesis'>(</span>even<span class='parenthesis'>)</span> <span class='operator'>|</span> views<span class='operator'>::</span>transform<span class='parenthesis'>(</span>square<span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  cout <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> i <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>' '</span>; <span class='comment'>// prints: 0 4 16</span>
<span class='curlybracket'>}</span>
assert<span class='parenthesis'>(</span>ranges<span class='operator'>::</span>equal<span class='parenthesis'>(</span>ints <span class='operator'>|</span> views<span class='operator'>::</span>filter<span class='parenthesis'>(</span>even<span class='parenthesis'>)</span>, views<span class='operator'>::</span>filter<span class='parenthesis'>(</span>ints, even<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div></div></body></html>