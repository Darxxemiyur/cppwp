<!DOCTYPE html><html lang='en'><head><title>[basic.scope.class]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>6</a> Basics <a class='abbr_ref' href='./#basic'>[basic]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>6.4</a> Scope <a class='abbr_ref' href='basic.scope#class'>[basic.scope]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>6.4.7</a> Class scope <a class='abbr_ref'>[basic.scope.class]</a></h3><span class='indexparent'><a class='index' id=':scope,class'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1176'>#</a></div><div id='1.sentence-1' class='sentence'>The potential scope of a name declared in a class consists not
only of the declarative region following the name's point of
declaration, but also of all complete-class contexts (<a href='class.mem'>[class.mem]</a>)
of that class<a class='hidden_link' href='#1.sentence-1'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1182'>#</a></div><div id='2.sentence-1' class='sentence'>A name <span class='texttt'>N</span> used in a class <span class='texttt'>S</span> shall refer to the same
declaration in its context and when re-evaluated in the completed scope
of <span class='texttt'>S</span><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>No diagnostic is required for a violation of this rule<a class='hidden_link' href='#2.sentence-2'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1187'>#</a></div><div id='3.sentence-1' class='sentence'>A name declared within a member function hides a declaration of
the same name whose scope extends to or past the end of the member
function's class<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1192'>#</a></div><div id='4.sentence-1' class='sentence'>The potential scope of a declaration in a class that extends to or past the
end of a class definition also extends to the regions defined by its
member definitions, even if the members are defined lexically outside
the class (this includes static data member definitions, nested class
definitions, and member function definitions, including the member function
body and any portion of the
declarator part of such definitions which follows the <a class='grammarterm' href='dcl.decl#nt:declarator-id'>declarator-id</a>,
including a <a class='grammarterm' href='dcl.fct#nt:parameter-declaration-clause'>parameter-declaration-clause</a> and any <a href='dcl.fct.default'>default
arguments</a>)<a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1203'>#</a></div><div id='5.example-1' class='example'>[&nbsp;<a class='example_link' href='#5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>typedef</span> <span class='keyword'>int</span>  c;
<span class='keyword'>enum</span> <span class='curlybracket'>{</span> i <span class='operator'>=</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;

<span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>char</span>  v<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;                       <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;i</span> but when reevaluated is <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;i</span></span>
  <span class='keyword'>int</span>  f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>c<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>    <span class='comment'>// OK: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;c</span></span>
  <span class='keyword'>char</span>  c;
  <span class='keyword'>enum</span> <span class='curlybracket'>{</span> i <span class='operator'>=</span> <span class='literal'>2</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>typedef</span> <span class='keyword'>char</span><span class='operator'>*</span>  T;
<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  T  a;                             <span class='comment'>// error: <span class='tcode_in_codeblock'>T</span> refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;T</span> but when reevaluated is <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;T</span></span>
  <span class='keyword'>typedef</span> <span class='keyword'>long</span>  T;
  T  b;
<span class='curlybracket'>}</span>;

<span class='keyword'>typedef</span> <span class='keyword'>int</span> I;
<span class='keyword'>class</span> D <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> I I;                      <span class='comment'>// error, even though no reordering involved</span>
<span class='curlybracket'>}</span>;
</pre> â€”&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/basic.tex#L1230'>#</a></div><div id='6.sentence-1' class='sentence'>The name of a class member shall only be used as follows:
<ul class='itemize'><li id='6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.1'>(6.1)</a></div>in the scope of its class (as described above) or a class
<a href='class.derived'>derived</a> from its class,</li><li id='6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.2'>(6.2)</a></div>after the <span class='texttt'><span class='operator'>.</span></span> operator applied to an expression of the type
of its class (<a href='expr.ref'>[expr.ref]</a>) or a class derived from its class,</li><li id='6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.3'>(6.3)</a></div>after the <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> operator applied to a pointer to an object of
its class (<a href='expr.ref'>[expr.ref]</a>) or a class derived from its class,</li><li id='6.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#6.4'>(6.4)</a></div>after the <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> scope resolution operator (<a href='expr.prim.id.qual'>[expr.prim.id.qual]</a>)
applied to the name of its class or a class derived from its class<a class='hidden_link' href='#6.sentence-1'>.</a></li></ul></div></div></div></body></html>