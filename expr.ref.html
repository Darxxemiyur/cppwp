<!DOCTYPE html><html lang='en'><head><title>[expr.ref]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>7</a> Expressions <a class='abbr_ref' href='./#expr'>[expr]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>7.6</a> Compound expressions <a class='abbr_ref' href='expr.compound#expr.ref'>[expr.compound]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>7.6.1</a> Postfix expressions <a class='abbr_ref' href='expr.post#expr.ref'>[expr.post]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>7.6.1.5</a> Class member access <a class='abbr_ref'>[expr.ref]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/expressions.tex#L3222'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'><a class='index' id=':expression,class_member_access'></a><a class='index' id=':access_control,class_member'></a><a class='index' id=':syntax,class_member'></a><a class='index' id=':semantics,class_member'></a><a class='index' id=':operator,class_member_access'></a><a class='index' id=':operator,class_member_access_'></a>A postfix expression followed by a dot <span class='texttt'><span class='operator'>.</span></span> or an arrow <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>,
optionally followed by the keyword
<span id=':template'><span class='texttt'><span class='keyword'>template</span></span></span> (<a href='temp.names' title='13.3&emsp;Names of template specializations'>[temp.<span class='shy'></span>names]</a>), and then followed by an
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><i >id-expression</i></span></span></a>, is a postfix expression<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>The postfix
expression before the dot or arrow is evaluated;<a class='footnotenum' href='#footnote-63' id='footnoteref-63' title='If the class member access expression is evaluated, the subexpression evaluation happens even if the result is unnecessary to determine the value of the entire postfix expression, for example if the id-expression denotes a static member.'>63</a>
the result of that evaluation, together with the
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><i >id-expression</i></span></span></a>, determines the result of the entire postfix
expression<a class='hidden_link' href='#1.sentence-2'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/expressions.tex#L3249'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'><a class='index' id=':type,incomplete'></a>For the first option (dot) the first expression shall be a glvalue<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>For the second option (arrow) the first expression
shall be a prvalue having pointer type<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>The expression <span class='texttt'>E1<span class='operator'>-</span><span class='anglebracket'>&gt;</span>E2</span> is
converted to the equivalent form <span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>(</span>E1<span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>.</span>E2</span>; the remainder of
<a href='#expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a> will address only the first option (dot)<a class='hidden_link' href='#2.sentence-3'>.</a><a class='footnotenum' href='#footnote-64' id='footnoteref-64' title='Note that (*(E1)) is an lvalue.'>64</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/expressions.tex#L3262'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>Abbreviating
<a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression'><span class='textsf'><i >postfix-expression</i></span></span></a><span class='texttt'><span class='operator'>.</span></span><a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___'><span class='textsf'><i >id-expression</i></span></span></a>
as <span class='texttt'>E1<span class='operator'>.</span>E2</span>, <span class='texttt'>E1</span> is called the <a class='hidden_link' href='expr.mptr.oper#def:object_expression' title='7.6.4&emsp;Pointer-to-member operators&emsp;[expr.mptr.oper]'><span id='def:object_expression'><i >object expression</i></span></a><a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>If the object expression is of scalar type,
<span class='texttt'>E2</span> shall name the pseudo-destructor
of that same type (ignoring cv-qualifications) and
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue of type “function of () returning <span class='texttt'><span class='keyword'>void</span></span>”<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>: <div id='3.sentence-3' class='sentence'>This value can only be used
for a notional function call (<a href='expr.prim.id.dtor' title='7.5.4.4&emsp;Destruction'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>dtor]</a>)<a class='hidden_link' href='#3.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/expressions.tex#L3275'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>Otherwise, the object expression shall be of class type<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>The class type shall be complete
unless the class member access appears in the definition of that class<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>: <div id='4.sentence-3' class='sentence'>If the class is incomplete,
lookup in the complete class type is required to refer
to the same declaration (<a href='basic.scope.class' title='6.4.7&emsp;Class scope'>[basic.<span class='shy'></span>scope.<span class='shy'></span>class]</a>)<a class='hidden_link' href='#4.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='4.sentence-4' class='sentence'>
The <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____'><span class='textsf'><i >id-expression</i></span></span></a> shall name a member of the class or of one of
its base classes<a class='hidden_link' href='#4.sentence-4'>.</a></div> <div id='note-3' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-3'>3</a></i>: <div id='4.sentence-5' class='sentence'>Because the name of a class is inserted in its class scope (<a href='class' title='11&emsp;Classes'>[class]</a>),
the name of a class is also considered a nested
member of that class<a class='hidden_link' href='#4.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='note-4' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-4'>4</a></i>: <div id='4.sentence-6' class='sentence'><a href='basic.lookup.classref' title='6.5.6&emsp;Class member access'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>classref]</a> describes how names are looked up after the
<span class='texttt'><span class='operator'>.</span></span> and <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> operators<a class='hidden_link' href='#4.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/expressions.tex#L3296'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a bit-field, <span class='texttt'>E1<span class='operator'>.</span>E2</span> is a bit-field<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>The
type and value category of <span class='texttt'>E1<span class='operator'>.</span>E2</span> are determined as follows<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>In the remainder of <a href='#expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>, <i >cq</i> represents either
<span class='texttt'><span class='keyword'>const</span></span> or the absence of <span class='texttt'><span class='keyword'>const</span></span> and <i >vq</i> represents
either <span class='texttt'><span class='keyword'>volatile</span></span> or the absence of <span class='texttt'><span class='keyword'>volatile</span></span><a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'><i >cv</i>
represents an arbitrary set of cv-qualifiers, as defined
in <a href='basic.type.qualifier' title='6.8.4&emsp;CV-qualifiers'>[basic.<span class='shy'></span>type.<span class='shy'></span>qualifier]</a><a class='hidden_link' href='#5.sentence-4'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/expressions.tex#L3305'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is declared to have type “reference to <span class='texttt'>T</span>”, then
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue; the type of <span class='texttt'>E1<span class='operator'>.</span>E2</span> is <span class='texttt'>T</span><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>Otherwise, one of the following rules applies<a class='hidden_link' href='#6.sentence-2'>.</a></div> <ul class='itemize'><li id='6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.1'>(6.1)</a></div><div class='texpara'><div id='6.1.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a static data member and the type of <span class='texttt'>E2</span>
is <span class='texttt'>T</span>, then <span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue; the expression designates
the named member of the class<a class='hidden_link' href='#6.1.sentence-1'>.</a></div> <div id='6.1.sentence-2' class='sentence'>The type of <span class='texttt'>E1<span class='operator'>.</span>E2</span> is <span class='texttt'>T</span><a class='hidden_link' href='#6.1.sentence-2'>.</a></div></div></li><li id='6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.2'>(6.2)</a></div><div class='texpara'><div id='6.2.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a non-static data member and the type of
<span class='texttt'>E1</span> is “<i >cq1 vq1</i> <span class='texttt'>X</span>”, and the type of <span class='texttt'>E2</span>
is “<i >cq2 vq2</i> <span class='texttt'>T</span>”, the expression designates the corresponding
member subobject of the object designated by the first expression<a class='hidden_link' href='#6.2.sentence-1'>.</a></div> <div id='6.2.sentence-2' class='sentence'>If <span class='texttt'>E1</span>
is an lvalue, then <span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue;
otherwise <span class='texttt'>E1<span class='operator'>.</span>E2</span> is an xvalue<a class='hidden_link' href='#6.2.sentence-2'>.</a></div> <div id='6.2.sentence-3' class='sentence'>Let the notation <i >vq12</i> stand for the “union” of
<i >vq1</i> and <i >vq2</i>; that is, if <i >vq1</i> or <i >vq2</i>
is <span class='texttt'><span class='keyword'>volatile</span></span>, then <i >vq12</i> is <span class='texttt'><span class='keyword'>volatile</span></span><a class='hidden_link' href='#6.2.sentence-3'>.</a></div> <div id='6.2.sentence-4' class='sentence'>Similarly,
let the notation <i >cq12</i> stand for the “union” of <i >cq1</i>
and <i >cq2</i>; that is, if <i >cq1</i> or <i >cq2</i> is
<span class='texttt'><span class='keyword'>const</span></span>, then <i >cq12</i> is <span class='texttt'><span class='keyword'>const</span></span><a class='hidden_link' href='#6.2.sentence-4'>.</a></div> <div id='6.2.sentence-5' class='sentence'>If <span class='texttt'>E2</span> is
declared to be a <span class='texttt'><span class='keyword'>mutable</span></span> member, then the type of <span class='texttt'>E1<span class='operator'>.</span>E2</span>
is “<i >vq12</i> <span class='texttt'>T</span>”<a class='hidden_link' href='#6.2.sentence-5'>.</a></div> <div id='6.2.sentence-6' class='sentence'>If <span class='texttt'>E2</span> is not declared to be a
<span class='texttt'><span class='keyword'>mutable</span></span> member, then the type of <span class='texttt'>E1<span class='operator'>.</span>E2</span> is
“<i >cq12</i> <i >vq12</i> <span class='texttt'>T</span>”<a class='hidden_link' href='#6.2.sentence-6'>.</a></div></div></li><li id='6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.3'>(6.3)</a></div><div class='texpara'><div id='6.3.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a (possibly overloaded) member function,
function overload resolution (<a href='over.match' title='12.4&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a>)
is used to select the function to which <span class='texttt'>E2</span> refers<a class='hidden_link' href='#6.3.sentence-1'>.</a></div> <div id='6.3.sentence-2' class='sentence'>The type of <span class='texttt'>E1<span class='operator'>.</span>E2</span> is the type of <span class='texttt'>E2</span>
and <span class='texttt'>E1<span class='operator'>.</span>E2</span> refers to the function referred to by <span class='texttt'>E2</span><a class='hidden_link' href='#6.3.sentence-2'>.</a></div></div><div class='texpara'><ul class='itemize'><li id='6.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#6.3.1'>(6.3.1)</a></div><div class='texpara'><div id='6.3.1.sentence-1' class='sentence'>If <span class='texttt'>E2</span> refers to a static member function,
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is an lvalue<a class='hidden_link' href='#6.3.1.sentence-1'>.</a></div></div></li><li id='6.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#6.3.2'>(6.3.2)</a></div><div class='texpara'><div id='6.3.2.sentence-1' class='sentence'>Otherwise (when <span class='texttt'>E2</span> refers to a non-static member function),
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is a prvalue<a class='hidden_link' href='#6.3.2.sentence-1'>.</a></div> <div id='6.3.2.sentence-2' class='sentence'>The expression can be used only as the
left-hand operand of a member function call (<a href='class.mfct' title='11.4.2&emsp;Member functions'>[class.<span class='shy'></span>mfct]</a>)<a class='hidden_link' href='#6.3.2.sentence-2'>.</a></div> <div id='note-5' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-5'>5</a></i>: <div id='6.3.2.sentence-3' class='sentence'>Any redundant set of parentheses surrounding the expression
is ignored (<a href='expr.prim.paren' title='7.5.3&emsp;Parentheses'>[expr.<span class='shy'></span>prim.<span class='shy'></span>paren]</a>)<a class='hidden_link' href='#6.3.2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></li><li id='6.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.4'>(6.4)</a></div><div class='texpara'><div id='6.4.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a nested type, the expression <span class='texttt'>E1<span class='operator'>.</span>E2</span> is
ill-formed<a class='hidden_link' href='#6.4.sentence-1'>.</a></div></div></li><li id='6.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.5'>(6.5)</a></div><div class='texpara'><div id='6.5.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a member enumerator and the type of <span class='texttt'>E2</span>
is <span class='texttt'>T</span>, the expression <span class='texttt'>E1<span class='operator'>.</span>E2</span> is a prvalue<a class='hidden_link' href='#6.5.sentence-1'>.</a></div> <div id='6.5.sentence-2' class='sentence'>The type of
<span class='texttt'>E1<span class='operator'>.</span>E2</span> is <span class='texttt'>T</span><a class='hidden_link' href='#6.5.sentence-2'>.</a></div></div></li></ul></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/expressions.tex#L3358'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>If <span class='texttt'>E2</span> is a non-static data member or a non-static member
function, the program is ill-formed if the class of which <span class='texttt'>E2</span> is
directly a member is an ambiguous base (<a href='class.member.lookup' title='11.8&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>) of
the naming class (<a href='class.access.base' title='11.9.3&emsp;Accessibility of base classes and base class members'>[class.<span class='shy'></span>access.<span class='shy'></span>base]</a>) of <span class='texttt'>E2</span><a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='note-6' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-6'>6</a></i>: <div id='7.sentence-2' class='sentence'>The program is also ill-formed if the naming class is an ambiguous base of the class type
of the object expression; see <a href='class.access.base' title='11.9.3&emsp;Accessibility of base classes and base class members'>[class.<span class='shy'></span>access.<span class='shy'></span>base]</a><a class='hidden_link' href='#7.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnote' id='footnote-63'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-63'>63)</a></div><div class='texpara'><div id='footnote-63.sentence-1' class='sentence'>If the class member
access expression is evaluated, the subexpression evaluation happens even if the
result is unnecessary to determine
the value of the entire postfix expression, for example if the
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><i >id-expression</i></span></span></a> denotes a static member<a class='hidden_link' href='#footnote-63.sentence-1'>.</a></div>&nbsp;<a href='#footnoteref-63'>⮥</a></div></div><div class='footnote' id='footnote-64'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-64'>64)</a></div><div class='texpara'><div id='footnote-64.sentence-1' class='sentence'>Note that
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>(</span>E1<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> is an lvalue<a class='hidden_link' href='#footnote-64.sentence-1'>.</a></div>&nbsp;<a href='#footnoteref-64'>⮥</a></div></div></div></body></html>