<!DOCTYPE html><html lang='en'><head><title>[class.pre]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>11.1</a> Preamble <a class='abbr_ref'>[class.pre]</a></h2><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L11'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':{},class_declaration'></a></span><span class='indexparent'><a class='index' id=':{},class_definition'></a></span><span class='indexparent'><a class='index' id=':type,class_and'></a></span>A class is a type<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Its name becomes a <a class='grammarterm' href='#nt:class-name'>class-name</a> (<a href='class.name'>[class.name]</a>) within its
scope<a class='hidden_link' href='#1.sentence-2'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:class-name' id='nt:class-name'>class-name</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
&#9;<a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a>
</pre><div id='1.sentence-3' class='sentence'>A <a class='grammarterm' href='#nt:class-specifier'>class-specifier</a> or
an <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> is used to
make a <a class='grammarterm' href='#nt:class-name'>class-name</a><a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>An object of a class consists of a
(possibly empty) sequence of members and base class objects<a class='hidden_link' href='#1.sentence-4'>.</a></div><pre class='bnf'><a class='nontermdef' href='#nt:class-specifier' id='nt:class-specifier'>class-specifier</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:class-head'>class-head</a> <span class='terminal'><span class='curlybracket'>{</span></span> <a class='grammarterm' href='class.mem#nt:member-specification'>member-specification</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='curlybracket'>}</span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:class-head' id='nt:class-head'>class-head</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:class-key'>class-key</a> <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:class-head-name'>class-head-name</a> <a class='grammarterm' href='#nt:class-virt-specifier'>class-virt-specifier</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='class.derived#nt:base-clause'>base-clause</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<a class='grammarterm' href='#nt:class-key'>class-key</a> <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='class.derived#nt:base-clause'>base-clause</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:class-head-name' id='nt:class-head-name'>class-head-name</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:class-name'>class-name</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:class-virt-specifier' id='nt:class-virt-specifier'>class-virt-specifier</a><span class='ntdefcolon'>:</span>
&#9;<span class='texttt'><span class='keyword'>final</span></span><span class='indexparent'><a class='index' id=':final'></a></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:class-key' id='nt:class-key'>class-key</a><span class='ntdefcolon'>:</span>
&#9;<span class='texttt'><span class='keyword'>class</span></span><span class='indexparent'><a class='index' id=':class'></a></span>
&#9;<span class='texttt'><span class='keyword'>struct</span></span><span class='indexparent'><a class='index' id=':struct'></a></span>
&#9;<span class='texttt'><span class='keyword'>union</span></span><span class='indexparent'><a class='index' id=':union'></a></span>
</pre><div id='1.sentence-5' class='sentence'>A class declaration where the <a class='grammarterm' href='#nt:class-name'>class-name</a>
in the <a class='grammarterm' href='#nt:class-head-name'>class-head-name</a> is a <a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a>
shall be an explicit specialization (<a href='temp.expl.spec'>[temp.expl.spec]</a>) or
a partial specialization (<a href='temp.class.spec'>[temp.class.spec]</a>)<a class='hidden_link' href='#1.sentence-5'>.</a></div> <div id='1.sentence-6' class='sentence'>A <a class='grammarterm' href='#nt:class-specifier'>class-specifier</a> whose
<a class='grammarterm' href='#nt:class-head'>class-head</a> omits the
<a class='grammarterm' href='#nt:class-head-name'>class-head-name</a> defines an unnamed class<a class='hidden_link' href='#1.sentence-6'>.</a></div> <div id='1.note-1' class='note'>[&nbsp;<a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-7' class='sentence'>An unnamed class thus can't
be <span class='texttt'><span class='keyword'>final</span></span><a class='hidden_link' href='#1.sentence-7'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L72'>#</a></div><div id='2.sentence-1' class='sentence'>A <a class='grammarterm' href='#nt:class-name'>class-name</a> is inserted into the scope in which it is
declared immediately after the <a class='grammarterm' href='#nt:class-name'>class-name</a> is seen<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>The
<a class='grammarterm' href='#nt:class-name'>class-name</a> is also inserted into the scope of the class
itself; this is known as the <a class='hidden_link' href='#def:injected-class-name' id='def:injected-class-name'><i >injected-class-name</i></a><a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>For purposes of access checking, the injected-class-name is treated as
if it were a public member name<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>A <a class='grammarterm' href='#nt:class-specifier'>class-specifier</a> is commonly referred to as a <a class='hidden_link' href='#def:definition,class' id='def:definition,class'><i >class
definition</i></a><a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>A class is considered defined after the closing brace of its
<a class='grammarterm' href='#nt:class-specifier'>class-specifier</a> has been seen even though its member
functions are in general not yet defined<a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='2.sentence-6' class='sentence'>The optional <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a> appertains to the class; the attributes in
the <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a> are thereafter considered attributes of the class
whenever it is named<a class='hidden_link' href='#2.sentence-6'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L88'>#</a></div><div id='3.sentence-1' class='sentence'>If a <a class='grammarterm' href='#nt:class-head-name'>class-head-name</a> contains a <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>,
the <a class='grammarterm' href='#nt:class-specifier'>class-specifier</a> shall refer to a class that was
previously declared directly in the class or namespace to which the
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> refers,
or in an element of the inline namespace set (<a href='namespace.def'>[namespace.def]</a>) of that namespace
(i.e., not merely inherited or
introduced by a <a class='grammarterm' href='namespace.udecl#nt:using-declaration'>using-declaration</a>), and the
<a class='grammarterm' href='#nt:class-specifier'>class-specifier</a> shall appear in a namespace enclosing the
previous declaration<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>In such cases, the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a> of the
<a class='grammarterm' href='#nt:class-head-name'>class-head-name</a> of the
definition shall not begin with a <a class='grammarterm' href='dcl.type.decltype#nt:decltype-specifier'>decltype-specifier</a><a class='hidden_link' href='#3.sentence-2'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L102'>#</a></div><div id='4.note-1' class='note'>[&nbsp;<a class='note_link' href='#4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='4.sentence-1' class='sentence'>The <a class='grammarterm' href='#nt:class-key'>class-key</a> determines
whether the class is a union (<a href='class.union'>[class.union]</a>) and
whether access is public or private by default (<a href='class.access'>[class.access]</a>)<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>A union holds the value of at most one data member at a time<a class='hidden_link' href='#4.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L110'>#</a></div><div id='5.sentence-1' class='sentence'>If a class is marked with the <a class='grammarterm' href='#nt:class-virt-specifier'>class-virt-specifier</a> <span class='texttt'><span class='keyword'>final</span></span> and it appears
as a <a class='grammarterm' href='class.derived#nt:class-or-decltype'>class-or-decltype</a> in a <a class='grammarterm' href='class.derived#nt:base-clause'>base-clause</a>,
the program is ill-formed<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>Whenever a
<a class='grammarterm' href='#nt:class-key'>class-key</a> is followed by a <a class='grammarterm' href='#nt:class-head-name'>class-head-name</a>, the
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <span class='texttt'><span class='keyword'>final</span></span>, and a colon or left brace, <span class='texttt'><span class='keyword'>final</span></span> is
interpreted as a <a class='grammarterm' href='#nt:class-virt-specifier'>class-virt-specifier</a><a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.example-1' class='example'>[&nbsp;<a class='example_link' href='#5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A;
<span class='keyword'>struct</span> A <span class='keyword'>final</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;      <span class='comment'>// OK: definition of <span class='tcode_in_codeblock'>struct A</span>,</span>
                        <span class='comment'>// not value-initialization of variable <span class='tcode_in_codeblock'>final</span></span>

<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
 <span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='keyword'>constexpr</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>5</span>; <span class='curlybracket'>}</span> <span class='curlybracket'>}</span>;
 <span class='keyword'>struct</span> B <span class='keyword'>final</span> <span class='operator'>:</span> C<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;  <span class='comment'>// OK: definition of nested class <span class='tcode_in_codeblock'>B</span>,</span>
                        <span class='comment'>// not declaration of a bit-field member <span class='tcode_in_codeblock'>final</span></span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L131'>#</a></div><div id='6.note-1' class='note'>[&nbsp;<a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-1' class='sentence'>Complete objects of class type have nonzero size<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>Base class subobjects and
members declared with the <span class='texttt'>no_&shy;unique_&shy;address</span> attribute (<a href='dcl.attr.nouniqueaddr'>[dcl.attr.nouniqueaddr]</a>)
are not so constrained<a class='hidden_link' href='#6.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L139'>#</a></div><div id='7.note-1' class='note'>[&nbsp;<a class='note_link' href='#7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='7.sentence-1' class='sentence'>Class objects can be assigned (<a href='over.ass'>[over.ass]</a>, <a href='class.copy.assign'>[class.copy.assign]</a>),
passed as arguments to functions (<a href='dcl.init'>[dcl.init]</a>, <a href='class.copy.ctor'>[class.copy.ctor]</a>), and
returned by functions (except objects of classes for which copying or moving has
been restricted; see <a href='dcl.fct.def.delete'>[dcl.fct.def.delete]</a> and <a href='class.access'>[class.access]</a>)<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>Other plausible operators, such as equality comparison,
can be defined by the user; see <a href='over.oper'>[over.oper]</a><a class='hidden_link' href='#7.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div></body></html>