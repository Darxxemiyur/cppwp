<!DOCTYPE html><html lang='en'><head><title>[class.access.general]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>11.9</a> Member access control <a class='abbr_ref' href='class.access#general'>[class.access]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>11.9.1</a> General <a class='abbr_ref'>[class.access.general]</a></h3><div class='texpara'><a class='index' id=':access_control'></a></div><div class='texpara'>


</div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/classes.tex#L4495'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>A member of a class can be
<ul class='itemize'><li id='1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.1'>(1.1)</a></div><div class='texpara'><div id='1.1.sentence-1' class='sentence'><a class='index' id=':access_control,private'></a>private;
that is, its name can be used only by members and friends
of the class in which it is declared<a class='hidden_link' href='#1.1.sentence-1'>.</a></div></div></li><li id='1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.2'>(1.2)</a></div><div class='texpara'><div id='1.2.sentence-1' class='sentence'><a class='index' id=':access_control,protected'></a>protected;
that is, its name can be used only by members and friends
of the class in which it is declared, by classes derived from that class, and by their
friends (see <a href='class.protected' title='11.9.5&emsp;Protected member access'>[class.<span class='shy'></span>protected]</a>)<a class='hidden_link' href='#1.2.sentence-1'>.</a></div></div></li><li id='1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#1.3'>(1.3)</a></div><div class='texpara'><div id='1.3.sentence-1' class='sentence'><a class='index' id=':access_control,public'></a>public;
that is, its name can be used anywhere without access restriction<a class='hidden_link' href='#1.3.sentence-1'>.</a></div></div></li></ul></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/classes.tex#L4515'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>A member of a class can also access all the names to which the class has access<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>A local class of a member function may access
the same names that the member function itself may access<a class='hidden_link' href='#2.sentence-2'>.</a><a class='footnotenum' href='#footnote-115' id='footnoteref-115' title='Access permissions are thus transitive and cumulative to nested and local classes.'>115</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/classes.tex#L4522'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'><a class='index' id=':access_control,member_name'></a><a class='index' id=':access_control,default'></a>Members of a class defined with the keyword
<span class='texttt'><span class='keyword'>class</span></span>
are
<span class='texttt'><span class='keyword'>private</span></span>
by default<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>Members of a class defined with the keywords
<span class='texttt'><span class='keyword'>struct</span></span> or <span class='texttt'><span class='keyword'>union</span></span>
are public by default<a class='hidden_link' href='#3.sentence-2'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<a class='example_link' href='#example-1'><span class='textit'>Example&nbsp;1</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;            <span class='comment'>// <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;a</span> is private by default</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;            <span class='comment'>// <span class='tcode_in_codeblock'>S&#x200b;::&#x200b;a</span> is public by default</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/classes.tex#L4546'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>Access control is applied uniformly to all names, whether the names are
referred to from declarations or expressions<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<a class='note_link' href='#note-1'><span class='textit'>Note&nbsp;1</span></a><span class='textit'>:</span> <div id='4.sentence-2' class='sentence'>Access control applies to names nominated by
friend declarations (<a href='class.friend' title='11.9.4&emsp;Friends'>[class.<span class='shy'></span>friend]</a>) and
<a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><span class='textit'>using-declaration</span></span></span></a><span class='textit'>s</span> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)<a class='hidden_link' href='#4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='4.sentence-3' class='sentence'>
In the case of overloaded function names, access control is applied to
the function selected by overload resolution<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<a class='note_link' href='#note-2'><span class='textit'>Note&nbsp;2</span></a><span class='textit'>:</span> <div id='4.sentence-4' class='sentence'>Because access control applies to names, if access control is applied to a
typedef name, only the accessibility of the typedef name itself is considered<a class='hidden_link' href='#4.sentence-4'>.</a></div> <div id='4.sentence-5' class='sentence'>The accessibility of the entity referred to by the typedef is not considered<a class='hidden_link' href='#4.sentence-5'>.</a></div> <div id='4.sentence-6' class='sentence'>For example,</div></div><div class='texpara'><span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>typedef</span> B BB;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A<span class='operator'>::</span>BB x;          <span class='comment'>// OK, typedef name <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;BB</span> is public</span>
  A<span class='operator'>::</span>B y;           <span class='comment'>// access error, <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> is private</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/classes.tex#L4576'>#</a></div><div class='texpara'><div id='note-3' class='note'><div class='texpara'>[<a class='note_link' href='#note-3'><span class='textit'>Note&nbsp;3</span></a><span class='textit'>:</span> <div id='5.sentence-1' class='sentence'>Access to members and base classes is controlled, not their
visibility (<a href='basic.scope.hiding' title='6.4.10&emsp;Name hiding'>[basic.<span class='shy'></span>scope.<span class='shy'></span>hiding]</a>)<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>Names of members are still visible, and implicit conversions to base
classes are still considered, when those members and base classes are
inaccessible<a class='hidden_link' href='#5.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='5.sentence-3' class='sentence'>
The interpretation of a given construct is
established without regard to access control<a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'>If the interpretation
established makes use of inaccessible member names or base classes,
the construct is ill-formed<a class='hidden_link' href='#5.sentence-4'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/classes.tex#L4590'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>All access controls in <a href='class.access' title='11.9&emsp;Member access control'>[class.<span class='shy'></span>access]</a> affect the ability to access a class member
name from the declaration of a particular
entity, including parts of the declaration preceding the name of the entity
being declared and, if the entity is a class, the definitions of members of
the class appearing outside the class's <a href='class.mem.general#nt:member-specification' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-specification'><span class='textsf'><span class='textit'>member-specification</span></span></span></a><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='note-4' class='note'><div class='texpara'>[<a class='note_link' href='#note-4'><span class='textit'>Note&nbsp;4</span></a><span class='textit'>:</span> <div id='6.sentence-2' class='sentence'>This access also applies to implicit references to constructors,
conversion functions, and destructors<a class='hidden_link' href='#6.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/classes.tex#L4601'>#</a></div><div class='texpara'><div id='example-2' class='example'><div class='texpara'>[<a class='example_link' href='#example-2'><span class='textit'>Example&nbsp;2</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> I;    <span class='comment'>// private member</span>
  I f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>friend</span> I g<span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;
  <span class='keyword'>static</span> I x;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Q;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> <span class='keyword'>friend</span> <span class='keyword'>struct</span> R;
<span class='keyword'>protected</span><span class='operator'>:</span>
    <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

A<span class='operator'>::</span>I A<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>
A<span class='operator'>::</span>I g<span class='parenthesis'>(</span>A<span class='operator'>::</span>I p <span class='operator'>=</span> A<span class='operator'>::</span>x<span class='parenthesis'>)</span>;
A<span class='operator'>::</span>I g<span class='parenthesis'>(</span>A<span class='operator'>::</span>I p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>
A<span class='operator'>::</span>I A<span class='operator'>::</span>x <span class='operator'>=</span> <span class='literal'>0</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>A<span class='operator'>::</span>I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='operator'>::</span>Q <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>A<span class='operator'>::</span>I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> R <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D<span class='operator'>:</span> A<span class='operator'>::</span>B, A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='7.sentence-1' class='sentence'>Here, all the uses of
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>I</span>
are well-formed because
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>f</span>,
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>x</span>, and <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>Q</span>
are members of class
<span class='texttt'>A</span>
and
<span class='texttt'>g</span>
and <span class='texttt'>R</span> are friends of class
<span class='texttt'>A</span><a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>This implies, for example, that access checking on the first use of
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>I</span>
must be deferred until it is determined that this use of
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>I</span>
is as the return type of a member of class
<span class='texttt'>A</span><a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>Similarly, the use of <span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>B</span> as a
<a href='class.derived.general#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier'><span class='textsf'><span class='textit'>base-specifier</span></span></span></a> is well-formed because <span class='texttt'>D</span>
is derived from <span class='texttt'>A</span>, so checking of <a href='class.derived.general#nt:base-specifier' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier_'><span class='textsf'><span class='textit'>base-specifier</span></span></span></a><span class='textit'>s</span>
must be deferred until the entire <a href='class.derived.general#nt:base-specifier-list' title='11.7.1&emsp;General&emsp;[class.derived.general]'><span id='ntref:base-specifier-list'><span class='textsf'><span class='textit'>base-specifier-list</span></span></span></a> has been seen<a class='hidden_link' href='#7.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/classes.tex#L4648'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'><a class='index' id=':argument,access_checking_and_default'></a><a class='index' id=':access_control,default_argument'></a>The names in a default argument (<a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>) are
bound at the point of declaration, and access is checked at that
point rather than at any points of use of the default argument<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>Access checking for default arguments in function templates and in
member functions of class templates is performed as described in <a href='temp.inst' title='13.9.2&emsp;Implicit instantiation'>[temp.<span class='shy'></span>inst]</a><a class='hidden_link' href='#8.sentence-2'>.</a></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/classes.tex#L4657'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'>The names in a default <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><span class='textit'>template-argument</span></span></span></a> (<a href='temp.param' title='13.2&emsp;Template parameters'>[temp.<span class='shy'></span>param]</a>)
have their access checked in the context in which they appear rather than at any
points of use of the default <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument_'><span class='textsf'><span class='textit'>template-argument</span></span></span></a><a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='example-3' class='example'><div class='texpara'>[<a class='example_link' href='#example-3'><span class='textit'>Example&nbsp;3</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> C <span class='curlybracket'>{</span>
<span class='keyword'>protected</span><span class='operator'>:</span>
  <span class='keyword'>typedef</span> T TT;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U, <span class='keyword'>class</span> V <span class='operator'>=</span> <span class='keyword'>typename</span> U<span class='operator'>::</span>TT<span class='anglebracket'>&gt;</span>
<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> U <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;

D <span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&gt;</span> <span class='anglebracket'>&gt;</span><span class='operator'>*</span> d;       <span class='comment'>// access error, <span class='tcode_in_codeblock'>C&#x200b;::&#x200b;TT</span> is protected</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnote' id='footnote-115'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-115'>115)</a></div><div class='texpara'><div id='footnote-115.sentence-1' class='sentence'>Access
permissions are thus transitive and cumulative to nested
and local classes<a class='hidden_link' href='#footnote-115.sentence-1'>.</a></div>&nbsp;<a href='#footnoteref-115'>⮥</a></div></div></div></body></html>