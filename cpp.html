<!DOCTYPE html><html lang='en'><head><title>[cpp]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>15</a> Preprocessing directives <a class='abbr_ref' href='./#cpp'>[cpp]</a></h1><span class='indexparent'><a class='index' id=':preprocessing_directive'></a></span><div id='pre' class='section'><h2 ><a class='secnum' href='#pre' style='min-width:88pt'>15.1</a> Preamble <a class='abbr_ref' href='cpp.pre'>[cpp.pre]</a></h2><pre class='bnf'><a class='nontermdef' href='#nt:preprocessing-file' id='nt:preprocessing-file'>preprocessing-file</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<a class='grammarterm' href='#nt:module-file'>module-file</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:module-file' id='nt:module-file'>module-file</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:pp-global-module-fragment'>pp-global-module-fragment</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:pp-module'>pp-module</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:pp-private-module-fragment'>pp-private-module-fragment</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:pp-global-module-fragment' id='nt:pp-global-module-fragment'>pp-global-module-fragment</a><span class='ntdefcolon'>:</span>
&#9;<span class='texttt'><span class='keyword'>module</span></span><span class='indexparent'><a class='index' id=':module'></a></span> <span class='terminal'>;</span> <a class='grammarterm' href='#nt:new-line'>new-line</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:pp-private-module-fragment' id='nt:pp-private-module-fragment'>pp-private-module-fragment</a><span class='ntdefcolon'>:</span>
&#9;<span class='texttt'><span class='keyword'>module</span></span><span class='indexparent'><a class='index' id=':module_'></a></span> <span class='terminal'><span class='operator'>:</span></span> <span class='texttt'><span class='keyword'>private</span></span><span class='indexparent'><a class='index' id=':private'></a></span> <span class='terminal'>;</span> <a class='grammarterm' href='#nt:new-line'>new-line</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:group' id='nt:group'>group</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:group-part'>group-part</a>
&#9;<a class='grammarterm' href='#nt:group'>group</a> <a class='grammarterm' href='#nt:group-part'>group-part</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:group-part' id='nt:group-part'>group-part</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:control-line'>control-line</a>
&#9;<a class='grammarterm' href='#nt:if-section'>if-section</a>
&#9;<a class='grammarterm' href='#nt:text-line'>text-line</a>
&#9;<span class='terminal'><span class='preprocessordirective'>#</span></span> <a class='grammarterm' href='#nt:conditionally-supported-directive'>conditionally-supported-directive</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:control-line' id='nt:control-line'>control-line</a><span class='ntdefcolon'>:</span>
&#9;<span class='terminal'><span class='preprocessordirective'># include</span></span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
&#9;<a class='grammarterm' href='#nt:pp-import'>pp-import</a>
&#9;<span class='terminal'><span class='preprocessordirective'># define</span> </span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:replacement-list'>replacement-list</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
&#9;<span class='terminal'><span class='preprocessordirective'># define</span> </span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:lparen'>lparen</a> <a class='grammarterm' href='#nt:identifier-list'>identifier-list</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span> <a class='grammarterm' href='#nt:replacement-list'>replacement-list</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
&#9;<span class='terminal'><span class='preprocessordirective'># define</span> </span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:lparen'>lparen</a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='parenthesis'>)</span></span> <a class='grammarterm' href='#nt:replacement-list'>replacement-list</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
&#9;<span class='terminal'><span class='preprocessordirective'># define</span> </span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:lparen'>lparen</a> <a class='grammarterm' href='#nt:identifier-list'>identifier-list</a> <span class='terminal'>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='parenthesis'>)</span></span> <a class='grammarterm' href='#nt:replacement-list'>replacement-list</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
&#9;<span class='terminal'><span class='preprocessordirective'># undef</span>  </span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
&#9;<span class='terminal'><span class='preprocessordirective'># line</span>   </span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
&#9;<span class='terminal'><span class='preprocessordirective'># error</span>  </span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
&#9;<span class='terminal'><span class='preprocessordirective'># pragma</span> </span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
&#9;<span class='terminal'><span class='preprocessordirective'>#</span> </span><a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:if-section' id='nt:if-section'>if-section</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:if-group'>if-group</a> <a class='grammarterm' href='#nt:elif-groups'>elif-groups</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:else-group'>else-group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:endif-line'>endif-line</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:if-group' id='nt:if-group'>if-group</a><span class='ntdefcolon'>:</span>
&#9;<span class='terminal'><span class='preprocessordirective'># if</span>     </span> <a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> <a class='grammarterm' href='#nt:new-line'>new-line</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'><span class='preprocessordirective'># ifdef</span>  </span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:new-line'>new-line</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
&#9;<span class='terminal'><span class='preprocessordirective'># ifndef</span> </span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:new-line'>new-line</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:elif-groups' id='nt:elif-groups'>elif-groups</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:elif-group'>elif-group</a>
&#9;<a class='grammarterm' href='#nt:elif-groups'>elif-groups</a> <a class='grammarterm' href='#nt:elif-group'>elif-group</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:elif-group' id='nt:elif-group'>elif-group</a><span class='ntdefcolon'>:</span>
&#9;<span class='terminal'><span class='preprocessordirective'># elif</span>   </span> <a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> <a class='grammarterm' href='#nt:new-line'>new-line</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:else-group' id='nt:else-group'>else-group</a><span class='ntdefcolon'>:</span>
&#9;<span class='terminal'><span class='preprocessordirective'># else</span>   </span> <a class='grammarterm' href='#nt:new-line'>new-line</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:endif-line' id='nt:endif-line'>endif-line</a><span class='ntdefcolon'>:</span>
&#9;<span class='terminal'><span class='preprocessordirective'># endif</span>  </span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:text-line' id='nt:text-line'>text-line</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:conditionally-supported-directive' id='nt:conditionally-supported-directive'>conditionally-supported-directive</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:lparen' id='nt:lparen'>lparen</a><span class='ntdefcolon'>:</span>
&#9;<span class='descr'>a <span class='terminal'><span class='parenthesis'>(</span></span> character not immediately preceded by white-space</span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:identifier-list' id='nt:identifier-list'>identifier-list</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
&#9;<a class='grammarterm' href='#nt:identifier-list'>identifier-list</a> <span class='terminal'>,</span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:replacement-list' id='nt:replacement-list'>replacement-list</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:pp-tokens' id='nt:pp-tokens'>pp-tokens</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='lex.pptoken#nt:preprocessing-token'>preprocessing-token</a>
&#9;<a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> <a class='grammarterm' href='lex.pptoken#nt:preprocessing-token'>preprocessing-token</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:new-line' id='nt:new-line'>new-line</a><span class='ntdefcolon'>:</span>
&#9;<span class='descr'>the <a class='grammarterm' href='#nt:new-line'>new-line</a> character</span>
</pre><div class='para' id='pre-1'><div class='marginalizedparent'><a class='marginalized' href='#pre-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L133'>#</a></div><div id='pre-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:preprocessing_directive' id='def:preprocessing_directive'><i >preprocessing directive</i></a> consists of a sequence of preprocessing tokens
that satisfies the following constraints:
At the start of translation phase 4,
the first token in the sequence,
referred to as a <a class='hidden_link' href='#def:token,directive-introducing' id='def:token,directive-introducing'><i >directive-introducing token</i></a>,
begins with the first character in the source file
(optionally after white space containing no new-line characters) or
follows white space containing at least one new-line character,
and is</div><ul class='itemize'><li id='pre-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#pre-1.1'>(1.1)</a></div><div id='pre-1.1.sentence-1' class='sentence'>a <span class='texttt'><span class='preprocessordirective'>#</span></span> preprocessing token, or</div></li><li id='pre-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#pre-1.2'>(1.2)</a></div><div id='pre-1.2.sentence-1' class='sentence'>an <span class='texttt'><span class='keyword'>import</span></span><span class='indexparent'><a class='index' id=':import'></a></span> preprocessing token
immediately followed on the same logical line by a
<a class='grammarterm' href='lex.header#nt:header-name'>header-name</a>,
<span class='texttt'><span class='anglebracket'>&lt;</span></span>,
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>,
<a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a>, or
<span class='texttt'><span class='operator'>:</span></span>
preprocessing token, or</div></li><li id='pre-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#pre-1.3'>(1.3)</a></div><div id='pre-1.3.sentence-1' class='sentence'>a <span class='texttt'><span class='keyword'>module</span></span><span class='indexparent'><a class='index' id=':module__'></a></span> preprocessing token
immediately followed on the same logical line by an
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>,
<span class='texttt'><span class='operator'>:</span></span>, or
<span class='texttt'>;</span>
preprocessing token, or</div></li><li id='pre-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#pre-1.4'>(1.4)</a></div><div id='pre-1.4.sentence-1' class='sentence'>an <span class='texttt'><span class='keyword'>export</span></span><span class='indexparent'><a class='index' id=':export'></a></span> preprocessing token
immediately followed on the same logical line by
one of the two preceding forms<a class='hidden_link' href='#pre-1.4.sentence-1'>.</a></div></li></ul><div id='pre-1.sentence-2' class='sentence'>The last token in the sequence is the first token within the sequence that
is immediately followed by whitespace containing a new-line character<a class='hidden_link' href='#pre-1.sentence-2'>.</a><a class='footnotenum' href='#footnote-141' id='footnoteref-141'>141</a></div> <div id='pre-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#pre-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='pre-1.sentence-3' class='sentence'>A new-line character ends the preprocessing directive even if it occurs
within what would otherwise be an invocation of a function-like macro<a class='hidden_link' href='#pre-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> <div id='pre-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#pre-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='preprocessordirective'>#</span>                       <span class='comment'>// preprocessing directive</span>
<span class='keyword'>module</span> ;                <span class='comment'>// preprocessing directive</span>
<span class='keyword'>export</span> <span class='keyword'>module</span> leftpad;  <span class='comment'>// preprocessing directive</span>
<span class='keyword'>import</span> <span class='anglebracket'>&lt;</span>string<span class='anglebracket'>&gt;</span>;        <span class='comment'>// preprocessing directive</span>
<span class='keyword'>export</span> <span class='keyword'>import</span> <span class='literal'>"squee"</span>;  <span class='comment'>// preprocessing directive</span>
<span class='keyword'>import</span> rightpad;        <span class='comment'>// preprocessing directive</span>
<span class='keyword'>import</span> <span class='operator'>:</span>part;           <span class='comment'>// preprocessing directive</span>

<span class='keyword'>module</span>                  <span class='comment'>// not a preprocessing directive</span>
;                       <span class='comment'>// not a preprocessing directive</span>

<span class='keyword'>export</span>                  <span class='comment'>// not a preprocessing directive</span>
<span class='keyword'>import</span>                  <span class='comment'>// not a preprocessing directive</span>
foo;                    <span class='comment'>// not a preprocessing directive</span>

<span class='keyword'>export</span>                  <span class='comment'>// not a preprocessing directive</span>
<span class='keyword'>import</span> foo;             <span class='comment'>// preprocessing directive (ill-formed at phase 7)</span>

<span class='keyword'>import</span> <span class='operator'>::</span>               <span class='comment'>// not a preprocessing directive</span>
<span class='keyword'>import</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span>               <span class='comment'>// not a preprocessing directive</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='pre-2'><div class='marginalizedparent'><a class='marginalized' href='#pre-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L211'>#</a></div><div id='pre-2.sentence-1' class='sentence'>A sequence of preprocessing tokens is only a <a class='grammarterm' href='#nt:text-line'>text-line</a>
if it does not begin with a directive-introducing token<a class='hidden_link' href='#pre-2.sentence-1'>.</a></div> <div id='pre-2.sentence-2' class='sentence'>A sequence of preprocessing tokens is only a <a class='grammarterm' href='#nt:conditionally-supported-directive'>conditionally-supported-directive</a>
if it does not begin with any of the directive names
appearing after a <span class='texttt'><span class='preprocessordirective'>#</span></span> in the syntax<a class='hidden_link' href='#pre-2.sentence-2'>.</a></div> <div id='pre-2.sentence-3' class='sentence'>A <a class='grammarterm' href='#nt:conditionally-supported-directive'>conditionally-supported-directive</a> is
conditionally-supported with
<span class='indexparent'><a class='index' id=':additional_supported_forms_of_preprocessing_directive'></a></span>implementation-defined
semantics<a class='hidden_link' href='#pre-2.sentence-3'>.</a></div></div><div class='para' id='pre-3'><div class='marginalizedparent'><a class='marginalized' href='#pre-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L222'>#</a></div><div id='pre-3.sentence-1' class='sentence'>At the start of phase 4 of translation,
the <a class='grammarterm' href='#nt:group'>group</a> of a <a class='grammarterm' href='#nt:pp-global-module-fragment'>pp-global-module-fragment</a> shall
contain neither a <a class='grammarterm' href='#nt:text-line'>text-line</a> nor a <a class='grammarterm' href='#nt:pp-import'>pp-import</a><a class='hidden_link' href='#pre-3.sentence-1'>.</a></div></div><div class='para' id='pre-4'><div class='marginalizedparent'><a class='marginalized' href='#pre-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L227'>#</a></div><div id='pre-4.sentence-1' class='sentence'>When in a group that is skipped (<a href='#cond'>[cpp.cond]</a>), the directive
syntax is relaxed to allow any sequence of preprocessing tokens to occur between
the directive name and the following new-line character<a class='hidden_link' href='#pre-4.sentence-1'>.</a></div></div><div class='para' id='pre-5'><div class='marginalizedparent'><a class='marginalized' href='#pre-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L232'>#</a></div><div id='pre-5.sentence-1' class='sentence'>The only white-space characters that shall appear
between preprocessing tokens
within a preprocessing directive
(from just after the directive-introducing token
through just before the terminating new-line character)
are space and horizontal-tab
(including spaces that have replaced comments
or possibly other white-space characters
in translation phase 3)<a class='hidden_link' href='#pre-5.sentence-1'>.</a></div></div><div class='para' id='pre-6'><div class='marginalizedparent'><a class='marginalized' href='#pre-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L243'>#</a></div><div id='pre-6.sentence-1' class='sentence'>The implementation can
process and skip sections of source files conditionally,
include other source files,
import macros from header units,
and replace macros<a class='hidden_link' href='#pre-6.sentence-1'>.</a></div> <div id='pre-6.sentence-2' class='sentence'>These capabilities are called
<a class='hidden_link' href='#def:preprocessing' id='def:preprocessing'><i >preprocessing</i></a>,
because conceptually they occur
before translation of the resulting translation unit<a class='hidden_link' href='#pre-6.sentence-2'>.</a></div></div><div class='para' id='pre-7'><div class='marginalizedparent'><a class='marginalized' href='#pre-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L254'>#</a></div><div id='pre-7.sentence-1' class='sentence'>The preprocessing tokens within a preprocessing directive
are not subject to macro expansion unless otherwise stated<a class='hidden_link' href='#pre-7.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='pre-7.example-1' class='example'>[&nbsp;<a class='example_link' href='#pre-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='pre-7.sentence-2' class='sentence'>In:
<pre class='codeblock'>
<span class='preprocessordirective'>#define</span> EMPTY
EMPTY   <span class='preprocessordirective'>#</span>   include <span class='anglebracket'>&lt;</span>file<span class='operator'>.</span>h<span class='anglebracket'>&gt;</span>
</pre>
the sequence of preprocessing tokens on the second line is <span class='textit'>not</span>
a preprocessing directive, because it does not begin with a <span class='texttt'><span class='preprocessordirective'>#</span></span> at the start of
translation phase 4, even though it will do so after the macro <span class='texttt'>EMPTY</span>
has been replaced<a class='hidden_link' href='#pre-7.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-141'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-141'>141)</a></div><div id='footnote-141.sentence-1' class='sentence'>Thus,
preprocessing directives are commonly called “lines”<a class='hidden_link' href='#footnote-141.sentence-1'>.</a></div> <div id='footnote-141.sentence-2' class='sentence'>These “lines” have no other syntactic significance,
as all white space is equivalent except in certain situations
during preprocessing (see the
<span class='texttt'><span class='preprocessordirective'>#</span></span>
character string literal creation operator in <a href='#stringize'>[cpp.stringize]</a>, for example)<a class='hidden_link' href='#footnote-141.sentence-2'>.</a></div> <a href='#footnoteref-141'>⮥</a></div></div><div id='cond' class='section'><h2 ><a class='secnum' href='#cond' style='min-width:88pt'>15.2</a> Conditional inclusion <a class='abbr_ref' href='cpp.cond'>[cpp.cond]</a></h2><span class='indexparent'><a class='index' id=':preprocessing_directive,conditional_inclusion'></a></span><span class='indexparent'><a class='index' id=':defined'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:defined-macro-expression' id='nt:defined-macro-expression'>defined-macro-expression</a><span class='ntdefcolon'>:</span>
&#9;<span class='terminal'><span class='preprocessordirective'>defined</span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
&#9;<span class='terminal'><span class='preprocessordirective'>defined</span> <span class='parenthesis'>(</span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <span class='terminal'><span class='parenthesis'>)</span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:h-preprocessing-token' id='nt:h-preprocessing-token'>h-preprocessing-token</a><span class='ntdefcolon'>:</span>
&#9;<span class='textnormal'>any <span class='grammarterm'><a class='grammarterm' href='lex.pptoken#nt:preprocessing-token'>preprocessing-token</a></span> other than <span class='terminal'><span class='anglebracket'>&gt;</span></span></span>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:h-pp-tokens' id='nt:h-pp-tokens'>h-pp-tokens</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='#nt:h-preprocessing-token'>h-preprocessing-token</a>
&#9;<a class='grammarterm' href='#nt:h-pp-tokens'>h-pp-tokens</a> <a class='grammarterm' href='#nt:h-preprocessing-token'>h-preprocessing-token</a>
</pre><pre class='bnf'><a class='nontermdef' href='#nt:header-name-tokens' id='nt:header-name-tokens'>header-name-tokens</a><span class='ntdefcolon'>:</span>
&#9;<a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a>
&#9;<span class='terminal'><span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='#nt:h-pp-tokens'>h-pp-tokens</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span>
</pre><span class='indexparent'><a class='index' id=':__has_include'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:has-include-expression' id='nt:has-include-expression'>has-include-expression</a><span class='ntdefcolon'>:</span>
&#9;<span class='terminal'><span class='texttt'><span class='preprocessordirective'>_&shy;_&shy;has_&shy;include</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='lex.header#nt:header-name'>header-name</a> <span class='terminal'><span class='parenthesis'>)</span></span>
&#9;<span class='terminal'><span class='texttt'><span class='preprocessordirective'>_&shy;_&shy;has_&shy;include</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='#nt:header-name-tokens'>header-name-tokens</a> <span class='terminal'><span class='parenthesis'>)</span></span>
</pre><span class='indexparent'><a class='index' id=':__has_cpp_attribute'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:has-attribute-expression' id='nt:has-attribute-expression'>has-attribute-expression</a><span class='ntdefcolon'>:</span>
&#9;<span class='terminal'><span class='texttt'><span class='preprocessordirective'>_&shy;_&shy;has_&shy;cpp_&shy;attribute</span></span> <span class='parenthesis'>(</span></span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> <span class='terminal'><span class='parenthesis'>)</span></span>
</pre><div class='para' id='cond-1'><div class='marginalizedparent'><a class='marginalized' href='#cond-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L311'>#</a></div><div id='cond-1.sentence-1' class='sentence'>The expression that controls conditional inclusion
shall be an integral constant expression except that
identifiers
(including those lexically identical to keywords)
are interpreted as described below<a class='footnotenum' href='#footnote-142' id='footnoteref-142'>142</a>
and it may contain zero or more <a class='grammarterm' href='#nt:defined-macro-expression'>defined-macro-expression</a><span class='textit'>s</span> and/or
<a class='grammarterm' href='#nt:has-include-expression'>has-include-expression</a><span class='textit'>s</span> and/or
<a class='grammarterm' href='#nt:has-attribute-expression'>has-attribute-expression</a><span class='textit'>s</span> as unary operator expressions<a class='hidden_link' href='#cond-1.sentence-1'>.</a></div></div><div class='para' id='cond-2'><div class='marginalizedparent'><a class='marginalized' href='#cond-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L324'>#</a></div><div id='cond-2.sentence-1' class='sentence'>A <a class='grammarterm' href='#nt:defined-macro-expression'>defined-macro-expression</a> evaluates to <span class='texttt'><span class='literal'>1</span></span>
if the identifier is currently defined
as a macro name
(that is, if it is predefined
or if it has one or more active macro definitions (<a href='#import'>[cpp.import]</a>),
for example because
it has been the subject of a
<span class='texttt'><span class='preprocessordirective'>#define</span></span>
preprocessing directive
without an intervening
<span class='texttt'><span class='preprocessordirective'>#undef</span></span>
directive with the same subject identifier), <span class='texttt'><span class='literal'>0</span></span> if it is not<a class='hidden_link' href='#cond-2.sentence-1'>.</a></div></div><div class='para' id='cond-3'><div class='marginalizedparent'><a class='marginalized' href='#cond-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L338'>#</a></div><div id='cond-3.sentence-1' class='sentence'>The second form of <a class='grammarterm' href='#nt:has-include-expression'>has-include-expression</a>
is considered only if the first form does not match,
in which case the preprocessing tokens are processed just as in normal text<a class='hidden_link' href='#cond-3.sentence-1'>.</a></div></div><div class='para' id='cond-4'><div class='marginalizedparent'><a class='marginalized' href='#cond-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L343'>#</a></div><div id='cond-4.sentence-1' class='sentence'>The header or source file identified by
the parenthesized preprocessing token sequence
in each contained <a class='grammarterm' href='#nt:has-include-expression'>has-include-expression</a>
is searched for as if that preprocessing token sequence
were the <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> in a <span class='texttt'><span class='preprocessordirective'>#include</span></span> directive,
except that no further macro expansion is performed<a class='hidden_link' href='#cond-4.sentence-1'>.</a></div> <div id='cond-4.sentence-2' class='sentence'>If such a directive would not satisfy the syntactic requirements
of a <span class='texttt'><span class='preprocessordirective'>#include</span></span> directive, the program is ill-formed<a class='hidden_link' href='#cond-4.sentence-2'>.</a></div> <div id='cond-4.sentence-3' class='sentence'>The <a class='grammarterm' href='#nt:has-include-expression'>has-include-expression</a> evaluates
to <span class='texttt'><span class='literal'>1</span></span> if the search for the source file succeeds, and
to <span class='texttt'><span class='literal'>0</span></span> if the search fails<a class='hidden_link' href='#cond-4.sentence-3'>.</a></div></div><div class='para' id='cond-5'><div class='marginalizedparent'><a class='marginalized' href='#cond-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L356'>#</a></div><div id='cond-5.sentence-1' class='sentence'>Each <a class='grammarterm' href='#nt:has-attribute-expression'>has-attribute-expression</a> is replaced by
a non-zero <a class='grammarterm' href='lex.ppnumber#nt:pp-number'>pp-number</a>
matching the form of an <a class='grammarterm' href='lex.icon#nt:integer-literal'>integer-literal</a>
if the implementation supports an attribute
with the name specified by interpreting
the <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a>, after macro expansion,
as an <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a>,
and by <span class='texttt'><span class='literal'>0</span></span> otherwise<a class='hidden_link' href='#cond-5.sentence-1'>.</a></div> <div id='cond-5.sentence-2' class='sentence'>The program is ill-formed if the <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a>
do not match the form of an <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a><a class='hidden_link' href='#cond-5.sentence-2'>.</a></div></div><div class='para' id='cond-6'><div class='marginalizedparent'><a class='marginalized' href='#cond-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L368'>#</a></div><div id='cond-6.sentence-1' class='sentence'>For an attribute specified in this document,
the value of the <a class='grammarterm' href='#nt:has-attribute-expression'>has-attribute-expression</a>
is given by Table <a href='#tab:cpp.cond.ha'>18</a><a class='hidden_link' href='#cond-6.sentence-1'>.</a></div> <div id='cond-6.sentence-2' class='sentence'>For other attributes recognized by the implementation,
the value is
<span class='indexparent'><a class='index' id=':value_of_has-attribute-expression_for_non-standard_attributes'></a></span>implementation-defined<a class='hidden_link' href='#cond-6.sentence-2'>.</a></div> <div id='cond-6.note-1' class='note'>[&nbsp;<a class='note_link' href='#cond-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='cond-6.sentence-3' class='sentence'>It is expected
that the availability of an attribute can be detected by any non-zero result<a class='hidden_link' href='#cond-6.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> <div class='numberedTable' id='tab:cpp.cond.ha'>Table <a href='#tab:cpp.cond.ha'>18</a>: <span class='texttt'><span class='preprocessordirective'>_&shy;_&shy;has_&shy;cpp_&shy;attribute</span></span> values &emsp;&ensp;[tab:cpp.cond.ha]<br><table ><tr class='rowsep'><td class='center'><div id='cond-6.sentence-4' class='sentence'><b>Attribute</b></div></td><td class='center'><div id='cond-6.sentence-5' class='sentence'><b>Value</b></div></td></tr><tr class='rowsep'><td class='left'><div id='cond-6.sentence-6' class='sentence'><span class='texttt'>carries_&shy;dependency</span></div></td><td class='left'><div id='cond-6.sentence-7' class='sentence'><span class='texttt'><span class='literal'>200809L</span></span></div></td></tr><tr ><td class='left'><div id='cond-6.sentence-8' class='sentence'><span class='texttt'>deprecated</span></div></td><td class='left'><div id='cond-6.sentence-9' class='sentence'><span class='texttt'><span class='literal'>201309L</span></span></div></td></tr><tr ><td class='left'><div id='cond-6.sentence-10' class='sentence'><span class='texttt'>fallthrough</span></div></td><td class='left'><div id='cond-6.sentence-11' class='sentence'><span class='texttt'><span class='literal'>201603L</span></span></div></td></tr><tr ><td class='left'><div id='cond-6.sentence-12' class='sentence'><span class='texttt'>likely</span></div></td><td class='left'><div id='cond-6.sentence-13' class='sentence'><span class='texttt'><span class='literal'>201803L</span></span></div></td></tr><tr ><td class='left'><div id='cond-6.sentence-14' class='sentence'><span class='texttt'>maybe_&shy;unused</span></div></td><td class='left'><div id='cond-6.sentence-15' class='sentence'><span class='texttt'><span class='literal'>201603L</span></span></div></td></tr><tr ><td class='left'><div id='cond-6.sentence-16' class='sentence'><span class='texttt'>no_&shy;unique_&shy;address</span></div></td><td class='left'><div id='cond-6.sentence-17' class='sentence'><span class='texttt'><span class='literal'>201803L</span></span></div></td></tr><tr ><td class='left'><div id='cond-6.sentence-18' class='sentence'><span class='texttt'>nodiscard</span></div></td><td class='left'><div id='cond-6.sentence-19' class='sentence'><span class='texttt'><span class='literal'>201907L</span></span></div></td></tr><tr ><td class='left'><div id='cond-6.sentence-20' class='sentence'><span class='texttt'>noreturn</span></div></td><td class='left'><div id='cond-6.sentence-21' class='sentence'><span class='texttt'><span class='literal'>200809L</span></span></div></td></tr><tr ><td class='left'><div id='cond-6.sentence-22' class='sentence'><span class='texttt'>unlikely</span></div></td><td class='left'><div id='cond-6.sentence-23' class='sentence'><span class='texttt'><span class='literal'>201803L</span></span></div></td></tr></table></div></div><div class='para' id='cond-7'><div class='marginalizedparent'><a class='marginalized' href='#cond-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L396'>#</a></div><div id='cond-7.sentence-1' class='sentence'>The <span class='texttt'><span class='preprocessordirective'>#ifdef</span></span> and <span class='texttt'><span class='preprocessordirective'>#ifndef</span></span> directives, and
the <span class='texttt'><span class='preprocessordirective'>defined</span></span> conditional inclusion operator,
shall treat <span class='texttt'><span class='preprocessordirective'>_&shy;_&shy;has_&shy;include</span></span> and <span class='texttt'><span class='preprocessordirective'>_&shy;_&shy;has_&shy;cpp_&shy;attribute</span></span>
as if they were the names of defined macros<a class='hidden_link' href='#cond-7.sentence-1'>.</a></div> <div id='cond-7.sentence-2' class='sentence'>The identifiers <span class='texttt'><span class='preprocessordirective'>_&shy;_&shy;has_&shy;include</span></span> and <span class='texttt'><span class='preprocessordirective'>_&shy;_&shy;has_&shy;cpp_&shy;attribute</span></span>
shall not appear in any context not mentioned in this subclause<a class='hidden_link' href='#cond-7.sentence-2'>.</a></div></div><div class='para' id='cond-8'><div class='marginalizedparent'><a class='marginalized' href='#cond-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L404'>#</a></div><div id='cond-8.sentence-1' class='sentence'>Each preprocessing token that remains (in the list of preprocessing tokens that
will become the controlling expression)
after all macro replacements have occurred
shall be in the lexical form of a <a href='lex.token'>token</a><a class='hidden_link' href='#cond-8.sentence-1'>.</a></div></div><div class='para' id='cond-9'><div class='marginalizedparent'><a class='marginalized' href='#cond-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L410'>#</a></div><div id='cond-9.sentence-1' class='sentence'>Preprocessing directives of the forms
<pre class='ncsimplebnf'><span class='indexparent'><a class='index' id=':#if'></a></span><span class='terminal'><span class='preprocessordirective'># if</span>     </span> <a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> <a class='grammarterm' href='#nt:new-line'>new-line</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
<span class='indexparent'><a class='index' id=':#elif'></a></span><span class='terminal'><span class='preprocessordirective'># elif</span>   </span> <a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> <a class='grammarterm' href='#nt:new-line'>new-line</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre>
check whether the controlling constant expression evaluates to nonzero<a class='hidden_link' href='#cond-9.sentence-1'>.</a></div></div><div class='para' id='cond-10'><div class='marginalizedparent'><a class='marginalized' href='#cond-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L420'>#</a></div><div id='cond-10.sentence-1' class='sentence'>Prior to evaluation,
macro invocations in the list of preprocessing tokens
that will become the controlling constant expression
are replaced
(except for those macro names modified by the
<span class='texttt'><span class='preprocessordirective'>defined</span></span>
unary operator),
just as in normal text<a class='hidden_link' href='#cond-10.sentence-1'>.</a></div> <div id='cond-10.sentence-2' class='sentence'>If the token
<span class='texttt'><span class='preprocessordirective'>defined</span></span>
is generated as a result of this replacement process
or use of the
<span class='texttt'><span class='preprocessordirective'>defined</span></span>
unary operator does not match one of the two specified forms
prior to macro replacement,
the behavior is undefined<a class='hidden_link' href='#cond-10.sentence-2'>.</a></div></div><div class='para' id='cond-11'><div class='marginalizedparent'><a class='marginalized' href='#cond-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L438'>#</a></div><div id='cond-11.sentence-1' class='sentence'>After all replacements due to macro expansion and
evaluations of
<a class='grammarterm' href='#nt:defined-macro-expression'>defined-macro-expression</a>s,
<a class='grammarterm' href='#nt:has-include-expression'>has-include-expression</a>s, and
<a class='grammarterm' href='#nt:has-attribute-expression'>has-attribute-expression</a>s
have been performed,
all remaining identifiers and keywords,
except for
<span class='texttt'><span class='literal'>true</span></span>
and
<span class='texttt'><span class='literal'>false</span></span>,
are replaced with the <a class='grammarterm' href='lex.ppnumber#nt:pp-number'>pp-number</a>
<span class='texttt'><span class='literal'>0</span></span>,
and then each preprocessing token is converted into a token<a class='hidden_link' href='#cond-11.sentence-1'>.</a></div> <div id='cond-11.note-1' class='note'>[&nbsp;<a class='note_link' href='#cond-11.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='cond-11.sentence-2' class='sentence'>An <a href='lex.digraph'>alternative
token</a> is not an identifier,
even when its spelling consists entirely of letters and underscores<a class='hidden_link' href='#cond-11.sentence-2'>.</a></div> <div id='cond-11.sentence-3' class='sentence'>Therefore it is not subject to this replacement<a class='hidden_link' href='#cond-11.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='cond-12'><div class='marginalizedparent'><a class='marginalized' href='#cond-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L460'>#</a></div><div id='cond-12.sentence-1' class='sentence'>The resulting tokens comprise the controlling constant expression
which is evaluated according to the rules of <a href='expr.const'>[expr.const]</a>
using arithmetic that has at least the ranges specified
in <a href='support.limits'>[support.limits]</a><a class='hidden_link' href='#cond-12.sentence-1'>.</a></div> <div id='cond-12.sentence-2' class='sentence'>For the purposes of this token conversion and evaluation
all signed and unsigned integer types
act as if they have the same representation as, respectively,
<span class='texttt'>intmax_&shy;t</span> or <span class='texttt'>uintmax_&shy;t</span> (<a href='cstdint'>[cstdint]</a>)<a class='hidden_link' href='#cond-12.sentence-2'>.</a></div> <div id='cond-12.note-1' class='note'>[&nbsp;<a class='note_link' href='#cond-12.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='cond-12.sentence-3' class='sentence'>Thus on an
implementation where <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>numeric_&shy;limits<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>max<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>0x7FFF</span></span>
and <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>numeric_&shy;limits<span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>max<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>0xFFFF</span></span>,
the integer literal <span class='texttt'><span class='literal'>0x8000</span></span> is signed and positive within a <span class='texttt'><span class='preprocessordirective'>#if</span></span>
expression even though it is unsigned in <a href='lex.phases'>translation phase
7</a><a class='hidden_link' href='#cond-12.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='cond-12.sentence-4' class='sentence'>
This includes interpreting <a class='grammarterm' href='lex.ccon#nt:character-literal'>character-literal</a>s, which may involve
converting escape sequences into execution character set members<a class='hidden_link' href='#cond-12.sentence-4'>.</a></div> <div id='cond-12.sentence-5' class='sentence'>Whether the numeric value for these <a class='grammarterm' href='lex.ccon#nt:character-literal'>character-literal</a>s
matches the value obtained when an identical <a class='grammarterm' href='lex.ccon#nt:character-literal'>character-literal</a>
occurs in an expression
(other than within a
<span class='texttt'><span class='preprocessordirective'>#if</span></span>
or
<span class='texttt'><span class='preprocessordirective'>#elif</span></span>
directive)
is <span class='indexparent'><a class='index' id=':numeric_values_of_character-literals_in_#if_directives'></a></span>implementation-defined<a class='hidden_link' href='#cond-12.sentence-5'>.</a></div> <div id='cond-12.note-2' class='note'>[&nbsp;<a class='note_link' href='#cond-12.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='cond-12.sentence-6' class='sentence'>Thus, the constant expression in the following
<span class='texttt'><span class='preprocessordirective'>#if</span></span>
directive and
<span class='texttt'><span class='keyword'>if</span></span> statement (<a href='stmt.if'>[stmt.if]</a>)
is not guaranteed to evaluate to the same value in these two
contexts:
<pre class='codeblock'>
<span class='preprocessordirective'>#if</span> <span class='literal'>'z'</span> <span class='operator'>-</span> <span class='literal'>'a'</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>25</span>
<span class='keyword'>if</span> <span class='parenthesis'>(</span><span class='literal'>'z'</span> <span class='operator'>-</span> <span class='literal'>'a'</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>25</span><span class='parenthesis'>)</span>
</pre></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='cond-12.sentence-7' class='sentence'>
Also, whether a single-character <a class='grammarterm' href='lex.ccon#nt:character-literal'>character-literal</a> may have a negative
value is <span class='indexparent'><a class='index' id=':negative_value_of_character-literal_in_preprocessor'></a></span>implementation-defined<a class='hidden_link' href='#cond-12.sentence-7'>.</a></div> <div id='cond-12.sentence-8' class='sentence'>Each subexpression with type
<span class='texttt'><span class='keyword'>bool</span></span>
is subjected to integral promotion before processing continues<a class='hidden_link' href='#cond-12.sentence-8'>.</a></div></div><div class='para' id='cond-13'><div class='marginalizedparent'><a class='marginalized' href='#cond-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L506'>#</a></div><div id='cond-13.sentence-1' class='sentence'>Preprocessing directives of the forms
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># ifdef</span>  </span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:new-line'>new-line</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
<span class='indexparent'><a class='index' id=':#ifdef'></a></span><span class='terminal'><span class='preprocessordirective'># ifndef</span> </span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:new-line'>new-line</a> <a class='grammarterm' href='#nt:group'>group</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><span class='indexparent'><a class='index' id=':#ifndef'></a></span>
</pre>
check whether the identifier is or is not currently defined as a macro name<a class='hidden_link' href='#cond-13.sentence-1'>.</a></div> <div id='cond-13.sentence-2' class='sentence'>Their conditions are equivalent to
<span class='texttt'><span class='preprocessordirective'>#if</span></span>
<span class='texttt'><span class='preprocessordirective'>defined</span></span>
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
and
<span class='texttt'><span class='preprocessordirective'>#if</span></span>
<span class='texttt'><span class='operator'>!</span><span class='preprocessordirective'>defined</span></span>
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
respectively<a class='hidden_link' href='#cond-13.sentence-2'>.</a></div></div><div class='para' id='cond-14'><div class='marginalizedparent'><a class='marginalized' href='#cond-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L525'>#</a></div><div id='cond-14.sentence-1' class='sentence'>Each directive's condition is checked in order<a class='hidden_link' href='#cond-14.sentence-1'>.</a></div> <div id='cond-14.sentence-2' class='sentence'>If it evaluates to false (zero),
the group that it controls is skipped:
directives are processed only through the name that determines
the directive in order to keep track of the level
of nested conditionals;
the rest of the directives' preprocessing tokens are ignored,
as are the other preprocessing tokens in the group<a class='hidden_link' href='#cond-14.sentence-2'>.</a></div> <div id='cond-14.sentence-3' class='sentence'>Only the first group
whose control condition evaluates to true (nonzero) is processed;
any following groups are skipped and their controlling directives
are processed as if they were in a group that is skipped<a class='hidden_link' href='#cond-14.sentence-3'>.</a></div> <div id='cond-14.sentence-4' class='sentence'>If none of the conditions evaluates to true,
and there is a
<span class='texttt'><span class='preprocessordirective'>#else</span></span>
<span class='indexparent'><a class='index' id=':#else'></a></span>directive,
the group controlled by the
<span class='texttt'><span class='preprocessordirective'>#else</span></span>
is processed; lacking a
<span class='texttt'><span class='preprocessordirective'>#else</span></span>
directive, all the groups until the
<span class='texttt'><span class='preprocessordirective'>#endif</span></span>
<span class='indexparent'><a class='index' id=':#endif'></a></span>are skipped<a class='hidden_link' href='#cond-14.sentence-4'>.</a><a class='footnotenum' href='#footnote-143' id='footnoteref-143'>143</a></div></div><div class='para' id='cond-15'><div class='marginalizedparent'><a class='marginalized' href='#cond-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L560'>#</a></div><div id='cond-15.example-1' class='example'>[&nbsp;<a class='example_link' href='#cond-15.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='cond-15.sentence-1' class='sentence'>This demonstrates a way to include a library <span class='texttt'>optional</span> facility
only if it is available:</div><pre class='codeblock'>
<span class='preprocessordirective'>#if</span> <span class='preprocessordirective'>__has_include</span><span class='parenthesis'>(</span><span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
<span class='preprocessordirective'>#  include</span> <span class='anglebracket'>&lt;</span>optional<span class='anglebracket'>&gt;</span>
<span class='preprocessordirective'>#  if</span> __cpp_lib_optional <span class='anglebracket'>&gt;</span><span class='operator'>=</span> <span class='literal'>201603</span>
<span class='preprocessordirective'>#    define</span> have_optional <span class='literal'>1</span>
<span class='preprocessordirective'>#  endif</span>
<span class='preprocessordirective'>#elif</span> <span class='preprocessordirective'>__has_include</span><span class='parenthesis'>(</span><span class='anglebracket'>&lt;</span>experimental<span class='operator'>/</span>optional<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
<span class='preprocessordirective'>#  include</span> <span class='anglebracket'>&lt;</span>experimental<span class='operator'>/</span>optional<span class='anglebracket'>&gt;</span>
<span class='preprocessordirective'>#  if</span> __cpp_lib_experimental_optional <span class='anglebracket'>&gt;</span><span class='operator'>=</span> <span class='literal'>201411</span>
<span class='preprocessordirective'>#    define</span> have_optional <span class='literal'>1</span>
<span class='preprocessordirective'>#    define</span> experimental_optional <span class='literal'>1</span>
<span class='preprocessordirective'>#  endif</span>
<span class='preprocessordirective'>#endif</span>
<span class='preprocessordirective'>#ifndef</span> have_optional
<span class='preprocessordirective'>#  define</span> have_optional <span class='literal'>0</span>
<span class='preprocessordirective'>#endif</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='cond-16'><div class='marginalizedparent'><a class='marginalized' href='#cond-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L584'>#</a></div><div id='cond-16.example-1' class='example'>[&nbsp;<a class='example_link' href='#cond-16.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='cond-16.sentence-1' class='sentence'>This demonstrates a way to use the attribute <span class='texttt'><span class='squarebracket'>[</span><span class='squarebracket'>[</span>acme<span class='operator'>&#x200b;::&#x200b;</span>deprecated<span class='squarebracket'>]</span><span class='squarebracket'>]</span></span>
only if it is available<a class='hidden_link' href='#cond-16.sentence-1'>.</a></div> <pre class='codeblock'>
<span class='preprocessordirective'>#if</span> <span class='preprocessordirective'>__has_cpp_attribute</span><span class='parenthesis'>(</span>acme<span class='operator'>::</span>deprecated<span class='parenthesis'>)</span>
<span class='preprocessordirective'>#  define</span> ATTR_DEPRECATED<span class='parenthesis'>(</span>msg<span class='parenthesis'>)</span> <span class='squarebracket'>[</span><span class='squarebracket'>[</span>acme<span class='operator'>::</span>deprecated<span class='parenthesis'>(</span>msg<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='squarebracket'>]</span>
<span class='preprocessordirective'>#else</span>
<span class='preprocessordirective'>#  define</span> ATTR_DEPRECATED<span class='parenthesis'>(</span>msg<span class='parenthesis'>)</span> <span class='squarebracket'>[</span><span class='squarebracket'>[</span>deprecated<span class='parenthesis'>(</span>msg<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='squarebracket'>]</span>
<span class='preprocessordirective'>#endif</span>
ATTR_DEPRECATED<span class='parenthesis'>(</span><span class='literal'>"This function is deprecated"</span><span class='parenthesis'>)</span> <span class='keyword'>void</span> anvil<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-142'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-142'>142)</a></div><div id='footnote-142.sentence-1' class='sentence'>Because the controlling constant expression is evaluated
during translation phase 4,
all identifiers either are or are not macro names —
there simply are no keywords, enumeration constants, etc<a class='hidden_link' href='#footnote-142.sentence-1'>.</a></div> <a href='#footnoteref-142'>⮥</a></div><div class='footnote' id='footnote-143'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-143'>143)</a></div><div id='footnote-143.sentence-1' class='sentence'>As indicated by the syntax,
a preprocessing token shall not follow a
<span class='texttt'><span class='preprocessordirective'>#else</span></span>
or
<span class='texttt'><span class='preprocessordirective'>#endif</span></span>
directive before the terminating new-line character<a class='hidden_link' href='#footnote-143.sentence-1'>.</a></div> <div id='footnote-143.sentence-2' class='sentence'>However,
comments may appear anywhere in a source file,
including within a preprocessing directive<a class='hidden_link' href='#footnote-143.sentence-2'>.</a></div> <a href='#footnoteref-143'>⮥</a></div></div><div id='include' class='section'><h2 ><a class='secnum' href='#include' style='min-width:88pt'>15.3</a> Source file inclusion <a class='abbr_ref' href='cpp.include'>[cpp.include]</a></h2><span class='indexparent'><a class='index' id=':preprocessing_directive,header_inclusion'></a></span>
<span class='indexparent'><a class='index' id=':preprocessing_directive,source-file_inclusion'></a></span>
<span class='indexparent'><a class='index' id=':#include'></a></span><div class='para' id='include-1'><div class='marginalizedparent'><a class='marginalized' href='#include-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L604'>#</a></div><div id='include-1.sentence-1' class='sentence'>A
<span class='texttt'><span class='preprocessordirective'>#include</span></span>
directive shall identify a header or source file
that can be processed by the implementation<a class='hidden_link' href='#include-1.sentence-1'>.</a></div></div><div class='para' id='include-2'><div class='marginalizedparent'><a class='marginalized' href='#include-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L610'>#</a></div><div id='include-2.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># include</span> <span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='lex.header#nt:h-char-sequence'>h-char-sequence</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre>
searches a sequence of
<span class='indexparent'><a class='index' id=':sequence_of_places_searched_for_a_header'></a></span>implementation-defined
places
for a header identified uniquely by the specified sequence
between the
<span class='texttt'><span class='anglebracket'>&lt;</span></span>
and
<span class='texttt'><span class='anglebracket'>&gt;</span></span>
delimiters,
and causes the replacement of that
directive by the entire contents of the header<a class='hidden_link' href='#include-2.sentence-1'>.</a></div> <div id='include-2.sentence-2' class='sentence'>How the places are specified
or the header identified
is <span class='indexparent'><a class='index' id=':search_locations_for_<>_header'></a></span>implementation-defined<a class='hidden_link' href='#include-2.sentence-2'>.</a></div></div><div class='para' id='include-3'><div class='marginalizedparent'><a class='marginalized' href='#include-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L630'>#</a></div><div id='include-3.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># include</span> "</span> <a class='grammarterm' href='lex.header#nt:q-char-sequence'>q-char-sequence</a> <span class='terminal'>"</span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre>
causes the replacement of that
directive by the entire contents of the
source file identified by the specified sequence between the
<span class='texttt'>"</span>
delimiters<a class='hidden_link' href='#include-3.sentence-1'>.</a></div> <div id='include-3.sentence-2' class='sentence'>The named source file is searched for in an
<span class='indexparent'><a class='index' id=':manner_of_search_for_included_source_file'></a></span>implementation-defined
manner<a class='hidden_link' href='#include-3.sentence-2'>.</a></div> <div id='include-3.sentence-3' class='sentence'>If this search is not supported,
or if the search fails,
the directive is reprocessed as if it read
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># include</span> <span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='lex.header#nt:h-char-sequence'>h-char-sequence</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre>
with the identical contained sequence (including
<span class='texttt'><span class='anglebracket'>&gt;</span></span>
characters, if any) from the original directive<a class='hidden_link' href='#include-3.sentence-3'>.</a></div></div><div class='para' id='include-4'><div class='marginalizedparent'><a class='marginalized' href='#include-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L653'>#</a></div><div id='include-4.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># include</span></span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre>
(that does not match one of the two previous forms) is permitted<a class='hidden_link' href='#include-4.sentence-1'>.</a></div> <div id='include-4.sentence-2' class='sentence'>The preprocessing tokens after
<span class='texttt'>include</span>
in the directive are processed just as in normal text
(i.e., each identifier currently defined as a macro name is replaced by its
replacement list of preprocessing tokens)<a class='hidden_link' href='#include-4.sentence-2'>.</a></div> <div id='include-4.sentence-3' class='sentence'>If the directive resulting after all replacements does not match
one of the two previous forms, the behavior is
undefined<a class='hidden_link' href='#include-4.sentence-3'>.</a><a class='footnotenum' href='#footnote-144' id='footnoteref-144'>144</a></div> <div id='include-4.sentence-4' class='sentence'>
The method by which a sequence of preprocessing tokens between a
<span class='texttt'><span class='anglebracket'>&lt;</span></span>
and a
<span class='texttt'><span class='anglebracket'>&gt;</span></span>
preprocessing token pair or a pair of
<span class='texttt'>"</span>
characters is combined into a single header name
preprocessing token is <span class='indexparent'><a class='index' id=':search_locations_for_""_header'></a></span>implementation-defined<a class='hidden_link' href='#include-4.sentence-4'>.</a></div></div><div class='para' id='include-5'><div class='marginalizedparent'><a class='marginalized' href='#include-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L680'>#</a></div><div id='include-5.sentence-1' class='sentence'>The implementation shall provide unique mappings for
sequences consisting of one or more
<a class='grammarterm' href='lex.name#nt:nondigit'>nondigit</a><span class='textit'>s</span> or <a class='grammarterm' href='lex.name#nt:digit'>digit</a><span class='textit'>s</span>
followed by a period
(<span class='texttt'><span class='operator'>.</span></span>)
and a single
<a class='grammarterm' href='lex.name#nt:nondigit'>nondigit</a><a class='hidden_link' href='#include-5.sentence-1'>.</a></div> <div id='include-5.sentence-2' class='sentence'>The first character shall not be a <a class='grammarterm' href='lex.name#nt:digit'>digit</a><a class='hidden_link' href='#include-5.sentence-2'>.</a></div> <div id='include-5.sentence-3' class='sentence'>The implementation may ignore distinctions of alphabetical case<a class='hidden_link' href='#include-5.sentence-3'>.</a></div></div><div class='para' id='include-6'><div class='marginalizedparent'><a class='marginalized' href='#include-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L691'>#</a></div><div id='include-6.sentence-1' class='sentence'>A
<span class='texttt'><span class='preprocessordirective'>#include</span></span>
preprocessing directive may appear
in a source file that has been read because of a
<span class='texttt'><span class='preprocessordirective'>#include</span></span>
directive in another file,
up to an <span class='indexparent'><a class='index' id=':nesting_limit_for_#include_directives'></a></span>implementation-defined nesting limit<a class='hidden_link' href='#include-6.sentence-1'>.</a></div></div><div class='para' id='include-7'><div class='marginalizedparent'><a class='marginalized' href='#include-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L700'>#</a></div><div id='include-7.sentence-1' class='sentence'>If the header identified by the <a class='grammarterm' href='lex.header#nt:header-name'>header-name</a>
denotes an importable header (<a href='module.import'>[module.import]</a>),
it is
<span class='indexparent'><a class='index' id=':whether_source_file_inclusion_of_importable_header_is_replaced_with_import_directive'></a></span>implementation-defined
whether the <span class='texttt'><span class='preprocessordirective'>#include</span></span> preprocessing directive
is instead replaced by an <span class='texttt'><span class='keyword'>import</span></span> directive (<a href='#import'>[cpp.import]</a>) of the form
<pre class='ncbnf'><span class='terminal'><span class='keyword'>import</span></span> <a class='grammarterm' href='lex.header#nt:header-name'>header-name</a> <span class='terminal'>;</span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre></div></div><div class='para' id='include-8'><div class='marginalizedparent'><a class='marginalized' href='#include-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L712'>#</a></div><div id='include-8.note-1' class='note'>[&nbsp;<a class='note_link' href='#include-8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='include-8.sentence-1' class='sentence'>Although an implementation may provide a mechanism for making arbitrary
source files available to the <span class='texttt'><span class='anglebracket'>&lt;</span> <span class='anglebracket'>&gt;</span></span> search, in general
programmers should use the <span class='texttt'><span class='anglebracket'>&lt;</span> <span class='anglebracket'>&gt;</span></span> form for headers provided
with the implementation, and the <span class='texttt'><span class='literal'>" "</span></span> form for sources
outside the control of the implementation<a class='hidden_link' href='#include-8.sentence-1'>.</a></div> <div id='include-8.sentence-2' class='sentence'>For instance:</div><pre class='codeblock'>
<span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>stdio<span class='operator'>.</span>h<span class='anglebracket'>&gt;</span>
<span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>unistd<span class='operator'>.</span>h<span class='anglebracket'>&gt;</span>
<span class='preprocessordirective'>#include</span> <span class='literal'>"usefullib.h"</span>
<span class='preprocessordirective'>#include</span> <span class='literal'>"myprog.h"</span>
</pre> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='include-9'><div class='marginalizedparent'><a class='marginalized' href='#include-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L729'>#</a></div><div id='include-9.example-1' class='example'>[&nbsp;<a class='example_link' href='#include-9.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='include-9.sentence-1' class='sentence'>This illustrates macro-replaced
<span class='texttt'><span class='preprocessordirective'>#include</span></span>
directives:</div><pre class='codeblock'>
<span class='preprocessordirective'>#if</span> VERSION <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>1</span>
    <span class='preprocessordirective'>#define</span> INCFILE  <span class='literal'>"vers1.h"</span>
<span class='preprocessordirective'>#elif</span> VERSION <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>2</span>
    <span class='preprocessordirective'>#define</span> INCFILE  <span class='literal'>"vers2.h"</span>  <span class='comment'>// and so on</span>
<span class='preprocessordirective'>#else</span>
    <span class='preprocessordirective'>#define</span> INCFILE  <span class='literal'>"versN.h"</span>
<span class='preprocessordirective'>#endif</span>
<span class='preprocessordirective'>#include</span> INCFILE
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-144'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-144'>144)</a></div><div id='footnote-144.sentence-1' class='sentence'>Note that adjacent <a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a>s are not concatenated into
a single <a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a>
(see the translation phases in <a href='lex.phases'>[lex.phases]</a>);
thus, an expansion that results in two <a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a>s is an
invalid directive<a class='hidden_link' href='#footnote-144.sentence-1'>.</a></div> <a href='#footnoteref-144'>⮥</a></div></div><div id='module' class='section'><h2 ><a class='secnum' href='#module' style='min-width:88pt'>15.4</a> Module directive <a class='abbr_ref' href='cpp.module'>[cpp.module]</a></h2><span class='indexparent'><a class='index' id=':preprocessing_directive,module'></a></span>
<pre class='bnf'><a class='nontermdef' href='#nt:pp-module' id='nt:pp-module'>pp-module</a><span class='ntdefcolon'>:</span>
&#9;<span class='texttt'><span class='keyword'>export</span></span><span class='indexparent'><a class='index' id=':export_'></a></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>module</span></span><span class='indexparent'><a class='index' id=':module___'></a></span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre><div class='para' id='module-1'><div class='marginalizedparent'><a class='marginalized' href='#module-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L755'>#</a></div><div id='module-1.sentence-1' class='sentence'>A <a class='grammarterm' href='#nt:pp-module'>pp-module</a> shall not
appear in a context where <span class='texttt'><span class='keyword'>module</span></span>
or (if it is the first token of the <a class='grammarterm' href='#nt:pp-module'>pp-module</a>) <span class='texttt'><span class='keyword'>export</span></span>
is an identifier defined as an object-like macro<a class='hidden_link' href='#module-1.sentence-1'>.</a></div></div><div class='para' id='module-2'><div class='marginalizedparent'><a class='marginalized' href='#module-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L761'>#</a></div><div id='module-2.sentence-1' class='sentence'>Any preprocessing tokens after the <span class='texttt'><span class='keyword'>module</span></span> preprocessing token
in the <span class='texttt'><span class='keyword'>module</span></span> directive are processed just as in normal text<a class='hidden_link' href='#module-2.sentence-1'>.</a></div> <div id='module-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#module-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='module-2.sentence-2' class='sentence'>Each identifier currently defined as a macro name
is replaced by its replacement list of preprocessing tokens<a class='hidden_link' href='#module-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='module-3'><div class='marginalizedparent'><a class='marginalized' href='#module-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L769'>#</a></div><div id='module-3.sentence-1' class='sentence'>The <span class='texttt'><span class='keyword'>module</span></span> and <span class='texttt'><span class='keyword'>export</span></span> (if it exists) preprocessing tokens
are replaced by the <span class='grammarterm'>module-keyword</span> and
<span class='grammarterm'>export-keyword</span> preprocessing tokens respectively<a class='hidden_link' href='#module-3.sentence-1'>.</a></div> <div id='module-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#module-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='module-3.sentence-2' class='sentence'>This makes the line no longer a directive
so it is not removed at the end of phase 4<a class='hidden_link' href='#module-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='import' class='section'><h2 ><a class='secnum' href='#import' style='min-width:88pt'>15.5</a> Header unit importation <a class='abbr_ref' href='cpp.import'>[cpp.import]</a></h2><span class='indexparent'><a class='index' id=':header_unit,preprocessing'></a></span><span class='indexparent'><a class='index' id=':preprocessing_directive,import'></a></span><span class='indexparent'><a class='index' id=':macro,import'></a></span>
<pre class='bnf'><a class='nontermdef' href='#nt:pp-import' id='nt:pp-import'>pp-import</a><span class='ntdefcolon'>:</span>
&#9;<span class='texttt'><span class='keyword'>export</span></span><span class='indexparent'><a class='index' id=':export__'></a></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>import</span></span><span class='indexparent'><a class='index' id=':import_'></a></span> <a class='grammarterm' href='lex.header#nt:header-name'>header-name</a> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
&#9;<span class='texttt'><span class='keyword'>export</span></span><span class='indexparent'><a class='index' id=':export___'></a></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>import</span></span><span class='indexparent'><a class='index' id=':import__'></a></span> <a class='grammarterm' href='#nt:header-name-tokens'>header-name-tokens</a> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
&#9;<span class='texttt'><span class='keyword'>export</span></span><span class='indexparent'><a class='index' id=':export____'></a></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>import</span></span><span class='indexparent'><a class='index' id=':import___'></a></span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> <span class='terminal'>;</span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre><div class='para' id='import-1'><div class='marginalizedparent'><a class='marginalized' href='#import-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L790'>#</a></div><div id='import-1.sentence-1' class='sentence'>A <a class='grammarterm' href='#nt:pp-import'>pp-import</a> shall not
appear in a context where <span class='texttt'><span class='keyword'>import</span></span>
or (if it is the first token of the <a class='grammarterm' href='#nt:pp-import'>pp-import</a>) <span class='texttt'><span class='keyword'>export</span></span>
is an identifier defined as an object-like macro<a class='hidden_link' href='#import-1.sentence-1'>.</a></div></div><div class='para' id='import-2'><div class='marginalizedparent'><a class='marginalized' href='#import-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L796'>#</a></div><div id='import-2.sentence-1' class='sentence'>The preprocessing tokens after the <span class='texttt'><span class='keyword'>import</span></span> preprocessing token
in the <span class='texttt'><span class='keyword'>import</span></span> <a class='grammarterm' href='#nt:control-line'>control-line</a>
are processed just as in normal text
(i.e., each identifier currently defined as a macro name
is replaced by its replacement list of preprocessing tokens)<a class='hidden_link' href='#import-2.sentence-1'>.</a></div> <div id='import-2.sentence-2' class='sentence'>An <span class='texttt'><span class='keyword'>import</span></span> directive
matching the first two forms of a <a class='grammarterm' href='#nt:pp-import'>pp-import</a>
instructs the preprocessor to import macros
from the header unit (<a href='module.import'>[module.import]</a>)
denoted by the <a class='grammarterm' href='lex.header#nt:header-name'>header-name</a><a class='hidden_link' href='#import-2.sentence-2'>.</a></div> <div id='import-2.sentence-3' class='sentence'>The <a class='hidden_link' href='#def:macro,point_of_import' id='def:macro,point_of_import'><i >point of macro import</i></a> for the
first two forms of <a class='grammarterm' href='#nt:pp-import'>pp-import</a> is
immediately after the <a class='grammarterm' href='#nt:new-line'>new-line</a> terminating
the <a class='grammarterm' href='#nt:pp-import'>pp-import</a><a class='hidden_link' href='#import-2.sentence-3'>.</a></div> <div id='import-2.sentence-4' class='sentence'>The last form of <a class='grammarterm' href='#nt:pp-import'>pp-import</a> is only considered
if the first two forms did not match<a class='hidden_link' href='#import-2.sentence-4'>.</a></div></div><div class='para' id='import-3'><div class='marginalizedparent'><a class='marginalized' href='#import-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L815'>#</a></div><div id='import-3.sentence-1' class='sentence'>If a <a class='grammarterm' href='#nt:pp-import'>pp-import</a> is produced by source file inclusion
(including by the rewrite produced
when a <span class='texttt'><span class='preprocessordirective'>#include</span></span> directive names an importable header)
while processing the <a class='grammarterm' href='#nt:group'>group</a> of a <a class='grammarterm' href='#nt:module-file'>module-file</a>,
the program is ill-formed<a class='hidden_link' href='#import-3.sentence-1'>.</a></div></div><div class='para' id='import-4'><div class='marginalizedparent'><a class='marginalized' href='#import-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L822'>#</a></div><div id='import-4.sentence-1' class='sentence'>In all three forms of <a class='grammarterm' href='#nt:pp-import'>pp-import</a>,
the <span class='texttt'><span class='keyword'>import</span></span> and <span class='texttt'><span class='keyword'>export</span></span> (if it exists) preprocessing tokens
are replaced by the <span class='grammarterm'>import-keyword</span> and
<span class='grammarterm'>export-keyword</span> preprocessing tokens respectively<a class='hidden_link' href='#import-4.sentence-1'>.</a></div> <div id='import-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#import-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='import-4.sentence-2' class='sentence'>This makes the line no longer a directive
so it is not removed at the end of phase 4<a class='hidden_link' href='#import-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='import-4.sentence-3' class='sentence'>
Additionally, in the second form of <a class='grammarterm' href='#nt:pp-import'>pp-import</a>,
a <a class='grammarterm' href='lex.header#nt:header-name'>header-name</a> token is formed as if
the <a class='grammarterm' href='#nt:header-name-tokens'>header-name-tokens</a>
were the <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> of a <span class='texttt'><span class='preprocessordirective'>#include</span></span> directive<a class='hidden_link' href='#import-4.sentence-3'>.</a></div> <div id='import-4.sentence-4' class='sentence'>The <a class='grammarterm' href='#nt:header-name-tokens'>header-name-tokens</a> are replaced by
the <a class='grammarterm' href='lex.header#nt:header-name'>header-name</a> token<a class='hidden_link' href='#import-4.sentence-4'>.</a></div> <div id='import-4.note-2' class='note'>[&nbsp;<a class='note_link' href='#import-4.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='import-4.sentence-5' class='sentence'>This ensures that imports are treated consistently by
the preprocessor and later phases of translation<a class='hidden_link' href='#import-4.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='import-5'><div class='marginalizedparent'><a class='marginalized' href='#import-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L842'>#</a></div><div id='import-5.sentence-1' class='sentence'>Each <span class='texttt'><span class='preprocessordirective'>#define</span></span> directive encountered when preprocessing
each translation unit in a program results in a distinct
<a class='hidden_link' href='#def:macro,definition' id='def:macro,definition'><i >macro definition</i></a><a class='hidden_link' href='#import-5.sentence-1'>.</a></div> <div id='import-5.note-1' class='note'>[&nbsp;<a class='note_link' href='#import-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='import-5.sentence-2' class='sentence'>A predefined macro name (<a href='#predefined'>[cpp.predefined]</a>)
is not introduced by a <span class='texttt'><span class='preprocessordirective'>#define</span></span> directive<a class='hidden_link' href='#import-5.sentence-2'>.</a></div> <div id='import-5.sentence-3' class='sentence'>Implementations providing mechanisms to predefine additional macros
are encouraged to not treat them
as being introduced by a <span class='texttt'><span class='preprocessordirective'>#define</span></span> directive<a class='hidden_link' href='#import-5.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='import-5.sentence-4' class='sentence'>
Importing macros from a header unit makes macro definitions
from a translation unit visible in other translation units<a class='hidden_link' href='#import-5.sentence-4'>.</a></div> <div id='import-5.sentence-5' class='sentence'>Each macro definition has at most one point of definition in
each translation unit and at most one point of undefinition, as follows:
<ul class='itemize'><li id='import-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#import-5.1'>(5.1)</a></div>The <a class='hidden_link' href='#def:macro,point_of_definition' id='def:macro,point_of_definition'><i >point of definition</i></a>
of a macro definition within a translation unit
is the point at which its <span class='texttt'><span class='preprocessordirective'>#define</span></span> directive occurs (in the translation
unit containing the <span class='texttt'><span class='preprocessordirective'>#define</span></span> directive), or,
if the macro name is not lexically identical to a keyword (<a href='lex.key'>[lex.key]</a>)
or to the <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a><span class='textit'>s</span> <span class='texttt'><span class='keyword'>module</span></span> or <span class='texttt'><span class='keyword'>import</span></span>,
the first point
of macro import of a translation unit containing a point of definition for the
macro definition, if any (in any other translation unit).</li><li id='import-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#import-5.2'>(5.2)</a></div>The <a class='hidden_link' href='#def:macro,point_of_undefinition' id='def:macro,point_of_undefinition'><i >point of undefinition</i></a>
of a macro definition within a translation unit
is the first point at which a <span class='texttt'><span class='preprocessordirective'>#undef</span></span> directive naming the macro occurs
after its point of definition, or the first point
of macro import of a translation unit containing a point of undefinition for the
macro definition, whichever (if any) occurs first.</li></ul></div></div><div class='para' id='import-6'><div class='marginalizedparent'><a class='marginalized' href='#import-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L880'>#</a></div><div id='import-6.sentence-1' class='sentence'>A macro directive is <a class='hidden_link' href='#def:macro,active' id='def:macro,active'><i >active</i></a> at a source location
if it has a point of definition in that translation unit preceding the location,
and does not have a point of undefinition in that translation unit preceding
the location<a class='hidden_link' href='#import-6.sentence-1'>.</a></div></div><div class='para' id='import-7'><div class='marginalizedparent'><a class='marginalized' href='#import-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L887'>#</a></div><div id='import-7.sentence-1' class='sentence'>If a macro would be replaced or redefined, and multiple macro definitions
are active for that macro name, the active macro definitions shall all be
valid redefinitions of the same macro (<a href='#replace'>[cpp.replace]</a>)<a class='hidden_link' href='#import-7.sentence-1'>.</a></div> <div id='import-7.note-1' class='note'>[&nbsp;<a class='note_link' href='#import-7.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='import-7.sentence-2' class='sentence'>The relative order of <a class='grammarterm' href='#nt:pp-import'>pp-import</a><span class='textit'>s</span> has no bearing on whether a
particular macro definition is active<a class='hidden_link' href='#import-7.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='import-8'><div class='marginalizedparent'><a class='marginalized' href='#import-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L896'>#</a></div><div id='import-8.example-1' class='example'>[&nbsp;<a class='example_link' href='#import-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <p>Importable header <span class='texttt'><span class='literal'>"a.h"</span></span>:<pre class='codeblock'>
<span class='preprocessordirective'>#define</span> X <span class='literal'>123</span>   <span class='comment'>// #1</span>
<span class='preprocessordirective'>#define</span> Y <span class='literal'>45</span>    <span class='comment'>// #2</span>
<span class='preprocessordirective'>#define</span> Z a     <span class='comment'>// #3</span>
<span class='preprocessordirective'>#undef</span> X        <span class='comment'>// point of undefinition of #1 in <span class='tcode_in_codeblock'>"a.h"</span></span>
</pre><p>Importable header <span class='texttt'><span class='literal'>"b.h"</span></span>:<pre class='codeblock'>
<span class='keyword'>import</span> <span class='literal'>"a.h"</span>;   <span class='comment'>// point of definition of #1, #2, and #3, point of undefinition of #1 in <span class='tcode_in_codeblock'>"b.h"</span></span>
<span class='preprocessordirective'>#define</span> X <span class='literal'>456</span>   <span class='comment'>// OK, #1 is not active</span>
<span class='preprocessordirective'>#define</span> Y <span class='literal'>6</span>     <span class='comment'>// error: #2 is active</span>
</pre><p>Importable header <span class='texttt'><span class='literal'>"c.h"</span></span>:<pre class='codeblock'>
<span class='preprocessordirective'>#define</span> Y <span class='literal'>45</span>    <span class='comment'>// #4</span>
<span class='preprocessordirective'>#define</span> Z c     <span class='comment'>// #5</span>
</pre><p>Importable header <span class='texttt'><span class='literal'>"d.h"</span></span>:<pre class='codeblock'>
<span class='keyword'>import</span> <span class='literal'>"a.h"</span>;   <span class='comment'>// point of definition of #1, #2, and #3, point of undefinition of #1 in <span class='tcode_in_codeblock'>"d.h"</span></span>
<span class='keyword'>import</span> <span class='literal'>"c.h"</span>;   <span class='comment'>// point of definition of #4 and #5 in <span class='tcode_in_codeblock'>"d.h"</span></span>
<span class='keyword'>int</span> a <span class='operator'>=</span> Y;      <span class='comment'>// OK, active macro definitions #2 and #4 are valid redefinitions</span>
<span class='keyword'>int</span> c <span class='operator'>=</span> Z;      <span class='comment'>// error: active macro definitions #3 and #5 are not valid redefinitions of <span class='tcode_in_codeblock'>Z</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  </div></div><div id='replace' class='section'><h2 ><a class='secnum' href='#replace' style='min-width:88pt'>15.6</a> Macro replacement <a class='abbr_ref' href='cpp.replace'>[cpp.replace]</a></h2><span class='indexparent'><a class='index' id=':macro,replacement'></a></span><div class='para' id='replace-1'><div class='marginalizedparent'><a class='marginalized' href='#replace-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L930'>#</a></div><div id='replace-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':macro,replacement_list'></a></span>Two replacement lists are identical if and only if
the preprocessing tokens in both have
the same number, ordering, spelling, and white-space separation,
where all white-space separations are considered identical<a class='hidden_link' href='#replace-1.sentence-1'>.</a></div></div><div class='para' id='replace-2'><div class='marginalizedparent'><a class='marginalized' href='#replace-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L937'>#</a></div><div id='replace-2.sentence-1' class='sentence'>An identifier currently defined as an
<span class='indexparent'><a class='index' id=':macro,object-like'></a></span>object-like macro (see below) may be redefined by another
<span class='texttt'><span class='preprocessordirective'>#define</span></span>
preprocessing directive provided that the second definition is an
object-like macro definition and the two replacement lists
are identical, otherwise the program is ill-formed<a class='hidden_link' href='#replace-2.sentence-1'>.</a></div> <div id='replace-2.sentence-2' class='sentence'>Likewise, an identifier currently defined as a
<span class='indexparent'><a class='index' id=':macro,function-like'></a></span>function-like macro (see below) may be redefined by another
<span class='texttt'><span class='preprocessordirective'>#define</span></span>
preprocessing directive provided that the second definition is a
function-like macro definition that has the same number and spelling
of parameters,
and the two replacement lists are identical,
otherwise the program is ill-formed<a class='hidden_link' href='#replace-2.sentence-2'>.</a></div></div><div class='para' id='replace-3'><div class='marginalizedparent'><a class='marginalized' href='#replace-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L955'>#</a></div><div id='replace-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#replace-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='replace-3.sentence-1' class='sentence'>The following sequence is valid:
<pre class='codeblock'>
<span class='preprocessordirective'>#define</span> OBJ_LIKE      <span class='parenthesis'>(</span><span class='literal'>1</span><span class='operator'>-</span><span class='literal'>1</span><span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> OBJ_LIKE      <span class='comment'>/* white space */</span> <span class='parenthesis'>(</span><span class='literal'>1</span><span class='operator'>-</span><span class='literal'>1</span><span class='parenthesis'>)</span> <span class='comment'>/* other */</span>
<span class='preprocessordirective'>#define</span> FUNC_LIKE<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>   <span class='parenthesis'>(</span> a <span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> FUNC_LIKE<span class='parenthesis'>(</span> a <span class='parenthesis'>)</span><span class='parenthesis'>(</span>     <span class='comment'>/* note the white space */</span> \
                a <span class='comment'>/* other stuff on this line
                  */</span> <span class='parenthesis'>)</span>
</pre></div> <div id='replace-3.sentence-2' class='sentence'>
But the following redefinitions are invalid:
<pre class='codeblock'>
<span class='preprocessordirective'>#define</span> OBJ_LIKE    <span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>         <span class='comment'>// different token sequence</span>
<span class='preprocessordirective'>#define</span> OBJ_LIKE    <span class='parenthesis'>(</span><span class='literal'>1</span> <span class='operator'>-</span> <span class='literal'>1</span><span class='parenthesis'>)</span>     <span class='comment'>// different white space</span>
<span class='preprocessordirective'>#define</span> FUNC_LIKE<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span> <span class='parenthesis'>(</span> a <span class='parenthesis'>)</span>      <span class='comment'>// different parameter usage</span>
<span class='preprocessordirective'>#define</span> FUNC_LIKE<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span> <span class='parenthesis'>(</span> b <span class='parenthesis'>)</span>      <span class='comment'>// different parameter spelling</span>
</pre></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='replace-4'><div class='marginalizedparent'><a class='marginalized' href='#replace-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L975'>#</a></div><div id='replace-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':macro,replacement_list_'></a></span>There shall be white-space between the identifier and the replacement list
in the definition of an object-like macro<a class='hidden_link' href='#replace-4.sentence-1'>.</a></div></div><div class='para' id='replace-5'><div class='marginalizedparent'><a class='marginalized' href='#replace-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L980'>#</a></div><div id='replace-5.sentence-1' class='sentence'>If the <a class='grammarterm' href='#nt:identifier-list'>identifier-list</a> in the macro definition does not end with
an ellipsis, the number of arguments (including those arguments consisting
of no preprocessing tokens)
in an invocation of a function-like macro shall
equal the number of parameters in the macro definition<a class='hidden_link' href='#replace-5.sentence-1'>.</a></div> <div id='replace-5.sentence-2' class='sentence'>Otherwise, there shall be at least as many arguments in the invocation as there are
parameters in the macro definition (excluding the <span class='texttt'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span>)<a class='hidden_link' href='#replace-5.sentence-2'>.</a></div> <div id='replace-5.sentence-3' class='sentence'>There
shall exist a
<span class='texttt'><span class='parenthesis'>)</span></span>
preprocessing token that terminates the invocation<a class='hidden_link' href='#replace-5.sentence-3'>.</a></div></div><div class='para' id='replace-6'><div class='marginalizedparent'><a class='marginalized' href='#replace-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L992'>#</a></div><div id='replace-6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__VA_ARGS__'></a></span><span class='indexparent'><a class='index' id=':__VA_OPT__'></a></span>The identifiers <span class='texttt'>__VA_&shy;ARGS__</span> and <span class='texttt'>__VA_&shy;OPT__</span>
shall occur only in the <a class='grammarterm' href='#nt:replacement-list'>replacement-list</a>
of a function-like macro that uses the ellipsis notation in the parameters<a class='hidden_link' href='#replace-6.sentence-1'>.</a></div></div><div class='para' id='replace-7'><div class='marginalizedparent'><a class='marginalized' href='#replace-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L999'>#</a></div><div id='replace-7.sentence-1' class='sentence'>A parameter identifier in a function-like macro
shall be uniquely declared within its scope<a class='hidden_link' href='#replace-7.sentence-1'>.</a></div></div><div class='para' id='replace-8'><div class='marginalizedparent'><a class='marginalized' href='#replace-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1003'>#</a></div><div id='replace-8.sentence-1' class='sentence'>The identifier immediately following the
<span class='texttt'>define</span>
is called the
<a class='hidden_link' href='#def:macro,name' id='def:macro,name'><i >macro name</i></a><a class='hidden_link' href='#replace-8.sentence-1'>.</a></div> <div id='replace-8.sentence-2' class='sentence'>There is one name space for macro names<a class='hidden_link' href='#replace-8.sentence-2'>.</a></div> <div id='replace-8.sentence-3' class='sentence'>Any white-space characters preceding or following the
replacement list of preprocessing tokens are not considered
part of the replacement list for either form of macro<a class='hidden_link' href='#replace-8.sentence-3'>.</a></div></div><div class='para' id='replace-9'><div class='marginalizedparent'><a class='marginalized' href='#replace-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1014'>#</a></div><div id='replace-9.sentence-1' class='sentence'>If a
<span class='indexparent'><a class='index' id=':#_operator'></a></span>
<span class='texttt'><span class='preprocessordirective'>#</span></span>
preprocessing token,
followed by an identifier,
occurs lexically
at the point at which a preprocessing directive could begin,
the identifier is not subject to macro replacement<a class='hidden_link' href='#replace-9.sentence-1'>.</a></div></div><div class='para' id='replace-10'><div class='marginalizedparent'><a class='marginalized' href='#replace-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1024'>#</a></div><div id='replace-10.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># define</span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:replacement-list'>replacement-list</a> <a class='grammarterm' href='#nt:new-line'>new-line</a><span class='indexparent'><a class='index' id=':#define'></a></span>
</pre>
defines an
<a class='hidden_link' href='#def:macro,object-like' id='def:macro,object-like'><i >object-like macro</i></a> that
causes each subsequent instance of the macro name<a class='footnotenum' href='#footnote-145' id='footnoteref-145'>145</a>
to be replaced by the replacement list of preprocessing tokens
that constitute the remainder of the directive<a class='hidden_link' href='#replace-10.sentence-1'>.</a><a class='footnotenum' href='#footnote-146' id='footnoteref-146'>146</a></div> <div id='replace-10.sentence-2' class='sentence'>
The replacement list is then rescanned for more macro names as
specified below<a class='hidden_link' href='#replace-10.sentence-2'>.</a></div></div><div class='para' id='replace-11'><div class='marginalizedparent'><a class='marginalized' href='#replace-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1045'>#</a></div><div id='replace-11.example-1' class='example'>[&nbsp;<a class='example_link' href='#replace-11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='replace-11.sentence-1' class='sentence'>The simplest use of this facility is to define a “manifest constant”,
as in
<pre class='codeblock'>
<span class='preprocessordirective'>#define</span> TABSIZE <span class='literal'>100</span>
<span class='keyword'>int</span> table<span class='squarebracket'>[</span>TABSIZE<span class='squarebracket'>]</span>;
</pre></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='replace-12'><div class='marginalizedparent'><a class='marginalized' href='#replace-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1055'>#</a></div><div id='replace-12.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># define</span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:lparen'>lparen</a> <a class='grammarterm' href='#nt:identifier-list'>identifier-list</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span> <a class='grammarterm' href='#nt:replacement-list'>replacement-list</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
<span class='terminal'><span class='preprocessordirective'># define</span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:lparen'>lparen</a> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='parenthesis'>)</span></span> <a class='grammarterm' href='#nt:replacement-list'>replacement-list</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
<span class='terminal'><span class='preprocessordirective'># define</span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:lparen'>lparen</a> <a class='grammarterm' href='#nt:identifier-list'>identifier-list</a> <span class='terminal'>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='parenthesis'>)</span></span> <a class='grammarterm' href='#nt:replacement-list'>replacement-list</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre>
defines a <a class='hidden_link' href='#def:macro,function-like' id='def:macro,function-like'><i >function-like macro</i></a>
with parameters, whose use is
similar syntactically to a function call<a class='hidden_link' href='#replace-12.sentence-1'>.</a></div> <div id='replace-12.sentence-2' class='sentence'>The parameters
<span class='indexparent'><a class='index' id=':parameter,macro'></a></span>are specified by the optional list of identifiers,
whose scope extends from their declaration in the identifier list
until the new-line character that terminates the
<span class='texttt'><span class='preprocessordirective'>#define</span></span>
preprocessing directive<a class='hidden_link' href='#replace-12.sentence-2'>.</a></div> <div id='replace-12.sentence-3' class='sentence'>Each subsequent instance of the function-like macro name followed by a
<span class='texttt'><span class='parenthesis'>(</span></span>
as the next preprocessing token
introduces the sequence of preprocessing tokens that is replaced
by the replacement list in the definition
(an invocation of the macro)<a class='hidden_link' href='#replace-12.sentence-3'>.</a></div> <div id='replace-12.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':invocation,macro'></a></span>The replaced sequence of preprocessing tokens is terminated by the matching
<span class='texttt'><span class='parenthesis'>)</span></span>
preprocessing token, skipping intervening matched pairs of left and
right parenthesis preprocessing tokens<a class='hidden_link' href='#replace-12.sentence-4'>.</a></div> <div id='replace-12.sentence-5' class='sentence'>Within the sequence of preprocessing tokens making up an invocation
of a function-like macro,
new-line is considered a normal white-space character<a class='hidden_link' href='#replace-12.sentence-5'>.</a></div></div><div class='para' id='replace-13'><div class='marginalizedparent'><a class='marginalized' href='#replace-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1087'>#</a></div><div id='replace-13.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':macro,function-like,arguments'></a></span>The sequence of preprocessing tokens
bounded by the outside-most matching parentheses
forms the list of arguments for the function-like macro<a class='hidden_link' href='#replace-13.sentence-1'>.</a></div> <div id='replace-13.sentence-2' class='sentence'>The individual arguments within the list
are separated by comma preprocessing tokens,
but comma preprocessing tokens between matching
inner parentheses do not separate arguments<a class='hidden_link' href='#replace-13.sentence-2'>.</a></div> <div id='replace-13.sentence-3' class='sentence'>If there are sequences of preprocessing tokens within the list of
arguments that would otherwise act as preprocessing directives,<a class='footnotenum' href='#footnote-147' id='footnoteref-147'>147</a>
the behavior is undefined<a class='hidden_link' href='#replace-13.sentence-3'>.</a></div></div><div class='para' id='replace-14'><div class='marginalizedparent'><a class='marginalized' href='#replace-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1100'>#</a></div><div id='replace-14.example-1' class='example'>[&nbsp;<a class='example_link' href='#replace-14.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='replace-14.sentence-1' class='sentence'>The following defines a function-like
macro whose value is the maximum of its arguments<a class='hidden_link' href='#replace-14.sentence-1'>.</a></div> <div id='replace-14.sentence-2' class='sentence'>It has the disadvantages of evaluating one or the other of its arguments
a second time
(including
<span class='indexparent'><a class='index' id=':side_effects'></a></span>side effects)
and generating more code than a function if invoked several times<a class='hidden_link' href='#replace-14.sentence-2'>.</a></div> <div id='replace-14.sentence-3' class='sentence'>It also cannot have its address taken,
as it has none<a class='hidden_link' href='#replace-14.sentence-3'>.</a></div><pre class='codeblock'>
<span class='preprocessordirective'>#define</span> max<span class='parenthesis'>(</span>a, b<span class='parenthesis'>)</span> <span class='parenthesis'>(</span><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span> <span class='parenthesis'>(</span>b<span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='operator'>:</span> <span class='parenthesis'>(</span>b<span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</pre><div id='replace-14.sentence-4' class='sentence'>The parentheses ensure that the arguments and
the resulting expression are bound properly<a class='hidden_link' href='#replace-14.sentence-4'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='replace-15'><div class='marginalizedparent'><a class='marginalized' href='#replace-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1121'>#</a></div><div id='replace-15.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':macro,function-like,arguments_'></a></span>If there is a <span class='texttt'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> immediately preceding the <span class='texttt'><span class='parenthesis'>)</span></span> in the
function-like macro
definition, then the trailing arguments (if any), including any separating comma preprocessing
tokens, are merged to form a single item: the <a class='hidden_link' href='#def:variable_arguments' id='def:variable_arguments'><i >variable arguments</i></a><a class='hidden_link' href='#replace-15.sentence-1'>.</a></div> <div id='replace-15.sentence-2' class='sentence'>The number of
arguments so combined is such that, following merger, the number of arguments is
either equal to or
one more than the number of parameters in the macro definition (excluding the
<span class='texttt'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span>)<a class='hidden_link' href='#replace-15.sentence-2'>.</a></div></div><div class='footnote' id='footnote-145'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-145'>145)</a></div><div id='footnote-145.sentence-1' class='sentence'>Since, by macro-replacement time,
all <a class='grammarterm' href='lex.ccon#nt:character-literal'>character-literal</a>s and <a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a>s are preprocessing tokens,
not sequences possibly containing identifier-like subsequences
(see <a href='lex.phases'>[lex.phases]</a>, translation phases),
they are never scanned for macro names or parameters<a class='hidden_link' href='#footnote-145.sentence-1'>.</a></div> <a href='#footnoteref-145'>⮥</a></div><div class='footnote' id='footnote-146'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-146'>146)</a></div><div id='footnote-146.sentence-1' class='sentence'>An <a href='lex.digraph'>alternative token</a> is not an identifier,
even when its spelling consists entirely of letters and underscores<a class='hidden_link' href='#footnote-146.sentence-1'>.</a></div> <div id='footnote-146.sentence-2' class='sentence'>Therefore it is not possible to define a macro
whose name is the same as that of an alternative token<a class='hidden_link' href='#footnote-146.sentence-2'>.</a></div> <a href='#footnoteref-146'>⮥</a></div><div class='footnote' id='footnote-147'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-147'>147)</a></div><div id='footnote-147.sentence-1' class='sentence'>A <a class='grammarterm' href='#nt:conditionally-supported-directive'>conditionally-supported-directive</a> is a preprocessing directive regardless of whether the implementation supports it<a class='hidden_link' href='#footnote-147.sentence-1'>.</a></div> <a href='#footnoteref-147'>⮥</a></div><div id='subst' class='section'><h3 ><a class='secnum' href='#subst' style='min-width:103pt'>15.6.1</a> Argument substitution <a class='abbr_ref' href='cpp.subst'>[cpp.subst]</a></h3><span class='indexparent'><a class='index' id=':macro,argument_substitution'></a></span>
<span class='indexparent'><a class='index' id=':__VA_OPT___'></a></span><pre class='bnf'><a class='nontermdef' href='#nt:va-opt-replacement' id='nt:va-opt-replacement'>va-opt-replacement</a><span class='ntdefcolon'>:</span>
&#9;<span class='terminal'><span class='texttt'>__VA_&shy;OPT__</span> <span class='parenthesis'>(</span></span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</pre><div class='para' id='subst-1'><div class='marginalizedparent'><a class='marginalized' href='#subst-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1142'>#</a></div><div id='subst-1.sentence-1' class='sentence'>After the arguments for the invocation of a function-like macro have
been identified, argument substitution takes place<a class='hidden_link' href='#subst-1.sentence-1'>.</a></div> <div id='subst-1.sentence-2' class='sentence'>For each parameter in the replacement list that is neither
preceded by a <span class='texttt'><span class='preprocessordirective'>#</span></span> or <span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span> preprocessing token nor
followed by a <span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span> preprocessing token, the preprocessing tokens
naming the parameter are replaced by a token sequence determined as follows:
<ul class='itemize'><li id='subst-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#subst-1.1'>(1.1)</a></div>If the parameter is of the form <a class='grammarterm' href='#nt:va-opt-replacement'>va-opt-replacement</a>,
  the replacement preprocessing tokens are the
  preprocessing token sequence for the corresponding argument,
  as specified below.</li><li id='subst-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#subst-1.2'>(1.2)</a></div>Otherwise, the replacement preprocessing tokens are the
  preprocessing tokens of corresponding argument after all
  macros contained therein have been expanded. The argument's
  preprocessing tokens are completely macro replaced before
  being substituted as if they formed the rest of the preprocessing
  file with no other preprocessing tokens being available.</li></ul></div> <div id='subst-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#subst-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='preprocessordirective'>#define</span> LPAREN<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='parenthesis'>(</span>
<span class='preprocessordirective'>#define</span> G<span class='parenthesis'>(</span>Q<span class='parenthesis'>)</span> <span class='literal'>42</span>
<span class='preprocessordirective'>#define</span> F<span class='parenthesis'>(</span>R, X, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>  __VA_OPT__<span class='parenthesis'>(</span>G R X<span class='parenthesis'>)</span> <span class='parenthesis'>)</span>
<span class='keyword'>int</span> x <span class='operator'>=</span> F<span class='parenthesis'>(</span>LPAREN<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, <span class='literal'>0</span>, <span class='anglebracket'>&lt;</span><span class='operator'>:</span><span class='operator'>-</span><span class='parenthesis'>)</span>;    <span class='comment'>// replaced by <span class='tcode_in_codeblock'>int x = 42;</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='subst-2'><div class='marginalizedparent'><a class='marginalized' href='#subst-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1172'>#</a></div><div id='subst-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__VA_ARGS___'></a></span>An identifier <span class='texttt'>__VA_&shy;ARGS__</span> that occurs in the replacement list
shall be treated as if it were a parameter, and the variable arguments shall form
the preprocessing tokens used to replace it<a class='hidden_link' href='#subst-2.sentence-1'>.</a></div></div><div class='para' id='subst-3'><div class='marginalizedparent'><a class='marginalized' href='#subst-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1178'>#</a></div><div id='subst-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#subst-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='subst-3.sentence-1' class='sentence'><pre class='codeblock'>
<span class='preprocessordirective'>#define</span> debug<span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> fprintf<span class='parenthesis'>(</span>stderr, __VA_ARGS__<span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> showlist<span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> puts<span class='parenthesis'>(</span><span class='preprocessordirective'>#</span>__VA_ARGS__<span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> report<span class='parenthesis'>(</span>test, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='parenthesis'>(</span><span class='parenthesis'>(</span>test<span class='parenthesis'>)</span> <span class='operator'>?</span> puts<span class='parenthesis'>(</span><span class='preprocessordirective'>#</span>test<span class='parenthesis'>)</span> <span class='operator'>:</span> printf<span class='parenthesis'>(</span>__VA_ARGS__<span class='parenthesis'>)</span><span class='parenthesis'>)</span>
debug<span class='parenthesis'>(</span><span class='literal'>"Flag"</span><span class='parenthesis'>)</span>;
debug<span class='parenthesis'>(</span><span class='literal'>"X = %d\n"</span>, x<span class='parenthesis'>)</span>;
showlist<span class='parenthesis'>(</span>The first, second, and third items<span class='operator'>.</span><span class='parenthesis'>)</span>;
report<span class='parenthesis'>(</span>x<span class='anglebracket'>&gt;</span>y, <span class='literal'>"x is %d but y is %d"</span>, x, y<span class='parenthesis'>)</span>;
</pre>
results in
<pre class='codeblock'>
fprintf<span class='parenthesis'>(</span>stderr, <span class='literal'>"Flag"</span><span class='parenthesis'>)</span>;
fprintf<span class='parenthesis'>(</span>stderr, <span class='literal'>"X = %d\n"</span>, x<span class='parenthesis'>)</span>;
puts<span class='parenthesis'>(</span><span class='literal'>"The first, second, and third items."</span><span class='parenthesis'>)</span>;
<span class='parenthesis'>(</span><span class='parenthesis'>(</span>x<span class='anglebracket'>&gt;</span>y<span class='parenthesis'>)</span> <span class='operator'>?</span> puts<span class='parenthesis'>(</span><span class='literal'>"x&gt;y"</span><span class='parenthesis'>)</span> <span class='operator'>:</span> printf<span class='parenthesis'>(</span><span class='literal'>"x is %d but y is %d"</span>, x, y<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='subst-4'><div class='marginalizedparent'><a class='marginalized' href='#subst-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1198'>#</a></div><div id='subst-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__VA_OPT____'></a></span>The identifier <span class='texttt'>__VA_&shy;OPT__</span>
shall always occur as part of the preprocessing token sequence
<a class='grammarterm' href='#nt:va-opt-replacement'>va-opt-replacement</a>;
its closing <span class='texttt'><span class='parenthesis'>)</span></span> is determined by skipping
intervening pairs of matching left and right parentheses
in its <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a><a class='hidden_link' href='#subst-4.sentence-1'>.</a></div> <div id='subst-4.sentence-2' class='sentence'>The <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> of a <a class='grammarterm' href='#nt:va-opt-replacement'>va-opt-replacement</a>
shall not contain <span class='texttt'>__VA_&shy;OPT__</span><a class='hidden_link' href='#subst-4.sentence-2'>.</a></div> <div id='subst-4.sentence-3' class='sentence'>If the <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> would be ill-formed
as the replacement list of the current function-like macro,
the program is ill-formed<a class='hidden_link' href='#subst-4.sentence-3'>.</a></div> <div id='subst-4.sentence-4' class='sentence'>A <a class='grammarterm' href='#nt:va-opt-replacement'>va-opt-replacement</a> is treated as if it were a parameter,
and the preprocessing token sequence for the corresponding
argument is defined as follows<a class='hidden_link' href='#subst-4.sentence-4'>.</a></div> <div id='subst-4.sentence-5' class='sentence'>If the substitution of <span class='texttt'>__VA_&shy;ARGS__</span> as neither an operand
of <span class='texttt'><span class='preprocessordirective'>#</span></span> nor <span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span> consists of no preprocessing tokens,
the argument consists of
a single placemarker preprocessing token (<a href='#concat'>[cpp.concat]</a>, <a href='#rescan'>[cpp.rescan]</a>)<a class='hidden_link' href='#subst-4.sentence-5'>.</a></div> <div id='subst-4.sentence-6' class='sentence'>Otherwise, the argument consists of
the results of the expansion of the contained <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a>
as the replacement list of the current function-like macro
before removal of placemarker tokens, rescanning, and further replacement<a class='hidden_link' href='#subst-4.sentence-6'>.</a></div> <div id='subst-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#subst-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='subst-4.sentence-7' class='sentence'>The placemarker tokens are removed before stringization (<a href='#stringize'>[cpp.stringize]</a>),
and can be removed by rescanning and further replacement (<a href='#rescan'>[cpp.rescan]</a>)<a class='hidden_link' href='#subst-4.sentence-7'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='subst-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#subst-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='preprocessordirective'>#define</span> F<span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>           f<span class='parenthesis'>(</span><span class='literal'>0</span> __VA_OPT__<span class='parenthesis'>(</span>,<span class='parenthesis'>)</span> __VA_ARGS__<span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> G<span class='parenthesis'>(</span>X, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>        f<span class='parenthesis'>(</span><span class='literal'>0</span>, X __VA_OPT__<span class='parenthesis'>(</span>,<span class='parenthesis'>)</span> __VA_ARGS__<span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> SDEF<span class='parenthesis'>(</span>sname, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> S sname __VA_OPT__<span class='parenthesis'>(</span><span class='operator'>=</span> <span class='curlybracket'>{</span> __VA_ARGS__ <span class='curlybracket'>}</span><span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> EMP

F<span class='parenthesis'>(</span>a, b, c<span class='parenthesis'>)</span>          <span class='comment'>// replaced by <span class='tcode_in_codeblock'>f(0, a, b, c)</span></span>
F<span class='parenthesis'>(</span><span class='parenthesis'>)</span>                 <span class='comment'>// replaced by <span class='tcode_in_codeblock'>f(0)</span></span>
F<span class='parenthesis'>(</span>EMP<span class='parenthesis'>)</span>              <span class='comment'>// replaced by <span class='tcode_in_codeblock'>f(0)</span></span>

G<span class='parenthesis'>(</span>a, b, c<span class='parenthesis'>)</span>          <span class='comment'>// replaced by <span class='tcode_in_codeblock'>f(0, a, b, c)</span></span>
G<span class='parenthesis'>(</span>a, <span class='parenthesis'>)</span>              <span class='comment'>// replaced by <span class='tcode_in_codeblock'>f(0, a)</span></span>
G<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>                <span class='comment'>// replaced by <span class='tcode_in_codeblock'>f(0, a)</span></span>

SDEF<span class='parenthesis'>(</span>foo<span class='parenthesis'>)</span>;          <span class='comment'>// replaced by <span class='tcode_in_codeblock'>S foo;</span></span>
SDEF<span class='parenthesis'>(</span>bar, <span class='literal'>1</span>, <span class='literal'>2</span><span class='parenthesis'>)</span>;    <span class='comment'>// replaced by <span class='tcode_in_codeblock'>S bar = { 1, 2 };</span></span>

<span class='preprocessordirective'>#define</span> H1<span class='parenthesis'>(</span>X, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> X __VA_OPT__<span class='parenthesis'>(</span><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span><span class='parenthesis'>)</span> __VA_ARGS__ <span class='comment'>// error: <span class='tcode_in_codeblock'>##</span> may not appear at</span>
                                                <span class='comment'>// the beginning of a replacement list (<a href='#concat'>[cpp.concat]</a>)</span>

<span class='preprocessordirective'>#define</span> H2<span class='parenthesis'>(</span>X, Y, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> __VA_OPT__<span class='parenthesis'>(</span>X <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> Y,<span class='parenthesis'>)</span> __VA_ARGS__
H2<span class='parenthesis'>(</span>a, b, c, d<span class='parenthesis'>)</span>      <span class='comment'>// replaced by <span class='tcode_in_codeblock'>ab, c, d</span></span>

<span class='preprocessordirective'>#define</span> H3<span class='parenthesis'>(</span>X, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='preprocessordirective'>#</span>__VA_OPT__<span class='parenthesis'>(</span>X<span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span>X X<span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span>X<span class='parenthesis'>)</span>
H3<span class='parenthesis'>(</span>, <span class='literal'>0</span><span class='parenthesis'>)</span>             <span class='comment'>// replaced by <span class='tcode_in_codeblock'>""</span></span>

<span class='preprocessordirective'>#define</span> H4<span class='parenthesis'>(</span>X, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> __VA_OPT__<span class='parenthesis'>(</span>a X <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> X<span class='parenthesis'>)</span> <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> b
H4<span class='parenthesis'>(</span>, <span class='literal'>1</span><span class='parenthesis'>)</span>             <span class='comment'>// replaced by <span class='tcode_in_codeblock'>a b</span></span>

<span class='preprocessordirective'>#define</span> H5A<span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> __VA_OPT__<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='comment'>/**/</span>__VA_OPT__<span class='parenthesis'>(</span><span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> H5B<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span> a <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> X <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> b
<span class='preprocessordirective'>#define</span> H5C<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span> H5B<span class='parenthesis'>(</span>X<span class='parenthesis'>)</span>
H5C<span class='parenthesis'>(</span>H5A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>          <span class='comment'>// replaced by <span class='tcode_in_codeblock'>ab</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='stringize' class='section'><h3 ><a class='secnum' href='#stringize' style='min-width:103pt'>15.6.2</a> The <span class='texttt'>#</span> operator <a class='abbr_ref' href='cpp.stringize'>[cpp.stringize]</a></h3><span class='indexparent'><a class='index' id=':#_operator_'></a></span><div class='para' id='stringize-1'><div class='marginalizedparent'><a class='marginalized' href='#stringize-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1267'>#</a></div><div id='stringize-1.sentence-1' class='sentence'>Each
<span class='texttt'><span class='preprocessordirective'>#</span></span>
preprocessing token in the replacement list for a function-like
macro shall be followed by a parameter as the next preprocessing
token in the replacement list<a class='hidden_link' href='#stringize-1.sentence-1'>.</a></div></div><div class='para' id='stringize-2'><div class='marginalizedparent'><a class='marginalized' href='#stringize-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1274'>#</a></div><div id='stringize-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:character_string_literal' id='def:character_string_literal'><i >character string literal</i></a> is a <a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a> with no prefix<a class='hidden_link' href='#stringize-2.sentence-1'>.</a></div> <div id='stringize-2.sentence-2' class='sentence'>If, in the replacement list, a parameter is immediately
preceded by a
<span class='texttt'><span class='preprocessordirective'>#</span></span>
preprocessing token,
both are replaced by a single character string literal preprocessing token that
contains the spelling of the preprocessing token sequence for the
corresponding argument (excluding placemarker tokens)<a class='hidden_link' href='#stringize-2.sentence-2'>.</a></div> <div id='stringize-2.sentence-3' class='sentence'>Let the <a class='hidden_link' href='#def:stringizing_argument' id='def:stringizing_argument'><i >stringizing argument</i></a> be the preprocessing token sequence
for the corresponding argument with placemarker tokens removed<a class='hidden_link' href='#stringize-2.sentence-3'>.</a></div> <div id='stringize-2.sentence-4' class='sentence'>Each occurrence of white space between the stringizing argument's preprocessing
tokens becomes a single space character in the character string literal<a class='hidden_link' href='#stringize-2.sentence-4'>.</a></div> <div id='stringize-2.sentence-5' class='sentence'>White space before the first preprocessing token and after the last
preprocessing token comprising the stringizing argument is deleted<a class='hidden_link' href='#stringize-2.sentence-5'>.</a></div> <div id='stringize-2.sentence-6' class='sentence'>Otherwise, the original spelling of each preprocessing token in the
stringizing argument is retained in the character string literal,
except for special handling for producing the spelling of
<a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a>s and <a class='grammarterm' href='lex.ccon#nt:character-literal'>character-literal</a>s:
a
<span class='texttt'>\</span>
character is inserted before each
<span class='texttt'>"</span>
and
<span class='texttt'>\</span>
character of a <a class='grammarterm' href='lex.ccon#nt:character-literal'>character-literal</a> or <a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a>
(including the delimiting
<span class='texttt'>"</span>
characters)<a class='hidden_link' href='#stringize-2.sentence-6'>.</a></div> <div id='stringize-2.sentence-7' class='sentence'>If the replacement that results is not a valid character string literal,
the behavior is undefined<a class='hidden_link' href='#stringize-2.sentence-7'>.</a></div> <div id='stringize-2.sentence-8' class='sentence'>The character string literal corresponding to
an empty stringizing argument is <span class='texttt'><span class='literal'>""</span></span><a class='hidden_link' href='#stringize-2.sentence-8'>.</a></div> <div id='stringize-2.sentence-9' class='sentence'>The order of evaluation of
<span class='texttt'><span class='preprocessordirective'>#</span></span>
and
<span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span>
operators is unspecified<a class='hidden_link' href='#stringize-2.sentence-9'>.</a></div></div></div><div id='concat' class='section'><h3 ><a class='secnum' href='#concat' style='min-width:103pt'>15.6.3</a> The <span class='texttt'>##</span> operator <a class='abbr_ref' href='cpp.concat'>[cpp.concat]</a></h3><span class='indexparent'><a class='index' id=':##_operator'></a></span><div class='para' id='concat-1'><div class='marginalizedparent'><a class='marginalized' href='#concat-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1316'>#</a></div><div id='concat-1.sentence-1' class='sentence'>A
<span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span>
preprocessing token shall not occur at the beginning or
at the end of a replacement list for either form
of macro definition<a class='hidden_link' href='#concat-1.sentence-1'>.</a></div></div><div class='para' id='concat-2'><div class='marginalizedparent'><a class='marginalized' href='#concat-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1323'>#</a></div><div id='concat-2.sentence-1' class='sentence'>If, in the replacement list of a function-like macro, a parameter is
immediately preceded or followed by a
<span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span>
preprocessing token, the parameter is replaced by the
corresponding argument's preprocessing token sequence; however, if an argument consists of no preprocessing tokens, the parameter is
replaced by a placemarker preprocessing token instead<a class='hidden_link' href='#concat-2.sentence-1'>.</a><a class='footnotenum' href='#footnote-148' id='footnoteref-148'>148</a></div></div><div class='para' id='concat-3'><div class='marginalizedparent'><a class='marginalized' href='#concat-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1332'>#</a></div><div id='concat-3.sentence-1' class='sentence'>For both object-like and function-like macro invocations, before the
replacement list is reexamined for more macro names to replace,
each instance of a
<span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span>
preprocessing token in the replacement list
(not from an argument) is deleted and the
preceding preprocessing token is concatenated
with the following preprocessing token<a class='hidden_link' href='#concat-3.sentence-1'>.</a></div> <div id='concat-3.sentence-2' class='sentence'>Placemarker preprocessing tokens are handled specially: concatenation
of two placemarkers results in a single placemarker preprocessing token, and
concatenation of a placemarker with a non-placemarker preprocessing token results
in the non-placemarker preprocessing token<a class='hidden_link' href='#concat-3.sentence-2'>.</a></div> <div id='concat-3.sentence-3' class='sentence'>If the result is not a valid preprocessing token,
the behavior is undefined<a class='hidden_link' href='#concat-3.sentence-3'>.</a></div> <div id='concat-3.sentence-4' class='sentence'>The resulting token is available for further macro replacement<a class='hidden_link' href='#concat-3.sentence-4'>.</a></div> <div id='concat-3.sentence-5' class='sentence'>The order of evaluation of
<span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span>
operators is unspecified<a class='hidden_link' href='#concat-3.sentence-5'>.</a></div></div><div class='para' id='concat-4'><div class='marginalizedparent'><a class='marginalized' href='#concat-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1352'>#</a></div><div id='concat-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#concat-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='concat-4.sentence-1' class='sentence'>The sequence
<pre class='codeblock'>
<span class='preprocessordirective'>#define</span> str<span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>      <span class='preprocessordirective'>#</span> s
<span class='preprocessordirective'>#define</span> xstr<span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>     str<span class='parenthesis'>(</span>s<span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> debug<span class='parenthesis'>(</span>s, t<span class='parenthesis'>)</span> printf<span class='parenthesis'>(</span><span class='literal'>"x"</span> <span class='preprocessordirective'>#</span> s <span class='literal'>"= %d, x"</span> <span class='preprocessordirective'>#</span> t <span class='literal'>"= %s"</span>, \
               x <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> s, x <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> t<span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> INCFILE<span class='parenthesis'>(</span>n<span class='parenthesis'>)</span>  vers <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> n
<span class='preprocessordirective'>#define</span> glue<span class='parenthesis'>(</span>a, b<span class='parenthesis'>)</span>  a <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> b
<span class='preprocessordirective'>#define</span> xglue<span class='parenthesis'>(</span>a, b<span class='parenthesis'>)</span> glue<span class='parenthesis'>(</span>a, b<span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> HIGHLOW     <span class='literal'>"hello"</span>
<span class='preprocessordirective'>#define</span> LOW         LOW <span class='literal'>", world"</span>

debug<span class='parenthesis'>(</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='parenthesis'>)</span>;
fputs<span class='parenthesis'>(</span>str<span class='parenthesis'>(</span>strncmp<span class='parenthesis'>(</span><span class='literal'>"abc\0d"</span>, <span class='literal'>"abc"</span>, <span class='literal'>'\4'</span><span class='parenthesis'>)</span>        <span class='comment'>// this goes away</span>
    <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span> str<span class='parenthesis'>(</span><span class='operator'>:</span> @\n<span class='parenthesis'>)</span>, s<span class='parenthesis'>)</span>;
<span class='preprocessordirective'>#include</span> xstr<span class='parenthesis'>(</span>INCFILE<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span><span class='operator'>.</span>h<span class='parenthesis'>)</span>
glue<span class='parenthesis'>(</span>HIGH, LOW<span class='parenthesis'>)</span>;
xglue<span class='parenthesis'>(</span>HIGH, LOW<span class='parenthesis'>)</span>
</pre>
results in
<pre class='codeblock'>
printf<span class='parenthesis'>(</span><span class='literal'>"x"</span> <span class='literal'>"1"</span> <span class='literal'>"= %d, x"</span> <span class='literal'>"2"</span> <span class='literal'>"= %s"</span>, x1, x2<span class='parenthesis'>)</span>;
fputs<span class='parenthesis'>(</span><span class='literal'>"strncmp(\"abc\\0d\", \"abc\", '\\4') == 0"</span> <span class='literal'>": @\n"</span>, s<span class='parenthesis'>)</span>;
<span class='preprocessordirective'>#include</span> <span class='literal'>"vers2.h"</span>      <span class='textrm'>(<span class='textit'>after macro replacement, before file access</span>)</span>
<span class='literal'>"hello"</span>;
<span class='literal'>"hello"</span> <span class='literal'>", world"</span>
</pre>
or, after concatenation of the character string literals,
<pre class='codeblock'>
printf<span class='parenthesis'>(</span><span class='literal'>"x1= %d, x2= %s"</span>, x1, x2<span class='parenthesis'>)</span>;
fputs<span class='parenthesis'>(</span><span class='literal'>"strncmp(\"abc\\0d\", \"abc\", '\\4') == 0: @\n"</span>, s<span class='parenthesis'>)</span>;
<span class='preprocessordirective'>#include</span> <span class='literal'>"vers2.h"</span>      <span class='textrm'>(<span class='textit'>after macro replacement, before file access</span>)</span>
<span class='literal'>"hello"</span>;
<span class='literal'>"hello, world"</span>
</pre></div><div id='concat-4.sentence-2' class='sentence'>Space around the <span class='texttt'><span class='preprocessordirective'>#</span></span> and <span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span> tokens in the macro definition
is optional<a class='hidden_link' href='#concat-4.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='concat-5'><div class='marginalizedparent'><a class='marginalized' href='#concat-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1394'>#</a></div><div id='concat-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#concat-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='concat-5.sentence-1' class='sentence'>In the following fragment:</div><pre class='codeblock'>
<span class='preprocessordirective'>#define</span> hash_hash <span class='preprocessordirective'>#</span> <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> <span class='preprocessordirective'>#</span>
<span class='preprocessordirective'>#define</span> mkstr<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> <span class='preprocessordirective'>#</span> a
<span class='preprocessordirective'>#define</span> in_between<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span> mkstr<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> join<span class='parenthesis'>(</span>c, d<span class='parenthesis'>)</span> in_between<span class='parenthesis'>(</span>c hash_hash d<span class='parenthesis'>)</span>
<span class='keyword'>char</span> p<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> join<span class='parenthesis'>(</span>x, y<span class='parenthesis'>)</span>;          <span class='comment'>// equivalent to <span class='tcode_in_codeblock'>char p[] = "x ## y";</span></span>
</pre><div id='concat-5.sentence-2' class='sentence'>The expansion produces, at various stages:</div><pre class='codeblock'>
join<span class='parenthesis'>(</span>x, y<span class='parenthesis'>)</span>
in_between<span class='parenthesis'>(</span>x hash_hash y<span class='parenthesis'>)</span>
in_between<span class='parenthesis'>(</span>x <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> y<span class='parenthesis'>)</span>
mkstr<span class='parenthesis'>(</span>x <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> y<span class='parenthesis'>)</span>
<span class='literal'>"x ## y"</span>
</pre><div id='concat-5.sentence-3' class='sentence'>In other words, expanding <span class='texttt'>hash_&shy;hash</span> produces a new token,
consisting of two adjacent sharp signs, but this new token is not the
<span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span> operator<a class='hidden_link' href='#concat-5.sentence-3'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='concat-6'><div class='marginalizedparent'><a class='marginalized' href='#concat-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1421'>#</a></div><div id='concat-6.example-1' class='example'>[&nbsp;<a class='example_link' href='#concat-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='concat-6.sentence-1' class='sentence'>To illustrate the rules for placemarker preprocessing tokens, the sequence
<pre class='codeblock'>
<span class='preprocessordirective'>#define</span> t<span class='parenthesis'>(</span>x,y,z<span class='parenthesis'>)</span> x <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> y <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> z
<span class='keyword'>int</span> j<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> t<span class='parenthesis'>(</span><span class='literal'>1</span>,<span class='literal'>2</span>,<span class='literal'>3</span><span class='parenthesis'>)</span>, t<span class='parenthesis'>(</span>,<span class='literal'>4</span>,<span class='literal'>5</span><span class='parenthesis'>)</span>, t<span class='parenthesis'>(</span><span class='literal'>6</span>,,<span class='literal'>7</span><span class='parenthesis'>)</span>, t<span class='parenthesis'>(</span><span class='literal'>8</span>,<span class='literal'>9</span>,<span class='parenthesis'>)</span>,
  t<span class='parenthesis'>(</span><span class='literal'>10</span>,,<span class='parenthesis'>)</span>, t<span class='parenthesis'>(</span>,<span class='literal'>11</span>,<span class='parenthesis'>)</span>, t<span class='parenthesis'>(</span>,,<span class='literal'>12</span><span class='parenthesis'>)</span>, t<span class='parenthesis'>(</span>,,<span class='parenthesis'>)</span> <span class='curlybracket'>}</span>;
</pre>
results in
<pre class='codeblock'>
<span class='keyword'>int</span> j<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>123</span>, <span class='literal'>45</span>, <span class='literal'>67</span>, <span class='literal'>89</span>,
  <span class='literal'>10</span>, <span class='literal'>11</span>, <span class='literal'>12</span>, <span class='curlybracket'>}</span>;
</pre></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-148'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-148'>148)</a></div><div id='footnote-148.sentence-1' class='sentence'>Placemarker preprocessing tokens do not appear in the syntax
because they are temporary entities that exist only within translation phase 4<a class='hidden_link' href='#footnote-148.sentence-1'>.</a></div> <a href='#footnoteref-148'>⮥</a></div></div><div id='rescan' class='section'><h3 ><a class='secnum' href='#rescan' style='min-width:103pt'>15.6.4</a> Rescanning and further replacement <a class='abbr_ref' href='cpp.rescan'>[cpp.rescan]</a></h3><span class='indexparent'><a class='index' id=':macro,rescanning_and_replacement'></a></span><div class='para' id='rescan-1'><div class='marginalizedparent'><a class='marginalized' href='#rescan-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1440'>#</a></div><div id='rescan-1.sentence-1' class='sentence'>After all parameters in the replacement list have been substituted and <span class='texttt'><span class='preprocessordirective'>#</span></span> and <span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span> processing has taken
place, all placemarker preprocessing tokens are removed<a class='hidden_link' href='#rescan-1.sentence-1'>.</a></div> <div id='rescan-1.sentence-2' class='sentence'>Then
the resulting preprocessing token sequence is rescanned, along with all
subsequent preprocessing tokens of the source file, for more macro names
to replace<a class='hidden_link' href='#rescan-1.sentence-2'>.</a></div></div><div class='para' id='rescan-2'><div class='marginalizedparent'><a class='marginalized' href='#rescan-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1447'>#</a></div><div id='rescan-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#rescan-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='rescan-2.sentence-1' class='sentence'>The sequence
<pre class='codeblock'>
<span class='preprocessordirective'>#define</span> x       <span class='literal'>3</span>
<span class='preprocessordirective'>#define</span> f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>    f<span class='parenthesis'>(</span>x <span class='operator'>*</span> <span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='parenthesis'>)</span>
<span class='preprocessordirective'>#undef</span>  x
<span class='preprocessordirective'>#define</span> x       <span class='literal'>2</span>
<span class='preprocessordirective'>#define</span> g       f
<span class='preprocessordirective'>#define</span> z       z<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span>
<span class='preprocessordirective'>#define</span> h       g<span class='parenthesis'>(</span><span class='operator'>~</span>
<span class='preprocessordirective'>#define</span> m<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>    a<span class='parenthesis'>(</span>w<span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> w       <span class='literal'>0</span>,<span class='literal'>1</span>
<span class='preprocessordirective'>#define</span> t<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>    a
<span class='preprocessordirective'>#define</span> p<span class='parenthesis'>(</span><span class='parenthesis'>)</span>     <span class='keyword'>int</span>
<span class='preprocessordirective'>#define</span> q<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>    x
<span class='preprocessordirective'>#define</span> r<span class='parenthesis'>(</span>x,y<span class='parenthesis'>)</span>  x <span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span> y
<span class='preprocessordirective'>#define</span> str<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span>  <span class='preprocessordirective'>#</span> x

f<span class='parenthesis'>(</span>y<span class='operator'>+</span><span class='literal'>1</span><span class='parenthesis'>)</span> <span class='operator'>+</span> f<span class='parenthesis'>(</span>f<span class='parenthesis'>(</span>z<span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>%</span> t<span class='parenthesis'>(</span>t<span class='parenthesis'>(</span>g<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span> <span class='operator'>+</span> t<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;
g<span class='parenthesis'>(</span>x<span class='operator'>+</span><span class='parenthesis'>(</span><span class='literal'>3</span>,<span class='literal'>4</span><span class='parenthesis'>)</span><span class='operator'>-</span>w<span class='parenthesis'>)</span> <span class='operator'>|</span> h <span class='literal'>5</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> m
    <span class='parenthesis'>(</span>f<span class='parenthesis'>)</span><span class='operator'>^</span>m<span class='parenthesis'>(</span>m<span class='parenthesis'>)</span>;
p<span class='parenthesis'>(</span><span class='parenthesis'>)</span> i<span class='squarebracket'>[</span>q<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> q<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>, r<span class='parenthesis'>(</span><span class='literal'>2</span>,<span class='literal'>3</span><span class='parenthesis'>)</span>, r<span class='parenthesis'>(</span><span class='literal'>4</span>,<span class='parenthesis'>)</span>, r<span class='parenthesis'>(</span>,<span class='literal'>5</span><span class='parenthesis'>)</span>, r<span class='parenthesis'>(</span>,<span class='parenthesis'>)</span> <span class='curlybracket'>}</span>;
<span class='keyword'>char</span> c<span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>6</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> str<span class='parenthesis'>(</span>hello<span class='parenthesis'>)</span>, str<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>}</span>;
</pre>
results in
<pre class='codeblock'>
f<span class='parenthesis'>(</span><span class='literal'>2</span> <span class='operator'>*</span> <span class='parenthesis'>(</span>y<span class='operator'>+</span><span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>+</span> f<span class='parenthesis'>(</span><span class='literal'>2</span> <span class='operator'>*</span> <span class='parenthesis'>(</span>f<span class='parenthesis'>(</span><span class='literal'>2</span> <span class='operator'>*</span> <span class='parenthesis'>(</span>z<span class='squarebracket'>[</span><span class='literal'>0</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>%</span> f<span class='parenthesis'>(</span><span class='literal'>2</span> <span class='operator'>*</span> <span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>+</span> t<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;
f<span class='parenthesis'>(</span><span class='literal'>2</span> <span class='operator'>*</span> <span class='parenthesis'>(</span><span class='literal'>2</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='literal'>3</span>,<span class='literal'>4</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='literal'>0</span>,<span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>|</span> f<span class='parenthesis'>(</span><span class='literal'>2</span> <span class='operator'>*</span> <span class='parenthesis'>(</span><span class='operator'>~</span> <span class='literal'>5</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span> f<span class='parenthesis'>(</span><span class='literal'>2</span> <span class='operator'>*</span> <span class='parenthesis'>(</span><span class='literal'>0</span>,<span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>^</span>m<span class='parenthesis'>(</span><span class='literal'>0</span>,<span class='literal'>1</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> i<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>23</span>, <span class='literal'>4</span>, <span class='literal'>5</span>, <span class='curlybracket'>}</span>;
<span class='keyword'>char</span> c<span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>6</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>"hello"</span>, <span class='literal'>""</span> <span class='curlybracket'>}</span>;
</pre></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='rescan-3'><div class='marginalizedparent'><a class='marginalized' href='#rescan-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1481'>#</a></div><div id='rescan-3.sentence-1' class='sentence'>If the name of the macro being replaced is found during this scan of
the replacement list
(not including the rest of the source file's preprocessing tokens),
it is not replaced<a class='hidden_link' href='#rescan-3.sentence-1'>.</a></div> <div id='rescan-3.sentence-2' class='sentence'>Furthermore,
if any nested replacements encounter the name of the macro being replaced,
it is not replaced<a class='hidden_link' href='#rescan-3.sentence-2'>.</a></div> <div id='rescan-3.sentence-3' class='sentence'>These nonreplaced macro name preprocessing tokens are no longer available
for further replacement even if they are later (re)examined in contexts
in which that macro name preprocessing token would otherwise have been
replaced<a class='hidden_link' href='#rescan-3.sentence-3'>.</a></div></div><div class='para' id='rescan-4'><div class='marginalizedparent'><a class='marginalized' href='#rescan-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1494'>#</a></div><div id='rescan-4.sentence-1' class='sentence'>The resulting completely macro-replaced preprocessing token sequence
is not processed as a preprocessing directive even if it resembles one,
but all pragma unary operator expressions within it are then processed as
specified in <a href='#pragma.op'>[cpp.pragma.op]</a> below<a class='hidden_link' href='#rescan-4.sentence-1'>.</a></div></div></div><div id='scope' class='section'><h3 ><a class='secnum' href='#scope' style='min-width:103pt'>15.6.5</a> Scope of macro definitions <a class='abbr_ref' href='cpp.scope'>[cpp.scope]</a></h3><span class='indexparent'><a class='index' id=':macro,scope_of_definition'></a></span><div class='para' id='scope-1'><div class='marginalizedparent'><a class='marginalized' href='#scope-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1504'>#</a></div><div id='scope-1.sentence-1' class='sentence'>A macro definition lasts
(independent of block structure)
until a corresponding
<span class='texttt'><span class='preprocessordirective'>#undef</span></span>
directive is encountered or
(if none is encountered)
until the end of the translation unit<a class='hidden_link' href='#scope-1.sentence-1'>.</a></div> <div id='scope-1.sentence-2' class='sentence'>Macro definitions have no significance after translation phase 4<a class='hidden_link' href='#scope-1.sentence-2'>.</a></div></div><div class='para' id='scope-2'><div class='marginalizedparent'><a class='marginalized' href='#scope-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1514'>#</a></div><div id='scope-2.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># undef</span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <a class='grammarterm' href='#nt:new-line'>new-line</a><span class='indexparent'><a class='index' id=':#undef'></a></span>
</pre>
causes the specified identifier no longer to be defined as a macro name<a class='hidden_link' href='#scope-2.sentence-1'>.</a></div> <div id='scope-2.sentence-2' class='sentence'>It is ignored if the specified identifier is not currently defined as
a macro name<a class='hidden_link' href='#scope-2.sentence-2'>.</a></div></div></div></div><div id='line' class='section'><h2 ><a class='secnum' href='#line' style='min-width:88pt'>15.7</a> Line control <a class='abbr_ref' href='cpp.line'>[cpp.line]</a></h2><span class='indexparent'><a class='index' id=':preprocessing_directive,line_control'></a></span><div class='para' id='line-1'><div class='marginalizedparent'><a class='marginalized' href='#line-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1530'>#</a></div><div id='line-1.sentence-1' class='sentence'>The <a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a> of a
<span class='texttt'><span class='preprocessordirective'>#line</span></span>
directive, if present,
shall be a character string literal<a class='hidden_link' href='#line-1.sentence-1'>.</a></div></div><div class='para' id='line-2'><div class='marginalizedparent'><a class='marginalized' href='#line-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1536'>#</a></div><div id='line-2.sentence-1' class='sentence'>The
<a class='hidden_link' href='#def:line_number' id='def:line_number'><i >line number</i></a>
of the current source line is one greater than
the number of new-line characters read or introduced
in <a href='lex.phases'>translation phase 1</a>
while processing the source file to the current token<a class='hidden_link' href='#line-2.sentence-1'>.</a></div></div><div class='para' id='line-3'><div class='marginalizedparent'><a class='marginalized' href='#line-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1544'>#</a></div><div id='line-3.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># line</span></span> <a class='grammarterm' href='lex.fcon#nt:digit-sequence'>digit-sequence</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre>
causes the implementation to behave as if
the following sequence of source lines begins with a
source line that has a line number as specified
by the digit sequence (interpreted as a decimal integer)<a class='hidden_link' href='#line-3.sentence-1'>.</a></div> <div id='line-3.sentence-2' class='sentence'>If the digit sequence specifies zero
or a number greater than 2147483647,
the behavior is undefined<a class='hidden_link' href='#line-3.sentence-2'>.</a></div></div><div class='para' id='line-4'><div class='marginalizedparent'><a class='marginalized' href='#line-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1557'>#</a></div><div id='line-4.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># line</span></span> <a class='grammarterm' href='lex.fcon#nt:digit-sequence'>digit-sequence</a> <span class='terminal'>"</span> <a class='grammarterm' href='lex.string#nt:s-char-sequence'>s-char-sequence</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>"</span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre>
sets the presumed line number similarly and changes the
presumed name of the source file to be the contents
of the character string literal<a class='hidden_link' href='#line-4.sentence-1'>.</a></div></div><div class='para' id='line-5'><div class='marginalizedparent'><a class='marginalized' href='#line-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1566'>#</a></div><div id='line-5.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># line</span></span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre>
(that does not match one of the two previous forms)
is permitted<a class='hidden_link' href='#line-5.sentence-1'>.</a></div> <div id='line-5.sentence-2' class='sentence'>The preprocessing tokens after
<span class='texttt'>line</span>
on the directive are processed just as in normal text
(each identifier currently defined as a macro name is replaced by its
replacement list of preprocessing tokens)<a class='hidden_link' href='#line-5.sentence-2'>.</a></div> <div id='line-5.sentence-3' class='sentence'>If the directive resulting after all replacements does not match
one of the two previous forms, the behavior is undefined;
otherwise, the result is processed as appropriate<a class='hidden_link' href='#line-5.sentence-3'>.</a></div></div></div><div id='error' class='section'><h2 ><a class='secnum' href='#error' style='min-width:88pt'>15.8</a> Error directive <a class='abbr_ref' href='cpp.error'>[cpp.error]</a></h2><span class='indexparent'><a class='index' id=':preprocessing_directive,error'></a></span><div class='para' id='error-1'><div class='marginalizedparent'><a class='marginalized' href='#error-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1586'>#</a></div><div id='error-1.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># error</span></span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre>
causes the implementation to produce
a diagnostic message that includes the specified sequence of preprocessing tokens,
and renders the program ill-formed<a class='hidden_link' href='#error-1.sentence-1'>.</a></div></div></div><div id='pragma' class='section'><h2 ><a class='secnum' href='#pragma' style='min-width:88pt'>15.9</a> Pragma directive <a class='abbr_ref' href='cpp.pragma'>[cpp.pragma]</a></h2><span class='indexparent'><a class='index' id=':preprocessing_directive,pragma'></a></span><div class='para' id='pragma-1'><div class='marginalizedparent'><a class='marginalized' href='#pragma-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1599'>#</a></div><div id='pragma-1.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'># pragma</span></span> <a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre>
causes the implementation to behave
in an <span class='indexparent'><a class='index' id=':#pragma'></a></span>implementation-defined manner<a class='hidden_link' href='#pragma-1.sentence-1'>.</a></div> <div id='pragma-1.sentence-2' class='sentence'>The behavior might cause translation to fail or cause the translator or
the resulting program to behave in a non-conforming manner<a class='hidden_link' href='#pragma-1.sentence-2'>.</a></div> <div id='pragma-1.sentence-3' class='sentence'>Any pragma that is not recognized by the implementation is ignored<a class='hidden_link' href='#pragma-1.sentence-3'>.</a></div></div></div><div id='null' class='section'><h2 ><a class='secnum' href='#null' style='min-width:88pt'>15.10</a> Null directive <a class='abbr_ref' href='cpp.null'>[cpp.null]</a></h2><span class='indexparent'><a class='index' id=':preprocessing_directive,null'></a></span><div class='para' id='null-1'><div class='marginalizedparent'><a class='marginalized' href='#null-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1613'>#</a></div><div id='null-1.sentence-1' class='sentence'>A preprocessing directive of the form
<pre class='ncsimplebnf'><span class='terminal'><span class='preprocessordirective'>#</span></span> <a class='grammarterm' href='#nt:new-line'>new-line</a>
</pre>
has no effect<a class='hidden_link' href='#null-1.sentence-1'>.</a></div></div></div><div id='predefined' class='section'><h2 ><a class='secnum' href='#predefined' style='min-width:88pt'>15.11</a> Predefined macro names <a class='abbr_ref' href='cpp.predefined'>[cpp.predefined]</a></h2><span class='indexparent'><a class='index' id=':macro,predefined'></a></span><div class='para' id='predefined-1'><div class='marginalizedparent'><a class='marginalized' href='#predefined-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1624'>#</a></div><div id='predefined-1.sentence-1' class='sentence'>The following macro names shall be defined by the implementation:</div><ul class='description'><li id='predefined-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-1.1'>(1.1)</a></div><div id='predefined-1.1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__cplusplus'></a></span><span class='texttt'>_&shy;_&shy;cplusplus</span><br/></div> <div id='predefined-1.1.sentence-2' class='sentence'>
The integer literal <span class='texttt'><span class='literal'>202002L</span></span><a class='hidden_link' href='#predefined-1.1.sentence-2'>.</a></div> <div id='predefined-1.1.note-1' class='note'>[&nbsp;<a class='note_link' href='#predefined-1.1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='predefined-1.1.sentence-3' class='sentence'>It is intended that future
versions of this International Standard will
replace the value of this macro with a greater value<a class='hidden_link' href='#predefined-1.1.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </li><li id='predefined-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-1.2'>(1.2)</a></div><div id='predefined-1.2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__DATE__'></a></span><span class='texttt'>__DATE__</span><br/></div> <div id='predefined-1.2.sentence-2' class='sentence'>
The date of translation of the source file:
a character string literal of the form
<span class='texttt'><span class='literal'>"Mmm dd yyyy"</span></span>,
where the names of the months are the same as those generated
by the
<span class='texttt'>asctime</span>
function,
and the first character of
<span class='texttt'>dd</span>
is a space character if the value is less than 10<a class='hidden_link' href='#predefined-1.2.sentence-2'>.</a></div> <div id='predefined-1.2.sentence-3' class='sentence'>If the date of translation is not available,
an <span class='indexparent'><a class='index' id=':text_of___DATE___when_date_of_translation_is_not_available'></a></span>implementation-defined valid date
shall be supplied<a class='hidden_link' href='#predefined-1.2.sentence-3'>.</a></div></li><li id='predefined-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-1.3'>(1.3)</a></div><div id='predefined-1.3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__FILE__'></a></span><span class='texttt'>__FILE__</span><br/></div> <div id='predefined-1.3.sentence-2' class='sentence'>
The presumed name of the current source file (a character string
literal)<a class='hidden_link' href='#predefined-1.3.sentence-2'>.</a><a class='footnotenum' href='#footnote-149' id='footnoteref-149'>149</a></div></li><li id='predefined-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-1.4'>(1.4)</a></div><div id='predefined-1.4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__LINE__'></a></span><span class='texttt'>__LINE__</span><br/></div> <div id='predefined-1.4.sentence-2' class='sentence'>
The presumed line number (within the current source file) of the current source line
(an integer literal)<a class='hidden_link' href='#predefined-1.4.sentence-2'>.</a><a class='footnotenum' href='#footnote-150' id='footnoteref-150'>150</a></div></li><li id='predefined-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-1.5'>(1.5)</a></div><div id='predefined-1.5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__STDC_HOSTED__'></a></span><span class='texttt'>__STDC_&shy;HOSTED__</span><br/></div> <div id='predefined-1.5.sentence-2' class='sentence'>
The integer literal <span class='texttt'><span class='literal'>1</span></span> if the implementation is a hosted
implementation or the integer literal <span class='texttt'><span class='literal'>0</span></span> if it is not<a class='hidden_link' href='#predefined-1.5.sentence-2'>.</a></div></li><li id='predefined-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-1.6'>(1.6)</a></div><div id='predefined-1.6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__STDCPP_DEFAULT_NEW_ALIGNMENT__'></a></span><span class='texttt'>__STDCPP_&shy;DEFAULT_&shy;NEW_&shy;ALIGNMENT__</span><br/></div> <div id='predefined-1.6.sentence-2' class='sentence'>
An integer literal of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>size_&shy;t</span>
whose value is the alignment guaranteed
by a call to <span class='texttt'><span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>size_&shy;t<span class='parenthesis'>)</span></span>
or <span class='texttt'><span class='keyword'>operator</span> <span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>size_&shy;t<span class='parenthesis'>)</span></span><a class='hidden_link' href='#predefined-1.6.sentence-2'>.</a></div> <div id='predefined-1.6.note-2' class='note'>[&nbsp;<a class='note_link' href='#predefined-1.6.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='predefined-1.6.sentence-3' class='sentence'>Larger alignments will be passed to
<span class='texttt'><span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>size_&shy;t, std<span class='operator'>&#x200b;::&#x200b;</span>align_&shy;val_&shy;t<span class='parenthesis'>)</span></span>, etc<a class='hidden_link' href='#predefined-1.6.sentence-3'>.</a></div> <div id='predefined-1.6.sentence-4' class='sentence'> (<a href='expr.new'>[expr.new]</a>)<a class='hidden_link' href='#predefined-1.6.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </li><li id='predefined-1.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-1.7'>(1.7)</a></div><div id='predefined-1.7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__TIME__'></a></span><span class='texttt'>__TIME__</span><br/></div> <div id='predefined-1.7.sentence-2' class='sentence'>
The time of translation of the source file:
a character string literal of the form
<span class='texttt'><span class='literal'>"hh:mm:ss"</span></span>
as in the time generated by the
<span class='texttt'>asctime</span>
function<a class='hidden_link' href='#predefined-1.7.sentence-2'>.</a></div> <div id='predefined-1.7.sentence-3' class='sentence'>If the time of translation is not available,
an <span class='indexparent'><a class='index' id=':text_of___TIME___when_time_of_translation_is_not_available'></a></span>implementation-defined valid time shall be supplied<a class='hidden_link' href='#predefined-1.7.sentence-3'>.</a></div></li><li id='predefined-1.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-1.8'>(1.8)</a></div><div id='predefined-1.8.sentence-1' class='sentence'>The names listed in Table <a href='#tab:cpp.predefined.ft'>19</a><a class='hidden_link' href='#predefined-1.8.sentence-1'>.</a></div> <br/> <div id='predefined-1.8.sentence-2' class='sentence'>
The macros defined in Table <a href='#tab:cpp.predefined.ft'>19</a> shall be defined to
the corresponding integer literal<a class='hidden_link' href='#predefined-1.8.sentence-2'>.</a></div> <div id='predefined-1.8.note-3' class='note'>[&nbsp;<a class='note_link' href='#predefined-1.8.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='predefined-1.8.sentence-3' class='sentence'>Future versions of this International Standard might replace
the values of these macros with greater values<a class='hidden_link' href='#predefined-1.8.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </li></ul><div class='numberedTable' id='tab:cpp.predefined.ft'>Table <a href='#tab:cpp.predefined.ft'>19</a>: Feature-test macros &emsp;&ensp;[tab:cpp.predefined.ft]<br><table ><tr class='rowsep'><td class='center'><div id='predefined-1.sentence-2' class='sentence'><b>Macro name</b></div></td><td class='center'><div id='predefined-1.sentence-3' class='sentence'><b>Value</b></div></td></tr><tr class='capsep'><td class='left'><div id='predefined-1.sentence-4' class='sentence'>
<span class='indexparent'><a class='index' id=':__cpp_aggregate_bases'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;aggregate_&shy;bases</span></div></td><td class='left'><div id='predefined-1.sentence-5' class='sentence'><span class='texttt'><span class='literal'>201603L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-6' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_aggregate_nsdmi'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;aggregate_&shy;nsdmi</span></div></td><td class='left'><div id='predefined-1.sentence-7' class='sentence'><span class='texttt'><span class='literal'>201304L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-8' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_aggregate_paren_init'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;aggregate_&shy;paren_&shy;init</span></div></td><td class='left'><div id='predefined-1.sentence-9' class='sentence'><span class='texttt'><span class='literal'>201902L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-10' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_alias_templates'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;alias_&shy;templates</span></div></td><td class='left'><div id='predefined-1.sentence-11' class='sentence'><span class='texttt'><span class='literal'>200704L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-12' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_aligned_new'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;aligned_&shy;new</span></div></td><td class='left'><div id='predefined-1.sentence-13' class='sentence'><span class='texttt'><span class='literal'>201606L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-14' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_attributes'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;attributes</span></div></td><td class='left'><div id='predefined-1.sentence-15' class='sentence'><span class='texttt'><span class='literal'>200809L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-16' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_binary_literals'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;binary_&shy;literals</span></div></td><td class='left'><div id='predefined-1.sentence-17' class='sentence'><span class='texttt'><span class='literal'>201304L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-18' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_capture_star_this'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;capture_&shy;star_&shy;this</span></div></td><td class='left'><div id='predefined-1.sentence-19' class='sentence'><span class='texttt'><span class='literal'>201603L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-20' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_char8_t'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;char8_&shy;t</span></div></td><td class='left'><div id='predefined-1.sentence-21' class='sentence'><span class='texttt'><span class='literal'>201811L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-22' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_concepts'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;concepts</span></div></td><td class='left'><div id='predefined-1.sentence-23' class='sentence'><span class='texttt'><span class='literal'>201907L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-24' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_conditional_explicit'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;conditional_&shy;explicit</span></div></td><td class='left'><div id='predefined-1.sentence-25' class='sentence'><span class='texttt'><span class='literal'>201806L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-26' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_constexpr'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;constexpr</span></div></td><td class='left'><div id='predefined-1.sentence-27' class='sentence'><span class='texttt'><span class='literal'>201907L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-28' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_constexpr_dynamic_alloc'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;constexpr_&shy;dynamic_&shy;alloc</span></div></td><td class='left'><div id='predefined-1.sentence-29' class='sentence'><span class='texttt'><span class='literal'>201907L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-30' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_constexpr_in_decltype'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;constexpr_&shy;in_&shy;decltype</span></div></td><td class='left'><div id='predefined-1.sentence-31' class='sentence'><span class='texttt'><span class='literal'>201711L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-32' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_consteval'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;consteval</span></div></td><td class='left'><div id='predefined-1.sentence-33' class='sentence'><span class='texttt'><span class='literal'>201811L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-34' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_constinit'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;constinit</span></div></td><td class='left'><div id='predefined-1.sentence-35' class='sentence'><span class='texttt'><span class='literal'>201907L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-36' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_decltype'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;decltype</span></div></td><td class='left'><div id='predefined-1.sentence-37' class='sentence'><span class='texttt'><span class='literal'>200707L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-38' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_decltype_auto'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;decltype_&shy;auto</span></div></td><td class='left'><div id='predefined-1.sentence-39' class='sentence'><span class='texttt'><span class='literal'>201304L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-40' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_deduction_guides'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;deduction_&shy;guides</span></div></td><td class='left'><div id='predefined-1.sentence-41' class='sentence'><span class='texttt'><span class='literal'>201907L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-42' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_delegating_constructors'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;delegating_&shy;constructors</span></div></td><td class='left'><div id='predefined-1.sentence-43' class='sentence'><span class='texttt'><span class='literal'>200604L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-44' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_designated_initializers'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;designated_&shy;initializers</span></div></td><td class='left'><div id='predefined-1.sentence-45' class='sentence'><span class='texttt'><span class='literal'>201707L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-46' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_enumerator_attributes'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;enumerator_&shy;attributes</span></div></td><td class='left'><div id='predefined-1.sentence-47' class='sentence'><span class='texttt'><span class='literal'>201411L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-48' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_fold_expressions'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;fold_&shy;expressions</span></div></td><td class='left'><div id='predefined-1.sentence-49' class='sentence'><span class='texttt'><span class='literal'>201603L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-50' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_generic_lambdas'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;generic_&shy;lambdas</span></div></td><td class='left'><div id='predefined-1.sentence-51' class='sentence'><span class='texttt'><span class='literal'>201707L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-52' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_guaranteed_copy_elision'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;guaranteed_&shy;copy_&shy;elision</span></div></td><td class='left'><div id='predefined-1.sentence-53' class='sentence'><span class='texttt'><span class='literal'>201606L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-54' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_hex_float'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;hex_&shy;float</span></div></td><td class='left'><div id='predefined-1.sentence-55' class='sentence'><span class='texttt'><span class='literal'>201603L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-56' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_if_constexpr'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;if_&shy;constexpr</span></div></td><td class='left'><div id='predefined-1.sentence-57' class='sentence'><span class='texttt'><span class='literal'>201606L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-58' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_impl_coroutine'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;impl_&shy;coroutine</span></div></td><td class='left'><div id='predefined-1.sentence-59' class='sentence'><span class='texttt'><span class='literal'>201902L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-60' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_impl_destroying_delete'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;impl_&shy;destroying_&shy;delete</span></div></td><td class='left'><div id='predefined-1.sentence-61' class='sentence'><span class='texttt'><span class='literal'>201806L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-62' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_impl_three_way_comparison'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;impl_&shy;three_&shy;way_&shy;comparison</span></div></td><td class='left'><div id='predefined-1.sentence-63' class='sentence'><span class='texttt'><span class='literal'>201907L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-64' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_inheriting_constructors'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;inheriting_&shy;constructors</span></div></td><td class='left'><div id='predefined-1.sentence-65' class='sentence'><span class='texttt'><span class='literal'>201511L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-66' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_init_captures'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;init_&shy;captures</span></div></td><td class='left'><div id='predefined-1.sentence-67' class='sentence'><span class='texttt'><span class='literal'>201803L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-68' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_initializer_lists'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;initializer_&shy;lists</span></div></td><td class='left'><div id='predefined-1.sentence-69' class='sentence'><span class='texttt'><span class='literal'>200806L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-70' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_inline_variables'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;inline_&shy;variables</span></div></td><td class='left'><div id='predefined-1.sentence-71' class='sentence'><span class='texttt'><span class='literal'>201606L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-72' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_lambdas'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;lambdas</span></div></td><td class='left'><div id='predefined-1.sentence-73' class='sentence'><span class='texttt'><span class='literal'>200907L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-74' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_modules'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;modules</span></div></td><td class='left'><div id='predefined-1.sentence-75' class='sentence'><span class='texttt'><span class='literal'>201907L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-76' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_namespace_attributes'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;namespace_&shy;attributes</span></div></td><td class='left'><div id='predefined-1.sentence-77' class='sentence'><span class='texttt'><span class='literal'>201411L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-78' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_noexcept_function_type'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;noexcept_&shy;function_&shy;type</span></div></td><td class='left'><div id='predefined-1.sentence-79' class='sentence'><span class='texttt'><span class='literal'>201510L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-80' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_nontype_template_args'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;nontype_&shy;template_&shy;args</span></div></td><td class='left'><div id='predefined-1.sentence-81' class='sentence'><span class='texttt'><span class='literal'>201911L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-82' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_nontype_template_parameter_auto'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;nontype_&shy;template_&shy;parameter_&shy;auto</span></div></td><td class='left'><div id='predefined-1.sentence-83' class='sentence'><span class='texttt'><span class='literal'>201606L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-84' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_nsdmi'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;nsdmi</span></div></td><td class='left'><div id='predefined-1.sentence-85' class='sentence'><span class='texttt'><span class='literal'>200809L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-86' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_range_based_for'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;range_&shy;based_&shy;for</span></div></td><td class='left'><div id='predefined-1.sentence-87' class='sentence'><span class='texttt'><span class='literal'>201603L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-88' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_raw_strings'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;raw_&shy;strings</span></div></td><td class='left'><div id='predefined-1.sentence-89' class='sentence'><span class='texttt'><span class='literal'>200710L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-90' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_ref_qualifiers'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;ref_&shy;qualifiers</span></div></td><td class='left'><div id='predefined-1.sentence-91' class='sentence'><span class='texttt'><span class='literal'>200710L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-92' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_return_type_deduction'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;return_&shy;type_&shy;deduction</span></div></td><td class='left'><div id='predefined-1.sentence-93' class='sentence'><span class='texttt'><span class='literal'>201304L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-94' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_rvalue_references'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;rvalue_&shy;references</span></div></td><td class='left'><div id='predefined-1.sentence-95' class='sentence'><span class='texttt'><span class='literal'>200610L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-96' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_sized_deallocation'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;sized_&shy;deallocation</span></div></td><td class='left'><div id='predefined-1.sentence-97' class='sentence'><span class='texttt'><span class='literal'>201309L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-98' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_static_assert'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;static_&shy;assert</span></div></td><td class='left'><div id='predefined-1.sentence-99' class='sentence'><span class='texttt'><span class='literal'>201411L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-100' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_structured_bindings'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;structured_&shy;bindings</span></div></td><td class='left'><div id='predefined-1.sentence-101' class='sentence'><span class='texttt'><span class='literal'>201606L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-102' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_template_template_args'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;template_&shy;template_&shy;args</span></div></td><td class='left'><div id='predefined-1.sentence-103' class='sentence'><span class='texttt'><span class='literal'>201611L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-104' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_threadsafe_static_init'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;threadsafe_&shy;static_&shy;init</span></div></td><td class='left'><div id='predefined-1.sentence-105' class='sentence'><span class='texttt'><span class='literal'>200806L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-106' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_unicode_characters'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;unicode_&shy;characters</span></div></td><td class='left'><div id='predefined-1.sentence-107' class='sentence'><span class='texttt'><span class='literal'>200704L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-108' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_unicode_literals'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;unicode_&shy;literals</span></div></td><td class='left'><div id='predefined-1.sentence-109' class='sentence'><span class='texttt'><span class='literal'>200710L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-110' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_user_defined_literals'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;user_&shy;defined_&shy;literals</span></div></td><td class='left'><div id='predefined-1.sentence-111' class='sentence'><span class='texttt'><span class='literal'>200809L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-112' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_using_enum'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;using_&shy;enum</span></div></td><td class='left'><div id='predefined-1.sentence-113' class='sentence'><span class='texttt'><span class='literal'>201907L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-114' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_variable_templates'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;variable_&shy;templates</span></div></td><td class='left'><div id='predefined-1.sentence-115' class='sentence'><span class='texttt'><span class='literal'>201304L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-116' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_variadic_templates'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;variadic_&shy;templates</span></div></td><td class='left'><div id='predefined-1.sentence-117' class='sentence'><span class='texttt'><span class='literal'>200704L</span></span></div></td></tr><tr class='rowsep'><td class='left'><div id='predefined-1.sentence-118' class='sentence'><span class='indexparent'><a class='index' id=':__cpp_variadic_using'></a></span><span class='texttt'>_&shy;_&shy;cpp_&shy;variadic_&shy;using</span></div></td><td class='left'><div id='predefined-1.sentence-119' class='sentence'><span class='texttt'><span class='literal'>201611L</span></span></div></td></tr></table></div></div><div class='para' id='predefined-2'><div class='marginalizedparent'><a class='marginalized' href='#predefined-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1777'>#</a></div><div id='predefined-2.sentence-1' class='sentence'>The following macro names are conditionally defined by the implementation:</div><ul class='description'><li id='predefined-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-2.1'>(2.1)</a></div><div id='predefined-2.1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__STDC__'></a></span><span class='texttt'>__STDC__</span><br/></div> <div id='predefined-2.1.sentence-2' class='sentence'>
Whether <span class='texttt'>__STDC__</span> is predefined and if so, what its value is,
are <span class='indexparent'><a class='index' id=':definition_and_meaning_of___STDC__'></a></span>implementation-defined<a class='hidden_link' href='#predefined-2.1.sentence-2'>.</a></div></li><li id='predefined-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-2.2'>(2.2)</a></div><div id='predefined-2.2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__STDC_MB_MIGHT_NEQ_WC__'></a></span><span class='texttt'>__STDC_&shy;MB_&shy;MIGHT_&shy;NEQ_&shy;WC__</span><br/></div> <div id='predefined-2.2.sentence-2' class='sentence'>
The integer literal <span class='texttt'><span class='literal'>1</span></span>, intended to indicate that, in the encoding for
<span class='texttt'><span class='keyword'>wchar_&shy;t</span></span>, a member of the basic character set need not have a code value equal to
its value when used as the lone character in an ordinary character literal<a class='hidden_link' href='#predefined-2.2.sentence-2'>.</a></div></li><li id='predefined-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-2.3'>(2.3)</a></div><div id='predefined-2.3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__STDC_VERSION__'></a></span><span class='texttt'>__STDC_&shy;VERSION__</span><br/></div> <div id='predefined-2.3.sentence-2' class='sentence'>
Whether <span class='texttt'>__STDC_&shy;VERSION__</span> is predefined and if so, what its value is,
are <span class='indexparent'><a class='index' id=':definition_and_meaning_of___STDC_VERSION__'></a></span>implementation-defined<a class='hidden_link' href='#predefined-2.3.sentence-2'>.</a></div></li><li id='predefined-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-2.4'>(2.4)</a></div><div id='predefined-2.4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__STDC_ISO_10646__'></a></span><span class='texttt'>__STDC_&shy;ISO_&shy;10646__</span><br/></div> <div id='predefined-2.4.sentence-2' class='sentence'>
An integer literal of the form <span class='texttt'>yyyymmL</span> (for example,
<span class='texttt'><span class='literal'>199712L</span></span>)<a class='hidden_link' href='#predefined-2.4.sentence-2'>.</a></div> <div id='predefined-2.4.sentence-3' class='sentence'>If this symbol is defined, then every character in the Unicode required set, when
stored in an object of type <span class='texttt'><span class='keyword'>wchar_&shy;t</span></span>, has the same value as the code point
of that character<a class='hidden_link' href='#predefined-2.4.sentence-3'>.</a></div> <div id='predefined-2.4.sentence-4' class='sentence'>The <a class='hidden_link' href='#def:Unicode_required_set' id='def:Unicode_required_set'><i >Unicode required set</i></a> consists of all
the characters that are defined by ISO/IEC 10646, along with
all amendments and technical corrigenda as of the specified year and month<a class='hidden_link' href='#predefined-2.4.sentence-4'>.</a></div></li><li id='predefined-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-2.5'>(2.5)</a></div><div id='predefined-2.5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__STDCPP_STRICT_POINTER_SAFETY__'></a></span><span class='texttt'>__STDCPP_&shy;STRICT_&shy;POINTER_&shy;SAFETY__</span><br/></div> <div id='predefined-2.5.sentence-2' class='sentence'>
Defined, and has the value integer literal 1, if and only if the implementation
has <a href='basic.stc.dynamic.safety#def:strict_pointer_safety'>strict pointer safety</a><a class='hidden_link' href='#predefined-2.5.sentence-2'>.</a></div></li><li id='predefined-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#predefined-2.6'>(2.6)</a></div><div id='predefined-2.6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':__STDCPP_THREADS__'></a></span><span class='texttt'>__STDCPP_&shy;THREADS__</span><br/></div> <div id='predefined-2.6.sentence-2' class='sentence'>
Defined, and has the value integer literal 1, if and only if a program
can have more than one <a href='intro.multithread'>thread of execution</a><a class='hidden_link' href='#predefined-2.6.sentence-2'>.</a></div></li></ul></div><div class='para' id='predefined-3'><div class='marginalizedparent'><a class='marginalized' href='#predefined-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1825'>#</a></div><div id='predefined-3.sentence-1' class='sentence'>The values of the predefined macros
(except for
<span class='texttt'>__FILE__</span>
and
<span class='texttt'>__LINE__</span>)
remain constant throughout the translation unit<a class='hidden_link' href='#predefined-3.sentence-1'>.</a></div></div><div class='para' id='predefined-4'><div class='marginalizedparent'><a class='marginalized' href='#predefined-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1833'>#</a></div><div id='predefined-4.sentence-1' class='sentence'>If any of the pre-defined macro names in this subclause,
or the identifier
<span class='texttt'><span class='preprocessordirective'>defined</span></span>,
is the subject of a
<span class='texttt'><span class='preprocessordirective'>#define</span></span>
or a
<span class='texttt'><span class='preprocessordirective'>#undef</span></span>
preprocessing directive,
the behavior is undefined<a class='hidden_link' href='#predefined-4.sentence-1'>.</a></div> <div id='predefined-4.sentence-2' class='sentence'>Any other predefined macro names shall begin with a
leading underscore followed by an uppercase letter or a second
underscore<a class='hidden_link' href='#predefined-4.sentence-2'>.</a></div></div><div class='footnote' id='footnote-149'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-149'>149)</a></div><div id='footnote-149.sentence-1' class='sentence'>The presumed source file name can be changed by the <span class='texttt'><span class='preprocessordirective'>#line</span></span> directive<a class='hidden_link' href='#footnote-149.sentence-1'>.</a></div> <a href='#footnoteref-149'>⮥</a></div><div class='footnote' id='footnote-150'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-150'>150)</a></div><div id='footnote-150.sentence-1' class='sentence'>The presumed line number can be changed by the <span class='texttt'><span class='preprocessordirective'>#line</span></span> directive<a class='hidden_link' href='#footnote-150.sentence-1'>.</a></div> <a href='#footnoteref-150'>⮥</a></div></div><div id='pragma.op' class='section'><h2 ><a class='secnum' href='#pragma.op' style='min-width:88pt'>15.12</a> Pragma operator <a class='abbr_ref' href='cpp.pragma.op'>[cpp.pragma.op]</a></h2><span class='indexparent'><a class='index' id=':macro,pragma_operator'></a></span><div class='para' id='pragma.op-1'><div class='marginalizedparent'><a class='marginalized' href='#pragma.op-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1851'>#</a></div><div id='pragma.op-1.sentence-1' class='sentence'>A unary operator expression of the form:
<pre class='ncbnf'><span class='terminal'><span class='preprocessordirective'>_Pragma</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a> <span class='terminal'><span class='parenthesis'>)</span></span>
</pre>
is processed as follows: The <a class='grammarterm' href='lex.string#nt:string-literal'>string-literal</a> is <a class='hidden_link' href='#def:destringization' id='def:destringization'><i >destringized</i></a>
by deleting the <span class='texttt'>L</span> prefix, if present, deleting the leading and trailing
double-quotes, replacing each escape sequence <span class='texttt'>\"</span> by a double-quote, and
replacing each escape sequence <span class='texttt'>\\</span> by a single
backslash<a class='hidden_link' href='#pragma.op-1.sentence-1'>.</a></div> <div id='pragma.op-1.sentence-2' class='sentence'>The resulting sequence of characters is processed through translation phase 3
to produce preprocessing tokens that are executed as if they were the
<a class='grammarterm' href='#nt:pp-tokens'>pp-tokens</a> in a pragma directive<a class='hidden_link' href='#pragma.op-1.sentence-2'>.</a></div> <div id='pragma.op-1.sentence-3' class='sentence'>The original four preprocessing
tokens in the unary operator expression are removed<a class='hidden_link' href='#pragma.op-1.sentence-3'>.</a></div></div><div class='para' id='pragma.op-2'><div class='marginalizedparent'><a class='marginalized' href='#pragma.op-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/preprocessor.tex#L1865'>#</a></div><div id='pragma.op-2.example-1' class='example'>[&nbsp;<a class='example_link' href='#pragma.op-2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='pragma.op-2.sentence-1' class='sentence'><pre class='codeblock'>
<span class='preprocessordirective'>#pragma</span> listing on <span class='literal'>"..\listing.dir"</span>
</pre>
can also be expressed as:
<pre class='codeblock'>
<span class='preprocessordirective'>_Pragma</span> <span class='parenthesis'>(</span> <span class='literal'>"listing on \"..\\listing.dir\""</span> <span class='parenthesis'>)</span>
</pre></div> <div id='pragma.op-2.sentence-2' class='sentence'>
The latter form is processed in the same way whether it appears literally
as shown, or results from macro replacement, as in:
<pre class='codeblock'>
<span class='preprocessordirective'>#define</span> LISTING<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> PRAGMA<span class='parenthesis'>(</span>listing on <span class='preprocessordirective'>#</span>x<span class='parenthesis'>)</span>
<span class='preprocessordirective'>#define</span> PRAGMA<span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='preprocessordirective'>_Pragma</span><span class='parenthesis'>(</span><span class='preprocessordirective'>#</span>x<span class='parenthesis'>)</span>

LISTING<span class='parenthesis'>(</span> <span class='operator'>.</span><span class='operator'>.</span>\listing<span class='operator'>.</span>dir <span class='parenthesis'>)</span>
</pre></div> —&nbsp;<i>end example</i></div>&nbsp;]</div>  </div></div></div></body></html>