<!DOCTYPE html><html lang='en'><head><title>[move.sentinel]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>23</a> Iterators library <a class='abbr_ref' href='./#iterators'>[iterators]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>23.5</a> Iterator adaptors <a class='abbr_ref' href='predef.iterators#move.sentinel'>[predef.iterators]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>23.5.3</a> Move iterators and sentinels <a class='abbr_ref' href='move.iterators#move.sentinel'>[move.iterators]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>23.5.3.9</a> Class template <span class='texttt'>move_&shy;sentinel</span> <a class='abbr_ref'>[move.sentinel]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/iterators.tex#L4571'>#</a></div><div id='1.sentence-1' class='sentence'>Class template <span class='texttt'>move_&shy;sentinel</span> is a sentinel adaptor useful for denoting
ranges together with <span class='texttt'>move_&shy;iterator</span><a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>When an input iterator type
<span class='texttt'>I</span> and sentinel type <span class='texttt'>S</span> model <span class='texttt'><span class='texttt'>sentinel_&shy;for</span><span class='indexparent'><a class='index' id=':sentinel_for'></a></span><span class='anglebracket'>&lt;</span>S, I<span class='anglebracket'>&gt;</span></span>,
<span class='texttt'>move_&shy;sentinel<span class='anglebracket'>&lt;</span>S<span class='anglebracket'>&gt;</span></span> and <span class='texttt'>move_&shy;iterator<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span></span> model
<span class='texttt'><span class='texttt'>sentinel_&shy;for</span><span class='indexparent'><a class='index' id=':sentinel_for_'></a></span><span class='anglebracket'>&lt;</span>move_&shy;sentinel<span class='anglebracket'>&lt;</span>S<span class='anglebracket'>&gt;</span>, move_&shy;iterator<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span>&gt;</span> as well<a class='hidden_link' href='#1.sentence-2'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/iterators.tex#L4578'>#</a></div><div id='2.example-1' class='example'>[&nbsp;<a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='2.sentence-1' class='sentence'>A <span class='texttt'>move_&shy;if</span> algorithm is easily implemented with
<span class='texttt'>copy_&shy;if</span> using <span class='texttt'>move_&shy;iterator</span> and <span class='texttt'>move_&shy;sentinel</span>:</div><pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>input_iterator<span class='indexparent'><a class='index' id=':input_iterator'></a></span> I, sentinel_for<span class='indexparent'><a class='index' id=':sentinel_for__'></a></span><span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span> S, weakly_incrementable<span class='indexparent'><a class='index' id=':weakly_incrementable'></a></span> O,
         indirect_unary_predicate<span class='indexparent'><a class='index' id=':indirect_unary_predicate'></a></span><span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span> Pred<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> indirectly_movable<span class='indexparent'><a class='index' id=':indirectly_movable'></a></span><span class='anglebracket'>&lt;</span>I, O<span class='anglebracket'>&gt;</span>
<span class='keyword'>void</span> move_if<span class='parenthesis'>(</span>I first, S last, O out, Pred pred<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  std<span class='operator'>::</span>ranges<span class='operator'>::</span>copy_if<span class='parenthesis'>(</span>move_iterator<span class='anglebracket'>&lt;</span>I<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span>first<span class='curlybracket'>}</span>, move_sentinel<span class='anglebracket'>&lt;</span>S<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span>last<span class='curlybracket'>}</span>, out, pred<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</pre> â€”&nbsp;<i>end example</i></div>&nbsp;]</div> <span class='indexparent'><a class='index' id='lib:move_sentinel'></a></span><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span>semiregular<span class='indexparent'><a class='index' id=':semiregular'></a></span> S<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> move_sentinel <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>constexpr</span> move_sentinel<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> move_sentinel<span class='parenthesis'>(</span>S s<span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> S2<span class='anglebracket'>&gt;</span>
      <span class='keyword'>requires</span> convertible_to<span class='indexparent'><a class='index' id=':convertible_to'></a></span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> S2<span class='operator'>&amp;</span>, S<span class='anglebracket'>&gt;</span>
        <span class='keyword'>constexpr</span> move_sentinel<span class='parenthesis'>(</span><span class='keyword'>const</span> move_sentinel<span class='anglebracket'>&lt;</span>S2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> s<span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> S2<span class='anglebracket'>&gt;</span>
      <span class='keyword'>requires</span> assignable_from<span class='indexparent'><a class='index' id=':assignable_from'></a></span><span class='anglebracket'>&lt;</span>S<span class='operator'>&amp;</span>, <span class='keyword'>const</span> S2<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span>
        <span class='keyword'>constexpr</span> move_sentinel<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> move_sentinel<span class='anglebracket'>&lt;</span>S2<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> s<span class='parenthesis'>)</span>;

    <span class='keyword'>constexpr</span> S base<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='keyword'>private</span><span class='operator'>:</span>
    S last;     <span class='comment'>// <span class='textit'>exposition only</span></span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre></div></div></body></html>