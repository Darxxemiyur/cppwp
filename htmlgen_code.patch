From 7cf34c9d136aa4e1a135b4fab674594f0e0f969f Mon Sep 17 00:00:00 2001
From: timsong-cpp <rs2740@gmail.com>
Date: Wed, 20 Oct 2021 22:47:26 -0500
Subject: [PATCH] Actually handle textasciitilde

---
 Document.hs    | 1 +
 RawDocument.hs | 2 +-
 Render.hs      | 1 +
 3 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/Document.hs b/Document.hs
index b468fe1..046b3cd 100644
--- a/Document.hs
+++ b/Document.hs
@@ -264,6 +264,7 @@ indexKeyContent = mconcat . map ikc
 		ikc (TeXComm "}" _ []) = "}"
 		ikc (TeXComm "caret" _ []) = "^"
 		ikc (TeXComm "tilde" _ []) = "~"
+		ikc (TeXComm "textasciitilde" _ []) = "~"
 		ikc (TeXComm "^" _ []) = "^"
 		ikc (TeXComm "\"" _ []) = "\""
 		ikc (TeXComm "" _ []) = ""
diff --git a/RawDocument.hs b/RawDocument.hs
index 30422f7..882d64d 100644
--- a/RawDocument.hs
+++ b/RawDocument.hs
@@ -191,7 +191,7 @@ storeCmds =
 			"phi int theta zeta FlushAndPrintGrammar break backslash centering " ++
 			"normalbaselineskip land lor mapsto normalfont textmu tablerefname figurerefname newline " ++
 			"obeyspaces bnfindent vdots tabcolsep columnbreak emergencystretch commentellip " ++
-			"gamma widowpenalties sffamily parskip left right")
+			"gamma widowpenalties sffamily parskip left right textasciitilde")
 	, (1, "hspace footnote textit textrm textnormal texttt textbf ensuremath ref mbox " ++
 			"terminal literalterminal noncxxterminal renontermdef textsl textsc textsf text term " ++
 			"tcode noncxxtcode literaltcode footnotetext microtypesetup cline mathtt mathit mathrm mathsf " ++
diff --git a/Render.hs b/Render.hs
index 68164c2..a799d06 100644
--- a/Render.hs
+++ b/Render.hs
@@ -87,6 +87,7 @@ simpleMacros =
 	, ("textbackslash"  , "\\")
 	, ("colcol"         , "::")
 	, ("tilde"          , "~")
+	, ("textasciitilde" , "~")
 	, ("hspace"         , " ")
 	, ("space"          , " ")
 	, ("equiv"          , "&equiv;")
-- 
2.25.1

