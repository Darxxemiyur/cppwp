<!DOCTYPE html><html lang='en'><head><title>[dcl.attr.likelihood]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>9</a> Declarations <a class='abbr_ref' href='./#dcl.dcl'>[dcl.dcl]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>9.12</a> Attributes <a class='abbr_ref' href='dcl.attr#likelihood'>[dcl.attr]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>9.12.6</a> Likelihood attributes <a class='abbr_ref'>[dcl.attr.likelihood]</a></h3><span class='indexparent'><a class='index' id=':attribute,likely'></a></span>
<span class='indexparent'><a class='index' id=':attribute,unlikely'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/declarations.tex#L8878'>#</a></div><div id='1.sentence-1' class='sentence'>The <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a>s
<span class='texttt'>likely</span> and <span class='texttt'>unlikely</span>
may be applied to labels or statements<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>The <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a>s
<span class='texttt'>likely</span> and <span class='texttt'>unlikely</span>
shall appear at most once in each <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-list'>attribute-list</a>
and no <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-argument-clause'>attribute-argument-clause</a> shall be present<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>The <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a> <span class='texttt'>likely</span>
shall not appear in an <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-specifier-seq'>attribute-specifier-seq</a>
that contains the <a class='grammarterm' href='dcl.attr.grammar#nt:attribute-token'>attribute-token</a> <span class='texttt'>unlikely</span><a class='hidden_link' href='#1.sentence-3'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/declarations.tex#L8890'>#</a></div><div id='2.sentence-1' class='sentence'><span class='textit'>Recommended practice:</span> 
The use of the <span class='texttt'>likely</span> attribute
is intended to allow implementations to optimize for
the case where paths of execution including it
are arbitrarily more likely
than any alternative path of execution
that does not include such an attribute on a statement or label<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>The use of the <span class='texttt'>unlikely</span> attribute
is intended to allow implementations to optimize for
the case where paths of execution including it
are arbitrarily more unlikely
than any alternative path of execution
that does not include such an attribute on a statement or label<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>A path of execution includes a label
if and only if it contains a jump to that label<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.note-1' class='note'>[&nbsp;<a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-4' class='sentence'>Excessive usage of either of these attributes
is liable to result in performance degradation<a class='hidden_link' href='#2.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/declarations.tex#L8911'>#</a></div><div id='3.example-1' class='example'>[&nbsp;<a class='example_link' href='#3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>if</span> <span class='parenthesis'>(</span>n <span class='anglebracket'>&gt;</span> <span class='literal'>5</span><span class='parenthesis'>)</span> <span class='squarebracket'>[</span><span class='squarebracket'>[</span>unlikely<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='curlybracket'>{</span>     <span class='comment'>// <span class='tcode_in_codeblock'>n &gt; 5</span> is considered to be arbitrarily unlikely</span>
    g<span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;
    <span class='keyword'>return</span> n <span class='operator'>*</span> <span class='literal'>2</span> <span class='operator'>+</span> <span class='literal'>1</span>;
  <span class='curlybracket'>}</span>

  <span class='keyword'>switch</span> <span class='parenthesis'>(</span>n<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>case</span> <span class='literal'>1</span><span class='operator'>:</span>
    g<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;
    <span class='squarebracket'>[</span><span class='squarebracket'>[</span>fallthrough<span class='squarebracket'>]</span><span class='squarebracket'>]</span>;

  <span class='squarebracket'>[</span><span class='squarebracket'>[</span>likely<span class='squarebracket'>]</span><span class='squarebracket'>]</span> <span class='keyword'>case</span> <span class='literal'>2</span><span class='operator'>:</span>            <span class='comment'>// <span class='tcode_in_codeblock'>n == 2</span> is considered to be arbitrarily more</span>
    g<span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span>;                       <span class='comment'>// likely than any other value of <span class='tcode_in_codeblock'>n</span></span>
    <span class='keyword'>break</span>;
  <span class='curlybracket'>}</span>
  <span class='keyword'>return</span> <span class='literal'>3</span>;
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div></body></html>