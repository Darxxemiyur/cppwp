<!DOCTYPE html><html lang='en'><head><title>[temp.point]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>13</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>13.8</a> Name resolution <a class='abbr_ref' href='temp.res#temp.point'>[temp.res]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>13.8.4</a> Dependent name resolution <a class='abbr_ref' href='temp.dep.res#temp.point'>[temp.dep.res]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>13.8.4.1</a> Point of instantiation <a class='abbr_ref'>[temp.point]</a></h4><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/templates.tex#L5635'>#</a></div><div id='1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':instantiation,point_of'></a></span>For a function template specialization, a member function template
specialization, or a specialization for a member function or static data member
of a class template,
if the specialization is implicitly instantiated because it is referenced
from within another template specialization and
the context from which it is referenced depends on a template parameter,
the point of instantiation of the specialization is the point of instantiation
of the enclosing specialization<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Otherwise, the point of instantiation for such a specialization immediately
follows the namespace scope declaration
or definition that refers to the specialization<a class='hidden_link' href='#1.sentence-2'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/templates.tex#L5649'>#</a></div><div id='2.sentence-1' class='sentence'>If a function template or member function of a class template is called
in a way which uses the definition of a default argument of that function
template or member function,
the point of instantiation of the default argument is the point of
instantiation of the function template or member function specialization<a class='hidden_link' href='#2.sentence-1'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/templates.tex#L5656'>#</a></div><div id='3.sentence-1' class='sentence'>For a <a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a> of a function template
specialization or specialization of a member function of a class template, if
the <a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a> is implicitly instantiated because
it is needed by another template specialization and the context that requires
it depends on a template parameter, the point of instantiation of the
<a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a> is the point of instantiation of the
specialization that requires it<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='3.sentence-2' class='sentence'>Otherwise, the point of instantiation for such
a <a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a> immediately follows the namespace
scope declaration or definition that requires the
<a class='grammarterm' href='except.spec#nt:noexcept-specifier'>noexcept-specifier</a><a class='hidden_link' href='#3.sentence-2'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/templates.tex#L5670'>#</a></div><div id='4.sentence-1' class='sentence'>For a class template specialization, a class member template specialization,
or a specialization for a class member of a class template,
if the specialization is implicitly instantiated because it is referenced
from within another template specialization,
if the context from which the specialization is referenced depends on a
template parameter,
and if the specialization is not instantiated previous to the instantiation of
the enclosing template,
the point of instantiation is immediately before the point of instantiation of
the enclosing template<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>Otherwise, the point of instantiation for such a specialization immediately
precedes the namespace scope declaration
or definition that refers to the specialization<a class='hidden_link' href='#4.sentence-2'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/templates.tex#L5685'>#</a></div><div id='5.sentence-1' class='sentence'>If a virtual function is implicitly instantiated, its point of instantiation
is immediately following the point of instantiation of its enclosing class
template specialization<a class='hidden_link' href='#5.sentence-1'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/templates.tex#L5690'>#</a></div><div id='6.sentence-1' class='sentence'>An explicit instantiation definition is an instantiation
point for the specialization or specializations specified by the explicit
instantiation<a class='hidden_link' href='#6.sentence-1'>.</a></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/templates.tex#L5695'>#</a></div><div id='7.sentence-1' class='sentence'>A specialization for a function template, a member function template,
or of a member function or static data member of a class template may have
multiple points of instantiations within a translation unit, and in addition
to the points of instantiation described above,
<ul class='itemize'><li id='7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.1'>(7.1)</a></div>for any such
specialization that has a point of instantiation within the
<a class='grammarterm' href='dcl.pre#nt:declaration-seq'>declaration-seq</a> of the
<a class='grammarterm' href='basic.link#nt:translation-unit'>translation-unit</a>,
prior to the <a class='grammarterm' href='module.private.frag#nt:private-module-fragment'>private-module-fragment</a> (if any),
the point after the <a class='grammarterm' href='dcl.pre#nt:declaration-seq'>declaration-seq</a>
of the <a class='grammarterm' href='basic.link#nt:translation-unit'>translation-unit</a>
is also considered a point of instantiation,
and</li><li id='7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#7.2'>(7.2)</a></div>for any such specialization that has a point of instantiation
within the <a class='grammarterm' href='module.private.frag#nt:private-module-fragment'>private-module-fragment</a>,
the end of the translation unit is also
considered a point of instantiation<a class='hidden_link' href='#7.sentence-1'>.</a></li></ul></div> <div id='7.sentence-2' class='sentence'>
A specialization for a class template has at most one point of instantiation
within a translation unit<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>A specialization for any template may have points of instantiation in multiple
translation units<a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.sentence-4' class='sentence'>If two different points of instantiation give a template specialization
different meanings according to the <a href='basic.def.odr'>one-definition rule</a>,
the program is ill-formed, no diagnostic required<a class='hidden_link' href='#7.sentence-4'>.</a></div></div></div></body></html>