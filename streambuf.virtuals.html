<!DOCTYPE html><html lang='en'><head><title>[streambuf.virtuals]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>29</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>29.6</a> Stream buffers <a class='abbr_ref' href='stream.buffers#streambuf.virtuals'>[stream.buffers]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>29.6.3</a> Class template <span class='texttt'>basic_&shy;streambuf</span> <a class='abbr_ref' href='streambuf#virtuals'>[streambuf]</a></h3><h4 ><a class='secnum' style='min-width:118pt'>29.6.3.4</a> Virtual functions <a class='abbr_ref'>[streambuf.virtuals]</a></h4><div id='streambuf.virt.locales' class='section'><h4 ><a class='secnum' href='#streambuf.virt.locales' style='min-width:133pt'>29.6.3.4.1</a> Locales <a class='abbr_ref' href='streambuf.virt.locales'>[streambuf.virt.locales]</a></h4><span class='indexparent'><a class='index' id='lib:imbue,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,imbue'></a></span><div class='itemdecl' id='streambuf.virt.locales-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.locales-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> imbue<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.locales-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.locales-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3539'>#</a></div><div id='streambuf.virt.locales-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Change any translations based on locale<a class='hidden_link' href='#streambuf.virt.locales-1.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.locales-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.locales-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3543'>#</a></div><div id='streambuf.virt.locales-2.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Allows the derived class to be informed of changes in locale at the
time they occur<a class='hidden_link' href='#streambuf.virt.locales-2.sentence-1'>.</a></div> <div id='streambuf.virt.locales-2.sentence-2' class='sentence'>Between invocations of this function a class derived
from streambuf can safely cache results of calls to locale functions
and to members of facets so obtained<a class='hidden_link' href='#streambuf.virt.locales-2.sentence-2'>.</a></div></div></div><div class='para' id='streambuf.virt.locales-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.locales-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3551'>#</a></div><div id='streambuf.virt.locales-3.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Does nothing<a class='hidden_link' href='#streambuf.virt.locales-3.sentence-1'>.</a></div></div></div></div><div id='streambuf.virt.buffer' class='section'><h4 ><a class='secnum' href='#streambuf.virt.buffer' style='min-width:133pt'>29.6.3.4.2</a> Buffer management and positioning <a class='abbr_ref' href='streambuf.virt.buffer'>[streambuf.virt.buffer]</a></h4><span class='indexparent'><a class='index' id='lib:setbuf,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,setbuf'></a></span><div class='itemdecl' id='streambuf.virt.buffer-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.buffer-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>basic_streambuf<span class='operator'>*</span> setbuf<span class='parenthesis'>(</span>char_type<span class='operator'>*</span> s, streamsize n<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.buffer-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3564'>#</a></div><div id='streambuf.virt.buffer-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Influences stream buffering in a way that is defined separately for each class
derived from
<span class='texttt'>basic_&shy;streambuf</span>
in this Clause (<a href='stringbuf.virtuals'>[stringbuf.virtuals]</a>,
<a href='filebuf.virtuals'>[filebuf.virtuals]</a>)<a class='hidden_link' href='#streambuf.virt.buffer-1.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.buffer-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3572'>#</a></div><div id='streambuf.virt.buffer-2.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Does nothing<a class='hidden_link' href='#streambuf.virt.buffer-2.sentence-1'>.</a></div> <div id='streambuf.virt.buffer-2.sentence-2' class='sentence'>Returns
<span class='texttt'><span class='keyword'>this</span></span><a class='hidden_link' href='#streambuf.virt.buffer-2.sentence-2'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:seekoff,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,seekoff'></a></span><div class='itemdecl' id='streambuf.virt.buffer-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.buffer-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>pos_type seekoff<span class='parenthesis'>(</span>off_type off, ios_base<span class='operator'>::</span>seekdir way,
                 ios_base<span class='operator'>::</span>openmode which
                  <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.buffer-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3587'>#</a></div><div id='streambuf.virt.buffer-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Alters the stream positions within one or more of
the controlled sequences in a way that is defined separately for each class
derived from
<span class='texttt'>basic_&shy;streambuf</span>
in this Clause (<a href='stringbuf.virtuals'>[stringbuf.virtuals]</a>,
<a href='filebuf.virtuals'>[filebuf.virtuals]</a>)<a class='hidden_link' href='#streambuf.virt.buffer-3.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.buffer-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3596'>#</a></div><div id='streambuf.virt.buffer-4.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns
<span class='texttt'>pos_&shy;type<span class='parenthesis'>(</span>off_&shy;type<span class='parenthesis'>(</span><span class='operator'>-</span><span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.buffer-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:seekpos,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,seekpos'></a></span><div class='itemdecl' id='streambuf.virt.buffer-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.buffer-itemdecl:3'>🔗</a></div><code class='itemdeclcode'>pos_type seekpos<span class='parenthesis'>(</span>pos_type sp,
                 ios_base<span class='operator'>::</span>openmode which
                  <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.buffer-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3610'>#</a></div><div id='streambuf.virt.buffer-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Alters the stream positions within one or more of
the controlled sequences in a way that is defined separately for each class
derived from
<span class='texttt'>basic_&shy;streambuf</span>
in this Clause (<a href='stringbuf'>[stringbuf]</a>,
<a href='filebuf'>[filebuf]</a>)<a class='hidden_link' href='#streambuf.virt.buffer-5.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.buffer-6'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3619'>#</a></div><div id='streambuf.virt.buffer-6.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns
<span class='texttt'>pos_&shy;type<span class='parenthesis'>(</span>off_&shy;type<span class='parenthesis'>(</span><span class='operator'>-</span><span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.buffer-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:sync,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,sync'></a></span><div class='itemdecl' id='streambuf.virt.buffer-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.buffer-itemdecl:4'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>int</span> sync<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.buffer-7'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3631'>#</a></div><div id='streambuf.virt.buffer-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Synchronizes the controlled sequences with the arrays<a class='hidden_link' href='#streambuf.virt.buffer-7.sentence-1'>.</a></div> <div id='streambuf.virt.buffer-7.sentence-2' class='sentence'>That is, if
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is non-null the characters between
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
are written to the controlled sequence<a class='hidden_link' href='#streambuf.virt.buffer-7.sentence-2'>.</a></div> <div id='streambuf.virt.buffer-7.sentence-3' class='sentence'>The pointers may then be reset as appropriate<a class='hidden_link' href='#streambuf.virt.buffer-7.sentence-3'>.</a></div></div></div><div class='para' id='streambuf.virt.buffer-8'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3643'>#</a></div><div id='streambuf.virt.buffer-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='operator'>-</span><span class='literal'>1</span></span> on failure<a class='hidden_link' href='#streambuf.virt.buffer-8.sentence-1'>.</a></div> <div id='streambuf.virt.buffer-8.sentence-2' class='sentence'>What constitutes failure is determined by each derived class (<a href='filebuf.virtuals'>[filebuf.virtuals]</a>)<a class='hidden_link' href='#streambuf.virt.buffer-8.sentence-2'>.</a></div></div></div><div class='para' id='streambuf.virt.buffer-9'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.buffer-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3648'>#</a></div><div id='streambuf.virt.buffer-9.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns zero<a class='hidden_link' href='#streambuf.virt.buffer-9.sentence-1'>.</a></div></div></div></div><div id='streambuf.virt.get' class='section'><h4 ><a class='secnum' href='#streambuf.virt.get' style='min-width:133pt'>29.6.3.4.3</a> Get area <a class='abbr_ref' href='streambuf.virt.get'>[streambuf.virt.get]</a></h4><div id='lib:basic_streambuf,showmanyc'><div id='lib:showmanyc,basic_streambuf'>
<div class='itemdecl' id='streambuf.virt.get-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.get-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>streamsize showmanyc<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;<a class='footnotenum' href='#footnote-296' id='footnoteref-296'>296</a>
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.get-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3663'>#</a></div><div id='streambuf.virt.get-1.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
An estimate of the number of
characters available in the sequence, or -1<a class='hidden_link' href='#streambuf.virt.get-1.sentence-1'>.</a></div> <div id='streambuf.virt.get-1.sentence-2' class='sentence'>If it returns
a positive value, then successive calls to
<span class='texttt'>underflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
will not return
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
until at least that number of characters have been
extracted from the stream<a class='hidden_link' href='#streambuf.virt.get-1.sentence-2'>.</a></div> <div id='streambuf.virt.get-1.sentence-3' class='sentence'>If
<span class='texttt'>showmanyc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
returns -1, then calls to
<span class='texttt'>underflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
or
<span class='texttt'>uflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
will fail<a class='hidden_link' href='#streambuf.virt.get-1.sentence-3'>.</a><a class='footnotenum' href='#footnote-297' id='footnoteref-297'>297</a></div></div></div><div class='para' id='streambuf.virt.get-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3688'>#</a></div><div id='streambuf.virt.get-2.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns zero<a class='hidden_link' href='#streambuf.virt.get-2.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.get-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3692'>#</a></div><div id='streambuf.virt.get-3.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Uses
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.get-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:xsgetn,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,xsgetn'></a></span><div class='itemdecl' id='streambuf.virt.get-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.get-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>streamsize xsgetn<span class='parenthesis'>(</span>char_type<span class='operator'>*</span> s, streamsize n<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.get-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3704'>#</a></div><div id='streambuf.virt.get-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Assigns up to <span class='texttt'>n</span> characters to successive elements of
the array whose first element is designated by <span class='texttt'>s</span><a class='hidden_link' href='#streambuf.virt.get-4.sentence-1'>.</a></div> <div id='streambuf.virt.get-4.sentence-2' class='sentence'>The characters assigned are read from the input sequence as if
by repeated calls to
<span class='texttt'>sbumpc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.get-4.sentence-2'>.</a></div> <div id='streambuf.virt.get-4.sentence-3' class='sentence'>Assigning stops when either <span class='texttt'>n</span> characters
have been assigned or a call to
<span class='texttt'>sbumpc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
would return
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.get-4.sentence-3'>.</a></div></div></div><div class='para' id='streambuf.virt.get-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3717'>#</a></div><div id='streambuf.virt.get-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The number of characters assigned<a class='hidden_link' href='#streambuf.virt.get-5.sentence-1'>.</a><a class='footnotenum' href='#footnote-298' id='footnoteref-298'>298</a></div></div></div><div class='para' id='streambuf.virt.get-6'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3727'>#</a></div><div id='streambuf.virt.get-6.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Uses
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.get-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:underflow,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,underflow'></a></span><div class='itemdecl' id='streambuf.virt.get-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.get-itemdecl:3'>🔗</a></div><code class='itemdeclcode'>int_type underflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.get-7'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3739'>#</a></div><div id='streambuf.virt.get-7.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The public members of
<span class='texttt'>basic_&shy;streambuf</span>
call this virtual function only if
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is null or
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&gt;</span><span class='operator'>=</span> egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.get-7.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.get-8'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3748'>#</a></div><div id='streambuf.virt.get-8.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>to_&shy;int_&shy;type<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span></span>,
where <span class='texttt'>c</span> is the first
<span class='textit'>character</span>
of the
<a class='hidden_link' href='#def:pending_sequence' id='def:pending_sequence'><i>pending sequence</i></a>,
without moving the input sequence position past it<a class='hidden_link' href='#streambuf.virt.get-8.sentence-1'>.</a></div> <div id='streambuf.virt.get-8.sentence-2' class='sentence'>If the pending sequence is null then the function returns
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
to indicate failure<a class='hidden_link' href='#streambuf.virt.get-8.sentence-2'>.</a></div></div></div><div class='para' id='streambuf.virt.get-9'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3760'>#</a></div><div id='streambuf.virt.get-9.sentence-1' class='sentence'>The
<a class='hidden_link' href='#def:pending_sequence' id='def:pending_sequence'><i>pending sequence</i></a>
of characters is defined as the concatenation of
<ul class='itemize'><li id='streambuf.virt.get-9.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.get-9.1'>(9.1)</a></div>the empty sequence if <span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is null, otherwise the
characters in
<span class='texttt'>[</span><span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><span class='texttt'>)</span>,
followed by</li><li id='streambuf.virt.get-9.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.get-9.2'>(9.2)</a></div>some (possibly empty) sequence of characters read from the input sequence<a class='hidden_link' href='#streambuf.virt.get-9.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='streambuf.virt.get-10'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3773'>#</a></div><div id='streambuf.virt.get-10.sentence-1' class='sentence'>The
<a class='hidden_link' href='#def:result_character' id='def:result_character'><i>result character</i></a>
is
the first character of the pending sequence if it is non-empty,
otherwise
the next character that would be read from the input sequence<a class='hidden_link' href='#streambuf.virt.get-10.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.get-11'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3781'>#</a></div><div id='streambuf.virt.get-11.sentence-1' class='sentence'>The
<a class='hidden_link' href='#def:backup_sequence' id='def:backup_sequence'><i>backup sequence</i></a>
is the empty sequence if <span class='texttt'>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is null, otherwise the
characters in
<span class='texttt'>[</span><span class='texttt'>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><span class='texttt'>)</span><a class='hidden_link' href='#streambuf.virt.get-11.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.get-12'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3788'>#</a></div><div id='streambuf.virt.get-12.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
The function sets up the
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
such that
if the pending sequence is non-empty, then
<span class='texttt'>egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is non-null and
the characters in <span class='texttt'>[</span><span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><span class='texttt'>)</span> are
the characters in the pending sequence,
otherwise
either <span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is null or
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span>  egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.get-12.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.get-13'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3805'>#</a></div><div id='streambuf.virt.get-13.sentence-1' class='sentence'>If
<span class='texttt'>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
are non-null then the function is not constrained as to their contents, but the “usual backup condition” is that either
<ul class='itemize'><li id='streambuf.virt.get-13.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.get-13.1'>(13.1)</a></div>the backup sequence contains at least
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
characters, in which case the characters in
<span class='texttt'>[</span><span class='texttt'>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><span class='texttt'>)</span>
agree with the last
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
characters of the backup sequence, or</li><li id='streambuf.virt.get-13.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.get-13.2'>(13.2)</a></div>the characters in <span class='texttt'>[</span><span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> n, gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><span class='texttt'>)</span>
agree with the backup sequence (where <span class='texttt'>n</span> is the length of the backup sequence)<a class='hidden_link' href='#streambuf.virt.get-13.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='streambuf.virt.get-14'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3825'>#</a></div><div id='streambuf.virt.get-14.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.get-14.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:uflow,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,uflow'></a></span><div class='itemdecl' id='streambuf.virt.get-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.get-itemdecl:4'>🔗</a></div><code class='itemdeclcode'>int_type uflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.get-15'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3837'>#</a></div><div id='streambuf.virt.get-15.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
The constraints are the same as for
<span class='texttt'>underflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
except that the result character is transferred from the pending
sequence to the backup sequence, and the pending sequence is not empty before the transfer<a class='hidden_link' href='#streambuf.virt.get-15.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.get-16'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3844'>#</a></div><div id='streambuf.virt.get-16.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Calls
<span class='texttt'>underflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.get-16.sentence-1'>.</a></div> <div id='streambuf.virt.get-16.sentence-2' class='sentence'>If
<span class='texttt'>underflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
returns
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
returns
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.get-16.sentence-2'>.</a></div> <div id='streambuf.virt.get-16.sentence-3' class='sentence'>Otherwise, returns the value of
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>to_&shy;int_&shy;type<span class='parenthesis'>(</span><span class='operator'>*</span>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
and increment the value of the next pointer for the input sequence<a class='hidden_link' href='#streambuf.virt.get-16.sentence-3'>.</a></div></div></div><div class='para' id='streambuf.virt.get-17'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.get-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3858'>#</a></div><div id='streambuf.virt.get-17.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
to indicate failure<a class='hidden_link' href='#streambuf.virt.get-17.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-296'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-296'>296)</a></div><div id='footnote-296.sentence-1' class='sentence'><span class='textrm'>The morphemes of <span class='texttt'>showmanyc</span>
are “es-how-many-see”, not “show-manic”.</span></div> <a href='#footnoteref-296'>⮥</a></div><div class='footnote' id='footnote-297'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-297'>297)</a></div><div id='footnote-297.sentence-1' class='sentence'><span class='texttt'>underflow</span>
or
<span class='texttt'>uflow</span>
might fail by throwing an exception prematurely<a class='hidden_link' href='#footnote-297.sentence-1'>.</a></div> <div id='footnote-297.sentence-2' class='sentence'>The intention is not only that the calls will not return
<span class='texttt'>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
but that they will return “immediately”<a class='hidden_link' href='#footnote-297.sentence-2'>.</a></div> <a href='#footnoteref-297'>⮥</a></div><div class='footnote' id='footnote-298'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-298'>298)</a></div><div id='footnote-298.sentence-1' class='sentence'>Classes derived from
<span class='texttt'>basic_&shy;streambuf</span>
can provide more efficient ways to implement
<span class='texttt'>xsgetn<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>xsputn<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
by overriding these definitions from the base class<a class='hidden_link' href='#footnote-298.sentence-1'>.</a></div> <a href='#footnoteref-298'>⮥</a></div></div><div id='streambuf.virt.pback' class='section'><h4 ><a class='secnum' href='#streambuf.virt.pback' style='min-width:133pt'>29.6.3.4.4</a> Putback <a class='abbr_ref' href='streambuf.virt.pback'>[streambuf.virt.pback]</a></h4><span class='indexparent'><a class='index' id='lib:pbackfail,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,pbackfail'></a></span><div class='itemdecl' id='streambuf.virt.pback-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.pback-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>int_type pbackfail<span class='parenthesis'>(</span>int_type c <span class='operator'>=</span> traits<span class='operator'>::</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.pback-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.pback-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3872'>#</a></div><div id='streambuf.virt.pback-1.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The public functions of
<span class='texttt'>basic_&shy;streambuf</span>
call this virtual function only when
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is null,
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
or
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq<span class='parenthesis'>(</span>traits<span class='operator'>&#x200b;::&#x200b;</span>to_&shy;char_&shy;type<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span>, gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='operator'>-</span><span class='literal'>1</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span></span>
returns
<span class='texttt'><span class='literal'>false</span></span><a class='hidden_link' href='#streambuf.virt.pback-1.sentence-1'>.</a></div> <div id='streambuf.virt.pback-1.sentence-2' class='sentence'>Other calls shall also satisfy that constraint<a class='hidden_link' href='#streambuf.virt.pback-1.sentence-2'>.</a></div><div style='height:0.6em;display:block'></div><div id='streambuf.virt.pback-1.sentence-3' class='sentence'>The
<a class='hidden_link' href='#def:pending_sequence' id='def:pending_sequence'><i>pending sequence</i></a>
is defined as for
<span class='texttt'>underflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
with the modifications that
<ul class='itemize'><li id='streambuf.virt.pback-1.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.pback-1.1'>(1.1)</a></div>If
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq_&shy;int_&shy;type<span class='parenthesis'>(</span>c, traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
returns
<span class='texttt'><span class='literal'>true</span></span>,
then the input sequence is backed up one character before the pending sequence is determined.</li><li id='streambuf.virt.pback-1.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.pback-1.2'>(1.2)</a></div>If
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq_&shy;int_&shy;type<span class='parenthesis'>(</span>c, traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
returns <span class='texttt'><span class='literal'>false</span></span>, then <span class='texttt'>c</span> is prepended. Whether the input sequence is backed up or modified in any other way is unspecified.</li></ul></div></div></div><div class='para' id='streambuf.virt.pback-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.pback-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3905'>#</a></div><div id='streambuf.virt.pback-2.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
On return, the constraints of
<span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
and
<span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
are the same as for
<span class='texttt'>underflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.pback-2.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.pback-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.pback-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3915'>#</a></div><div id='streambuf.virt.pback-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
to indicate failure<a class='hidden_link' href='#streambuf.virt.pback-3.sentence-1'>.</a></div> <div id='streambuf.virt.pback-3.sentence-2' class='sentence'>Failure may occur because the input sequence could not be backed up, or if for some
other reason the pointers could not be set consistent with the constraints<a class='hidden_link' href='#streambuf.virt.pback-3.sentence-2'>.</a></div> <div id='streambuf.virt.pback-3.sentence-3' class='sentence'><span class='texttt'>pbackfail<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is called only when put back has really failed<a class='hidden_link' href='#streambuf.virt.pback-3.sentence-3'>.</a></div></div></div><div class='para' id='streambuf.virt.pback-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.pback-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3924'>#</a></div><div id='streambuf.virt.pback-4.sentence-1' class='sentence'>Returns some value other than
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
to indicate success<a class='hidden_link' href='#streambuf.virt.pback-4.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.pback-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.pback-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3929'>#</a></div><div id='streambuf.virt.pback-5.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.pback-5.sentence-1'>.</a></div></div></div></div><div id='streambuf.virt.put' class='section'><h4 ><a class='secnum' href='#streambuf.virt.put' style='min-width:133pt'>29.6.3.4.5</a> Put area <a class='abbr_ref' href='streambuf.virt.put'>[streambuf.virt.put]</a></h4><span class='indexparent'><a class='index' id='lib:xsputn,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,xsputn'></a></span><div class='itemdecl' id='streambuf.virt.put-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.put-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>streamsize xsputn<span class='parenthesis'>(</span><span class='keyword'>const</span> char_type<span class='operator'>*</span> s, streamsize n<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.put-1'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3943'>#</a></div><div id='streambuf.virt.put-1.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Writes up to <span class='texttt'>n</span> characters to the output sequence as if
by repeated calls to
<span class='texttt'>sputc<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.put-1.sentence-1'>.</a></div> <div id='streambuf.virt.put-1.sentence-2' class='sentence'>The characters written are obtained from successive elements of
the array whose first element is designated by <span class='texttt'>s</span><a class='hidden_link' href='#streambuf.virt.put-1.sentence-2'>.</a></div> <div id='streambuf.virt.put-1.sentence-3' class='sentence'>Writing stops when either <span class='texttt'>n</span> characters have been written or
a call to
<span class='texttt'>sputc<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span></span>
would return
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.put-1.sentence-3'>.</a></div> <div id='streambuf.virt.put-1.sentence-4' class='sentence'>It is unspecified whether the function calls <span class='texttt'>overflow<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> when <span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> epptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> becomes <span class='texttt'><span class='literal'>true</span></span> or whether it achieves the same effects by other means<a class='hidden_link' href='#streambuf.virt.put-1.sentence-4'>.</a></div></div></div><div class='para' id='streambuf.virt.put-2'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3957'>#</a></div><div id='streambuf.virt.put-2.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The number of characters written<a class='hidden_link' href='#streambuf.virt.put-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:overflow,basic_streambuf'></a></span><span class='indexparent'><a class='index' id='lib:basic_streambuf,overflow'></a></span><div class='itemdecl' id='streambuf.virt.put-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#streambuf.virt.put-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>int_type overflow<span class='parenthesis'>(</span>int_type c <span class='operator'>=</span> traits<span class='operator'>::</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='streambuf.virt.put-3'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3968'>#</a></div><div id='streambuf.virt.put-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Consumes some initial subsequence of the characters of the
<a class='hidden_link' href='#def:pending_sequence' id='def:pending_sequence'><i>pending sequence</i></a><a class='hidden_link' href='#streambuf.virt.put-3.sentence-1'>.</a></div> <div id='streambuf.virt.put-3.sentence-2' class='sentence'>The pending sequence is defined as the concatenation of
<ul class='itemize'><li id='streambuf.virt.put-3.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.put-3.1'>(3.1)</a></div>the empty sequence if <span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is null, otherwise the
<span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
characters beginning at
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, followed by</li><li id='streambuf.virt.put-3.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.put-3.2'>(3.2)</a></div>the empty sequence
if
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq_&shy;int_&shy;type<span class='parenthesis'>(</span>c, traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
returns
<span class='texttt'><span class='literal'>true</span></span>, otherwise the sequence consisting of <span class='texttt'>c</span><a class='hidden_link' href='#streambuf.virt.put-3.sentence-2'>.</a></li></ul></div></div></div><div class='para' id='streambuf.virt.put-4'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3987'>#</a></div><div id='streambuf.virt.put-4.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The member functions
<span class='texttt'>sputc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>sputn<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
call this function in case that
no room can be found in the put buffer enough to accommodate the
argument character sequence<a class='hidden_link' href='#streambuf.virt.put-4.sentence-1'>.</a></div></div></div><div class='para' id='streambuf.virt.put-5'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L3997'>#</a></div><div id='streambuf.virt.put-5.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
Every overriding definition of this virtual function
obeys the following constraints:
<ul class='itemize'><li id='streambuf.virt.put-5.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.put-5.1'>(5.1)</a></div>The effect of consuming a character on the associated output sequence is
specified.<a class='footnotenum' href='#footnote-299' id='footnoteref-299'>299</a></li><li id='streambuf.virt.put-5.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.put-5.2'>(5.2)</a></div>Let
<span class='texttt'>r</span>
be the number of characters in the pending sequence not consumed. If
<span class='texttt'>r</span>
is nonzero then
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
are set so that:
<span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> r</span>
and the <span class='texttt'>r</span> characters starting at
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
are the associated output stream. In case <span class='texttt'>r</span>  is zero (all characters of the pending sequence have been consumed)
then either
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is set to
<span class='texttt'><span class='literal'>nullptr</span></span>,
or
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
are both set to the same non-null value.</li><li id='streambuf.virt.put-5.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#streambuf.virt.put-5.3'>(5.3)</a></div>The function may fail if either
appending some character to the associated output stream fails or
if it is unable to establish
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
according to the above rules.</li></ul></div></div></div><div class='para' id='streambuf.virt.put-6'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L4045'>#</a></div><div id='streambuf.virt.put-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
or throws an exception
if the function fails<a class='hidden_link' href='#streambuf.virt.put-6.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='streambuf.virt.put-6.sentence-2' class='sentence'>Otherwise,
returns some value other than
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
to indicate success<a class='hidden_link' href='#streambuf.virt.put-6.sentence-2'>.</a><a class='footnotenum' href='#footnote-300' id='footnoteref-300'>300</a></div></div></div><div class='para' id='streambuf.virt.put-7'><div class='marginalizedparent'><a class='marginalized' href='#streambuf.virt.put-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/iostreams.tex#L4063'>#</a></div><div id='streambuf.virt.put-7.sentence-1' class='sentence'><span class='textit'>Default behavior:</span> 
Returns
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#streambuf.virt.put-7.sentence-1'>.</a></div></div></div><div class='footnote' id='footnote-299'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-299'>299)</a></div><div id='footnote-299.sentence-1' class='sentence'>That is, for each class derived from an instance of
<span class='texttt'>basic_&shy;streambuf</span>
in this Clause (<a href='stringbuf'>[stringbuf]</a>,
<a href='filebuf'>[filebuf]</a>),
a specification of how consuming a character effects the associated output sequence is given<a class='hidden_link' href='#footnote-299.sentence-1'>.</a></div> <div id='footnote-299.sentence-2' class='sentence'>There is no requirement on a program-defined class<a class='hidden_link' href='#footnote-299.sentence-2'>.</a></div> <a href='#footnoteref-299'>⮥</a></div><div class='footnote' id='footnote-300'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-300'>300)</a></div><div id='footnote-300.sentence-1' class='sentence'>Typically,
<span class='texttt'>overflow</span>
returns <span class='texttt'>c</span> to indicate success, except when
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>eq_&shy;int_&shy;type<span class='parenthesis'>(</span>c, traits<span class='operator'>&#x200b;::&#x200b;</span>eof<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
returns
<span class='texttt'><span class='literal'>true</span></span>,
in which case it returns
<span class='texttt'>traits<span class='operator'>&#x200b;::&#x200b;</span>not_&shy;eof<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span></span><a class='hidden_link' href='#footnote-300.sentence-1'>.</a></div> <a href='#footnoteref-300'>⮥</a></div></div></div></body></html>