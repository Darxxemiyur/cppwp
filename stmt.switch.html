<!DOCTYPE html><html lang='en'><head><title>[stmt.switch]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>8</a> Statements <a class='abbr_ref' href='./#stmt.stmt'>[stmt.stmt]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>8.5</a> Selection statements <a class='abbr_ref' href='stmt.select#stmt.switch'>[stmt.select]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>8.5.2</a> The <span class='texttt'>switch</span> statement <a class='abbr_ref'>[stmt.switch]</a></h3><span class='indexparent'><a class='index' id=':statement,switch'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/statements.tex#L351'>#</a></div><div id='1.sentence-1' class='sentence'>The <span class='texttt'><span class='keyword'>switch</span></span> statement causes control to be transferred to one of
several statements depending on the value of a condition<a class='hidden_link' href='#1.sentence-1'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/statements.tex#L355'>#</a></div><div id='2.sentence-1' class='sentence'>The condition shall be of integral type, enumeration type, or class
type<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>If of class type, the
condition is <a href='conv#def:contextually_implicitly_converted'>contextually implicitly converted</a> to
an integral or enumeration type<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>If the (possibly converted) type is subject to <a href='conv.prom'>integral
promotions</a>, the condition is converted
to the promoted type<a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>Any
statement within the <span class='texttt'><span class='keyword'>switch</span></span> statement can be labeled with one or
more case labels as follows:
<pre class='ncbnf'><span class='indexparent'><a class='index' id=':label,case'></a></span><span class='texttt'><span class='keyword'>case</span></span><span class='indexparent'><a class='index' id=':case'></a></span> <a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> <span class='terminal'><span class='operator'>:</span></span>
</pre>
where the <a class='grammarterm' href='expr.const#nt:constant-expression'>constant-expression</a> shall be
a converted <a href='expr.const'>constant expression</a> of the
adjusted type of the switch condition<a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>No two of the case constants in
the same switch shall have the same value after conversion<a class='hidden_link' href='#2.sentence-5'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/statements.tex#L375'>#</a></div><div id='3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':label,default'></a></span>There shall be at most one label of the form
<pre class='codeblock'>
<span class='keyword'>default</span> <span class='operator'>:</span>
</pre>
within a <span class='texttt'><span class='keyword'>switch</span></span> statement<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/statements.tex#L383'>#</a></div><div id='4.sentence-1' class='sentence'>Switch statements can be nested; a <span class='texttt'><span class='keyword'>case</span></span> or <span class='texttt'><span class='keyword'>default</span></span> label
is associated with the smallest switch enclosing it<a class='hidden_link' href='#4.sentence-1'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/statements.tex#L387'>#</a></div><div id='5.sentence-1' class='sentence'>When the <span class='texttt'><span class='keyword'>switch</span></span> statement is executed, its condition is
evaluated<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':label,case_'></a></span>If one of the case constants has the same value as the condition,
control is passed to the statement following the matched case label<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'>If
no case constant matches the condition, and if there is a
<span class='indexparent'><a class='index' id=':label,default_'></a></span><span class='texttt'><span class='keyword'>default</span></span> label, control passes to the statement labeled by the
default label<a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'>If no case matches and if there is no <span class='texttt'><span class='keyword'>default</span></span>
then none of the statements in the switch is executed<a class='hidden_link' href='#5.sentence-4'>.</a></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/statements.tex#L399'>#</a></div><div id='6.sentence-1' class='sentence'><span class='texttt'><span class='keyword'>case</span></span> and <span class='texttt'><span class='keyword'>default</span></span> labels in themselves do not alter the
flow of control, which continues unimpeded across such labels<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>To exit
from a switch, see <a href='stmt.break'><span class='texttt'>break</span></a><a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.note-1' class='note'>[&nbsp;<a class='note_link' href='#6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='6.sentence-3' class='sentence'>Usually, the substatement that is the subject of a switch is compound
and <span class='texttt'><span class='keyword'>case</span></span> and <span class='texttt'><span class='keyword'>default</span></span> labels appear on the top-level
statements contained within the (compound) substatement, but this is not
required<a class='hidden_link' href='#6.sentence-3'>.</a></div> <div id='6.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':statement,declaration_in_switch'></a></span>Declarations can appear in the substatement of a
<span class='texttt'><span class='keyword'>switch</span></span> statement<a class='hidden_link' href='#6.sentence-4'>.</a></div> â€”&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/statements.tex#L413'>#</a></div><div id='7.sentence-1' class='sentence'>A <span class='texttt'><span class='keyword'>switch</span></span> statement of the form
<pre class='ncsimplebnf'><span class='texttt'><span class='keyword'>switch</span></span><span class='indexparent'><a class='index' id=':switch'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='stmt.pre#nt:init-statement'>init-statement</a> <a class='grammarterm' href='stmt.pre#nt:condition'>condition</a> <span class='terminal'><span class='parenthesis'>)</span></span> <a class='grammarterm' href='stmt.pre#nt:statement'>statement</a>
</pre>
is equivalent to
<pre class='ncsimplebnf'><span class='terminal'><span class='curlybracket'>{</span></span>
&#9;<a class='grammarterm' href='stmt.pre#nt:init-statement'>init-statement</a>
&#9;<span class='texttt'><span class='keyword'>switch</span></span><span class='indexparent'><a class='index' id=':switch_'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='stmt.pre#nt:condition'>condition</a> <span class='terminal'><span class='parenthesis'>)</span></span> <a class='grammarterm' href='stmt.pre#nt:statement'>statement</a>
<span class='terminal'><span class='curlybracket'>}</span></span>
</pre>
except that names declared in the <a class='grammarterm' href='stmt.pre#nt:init-statement'>init-statement</a> are in
the same declarative region as those declared in the
<a class='grammarterm' href='stmt.pre#nt:condition'>condition</a><a class='hidden_link' href='#7.sentence-1'>.</a></div> </div></div></body></html>