<!DOCTYPE html><html lang='en'><head><title>[allocator.requirements.general]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>16</a> Library introduction <a class='abbr_ref' href='./#library'>[library]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>16.4</a> Library-wide requirements <a class='abbr_ref' href='requirements#allocator.requirements.general'>[requirements]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>16.4.4</a> Requirements on types and expressions <a class='abbr_ref' href='utility.requirements#allocator.requirements.general'>[utility.requirements]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>16.4.4.6</a> <i >Cpp17Allocator</i> requirements <a class='abbr_ref' href='allocator.requirements#general'>[allocator.requirements]</a></h4><h4 ><a class='secnum' style='min-width:110pt'>16.4.4.6.1</a> General <a class='abbr_ref'>[allocator.requirements.general]</a></h4><div class='texpara'><a class='index' id=':Cpp17Allocator'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L1776'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>The library describes a standard set of requirements for <a class='hidden_link' href='#def:allocators' id='def:allocators'><i>allocators</i></a>,
which are class-type objects that encapsulate the information about an allocation model<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>This information includes the knowledge of pointer types, the type of their
difference, the type of the size of objects in this allocation model, as well
as the memory allocation and deallocation primitives for it<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>All of the
<a href='strings' title='21&emsp;Strings library&emsp;[strings]'>string types</a>,
<a href='containers' title='22&emsp;Containers library&emsp;[containers]'>containers</a> (except <span class='texttt'>array</span>),
string buffers and string streams (<a href='input.output' title='29&emsp;Input/output library'>[input.<span class='shy'></span>output]</a>), and
<a href='re' title='30&emsp;Regular expressions library&emsp;[re]'><span class='texttt'>match_&shy;results</span></a> are parameterized in terms of
allocators<a class='hidden_link' href='#1.sentence-3'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:allocator.req.var'>Table <a href='#tab:allocator.req.var'>37</a>: Descriptive variable definitions&emsp;<a href='./tab:allocator.req.var'>[tab:allocator.req.var]</a><br><table ><tr id='tab:allocator.req.var-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-1'>ðŸ”—</a></div></td><td class='center'><div class='texpara'><div id='tab:allocator.req.var-row-1-column-1-sentence-1' class='sentence'><b>Variable</b></div></div></td><td class='center'><div class='texpara'><div id='tab:allocator.req.var-row-1-column-2-sentence-1' class='sentence'><b>Definition</b></div></div></td></tr><tr id='tab:allocator.req.var-row-2' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-2'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-2-column-1-sentence-1' class='sentence'><span class='texttt'>T, U, C</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-2-column-2-sentence-1' class='sentence'>any <span class='mathit'>cv</span>-unqualified object type (<a href='basic.types' title='6.8&emsp;Types'>[basic.<span class='shy'></span>types]</a>)</div></div></td></tr><tr id='tab:allocator.req.var-row-3' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-3'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>X</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-3-column-2-sentence-1' class='sentence'>an allocator class for type <span class='texttt'>T</span></div></div></td></tr><tr id='tab:allocator.req.var-row-4' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-4'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>Y</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-4-column-2-sentence-1' class='sentence'>the corresponding allocator class for type <span class='texttt'>U</span></div></div></td></tr><tr id='tab:allocator.req.var-row-5' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-5'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-5-column-1-sentence-1' class='sentence'><span class='texttt'>XX</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-5-column-2-sentence-1' class='sentence'>the type <span class='texttt'>allocator_&shy;traits<span class='anglebracket'>&lt;</span>X<span class='anglebracket'>&gt;</span></span></div></div></td></tr><tr id='tab:allocator.req.var-row-6' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-6'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-6-column-1-sentence-1' class='sentence'><span class='texttt'>YY</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-6-column-2-sentence-1' class='sentence'>the type <span class='texttt'>allocator_&shy;traits<span class='anglebracket'>&lt;</span>Y<span class='anglebracket'>&gt;</span></span></div></div></td></tr><tr id='tab:allocator.req.var-row-7' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-7'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-7-column-1-sentence-1' class='sentence'><span class='texttt'>a, a1, a2</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-7-column-2-sentence-1' class='sentence'>lvalues of type <span class='texttt'>X</span></div></div></td></tr><tr id='tab:allocator.req.var-row-8' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-8'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-8-column-1-sentence-1' class='sentence'><span class='texttt'>u</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-8-column-2-sentence-1' class='sentence'>the name of a variable being declared</div></div></td></tr><tr id='tab:allocator.req.var-row-9' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-9'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-9-column-1-sentence-1' class='sentence'><span class='texttt'>b</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-9-column-2-sentence-1' class='sentence'>a value of type <span class='texttt'>Y</span></div></div></td></tr><tr id='tab:allocator.req.var-row-10' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-10'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-10-column-1-sentence-1' class='sentence'><span class='texttt'>c</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-10-column-2-sentence-1' class='sentence'>a pointer of type <span class='texttt'>C<span class='operator'>*</span></span> through which indirection is valid</div></div></td></tr><tr id='tab:allocator.req.var-row-11' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-11'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-11-column-1-sentence-1' class='sentence'><span class='texttt'>p</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-11-column-2-sentence-1' class='sentence'>a value of type <span class='texttt'>XX<span class='operator'>&#x200b;::&#x200b;</span>pointer</span>, obtained
by calling <span class='texttt'>a1<span class='operator'>.</span>allocate</span>, where <span class='texttt'>a1 <span class='operator'>=</span><span class='operator'>=</span> a</span></div></div></td></tr><tr id='tab:allocator.req.var-row-12' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-12'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-12-column-1-sentence-1' class='sentence'><span class='texttt'>q</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-12-column-2-sentence-1' class='sentence'>a value of type <span class='texttt'>XX<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer</span>
obtained by conversion from a value <span class='texttt'>p</span></div></div></td></tr><tr id='tab:allocator.req.var-row-13' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-13'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-13-column-1-sentence-1' class='sentence'><span class='texttt'>r</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-13-column-2-sentence-1' class='sentence'>a value of type <span class='texttt'>T<span class='operator'>&amp;</span></span>
obtained by the expression <span class='texttt'><span class='operator'>*</span>p</span></div></div></td></tr><tr id='tab:allocator.req.var-row-14' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-14'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-14-column-1-sentence-1' class='sentence'><span class='texttt'>w</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-14-column-2-sentence-1' class='sentence'>a value of type <span class='texttt'>XX<span class='operator'>&#x200b;::&#x200b;</span>void_&shy;pointer</span> obtained by
  conversion from a value <span class='texttt'>p</span></div></div></td></tr><tr id='tab:allocator.req.var-row-15' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-15'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-15-column-1-sentence-1' class='sentence'><span class='texttt'>x</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-15-column-2-sentence-1' class='sentence'>a value of type <span class='texttt'>XX<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;void_&shy;pointer</span> obtained by
  conversion from a value <span class='texttt'>q</span> or a value <span class='texttt'>w</span></div></div></td></tr><tr id='tab:allocator.req.var-row-16' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-16'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-16-column-1-sentence-1' class='sentence'><span class='texttt'>y</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-16-column-2-sentence-1' class='sentence'>a value of type <span class='texttt'>XX<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;void_&shy;pointer</span> obtained by
conversion from a result value of <span class='texttt'>YY<span class='operator'>&#x200b;::&#x200b;</span>allocate</span>, or else a value of
type (possibly <span id=':const'><span class='texttt'><span class='keyword'>const</span></span></span>) <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_&shy;t</span></div></div></td></tr><tr id='tab:allocator.req.var-row-17' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-17'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-17-column-1-sentence-1' class='sentence'><span class='texttt'>n</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-17-column-2-sentence-1' class='sentence'>a value of type <span class='texttt'>XX<span class='operator'>&#x200b;::&#x200b;</span>size_&shy;type</span></div></div></td></tr><tr id='tab:allocator.req.var-row-18' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-18'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-18-column-1-sentence-1' class='sentence'><span class='texttt'>Args</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-18-column-2-sentence-1' class='sentence'>a template parameter pack</div></div></td></tr><tr id='tab:allocator.req.var-row-19' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:allocator.req.var-row-19'>ðŸ”—</a></div></td><td class='left'><div class='texpara'><div id='tab:allocator.req.var-row-19-column-1-sentence-1' class='sentence'><span class='texttt'>args</span></div></div></td><td class='left' style='width:55%'><div class='texpara'><div id='tab:allocator.req.var-row-19-column-2-sentence-1' class='sentence'>a function parameter pack with the pattern <span class='texttt'>Args<span class='operator'>&amp;</span><span class='operator'>&amp;</span></span></div></div></td></tr></table></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L1820'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>The class template <span class='texttt'>allocator_&shy;traits</span> (<a href='allocator.traits' title='20.10.8&emsp;Allocator traits'>[allocator.<span class='shy'></span>traits]</a>) supplies
a uniform interface to all allocator types<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>Table <a href='#tab:allocator.req.var' title='Table 37: Descriptive variable definitions'>37</a> describes the types manipulated
through allocators<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>Table <a href='#tab:cpp17.allocator' title='Table 38: Cpp17Allocator requirements'>38</a>
describes the requirements on allocator types
and thus on types used to instantiate <span class='texttt'>allocator_&shy;traits</span><a class='hidden_link' href='#2.sentence-3'>.</a></div> <div id='2.sentence-4' class='sentence'>A requirement
is optional if the last column of
Table <a href='#tab:cpp17.allocator' title='Table 38: Cpp17Allocator requirements'>38</a> specifies a default for a
given expression<a class='hidden_link' href='#2.sentence-4'>.</a></div> <div id='2.sentence-5' class='sentence'>Within the standard library <span class='texttt'>allocator_&shy;traits</span>
template, an optional requirement that is not supplied by an allocator is
replaced by the specified default expression<a class='hidden_link' href='#2.sentence-5'>.</a></div> <div id='2.sentence-6' class='sentence'>A user specialization of
<span class='texttt'>allocator_&shy;traits</span> may provide different defaults and may provide
defaults for different requirements than the primary template<a class='hidden_link' href='#2.sentence-6'>.</a></div> <div id='2.sentence-7' class='sentence'>Within
Tables <a href='#tab:allocator.req.var' title='Table 37: Descriptive variable definitions'>37</a> and <a href='#tab:cpp17.allocator' title='Table 38: Cpp17Allocator requirements'>38</a>,
the use of <span class='texttt'>move</span> and <span class='texttt'>forward</span> always refers to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move</span>
and <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>forward</span>, respectively<a class='hidden_link' href='#2.sentence-7'>.</a></div></div><div class='texpara'><div class='numberedTable' id='tab:cpp17.allocator'>Table <a href='#tab:cpp17.allocator'>38</a>: <i >Cpp17Allocator</i> requirements&emsp;<a href='./tab:cpp17.allocator'>[tab:cpp17.allocator]</a><br><table ><tr id='tab:cpp17.allocator-row-1' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-1'>ðŸ”—</a></div></td><td class='center'><div class='texpara'><div id='tab:cpp17.allocator-row-1-column-1-sentence-1' class='sentence'><b>Expression</b></div></div></td><td class='center'><div class='texpara'><div id='tab:cpp17.allocator-row-1-column-2-sentence-1' class='sentence'><b>Return type</b></div></div></td><td class='center'><div class='texpara'><div id='tab:cpp17.allocator-row-1-column-3-sentence-1' class='sentence'><b>Assertion/note</b></div></div></td><td class='center'><div class='texpara'><div id='tab:cpp17.allocator-row-1-column-4-sentence-1' class='sentence'><b>Default</b></div></div></td></tr><tr id='tab:cpp17.allocator-row-2'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-2'>ðŸ”—</a></div></td><td class='empty left' style='width:22%'></td><td class='empty left' style='width:22%'></td><td class='center'><div class='texpara'><div id='tab:cpp17.allocator-row-2-column-3-sentence-1' class='sentence'><b>pre-/post-condition</b></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-3' class='capsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-3'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-3-column-1-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span></div></div></td><td class='empty left' style='width:22%'></td><td class='empty left' style='width:30%'></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-3-column-4-sentence-1' class='sentence'><span class='texttt'>T<span class='operator'>*</span></span></div></div></td></tr><tr id='tab:cpp17.allocator-row-4' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-4'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-4-column-1-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer</span></div></div></td><td class='empty left' style='width:22%'></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-4-column-3-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span> is convertible to <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer</span></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-4-column-4-sentence-1' class='sentence'><span class='texttt'>pointer_&shy;traits<span class='anglebracket'>&lt;</span>X<span class='operator'>&#x200b;::&#x200b;</span>&#x200b;pointer<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>&#x200b;rebind<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='anglebracket'>&gt;</span></span></div></div></td></tr><tr id='tab:cpp17.allocator-row-5' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-5'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-5-column-1-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>void_&shy;pointer</span><br/><span class='texttt'>Y<span class='operator'>&#x200b;::&#x200b;</span>void_&shy;pointer</span></div></div></td><td class='empty left' style='width:22%'></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-5-column-3-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span> is convertible to <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>void_&shy;pointer</span><a class='hidden_link' href='#tab:cpp17.allocator-row-5-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-5-column-3-sentence-2' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>void_&shy;pointer</span> and <span class='texttt'>Y<span class='operator'>&#x200b;::&#x200b;</span>void_&shy;pointer</span> are the same type<a class='hidden_link' href='#tab:cpp17.allocator-row-5-column-3-sentence-2'>.</a></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-5-column-4-sentence-1' class='sentence'><span class='texttt'>pointer_&shy;traits<span class='anglebracket'>&lt;</span>X<span class='operator'>&#x200b;::&#x200b;</span>&#x200b;pointer<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>&#x200b;rebind<span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='anglebracket'>&gt;</span></span></div></div></td></tr><tr id='tab:cpp17.allocator-row-6' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-6'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-6-column-1-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;void_&shy;pointer</span><br/><span class='texttt'>Y<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;void_&shy;pointer</span></div></div></td><td class='empty left' style='width:22%'></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-6-column-3-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span>, <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer</span>, and <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>void_&shy;pointer</span> are convertible to <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;void_&shy;pointer</span><a class='hidden_link' href='#tab:cpp17.allocator-row-6-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-6-column-3-sentence-2' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;void_&shy;pointer</span> and <span class='texttt'>Y<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;void_&shy;pointer</span> are the same type<a class='hidden_link' href='#tab:cpp17.allocator-row-6-column-3-sentence-2'>.</a></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-6-column-4-sentence-1' class='sentence'><span class='texttt'>pointer_&shy;traits<span class='anglebracket'>&lt;</span>X<span class='operator'>&#x200b;::&#x200b;</span>&#x200b;pointer<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>&#x200b;rebind<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>void</span><span class='anglebracket'>&gt;</span></span></div></div></td></tr><tr id='tab:cpp17.allocator-row-7' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-7'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-7-column-1-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>value_&shy;type</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-7-column-2-sentence-1' class='sentence'>Identical to <span class='texttt'>T</span></div></div></td><td class='empty left' style='width:30%'></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-8' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-8'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-8-column-1-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>size_&shy;type</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-8-column-2-sentence-1' class='sentence'>unsigned integer type</div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-8-column-3-sentence-1' class='sentence'>a type that can represent the size of the largest object in the allocation model</div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-8-column-4-sentence-1' class='sentence'><span class='texttt'>make_&shy;unsigned_&shy;t<span class='anglebracket'>&lt;</span>X<span class='operator'>&#x200b;::&#x200b;</span>&#x200b;difference_&shy;type<span class='anglebracket'>&gt;</span></span></div></div></td></tr><tr id='tab:cpp17.allocator-row-9' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-9'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-9-column-1-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>difference_&shy;type</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-9-column-2-sentence-1' class='sentence'>signed integer type</div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-9-column-3-sentence-1' class='sentence'>a type that can represent the difference between any two pointers
    in the allocation model</div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-9-column-4-sentence-1' class='sentence'><span class='texttt'>pointer_&shy;traits<span class='anglebracket'>&lt;</span>X<span class='operator'>&#x200b;::&#x200b;</span>&#x200b;pointer<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>&#x200b;difference_&shy;type</span></div></div></td></tr><tr id='tab:cpp17.allocator-row-10' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-10'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-10-column-1-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>typename</span> X<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>template</span> rebind<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>other</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-10-column-2-sentence-1' class='sentence'><span class='texttt'>Y</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-10-column-3-sentence-1' class='sentence'>For all <span class='texttt'>U</span> (including <span class='texttt'>T</span>), <span class='texttt'>Y<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>template</span> rebind<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>other</span>
    is <span class='texttt'>X</span><a class='hidden_link' href='#tab:cpp17.allocator-row-10-column-3-sentence-1'>.</a></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-10-column-4-sentence-1' class='sentence'>See Note A, below<a class='hidden_link' href='#tab:cpp17.allocator-row-10-column-4-sentence-1'>.</a></div></div></td></tr><tr id='tab:cpp17.allocator-row-11' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-11'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-11-column-1-sentence-1' class='sentence'><span class='texttt'><span class='operator'>*</span>p</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-11-column-2-sentence-1' class='sentence'><span class='texttt'>T<span class='operator'>&amp;</span></span></div></div></td><td class='empty left' style='width:30%'></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-12' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-12'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-12-column-1-sentence-1' class='sentence'><span class='texttt'><span class='operator'>*</span>q</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-12-column-2-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>const</span> T<span class='operator'>&amp;</span></span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-12-column-3-sentence-1' class='sentence'><span class='texttt'><span class='operator'>*</span>q</span> refers to the same object as <span class='texttt'><span class='operator'>*</span>p</span><a class='hidden_link' href='#tab:cpp17.allocator-row-12-column-3-sentence-1'>.</a></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-13' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-13'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-13-column-1-sentence-1' class='sentence'><span class='texttt'>p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>m</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-13-column-2-sentence-1' class='sentence'>type of <span class='texttt'>T<span class='operator'>&#x200b;::&#x200b;</span>m</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-13-column-3-sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span>p<span class='parenthesis'>)</span><span class='operator'>.</span>m</span> is well-defined<a class='hidden_link' href='#tab:cpp17.allocator-row-13-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-13-column-3-sentence-2' class='sentence'><br/>equivalent to <span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span>p<span class='parenthesis'>)</span><span class='operator'>.</span>m</span></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-14' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-14'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-14-column-1-sentence-1' class='sentence'><span class='texttt'>q<span class='operator'>-</span><span class='anglebracket'>&gt;</span>m</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-14-column-2-sentence-1' class='sentence'>type of <span class='texttt'>T<span class='operator'>&#x200b;::&#x200b;</span>m</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-14-column-3-sentence-1' class='sentence'><i >Preconditions</i>: <span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span>q<span class='parenthesis'>)</span><span class='operator'>.</span>m</span> is well-defined<a class='hidden_link' href='#tab:cpp17.allocator-row-14-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-14-column-3-sentence-2' class='sentence'><br/>equivalent to <span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span>q<span class='parenthesis'>)</span><span class='operator'>.</span>m</span></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-15' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-15'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-15-column-1-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span>&#x200b;X<span class='operator'>&#x200b;::&#x200b;</span>pointer&#x200b;<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-15-column-2-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-15-column-3-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span>X<span class='operator'>&#x200b;::&#x200b;</span>pointer<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>w<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> p</span></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-16' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-16'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-16-column-1-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span>&#x200b;X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer&#x200b;<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-16-column-2-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-16-column-3-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span></span> <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer&#x200b;<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>x<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> q</span></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-17' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-17'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-17-column-1-sentence-1' class='sentence'><span class='texttt'>pointer_&shy;traits<span class='anglebracket'>&lt;</span>&#x200b;X<span class='operator'>&#x200b;::&#x200b;</span>pointer&#x200b;<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>pointer_&shy;to<span class='parenthesis'>(</span>r<span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-17-column-2-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-17-column-3-sentence-1' class='sentence'>same as <span class='texttt'>p</span></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-18' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-18'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-18-column-1-sentence-1' class='sentence'><span class='texttt'>a<span class='operator'>.</span>allocate<span class='parenthesis'>(</span>n<span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-18-column-2-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-18-column-3-sentence-1' class='sentence'>Memory is allocated for an array of <span class='texttt'>n</span> <span class='texttt'>T</span>
and such an object is created
but array elements are not constructed<a class='hidden_link' href='#tab:cpp17.allocator-row-18-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-18-column-3-example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#tab:cpp17.allocator-row-18-column-3-example-1'>1</a></i>: <div id='tab:cpp17.allocator-row-18-column-3-sentence-2' class='sentence'>When reusing storage denoted by some pointer value <span class='texttt'>p</span>,
<span class='texttt'>launder<span class='parenthesis'>(</span><span class='keyword'>reinterpret_&shy;cast</span><span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>new</span> <span class='parenthesis'>(</span>p<span class='parenthesis'>)</span> byte<span class='squarebracket'>[</span>n <span class='operator'>*</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
can be used to implicitly create a suitable array object
and obtain a pointer to it<a class='hidden_link' href='#tab:cpp17.allocator-row-18-column-3-sentence-2'>.</a></div> â€”&nbsp;<i>end example</i>]</div></div> <div id='tab:cpp17.allocator-row-18-column-3-sentence-3' class='sentence'><span class='texttt'>allocate</span> may throw an appropriate exception<a class='hidden_link' href='#tab:cpp17.allocator-row-18-column-3-sentence-3'>.</a><a class='footnoteref' href='#footnote-162' id='footnoteref-162' title='It is intended that a.allocate be an efficient means of allocating a single object of type T, even when sizeof(T) is small. That is, there is no need for a container to maintain its own free list.'>162</a></div> <div id='tab:cpp17.allocator-row-18-column-3-sentence-4' class='sentence'>
See Note C, below<a class='hidden_link' href='#tab:cpp17.allocator-row-18-column-3-sentence-4'>.</a></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-19' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-19'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-19-column-1-sentence-1' class='sentence'><span class='texttt'>a<span class='operator'>.</span>allocate<span class='parenthesis'>(</span>n, y<span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-19-column-2-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-19-column-3-sentence-1' class='sentence'>Same as <span class='texttt'>a<span class='operator'>.</span>allocate<span class='parenthesis'>(</span>n<span class='parenthesis'>)</span></span><a class='hidden_link' href='#tab:cpp17.allocator-row-19-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-19-column-3-sentence-2' class='sentence'>The use of <span class='texttt'>y</span> is unspecified, but
    it is intended as an aid to locality<a class='hidden_link' href='#tab:cpp17.allocator-row-19-column-3-sentence-2'>.</a></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-19-column-4-sentence-1' class='sentence'><span class='texttt'>a<span class='operator'>.</span>allocate<span class='parenthesis'>(</span>n<span class='parenthesis'>)</span></span></div></div></td></tr><tr id='tab:cpp17.allocator-row-20' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-20'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-20-column-1-sentence-1' class='sentence'><span class='texttt'>a<span class='operator'>.</span>allocate_&shy;at_&shy;least<span class='parenthesis'>(</span>n<span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-20-column-2-sentence-1' class='sentence'><span class='texttt'>allocation_&shy;result<span class='anglebracket'>&lt;</span>X<span class='operator'>&#x200b;::&#x200b;</span>pointer<span class='anglebracket'>&gt;</span></span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-20-column-3-sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>allocation_&shy;result<span class='anglebracket'>&lt;</span>X<span class='operator'>&#x200b;::&#x200b;</span>pointer<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span>ptr, count<span class='curlybracket'>}</span></span>
  where <span class='texttt'>ptr</span> is memory allocated for an array of <span class='texttt'>count</span> <span class='texttt'>T</span>
  and such an object is created but array elements are not constructed,
  such that <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">count</span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">â‰¥</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">n</span></span></span></span></span></span></span><a class='hidden_link' href='#tab:cpp17.allocator-row-20-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-20-column-3-sentence-2' class='sentence'><span class='texttt'>allocate_&shy;at_&shy;least</span> may throw an appropriate exception<a class='hidden_link' href='#tab:cpp17.allocator-row-20-column-3-sentence-2'>.</a></div> <div id='tab:cpp17.allocator-row-20-column-3-sentence-3' class='sentence'>See Note C, below<a class='hidden_link' href='#tab:cpp17.allocator-row-20-column-3-sentence-3'>.</a></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-20-column-4-sentence-1' class='sentence'>See Note D, below<a class='hidden_link' href='#tab:cpp17.allocator-row-20-column-4-sentence-1'>.</a></div></div></td></tr><tr id='tab:cpp17.allocator-row-21' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-21'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-21-column-1-sentence-1' class='sentence'><span class='texttt'>a<span class='operator'>.</span>deallocate<span class='parenthesis'>(</span>p,n<span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-21-column-2-sentence-1' class='sentence'>(not used)</div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-21-column-3-sentence-1' class='sentence'><i >Preconditions</i>: <ul class='itemize'><li ><div class='texpara'><div id='tab:cpp17.allocator-row-21-column-3-sentence-1' class='sentence'>If <span class='texttt'>p</span> is memory
  that was obtained by a call to <span class='texttt'>a<span class='operator'>.</span>allocate_&shy;at_&shy;least</span>,
  let <span class='texttt'>ret</span> be the value returned and
  <span class='texttt'>req</span> be the value passed as the first argument of that call<a class='hidden_link' href='#tab:cpp17.allocator-row-21-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-21-column-3-sentence-2' class='sentence'><span class='texttt'>p</span> is equal to <span class='texttt'>ret<span class='operator'>.</span>ptr</span> and
  <span class='texttt'>n</span> is a value such that
  <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.519em;">req</span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">â‰¤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.225em; padding-bottom: 0.225em;">n</span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">â‰¤</span></span><span class="mjx-texatom MJXc-space3"><span class="mjx-mrow"></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.298em;">ret<span class='operator'>.</span>count</span></span></span></span></span></span></span><a class='hidden_link' href='#tab:cpp17.allocator-row-21-column-3-sentence-2'>.</a></div></div></li><li ><div class='texpara'><div id='tab:cpp17.allocator-row-21-column-3-sentence-1' class='sentence'>Otherwise, <span class='texttt'>p</span> is a pointer value obtained from <span class='texttt'>allocate</span><a class='hidden_link' href='#tab:cpp17.allocator-row-21-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-21-column-3-sentence-2' class='sentence'><span class='texttt'>n</span> equals the value passed as the first argument
  to the invocation of <span class='texttt'>allocate</span> which returned <span class='texttt'>p</span><a class='hidden_link' href='#tab:cpp17.allocator-row-21-column-3-sentence-2'>.</a></div></div></li></ul></div> <div id='tab:cpp17.allocator-row-21-column-3-sentence-2' class='sentence'>
  <span class='texttt'>p</span> has not been invalidated by
  an intervening call to <span class='texttt'>deallocate</span><a class='hidden_link' href='#tab:cpp17.allocator-row-21-column-3-sentence-2'>.</a></div> <div id='tab:cpp17.allocator-row-21-column-3-sentence-3' class='sentence'><br/><i >Throws</i>: Nothing<a class='hidden_link' href='#tab:cpp17.allocator-row-21-column-3-sentence-3'>.</a></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-22' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-22'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-22-column-1-sentence-1' class='sentence'><span class='texttt'>a<span class='operator'>.</span>max_&shy;size<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-22-column-2-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>size_&shy;type</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-22-column-3-sentence-1' class='sentence'>the largest value that can meaningfully be passed to <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>allocate<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-22-column-4-sentence-1' class='sentence'><span class='texttt'>numeric_&shy;limits<span class='anglebracket'>&lt;</span>size_&shy;type<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>max<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>/</span> <span class='keyword'>sizeof</span>&#x200b;<span class='parenthesis'>(</span>value_&shy;type<span class='parenthesis'>)</span></span></div></div></td></tr><tr id='tab:cpp17.allocator-row-23' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-23'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-23-column-1-sentence-1' class='sentence'><span class='texttt'>a1 <span class='operator'>=</span><span class='operator'>=</span> a2</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-23-column-2-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>bool</span></span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-23-column-3-sentence-1' class='sentence'>Returns <span class='texttt'><span class='literal'>true</span></span> only if storage allocated from each can
    be deallocated via the other<a class='hidden_link' href='#tab:cpp17.allocator-row-23-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-23-column-3-sentence-2' class='sentence'><span class='texttt'><span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span></span> shall be reflexive, symmetric,
    and transitive, and shall not exit via an exception<a class='hidden_link' href='#tab:cpp17.allocator-row-23-column-3-sentence-2'>.</a></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-24' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-24'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-24-column-1-sentence-1' class='sentence'><span class='texttt'>a1 <span class='operator'>!</span><span class='operator'>=</span> a2</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-24-column-2-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>bool</span></span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-24-column-3-sentence-1' class='sentence'>same as <span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span>a1 <span class='operator'>=</span><span class='operator'>=</span> a2<span class='parenthesis'>)</span></span></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-25' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-25'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-25-column-1-sentence-1' class='sentence'><span class='texttt'>a <span class='operator'>=</span><span class='operator'>=</span> b</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-25-column-2-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>bool</span></span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-25-column-3-sentence-1' class='sentence'>same as <span class='texttt'>a <span class='operator'>=</span><span class='operator'>=</span></span> <span class='texttt'>Y<span class='operator'>&#x200b;::&#x200b;</span>rebind<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>other<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span></span></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-26' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-26'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-26-column-1-sentence-1' class='sentence'><span class='texttt'>a <span class='operator'>!</span><span class='operator'>=</span> b</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-26-column-2-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>bool</span></span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-26-column-3-sentence-1' class='sentence'>same as <span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span>a <span class='operator'>=</span><span class='operator'>=</span> b<span class='parenthesis'>)</span></span></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-27' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-27'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-27-column-1-sentence-1' class='sentence'><span class='texttt'>X u<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span></span>;            <br/><span class='texttt'>X u <span class='operator'>=</span> a;</span></div></div></td><td class='empty left' style='width:22%'></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-27-column-3-sentence-1' class='sentence'>Shall not exit via an exception<a class='hidden_link' href='#tab:cpp17.allocator-row-27-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-27-column-3-sentence-2' class='sentence'><br/><i >Postconditions</i>: <span class='texttt'>u <span class='operator'>=</span><span class='operator'>=</span> a</span></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-28' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-28'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-28-column-1-sentence-1' class='sentence'><span class='texttt'>X u<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>;</span></div></div></td><td class='empty left' style='width:22%'></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-28-column-3-sentence-1' class='sentence'>Shall not exit via an exception<a class='hidden_link' href='#tab:cpp17.allocator-row-28-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-28-column-3-sentence-2' class='sentence'><br/><i >Postconditions</i>: <span class='texttt'>Y<span class='parenthesis'>(</span>u<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> b</span>, <span class='texttt'>u <span class='operator'>=</span><span class='operator'>=</span> X<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span></span></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-29' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-29'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-29-column-1-sentence-1' class='sentence'><span class='texttt'>X u<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;</span>  <br/><span class='texttt'>X u <span class='operator'>=</span> std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;</span></div></div></td><td class='empty left' style='width:22%'></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-29-column-3-sentence-1' class='sentence'>Shall not exit via an exception<a class='hidden_link' href='#tab:cpp17.allocator-row-29-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-29-column-3-sentence-2' class='sentence'><br/><i >Postconditions</i>: The value of <span class='texttt'>a</span> is unchanged and is equal to <span class='texttt'>u</span><a class='hidden_link' href='#tab:cpp17.allocator-row-29-column-3-sentence-2'>.</a></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-30' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-30'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-30-column-1-sentence-1' class='sentence'><span class='texttt'>X u<span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;</span></div></div></td><td class='empty left' style='width:22%'></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-30-column-3-sentence-1' class='sentence'>Shall not exit via an exception<a class='hidden_link' href='#tab:cpp17.allocator-row-30-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-30-column-3-sentence-2' class='sentence'><br/><i >Postconditions</i>: <span class='texttt'>u</span> is equal to the prior value of <span class='texttt'>X<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span></span><a class='hidden_link' href='#tab:cpp17.allocator-row-30-column-3-sentence-2'>.</a></div></div></td><td class='empty left' style='width:15%'></td></tr><tr id='tab:cpp17.allocator-row-31' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-31'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-31-column-1-sentence-1' class='sentence'><span class='texttt'>a<span class='operator'>.</span>construct<span class='parenthesis'>(</span>c, args<span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-31-column-2-sentence-1' class='sentence'>(not used)</div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-31-column-3-sentence-1' class='sentence'><i >Effects</i>: Constructs an object of type <span class='texttt'>C</span> at
    <span class='texttt'>c</span><a class='hidden_link' href='#tab:cpp17.allocator-row-31-column-3-sentence-1'>.</a></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-31-column-4-sentence-1' class='sentence'><span class='texttt'>construct_&shy;at<span class='parenthesis'>(</span>c,<span class='operator'> </span>std<span class='operator'>&#x200b;::&#x200b;</span>&#x200b;forward<span class='anglebracket'>&lt;</span>Args<span class='anglebracket'>&gt;</span>&#x200b;<span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span></div></div></td></tr><tr id='tab:cpp17.allocator-row-32' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-32'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-32-column-1-sentence-1' class='sentence'><span class='texttt'>a<span class='operator'>.</span>destroy<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-32-column-2-sentence-1' class='sentence'>(not used)</div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-32-column-3-sentence-1' class='sentence'><i >Effects</i>: Destroys the object at <span class='texttt'>c</span></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-32-column-4-sentence-1' class='sentence'><span class='texttt'>destroy_&shy;at<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span></span></div></div></td></tr><tr id='tab:cpp17.allocator-row-33' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-33'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-33-column-1-sentence-1' class='sentence'><span class='texttt'>a<span class='operator'>.</span>select_&shy;on_&shy;container_&shy;copy_&shy;construction<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-33-column-2-sentence-1' class='sentence'><span class='texttt'>X</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-33-column-3-sentence-1' class='sentence'>Typically returns either <span class='texttt'>a</span> or <span class='texttt'>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#tab:cpp17.allocator-row-33-column-3-sentence-1'>.</a></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-33-column-4-sentence-1' class='sentence'><span class='texttt'><span class='keyword'>return</span> a;</span></div></div></td></tr><tr id='tab:cpp17.allocator-row-34' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-34'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-34-column-1-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>propagate_&shy;on_&shy;container_&shy;copy_&shy;assignment</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-34-column-2-sentence-1' class='sentence'>Identical to or derived from <span class='texttt'>true_&shy;type</span> or <span class='texttt'>false_&shy;type</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-34-column-3-sentence-1' class='sentence'><span class='texttt'>true_&shy;type</span> only if an allocator of type <span class='texttt'>X</span> should be copied
    when the client container is copy-assigned<a class='hidden_link' href='#tab:cpp17.allocator-row-34-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-34-column-3-sentence-2' class='sentence'>See Note B, below<a class='hidden_link' href='#tab:cpp17.allocator-row-34-column-3-sentence-2'>.</a></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-34-column-4-sentence-1' class='sentence'><span class='texttt'>false_&shy;type</span></div></div></td></tr><tr id='tab:cpp17.allocator-row-35' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-35'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-35-column-1-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>propagate_&shy;on_&shy;container_&shy;move_&shy;assignment</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-35-column-2-sentence-1' class='sentence'>Identical to or derived from <span class='texttt'>true_&shy;type</span> or <span class='texttt'>false_&shy;type</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-35-column-3-sentence-1' class='sentence'><span class='texttt'>true_&shy;type</span> only if an allocator of type <span class='texttt'>X</span> should be moved
    when the client container is move-assigned<a class='hidden_link' href='#tab:cpp17.allocator-row-35-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-35-column-3-sentence-2' class='sentence'>See Note B, below<a class='hidden_link' href='#tab:cpp17.allocator-row-35-column-3-sentence-2'>.</a></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-35-column-4-sentence-1' class='sentence'><span class='texttt'>false_&shy;type</span></div></div></td></tr><tr id='tab:cpp17.allocator-row-36' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-36'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-36-column-1-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>propagate_&shy;on_&shy;<span class='operator'>-</span></span> <span class='texttt'>container_&shy;swap</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-36-column-2-sentence-1' class='sentence'>Identical to or derived from <span class='texttt'>true_&shy;type</span> or <span class='texttt'>false_&shy;type</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-36-column-3-sentence-1' class='sentence'><span class='texttt'>true_&shy;type</span> only if an allocator of type <span class='texttt'>X</span> should be swapped
    when the client container is swapped<a class='hidden_link' href='#tab:cpp17.allocator-row-36-column-3-sentence-1'>.</a></div> <div id='tab:cpp17.allocator-row-36-column-3-sentence-2' class='sentence'>See Note B, below<a class='hidden_link' href='#tab:cpp17.allocator-row-36-column-3-sentence-2'>.</a></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-36-column-4-sentence-1' class='sentence'><span class='texttt'>false_&shy;type</span></div></div></td></tr><tr id='tab:cpp17.allocator-row-37' class='rowsep'><td class='hidden'><div class='marginalizedparent'><a class='itemDeclLink' href='#tab:cpp17.allocator-row-37'>ðŸ”—</a></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-37-column-1-sentence-1' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>is_&shy;always_&shy;equal</span></div></div></td><td class='left' style='width:22%'><div class='texpara'><div id='tab:cpp17.allocator-row-37-column-2-sentence-1' class='sentence'>Identical to or derived from <span class='texttt'>true_&shy;type</span> or <span class='texttt'>false_&shy;type</span></div></div></td><td class='left' style='width:30%'><div class='texpara'><div id='tab:cpp17.allocator-row-37-column-3-sentence-1' class='sentence'><span class='texttt'>true_&shy;type</span> only if the expression <span class='texttt'>a1 <span class='operator'>=</span><span class='operator'>=</span> a2</span> is guaranteed
    to be <span class='texttt'><span class='literal'>true</span></span> for any two (possibly <span id=':const_'><span class='texttt'><span class='keyword'>const</span></span></span>) values
    <span class='texttt'>a1</span>, <span class='texttt'>a2</span> of type <span class='texttt'>X</span><a class='hidden_link' href='#tab:cpp17.allocator-row-37-column-3-sentence-1'>.</a></div></div></td><td class='left' style='width:15%'><div class='texpara'><div id='tab:cpp17.allocator-row-37-column-4-sentence-1' class='sentence'><span class='texttt'>is_&shy;empty<span class='anglebracket'>&lt;</span>X<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>&#x200b;type</span></div></div></td></tr></table></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L2067'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>Note A: The member class template <span class='texttt'>rebind</span> in the table above is
effectively a typedef template<a class='hidden_link' href='#3.sentence-1'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-1'>1</a></i>: <div id='3.sentence-2' class='sentence'>In general, if
the name <span class='texttt'>Allocator</span> is bound to <span class='texttt'>SomeAllocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>, then
<span class='texttt'>Allocator<span class='operator'>&#x200b;::&#x200b;</span>rebind<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>other</span> is the same type as
<span class='texttt'>SomeAllocator<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span></span>, where
<span class='texttt'>SomeAllocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>value_&shy;type</span> is <span class='texttt'>T</span> and
<span class='texttt'>SomeAllocator<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>&#x200b;value_&shy;type</span> is <span class='texttt'>U</span><a class='hidden_link' href='#3.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div> <div id='3.sentence-3' class='sentence'>
If
<span class='texttt'>Allocator</span> is a class template instantiation of the form
<span class='texttt'>SomeAllocator<span class='anglebracket'>&lt;</span>T, Args<span class='anglebracket'>&gt;</span></span>, where <span class='texttt'>Args</span> is zero or more type
arguments, and <span class='texttt'>Allocator</span> does not supply a <span class='texttt'>rebind</span> member
template, the standard <span class='texttt'>allocator_&shy;traits</span> template uses
<span class='texttt'>SomeAllocator<span class='anglebracket'>&lt;</span>U, Args<span class='anglebracket'>&gt;</span></span> in place of <span class='texttt'>Allocator<span class='operator'>&#x200b;::&#x200b;</span>&#x200b;rebind<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>other</span>
by default<a class='hidden_link' href='#3.sentence-3'>.</a></div> <div id='3.sentence-4' class='sentence'>For allocator types that are not template instantiations of the
above form, no default is provided<a class='hidden_link' href='#3.sentence-4'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L2087'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>Note B:
If <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>propagate_&shy;on_&shy;container_&shy;copy_&shy;assignment<span class='operator'>&#x200b;::&#x200b;</span>value</span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>X</span> shall meet the
<i >Cpp17CopyAssignable</i> requirements (Table <a href='utility.arg.requirements#tab:cpp17.copyassignable' title='Table 33: Cpp17CopyAssignable requirements (in addition to Cpp17MoveAssignable)'>33</a>)
and the copy operation shall not throw exceptions<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>If <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>propagate_&shy;on_&shy;container_&shy;move_&shy;assignment<span class='operator'>&#x200b;::&#x200b;</span>value</span> is <span class='texttt'><span class='literal'>true</span></span>,
<span class='texttt'>X</span> shall meet the
<i >Cpp17MoveAssignable</i> requirements (Table <a href='utility.arg.requirements#tab:cpp17.moveassignable' title='Table 32: Cpp17MoveAssignable requirements'>32</a>)
and the move operation shall not throw exceptions<a class='hidden_link' href='#4.sentence-2'>.</a></div> <div id='4.sentence-3' class='sentence'>If <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>propagate_&shy;on_&shy;container_&shy;swap<span class='operator'>&#x200b;::&#x200b;</span>value</span> is <span class='texttt'><span class='literal'>true</span></span>,
lvalues of type <span class='texttt'>X</span> shall be <a href='swappable.requirements' title='16.4.4.3&emsp;Swappable requirements&emsp;[swappable.requirements]'>swappable</a>
and the <span class='texttt'>swap</span> operation shall not throw exceptions<a class='hidden_link' href='#4.sentence-3'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L2101'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'>Note C:
If <span class='texttt'>n <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span></span>, the return value is unspecified<a class='hidden_link' href='#5.sentence-1'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L2105'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>Note D:
An allocator need not support <span class='texttt'>allocate_&shy;at_&shy;least</span>,
but no default is provided in <span class='texttt'>allocator_&shy;traits</span><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>If an allocator has an <span class='texttt'>allocate_&shy;at_&shy;least</span> member,
it shall satisfy the requirements<a class='hidden_link' href='#6.sentence-2'>.</a></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L2112'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>An allocator type <span class='texttt'>X</span> shall meet the
<i >Cpp17CopyConstructible</i> requirements (Table <a href='utility.arg.requirements#tab:cpp17.copyconstructible' title='Table 31: Cpp17CopyConstructible requirements (in addition to Cpp17MoveConstructible)'>31</a>)<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>The <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span>, <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer</span>, <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>void_&shy;pointer</span>, and
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;void_&shy;pointer</span> types shall meet the
<i >Cpp17NullablePointer</i> requirements (Table <a href='nullablepointer.requirements#tab:cpp17.nullablepointer' title='Table 35: Cpp17NullablePointer requirements'>35</a>)<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>No constructor,
comparison operator function, copy operation, move operation, or swap operation on
these pointer types shall exit via an exception<a class='hidden_link' href='#7.sentence-3'>.</a></div> <div id='7.sentence-4' class='sentence'><span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span> and <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer</span> shall also
meet the requirements for
a <i >Cpp17RandomAccessIterator</i> (<a href='random.access.iterators' title='23.3.5.7&emsp;Random access iterators'>[random.<span class='shy'></span>access.<span class='shy'></span>iterators]</a>) and
the additional requirement that, when <span class='texttt'>a</span> and <span class='texttt'><span class='parenthesis'>(</span>a <span class='operator'>+</span> n<span class='parenthesis'>)</span></span> are
dereferenceable pointer values for some integral value <span class='texttt'>n</span>,
<span class='codeblock'>addressof<span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>(</span>a <span class='operator'>+</span> n<span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> addressof<span class='parenthesis'>(</span><span class='operator'>*</span>a<span class='parenthesis'>)</span> <span class='operator'>+</span> n
</span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#7.sentence-4'>.</a></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L2130'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>Let <span class='texttt'>x1</span> and <span class='texttt'>x2</span> denote objects of (possibly different) types
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>void_&shy;pointer</span>, <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;void_&shy;pointer</span>, <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span>,
or <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer</span><a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>Then, <span class='texttt'>x1</span> and <span class='texttt'>x2</span> are
<a class='hidden_link' href='#def:equivalently-valued' title='16.4.4.6.1&emsp;General&emsp;[allocator.requirements.general]'><span id='def:equivalently-valued'><i >equivalently-valued</i></span></a> pointer values, if and only if both <span class='texttt'>x1</span> and <span class='texttt'>x2</span>
can be explicitly converted to the two corresponding objects <span class='texttt'>px1</span> and <span class='texttt'>px2</span>
of type <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer</span>, using a sequence of <span id=':static_cast'><span class='texttt'><span class='keyword'>static_&shy;cast</span></span></span>s
using only these four types, and the expression <span class='texttt'>px1 <span class='operator'>=</span><span class='operator'>=</span> px2</span>
evaluates to <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#8.sentence-2'>.</a></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L2140'>#</a></div><div class='texpara'><div id='9.sentence-1' class='sentence'>Let <span class='texttt'>w1</span> and <span class='texttt'>w2</span> denote objects of type <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>void_&shy;pointer</span><a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'>Then for the expressions
<span class='codeblock'>w1 <span class='operator'>=</span><span class='operator'>=</span> w2
w1 <span class='operator'>!</span><span class='operator'>=</span> w2
</span>
either or both objects may be replaced by an equivalently-valued object of type
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;void_&shy;pointer</span> with no change in semantics<a class='hidden_link' href='#9.sentence-2'>.</a></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L2150'>#</a></div><div class='texpara'><div id='10.sentence-1' class='sentence'>Let <span class='texttt'>p1</span> and <span class='texttt'>p2</span> denote objects of type <span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>pointer</span><a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.sentence-2' class='sentence'>Then for the expressions
<span class='codeblock'>p1 <span class='operator'>=</span><span class='operator'>=</span> p2
p1 <span class='operator'>!</span><span class='operator'>=</span> p2
p1 <span class='anglebracket'>&lt;</span> p2
p1 <span class='anglebracket'>&lt;</span><span class='operator'>=</span> p2
p1 <span class='anglebracket'>&gt;</span><span class='operator'>=</span> p2
p1 <span class='anglebracket'>&gt;</span> p2
p1 <span class='operator'>-</span> p2
</span>
either or both objects may be replaced by an equivalently-valued object of type
<span class='texttt'>X<span class='operator'>&#x200b;::&#x200b;</span>const_&shy;pointer</span> with no change in semantics<a class='hidden_link' href='#10.sentence-2'>.</a></div></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L2165'>#</a></div><div class='texpara'><div id='11.sentence-1' class='sentence'>An allocator may constrain the types on which it can be instantiated and the
arguments for which its <span class='texttt'>construct</span> or <span class='texttt'>destroy</span> members may be
called<a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.sentence-2' class='sentence'>If a type cannot be used with a particular allocator, the allocator
class or the call to <span class='texttt'>construct</span> or <span class='texttt'>destroy</span> may fail to instantiate<a class='hidden_link' href='#11.sentence-2'>.</a></div></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L2171'>#</a></div><div class='texpara'><div id='12.sentence-1' class='sentence'>If the alignment associated with a specific over-aligned type is not
supported by an allocator, instantiation of the allocator for that type may
fail<a class='hidden_link' href='#12.sentence-1'>.</a></div> <div id='12.sentence-2' class='sentence'>The allocator also may silently ignore the requested alignment<a class='hidden_link' href='#12.sentence-2'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#note-2'>2</a></i>: <div id='12.sentence-3' class='sentence'>Additionally, the member function <span class='texttt'>allocate</span>
for that type can fail by throwing an object of type
<span class='texttt'>bad_&shy;alloc</span><a class='hidden_link' href='#12.sentence-3'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div><div class='para nonNormativeOnly' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/04e0ea7074c9b0d0ca939821ce0f575c589df6b7/source/lib-intro.tex#L2181'>#</a></div><div class='texpara'><div id='example-2' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-2'>2</a></i>: <div id='13.sentence-1' class='sentence'>The following is an allocator class template supporting the minimal
interface that meets the requirements of
Table <a href='#tab:cpp17.allocator' title='Table 38: Cpp17Allocator requirements'>38</a>:
<span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Tp<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> SimpleAllocator <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> Tp value_type;
  SimpleAllocator<span class='parenthesis'>(</span><i >ctor args</i><span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> SimpleAllocator<span class='parenthesis'>(</span><span class='keyword'>const</span> SimpleAllocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> other<span class='parenthesis'>)</span>;

  <span class='squarebracket'>[</span><span class='squarebracket'>[</span>nodiscard<span class='squarebracket'>]</span><span class='squarebracket'>]</span> Tp<span class='operator'>*</span> allocate<span class='parenthesis'>(</span>std<span class='operator'>::</span>size_t n<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> deallocate<span class='parenthesis'>(</span>Tp<span class='operator'>*</span> p, std<span class='operator'>::</span>size_t n<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
<span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> SimpleAllocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> SimpleAllocator<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
<span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> SimpleAllocator<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, <span class='keyword'>const</span> SimpleAllocator<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
</span></div> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='footnoteSeparator'></div><div class='footnote' id='footnote-162'><div class='texpara'><a class='footnotenum' href='#footnote-162'>162)</a><a class='footnoteBacklink' href='#footnoteref-162'>162)</a> <div id='footnote-162.sentence-1' class='sentence'>It is intended that <span class='texttt'>a<span class='operator'>.</span>allocate</span> be an efficient means
of allocating a single object of type <span class='texttt'>T</span>, even when <span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span></span>
is small<a class='hidden_link' href='#footnote-162.sentence-1'>.</a></div> <div id='footnote-162.sentence-2' class='sentence'>That is, there is no need for a container to maintain its own
free list<a class='hidden_link' href='#footnote-162.sentence-2'>.</a></div></div></div></div></body></html>