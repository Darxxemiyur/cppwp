<!DOCTYPE html><html lang='en'><head><title>[temp.dep]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>13</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>13.8</a> Name resolution <a class='abbr_ref' href='temp.res#temp.dep'>[temp.res]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>13.8.2</a> Dependent names <a class='abbr_ref'>[temp.dep]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L4886'>#</a></div><div id='1.sentence-1' class='sentence'>Inside a template, some constructs have semantics which may differ from one
instantiation to another<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>Such a construct
depends
on the template parameters<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>In particular, types and expressions may depend on the type
and/or
value of
template parameters (as determined by the template arguments) and this determines
the context for name lookup for certain names<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.sentence-4' class='sentence'>An expression may be
<a class='hidden_link' href='#def:expression,type-dependent' id='def:expression,type-dependent'><i >type-dependent</i></a>
(that is, its type may depend on a template parameter) or
<a class='hidden_link' href='#def:expression,value-dependent' id='def:expression,value-dependent'><i >value-dependent</i></a>
(that is, its value when evaluated as a constant expression (<a href='expr.const'>[expr.const]</a>)
may depend on a template parameter)
as described in this subclause<a class='hidden_link' href='#1.sentence-4'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L4907'>#</a></div><div id='2.sentence-1' class='sentence'>In an expression of the form:
<pre class='ncsimplebnf'><a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.post#nt:expression-list'>expression-list</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</pre>
where the
<a class='grammarterm' href='expr.post#nt:postfix-expression'>postfix-expression</a>
is an
<a class='grammarterm' href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a>,
the
<a class='grammarterm' href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a>
denotes a
<a class='hidden_link' href='#def:name,dependent' id='def:name,dependent'><i >dependent name</i></a>
if
<ul class='itemize'><li id='2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.1'>(2.1)</a></div>any of the expressions in the <a class='grammarterm' href='expr.post#nt:expression-list'>expression-list</a> is a
<a href='temp.variadic#def:pack_expansion'>pack expansion</a>,</li><li id='2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.2'>(2.2)</a></div>any of the expressions
or <a class='grammarterm' href='dcl.init#nt:braced-init-list'>braced-init-list</a><span class='textit'>s</span>
in the
<a class='grammarterm' href='expr.post#nt:expression-list'>expression-list</a>
is <a href='#expr'>type-dependent</a>, or</li><li id='2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#2.3'>(2.3)</a></div>the <a class='grammarterm' href='expr.prim.id.unqual#nt:unqualified-id'>unqualified-id</a>
is a <a class='grammarterm' href='temp.names#nt:template-id'>template-id</a> in which any of the template arguments depends
on a template parameter<a class='hidden_link' href='#2.sentence-1'>.</a></li></ul></div><div id='2.sentence-2' class='sentence'>If an operand of an operator is a type-dependent expression, the operator
also denotes a dependent name<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.note-1' class='note'>[&nbsp;<a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-3' class='sentence'>Such names are unbound and
are looked up at the point of the template instantiation (<a href='temp.point'>[temp.point]</a>) in
both the context of the template definition and the
context of the point of instantiation (<a href='temp.dep.candidate'>[temp.dep.candidate]</a>)<a class='hidden_link' href='#2.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L4946'>#</a></div><div id='3.example-1' class='example'>[&nbsp;<a class='example_link' href='#3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='operator'>:</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> T<span class='operator'>::</span>A<span class='operator'>*</span> pa;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> pb<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>static</span> <span class='keyword'>int</span> i <span class='operator'>=</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>i;
    pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>j<span class='operator'>+</span><span class='operator'>+</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</pre><div id='3.sentence-1' class='sentence'>The base class name
<span class='texttt'>B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>,
the type name
<span class='texttt'>T<span class='operator'>&#x200b;::&#x200b;</span>A</span>,
the names
<span class='texttt'>B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>i</span>
and
<span class='texttt'>pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>j</span>
explicitly depend on the
<a class='grammarterm' href='temp.param#nt:template-parameter'>template-parameter</a><a class='hidden_link' href='#3.sentence-1'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L4970'>#</a></div><div id='4.sentence-1' class='sentence'>In the definition of a class or class template,
the scope of a <a href='#def:base_class,dependent'>dependent base class</a>
is not examined during unqualified
name lookup either at the point of definition of the
class template or member or during an instantiation of
the class template or member<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.example-1' class='example'>[&nbsp;<a class='example_link' href='#4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>typedef</span> <span class='keyword'>double</span> A;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> A;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='operator'>:</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  A a;              <span class='comment'>// <span class='tcode_in_codeblock'>a</span> has type <span class='tcode_in_codeblock'>double</span></span>
<span class='curlybracket'>}</span>;
</pre><div id='4.sentence-2' class='sentence'>The type name
<span class='texttt'>A</span>
in the definition of
<span class='texttt'>X<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>
binds to the typedef name defined in the global
namespace scope, not to the typedef name
defined in the base class
<span class='texttt'>B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#4.sentence-2'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='4.example-2' class='example'>[&nbsp;<a class='example_link' href='#4.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> a;
  <span class='keyword'>int</span> Y;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> a;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Y <span class='operator'>:</span> T <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
  B b;                          <span class='comment'>// The <span class='tcode_in_codeblock'>B</span> defined in <span class='tcode_in_codeblock'>Y</span></span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> a <span class='operator'>=</span> i; <span class='curlybracket'>}</span>      <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;a</span></span>
  Y<span class='operator'>*</span> p;                         <span class='comment'>// <span class='tcode_in_codeblock'>Y&lt;T&gt;</span></span>
<span class='curlybracket'>}</span>;

Y<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span> ya;
</pre><div id='4.sentence-3' class='sentence'>The members
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>B</span>,
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>a</span>,
and
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>Y</span>
of the template argument
<span class='texttt'>A</span>
do not affect the binding of names in
<span class='texttt'>Y<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#4.sentence-3'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div id='type' class='section'><h4 ><a class='secnum' href='#type' style='min-width:118pt'>13.8.2.1</a> Dependent types <a class='abbr_ref' href='temp.dep.type'>[temp.dep.type]</a></h4><div class='para' id='type-1'><div class='marginalizedparent'><a class='marginalized' href='#type-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5030'>#</a></div><div id='type-1.sentence-1' class='sentence'>A name refers to the
<a class='hidden_link' href='#def:current_instantiation' id='def:current_instantiation'><i >current instantiation</i></a>
if it is
<ul class='itemize'><li id='type-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-1.1'>(1.1)</a></div>in the definition of a class template, a nested class of a class template,
a member of a class template, or a member of a nested class of a class template,
the <a href='class.pre#def:injected-class-name'>injected-class-name</a> of the class template or nested class,</li><li id='type-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-1.2'>(1.2)</a></div>in the definition of a primary class template
or a member of a primary class template, the name of the
class template followed by the template argument list of the
primary template (as described below) enclosed in
<span class='texttt'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span> (or an equivalent template alias specialization),</li><li id='type-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-1.3'>(1.3)</a></div>in the definition of a nested class of a class template,
the name of the nested class referenced as a member of the
current instantiation, or</li><li id='type-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-1.4'>(1.4)</a></div>in the definition of a partial specialization
or a member of a partial specialization, the name of
the class template followed by the template argument list of
the partial specialization enclosed in
<span class='texttt'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span> (or an equivalent template alias specialization)<a class='hidden_link' href='#type-1.sentence-1'>.</a> If the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template parameter is
a template parameter pack, the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template argument is a pack
expansion (<a href='temp.variadic'>[temp.variadic]</a>) whose pattern is the name of
the template parameter pack.</li></ul></div></div><div class='para' id='type-2'><div class='marginalizedparent'><a class='marginalized' href='#type-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5061'>#</a></div><div id='type-2.sentence-1' class='sentence'>The template argument list of a primary template is a
template argument list in which the
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span>
template argument has the value of the
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span>
template parameter of the class template<a class='hidden_link' href='#type-2.sentence-1'>.</a></div> <div id='type-2.sentence-2' class='sentence'>If the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template parameter is a
<a href='temp.variadic#def:template_parameter_pack'>template parameter pack</a>, the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template argument is a
<a href='temp.variadic#def:pack_expansion'>pack expansion</a> whose pattern is the name of
the template parameter pack<a class='hidden_link' href='#type-2.sentence-2'>.</a></div></div><div class='para' id='type-3'><div class='marginalizedparent'><a class='marginalized' href='#type-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5073'>#</a></div><div id='type-3.sentence-1' class='sentence'>A template argument that is equivalent to a template
parameter can be used in place of that
template parameter in a reference to the current instantiation<a class='hidden_link' href='#type-3.sentence-1'>.</a></div> <div id='type-3.sentence-2' class='sentence'>For a template <a class='grammarterm' href='temp.param#nt:type-parameter'>type-parameter</a>,
a template argument is equivalent to a template parameter
if it denotes the same type<a class='hidden_link' href='#type-3.sentence-2'>.</a></div> <div id='type-3.sentence-3' class='sentence'>For a non-type template parameter,
a template argument is equivalent to a template parameter
if it is an <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> that names a variable
that is equivalent to the template parameter<a class='hidden_link' href='#type-3.sentence-3'>.</a></div> <div id='type-3.sentence-4' class='sentence'>A variable is equivalent to a template parameter if
<ul class='itemize'><li id='type-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-3.1'>(3.1)</a></div>it has the same type as the template parameter
  (ignoring cv-qualification) and</li><li id='type-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-3.2'>(3.2)</a></div>its initializer consists of a single <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
  that names the template parameter or, recursively, such a variable<a class='hidden_link' href='#type-3.sentence-4'>.</a></li></ul></div> <div id='type-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#type-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='type-3.sentence-5' class='sentence'>Using a parenthesized variable name breaks the equivalence<a class='hidden_link' href='#type-3.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='type-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#type-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  A<span class='operator'>*</span> p1;                        <span class='comment'>// <span class='tcode_in_codeblock'>A</span> is the current instantiation</span>
  A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p2;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;</span> is the current instantiation</span>
  A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> p3;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;</span> is not the current instantiation</span>
  <span class='operator'>::</span>A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p4;                   <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;A&lt;T&gt;</span> is the current instantiation</span>
  <span class='keyword'>class</span> B <span class='curlybracket'>{</span>
    B<span class='operator'>*</span> p1;                      <span class='comment'>// <span class='tcode_in_codeblock'>B</span> is the current instantiation</span>
    A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>*</span> p2;                <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;B</span> is the current instantiation</span>
    <span class='keyword'>typename</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>*</span> p3;      <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;&#x200b;::&#x200b;B</span> is not the current instantiation</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> p1;                    <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;</span> is the current instantiation</span>
  A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p2;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;</span> is not the current instantiation</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  B<span class='anglebracket'>&lt;</span>T1, T2, I<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b1;             <span class='comment'>// refers to the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>T2, T1, I<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b2;             <span class='comment'>// not the current instantiation</span>
  <span class='keyword'>typedef</span> T1 my_T1;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I <span class='operator'>=</span> I;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I2 <span class='operator'>=</span> I<span class='operator'>+</span><span class='literal'>0</span>;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I3 <span class='operator'>=</span> my_I;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>long</span> my_I4 <span class='operator'>=</span> I;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I5 <span class='operator'>=</span> <span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b3;       <span class='comment'>// refers to the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I2<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b4;      <span class='comment'>// not the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I3<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b5;      <span class='comment'>// refers to the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I4<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b6;      <span class='comment'>// not the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I5<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b7;      <span class='comment'>// not the current instantiation</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='type-4'><div class='marginalizedparent'><a class='marginalized' href='#type-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5133'>#</a></div><div id='type-4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:base_class,dependent' id='def:base_class,dependent'><i >dependent base class</i></a> is a base class that is a dependent type and is
not the current instantiation<a class='hidden_link' href='#type-4.sentence-1'>.</a></div> <div id='type-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#type-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='type-4.sentence-2' class='sentence'>A base class can be the current instantiation in the case of a nested class
naming an enclosing class as a base<a class='hidden_link' href='#type-4.sentence-2'>.</a></div> <div id='type-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#type-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> M;
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
    <span class='keyword'>typedef</span> <span class='keyword'>void</span> M;
    <span class='keyword'>struct</span> C;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>::</span>C <span class='operator'>:</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  M m;                          <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;M</span></span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='type-5'><div class='marginalizedparent'><a class='marginalized' href='#type-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5157'>#</a></div><div id='type-5.sentence-1' class='sentence'>A name is a
<a class='hidden_link' href='#def:current_instantiation,member_of_the' id='def:current_instantiation,member_of_the'><i >member of the current instantiation</i></a>
if it is</div><ul class='itemize'><li id='type-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-5.1'>(5.1)</a></div><div id='type-5.1.sentence-1' class='sentence'>An unqualified name that, when looked up, refers to
at least one member of a class that is
the current instantiation or a non-dependent base class thereof<a class='hidden_link' href='#type-5.1.sentence-1'>.</a></div> <div id='type-5.1.note-1' class='note'>[&nbsp;<a class='note_link' href='#type-5.1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='type-5.1.sentence-2' class='sentence'>This can only occur when looking up a name in a scope enclosed by the
definition of a class template<a class='hidden_link' href='#type-5.1.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </li><li id='type-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-5.2'>(5.2)</a></div><div id='type-5.2.sentence-1' class='sentence'>A
<a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>
in which the
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>
refers to the current instantiation
and that, when looked up, refers to at least one member of a class that is
the current
instantiation or a non-dependent base class thereof<a class='hidden_link' href='#type-5.2.sentence-1'>.</a></div> <div id='type-5.2.note-2' class='note'>[&nbsp;<a class='note_link' href='#type-5.2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='type-5.2.sentence-2' class='sentence'>If no such
member is found, and the current instantiation has any dependent base classes,
then the <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> is a member of an unknown specialization;
see below<a class='hidden_link' href='#type-5.2.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </li><li id='type-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-5.3'>(5.3)</a></div><div id='type-5.3.sentence-1' class='sentence'>An <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> denoting the member in a <a href='expr.ref'>class member access</a>
expression for which the type of the object expression is the
current instantiation, and the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a>, when <a href='basic.lookup.classref'>looked
up</a>, refers to at least one member of a class
that is the current
instantiation or a non-dependent base class thereof<a class='hidden_link' href='#type-5.3.sentence-1'>.</a></div> <div id='type-5.3.note-3' class='note'>[&nbsp;<a class='note_link' href='#type-5.3.note-3'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='type-5.3.sentence-2' class='sentence'>If no such
member is found, and the current instantiation has any dependent base classes,
then the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> is a member of an unknown specialization;
see below<a class='hidden_link' href='#type-5.3.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </li></ul><div id='type-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#type-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>5</span>;
  <span class='keyword'>int</span> n1<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;                    <span class='comment'>// <span class='tcode_in_codeblock'>i</span> refers to a member of the current instantiation</span>
  <span class='keyword'>int</span> n2<span class='squarebracket'>[</span>A<span class='operator'>::</span>i<span class='squarebracket'>]</span>;                 <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span> refers to a member of the current instantiation</span>
  <span class='keyword'>int</span> n3<span class='squarebracket'>[</span>A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>i<span class='squarebracket'>]</span>;              <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;i</span> refers to a member of the current instantiation</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> i;                     <span class='comment'>// <span class='tcode_in_codeblock'>i</span> refers to a member of the current instantiation</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> <div id='type-5.sentence-2' class='sentence'>A name is a <a class='hidden_link' href='#def:current_instantiation,dependent_member_of_the' id='def:current_instantiation,dependent_member_of_the'><i >dependent member of the current instantiation</i></a> if it is a
member of the current instantiation that, when looked up, refers to at least
one member of a class that is the current instantiation<a class='hidden_link' href='#type-5.sentence-2'>.</a></div></div><div class='para' id='type-6'><div class='marginalizedparent'><a class='marginalized' href='#type-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5224'>#</a></div><div id='type-6.sentence-1' class='sentence'>A name is a
<a class='hidden_link' href='#def:member_of_an_unknown_specialization' id='def:member_of_an_unknown_specialization'><i >member of an unknown specialization</i></a>
if it is</div><ul class='itemize'><li id='type-6.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-6.1'>(6.1)</a></div><div id='type-6.1.sentence-1' class='sentence'>A
<a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>
in which the
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>
names a dependent type that is not the current instantiation<a class='hidden_link' href='#type-6.1.sentence-1'>.</a></div></li><li id='type-6.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-6.2'>(6.2)</a></div><div id='type-6.2.sentence-1' class='sentence'>A <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> in which the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>
refers to the current instantiation, the current instantiation has at least one
dependent base class, and name lookup of the <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> does not
find any member of a class that is the current instantiation or a non-dependent
base class thereof<a class='hidden_link' href='#type-6.2.sentence-1'>.</a></div></li><li id='type-6.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-6.3'>(6.3)</a></div><div id='type-6.3.sentence-1' class='sentence'>An <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> denoting the member in a
<a href='expr.ref'>class member access</a> expression in which either
<ul class='itemize'><li id='type-6.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#type-6.3.1'>(6.3.1)</a></div>the type of the object expression is the current instantiation, the
current instantiation has at least one dependent base class, and name lookup
of the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> does not find a member of a class that is
the current instantiation or a non-dependent base class thereof; or</li><li id='type-6.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#type-6.3.2'>(6.3.2)</a></div>the type of the object expression is not the current instantiation
and the object expression is type-dependent<a class='hidden_link' href='#type-6.3.sentence-1'>.</a></li></ul></div></li></ul></div><div class='para' id='type-7'><div class='marginalizedparent'><a class='marginalized' href='#type-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5256'>#</a></div><div id='type-7.sentence-1' class='sentence'>If a <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> in which the <a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>
refers to the current instantiation is not a member of the current instantiation
or a member of an unknown specialization, the program is ill-formed even if the
template containing the <a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> is not instantiated; no
diagnostic required<a class='hidden_link' href='#type-7.sentence-1'>.</a></div> <div id='type-7.sentence-2' class='sentence'>Similarly, if the <a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a> in a class
member access expression for which the type of the object expression is the
current instantiation does not refer to a member of the current instantiation
or a member of an unknown specialization, the program is ill-formed even if the
template containing the member access expression is not instantiated; no diagnostic
required<a class='hidden_link' href='#type-7.sentence-2'>.</a></div> <div id='type-7.example-1' class='example'>[&nbsp;<a class='example_link' href='#type-7.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> type;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>type i;               <span class='comment'>// OK: refers to a member of the current instantiation</span>
    <span class='keyword'>typename</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>other j;     <span class='comment'>// error: neither a member of the current instantiation nor</span>
                                <span class='comment'>// a member of an unknown specialization</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='type-8'><div class='marginalizedparent'><a class='marginalized' href='#type-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5280'>#</a></div><div id='type-8.sentence-1' class='sentence'>If, for a given set of template arguments, a specialization of a template is
instantiated that refers to a member of the current instantiation with a
<a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> or class member access expression, the name in the
<a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> or class member access expression is looked up in the
template instantiation context<a class='hidden_link' href='#type-8.sentence-1'>.</a></div> <div id='type-8.sentence-2' class='sentence'>If the result of this lookup differs from the
result of name lookup in the template definition context, name lookup is
ambiguous<a class='hidden_link' href='#type-8.sentence-2'>.</a></div> <div id='type-8.example-1' class='example'>[&nbsp;<a class='example_link' href='#type-8.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> C <span class='operator'>:</span> A, T <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>m; <span class='curlybracket'>}</span>   <span class='comment'>// finds <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> in the template definition context</span>
  <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> m; <span class='curlybracket'>}</span>         <span class='comment'>// finds <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> in the template definition context</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='keyword'>int</span> C<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: finds both <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;m</span></span>
<span class='keyword'>template</span> <span class='keyword'>int</span> C<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK: transformation to class member access syntax</span>
                            <span class='comment'>// does not occur in the template definition context; see <a href='class.mfct.non-static'>[class.mfct.non-static]</a></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='type-9'><div class='marginalizedparent'><a class='marginalized' href='#type-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5310'>#</a></div><div id='type-9.sentence-1' class='sentence'>A type is dependent if it is
<ul class='itemize'><li id='type-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-9.1'>(9.1)</a></div>a template parameter,</li><li id='type-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-9.2'>(9.2)</a></div>a member of an unknown specialization,</li><li id='type-9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-9.3'>(9.3)</a></div>a nested class or enumeration that is a dependent member of the current
instantiation,</li><li id='type-9.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-9.4'>(9.4)</a></div>a cv-qualified type where the cv-unqualified type is dependent,</li><li id='type-9.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-9.5'>(9.5)</a></div>a compound type constructed from any dependent type,</li><li id='type-9.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-9.6'>(9.6)</a></div>an array type whose element type is dependent or whose
bound (if any) is value-dependent,</li><li id='type-9.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-9.7'>(9.7)</a></div>a function type whose exception specification is value-dependent,</li><li id='type-9.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-9.8'>(9.8)</a></div>denoted by a <a class='grammarterm' href='temp.names#nt:simple-template-id'>simple-template-id</a>
in which either the template name is a template parameter or any of the
template arguments is a dependent type or an expression that is type-dependent
or value-dependent or is a pack expansion
<div id='type-9.8.note-1' class='note'>[&nbsp;<a class='note_link' href='#type-9.8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> This includes an <a href='class.pre#def:injected-class-name'>injected-class-name</a> of a class template
used without a <a class='grammarterm' href='temp.names#nt:template-argument-list'>template-argument-list</a>. —&nbsp;<i>end note</i></div>&nbsp;]</div> , or</li><li id='type-9.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#type-9.9'>(9.9)</a></div>denoted by <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span></span><a class='grammarterm' href='expr.comma#nt:expression'>expression</a><span class='texttt'><span class='parenthesis'>)</span></span>,
where <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> is <a href='#expr'>type-dependent</a><a class='hidden_link' href='#type-9.sentence-1'>.</a></li></ul></div></div><div class='para' id='type-10'><div class='marginalizedparent'><a class='marginalized' href='#type-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5343'>#</a></div><div id='type-10.note-1' class='note'>[&nbsp;<a class='note_link' href='#type-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='type-10.sentence-1' class='sentence'>Because typedefs do not introduce new types, but
instead simply refer to other types, a name that refers to a
typedef that is a member of the current instantiation is dependent
only if the type referred to is dependent<a class='hidden_link' href='#type-10.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='expr' class='section'><h4 ><a class='secnum' href='#expr' style='min-width:118pt'>13.8.2.2</a> Type-dependent expressions <a class='abbr_ref' href='temp.dep.expr'>[temp.dep.expr]</a></h4><div class='para' id='expr-1'><div class='marginalizedparent'><a class='marginalized' href='#expr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5353'>#</a></div><div id='expr-1.sentence-1' class='sentence'>Except as described below, an expression is type-dependent if any
subexpression is type-dependent<a class='hidden_link' href='#expr-1.sentence-1'>.</a></div></div><div class='para' id='expr-2'><div class='marginalizedparent'><a class='marginalized' href='#expr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5357'>#</a></div><div id='expr-2.sentence-1' class='sentence'><span class='texttt'><span class='keyword'>this</span></span>
is type-dependent if the class type of the enclosing member function is
dependent (<a href='#type'>[temp.dep.type]</a>)<a class='hidden_link' href='#expr-2.sentence-1'>.</a></div></div><div class='para' id='expr-3'><div class='marginalizedparent'><a class='marginalized' href='#expr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5362'>#</a></div><div id='expr-3.sentence-1' class='sentence'>An
<a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a>
is type-dependent if it is not a concept-id and it contains
<ul class='itemize'><li id='expr-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#expr-3.1'>(3.1)</a></div>an
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
associated by name lookup with one or more declarations
declared with a dependent type,</li><li id='expr-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#expr-3.2'>(3.2)</a></div>an
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
associated by name lookup with
a non-type <a class='grammarterm' href='temp.param#nt:template-parameter'>template-parameter</a>
declared with a type
that contains a <a href='dcl.spec.auto#def:placeholder_type'>placeholder type</a>,</li><li id='expr-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#expr-3.3'>(3.3)</a></div>an
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
associated by name lookup with
a variable declared with a type that contains a placeholder type (<a href='dcl.spec.auto'>[dcl.spec.auto]</a>)
where the initializer is type-dependent,</li><li id='expr-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#expr-3.4'>(3.4)</a></div>an <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> associated by name lookup with one or more
declarations of member functions of the current instantiation declared
with a return type that contains a placeholder type,</li><li id='expr-3.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#expr-3.5'>(3.5)</a></div>an <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> associated by name lookup with
a <a href='dcl.struct.bind'>structured binding declaration</a> whose
<a class='grammarterm' href='dcl.init#nt:brace-or-equal-initializer'>brace-or-equal-initializer</a> is type-dependent,</li><li id='expr-3.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#expr-3.6'>(3.6)</a></div>the
<a class='grammarterm' href='lex.name#nt:identifier'>identifier</a>
<span class='texttt'>__func__</span> (<a href='dcl.fct.def.general'>[dcl.fct.def.general]</a>), where any enclosing function is a
template, a member of a class template, or a generic lambda,</li><li id='expr-3.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#expr-3.7'>(3.7)</a></div>a
<a class='grammarterm' href='temp.names#nt:template-id'>template-id</a>
that is dependent,</li><li id='expr-3.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#expr-3.8'>(3.8)</a></div>a
<a class='grammarterm' href='class.conv.fct#nt:conversion-function-id'>conversion-function-id</a>
that specifies a dependent type, or</li><li id='expr-3.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#expr-3.9'>(3.9)</a></div>a
<a class='grammarterm' href='expr.prim.id.qual#nt:nested-name-specifier'>nested-name-specifier</a>
or a
<a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>
that names a member of an unknown specialization;</li></ul>
or if it names a dependent member of the current instantiation that is a static
data member of type
“array of unknown bound of <span class='texttt'>T</span>” for some <span class='texttt'>T</span> (<a href='temp.static'>[temp.static]</a>)<a class='hidden_link' href='#expr-3.sentence-1'>.</a></div> <div id='expr-3.sentence-2' class='sentence'>Expressions of the following forms are type-dependent only if the type
specified by the
<a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a>,
<a class='grammarterm' href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a>
or
<a class='grammarterm' href='expr.new#nt:new-type-id'>new-type-id</a>
is dependent, even if any subexpression is type-dependent:
<pre class='ncsimplebnf'><a class='grammarterm' href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.post#nt:expression-list'>expression-list</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>new</span></span><span class='indexparent'><a class='index' id=':new'></a></span> <a class='grammarterm' href='expr.new#nt:new-placement'>new-placement</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='expr.new#nt:new-type-id'>new-type-id</a> <a class='grammarterm' href='expr.new#nt:new-initializer'>new-initializer</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
<span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>new</span></span><span class='indexparent'><a class='index' id=':new_'></a></span> <a class='grammarterm' href='expr.new#nt:new-placement'>new-placement</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='parenthesis'>)</span></span> <a class='grammarterm' href='expr.new#nt:new-initializer'>new-initializer</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
<span class='texttt'><span class='keyword'>dynamic_&shy;cast</span></span><span class='indexparent'><a class='index' id=':dynamic_cast'></a></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>static_&shy;cast</span></span><span class='indexparent'><a class='index' id=':static_cast'></a></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>const_&shy;cast</span></span><span class='indexparent'><a class='index' id=':const_cast'></a></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>reinterpret_&shy;cast</span></span><span class='indexparent'><a class='index' id=':reinterpret_cast'></a></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='parenthesis'>)</span></span> <a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a>
</pre></div></div><div class='para' id='expr-4'><div class='marginalizedparent'><a class='marginalized' href='#expr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5434'>#</a></div><div id='expr-4.sentence-1' class='sentence'>Expressions of the following forms are never type-dependent (because the type
of the expression cannot be dependent):
<pre class='ncsimplebnf'><a class='grammarterm' href='lex.literal.kinds#nt:literal'>literal</a>
<span class='texttt'><span class='keyword'>sizeof</span></span><span class='indexparent'><a class='index' id=':sizeof'></a></span> <a class='grammarterm' href='expr.unary#nt:unary-expression'>unary-expression</a>
<span class='texttt'><span class='keyword'>sizeof</span></span><span class='indexparent'><a class='index' id=':sizeof_'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>sizeof</span></span><span class='indexparent'><a class='index' id=':sizeof__'></a></span> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>alignof</span></span><span class='indexparent'><a class='index' id=':alignof'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>typeid</span></span><span class='indexparent'><a class='index' id=':typeid'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>typeid</span></span><span class='indexparent'><a class='index' id=':typeid_'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>delete</span></span><span class='indexparent'><a class='index' id=':delete'></a></span> <a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a>
<span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>delete</span></span><span class='indexparent'><a class='index' id=':delete_'></a></span> <span class='terminal'><span class='squarebracket'>[</span></span> <span class='terminal'><span class='squarebracket'>]</span></span> <a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a>
<span class='texttt'><span class='keyword'>throw</span></span><span class='indexparent'><a class='index' id=':throw'></a></span> <a class='grammarterm' href='expr.ass#nt:assignment-expression'>assignment-expression</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
<span class='texttt'><span class='keyword'>noexcept</span></span><span class='indexparent'><a class='index' id=':noexcept'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> <span class='terminal'><span class='parenthesis'>)</span></span>
</pre></div><div id='expr-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#expr-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='expr-4.sentence-2' class='sentence'>For the standard library macro <span class='texttt'>offsetof</span>,
see <a href='support.types'>[support.types]</a><a class='hidden_link' href='#expr-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='expr-5'><div class='marginalizedparent'><a class='marginalized' href='#expr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5456'>#</a></div><div id='expr-5.sentence-1' class='sentence'>A <a href='expr.ref'>class member access expression</a> is
type-dependent if
the expression refers to a member of the current instantiation and
the type of the referenced member is dependent, or the class member access
expression refers to a member of an unknown specialization<a class='hidden_link' href='#expr-5.sentence-1'>.</a></div> <div id='expr-5.note-1' class='note'>[&nbsp;<a class='note_link' href='#expr-5.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='expr-5.sentence-2' class='sentence'>In an expression of the form
<span class='texttt'>x<span class='operator'>.</span>y</span>
or
<span class='texttt'>xp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>y</span>
the type of the expression is usually the type of the member
<span class='texttt'>y</span>
of the class of
<span class='texttt'>x</span>
(or the class pointed to by
<span class='texttt'>xp</span>)<a class='hidden_link' href='#expr-5.sentence-2'>.</a></div> <div id='expr-5.sentence-3' class='sentence'>However, if
<span class='texttt'>x</span>
or
<span class='texttt'>xp</span>
refers to a dependent type that is not the current instantiation,
the type of
<span class='texttt'>y</span>
is always dependent<a class='hidden_link' href='#expr-5.sentence-3'>.</a></div> <div id='expr-5.sentence-4' class='sentence'>If
<span class='texttt'>x</span>
or <span class='texttt'>xp</span>
refers to a non-dependent type or refers to the current instantiation, the
type of
<span class='texttt'>y</span>
is the type of the class member access expression<a class='hidden_link' href='#expr-5.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='expr-6'><div class='marginalizedparent'><a class='marginalized' href='#expr-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5489'>#</a></div><div id='expr-6.sentence-1' class='sentence'>A <a class='grammarterm' href='dcl.init#nt:braced-init-list'>braced-init-list</a> is type-dependent if any element is
type-dependent or is a pack expansion<a class='hidden_link' href='#expr-6.sentence-1'>.</a></div></div><div class='para' id='expr-7'><div class='marginalizedparent'><a class='marginalized' href='#expr-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5493'>#</a></div><div id='expr-7.sentence-1' class='sentence'>A <a class='grammarterm' href='expr.prim.fold#nt:fold-expression'>fold-expression</a> is type-dependent<a class='hidden_link' href='#expr-7.sentence-1'>.</a></div></div></div><div id='constexpr' class='section'><h4 ><a class='secnum' href='#constexpr' style='min-width:118pt'>13.8.2.3</a> Value-dependent expressions <a class='abbr_ref' href='temp.dep.constexpr'>[temp.dep.constexpr]</a></h4><div class='para' id='constexpr-1'><div class='marginalizedparent'><a class='marginalized' href='#constexpr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5498'>#</a></div><div id='constexpr-1.sentence-1' class='sentence'>Except as described below, an expression used in a context where a
constant expression is required is value-dependent if any
subexpression is value-dependent<a class='hidden_link' href='#constexpr-1.sentence-1'>.</a></div></div><div class='para' id='constexpr-2'><div class='marginalizedparent'><a class='marginalized' href='#constexpr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5503'>#</a></div><div id='constexpr-2.sentence-1' class='sentence'>An
<a class='grammarterm' href='expr.prim.id#nt:id-expression'>id-expression</a>
is value-dependent if:
<ul class='itemize'><li id='constexpr-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#constexpr-2.1'>(2.1)</a></div>it is a concept-id and any of its arguments are dependent,</li><li id='constexpr-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#constexpr-2.2'>(2.2)</a></div>it is type-dependent,</li><li id='constexpr-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#constexpr-2.3'>(2.3)</a></div>it is the name of a non-type template parameter,</li><li id='constexpr-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#constexpr-2.4'>(2.4)</a></div>it names a static data member that is a dependent member of the current
instantiation and is not initialized in a <a class='grammarterm' href='class.mem#nt:member-declarator'>member-declarator</a>,</li><li id='constexpr-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#constexpr-2.5'>(2.5)</a></div>it names a static member function that is a dependent member of the current
instantiation, or</li><li id='constexpr-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#constexpr-2.6'>(2.6)</a></div>it names a potentially-constant variable (<a href='expr.const'>[expr.const]</a>)
that is initialized with an expression that is value-dependent<a class='hidden_link' href='#constexpr-2.sentence-1'>.</a></li></ul></div><div id='constexpr-2.sentence-2' class='sentence'>Expressions of the following form are value-dependent if the
<a class='grammarterm' href='expr.unary#nt:unary-expression'>unary-expression</a> or <a class='grammarterm' href='expr.comma#nt:expression'>expression</a>
is type-dependent or the
<a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a>
is dependent:
<pre class='ncsimplebnf'><span class='texttt'><span class='keyword'>sizeof</span></span><span class='indexparent'><a class='index' id=':sizeof___'></a></span> <a class='grammarterm' href='expr.unary#nt:unary-expression'>unary-expression</a>
<span class='texttt'><span class='keyword'>sizeof</span></span><span class='indexparent'><a class='index' id=':sizeof____'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>typeid</span></span><span class='indexparent'><a class='index' id=':typeid__'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>typeid</span></span><span class='indexparent'><a class='index' id=':typeid___'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>alignof</span></span><span class='indexparent'><a class='index' id=':alignof_'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>noexcept</span></span><span class='indexparent'><a class='index' id=':noexcept_'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> <span class='terminal'><span class='parenthesis'>)</span></span>
</pre></div><div id='constexpr-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#constexpr-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='constexpr-2.sentence-3' class='sentence'>For the standard library macro <span class='texttt'>offsetof</span>,
see <a href='support.types'>[support.types]</a><a class='hidden_link' href='#constexpr-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='constexpr-3'><div class='marginalizedparent'><a class='marginalized' href='#constexpr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5544'>#</a></div><div id='constexpr-3.sentence-1' class='sentence'>Expressions of the following form are value-dependent if either the
<a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a>
or
<a class='grammarterm' href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a>
is dependent or the
<a class='grammarterm' href='expr.comma#nt:expression'>expression</a>
or
<a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a>
is value-dependent:
<pre class='ncsimplebnf'><a class='grammarterm' href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.post#nt:expression-list'>expression-list</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>static_&shy;cast</span></span><span class='indexparent'><a class='index' id=':static_cast_'></a></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>const_&shy;cast</span></span><span class='indexparent'><a class='index' id=':const_cast_'></a></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='texttt'><span class='keyword'>reinterpret_&shy;cast</span></span><span class='indexparent'><a class='index' id=':reinterpret_cast_'></a></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='expr.comma#nt:expression'>expression</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='dcl.name#nt:type-id'>type-id</a> <span class='terminal'><span class='parenthesis'>)</span></span> <a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a>
</pre></div></div><div class='para' id='constexpr-4'><div class='marginalizedparent'><a class='marginalized' href='#constexpr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5562'>#</a></div><div id='constexpr-4.sentence-1' class='sentence'>Expressions of the following form are value-dependent:
<pre class='ncsimplebnf'><span class='texttt'><span class='keyword'>sizeof</span></span><span class='indexparent'><a class='index' id=':sizeof_____'></a></span> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a class='grammarterm' href='lex.name#nt:identifier'>identifier</a> <span class='terminal'><span class='parenthesis'>)</span></span>
<a class='grammarterm' href='expr.prim.fold#nt:fold-expression'>fold-expression</a>
</pre></div></div><div class='para' id='constexpr-5'><div class='marginalizedparent'><a class='marginalized' href='#constexpr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5569'>#</a></div><div id='constexpr-5.sentence-1' class='sentence'>An expression of the form <span class='texttt'><span class='operator'>&amp;</span></span><a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> where the
<a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a> names a dependent member of the current
instantiation is value-dependent<a class='hidden_link' href='#constexpr-5.sentence-1'>.</a></div> <div id='constexpr-5.sentence-2' class='sentence'>An expression of the form <span class='texttt'><span class='operator'>&amp;</span></span><a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a>
is also value-dependent if evaluating <a class='grammarterm' href='expr.cast#nt:cast-expression'>cast-expression</a>
as a <a href='expr.const#def:expression,core_constant'>core constant expression</a> succeeds and
the result of the evaluation refers to a templated entity
that is an object with static or thread storage duration or a member function<a class='hidden_link' href='#constexpr-5.sentence-2'>.</a></div></div></div><div id='temp' class='section'><h4 ><a class='secnum' href='#temp' style='min-width:118pt'>13.8.2.4</a> Dependent template arguments <a class='abbr_ref' href='temp.dep.temp'>[temp.dep.temp]</a></h4><div class='para' id='temp-1'><div class='marginalizedparent'><a class='marginalized' href='#temp-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5581'>#</a></div><div id='temp-1.sentence-1' class='sentence'>A type
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a>
is dependent if the type it specifies is dependent<a class='hidden_link' href='#temp-1.sentence-1'>.</a></div></div><div class='para' id='temp-2'><div class='marginalizedparent'><a class='marginalized' href='#temp-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5586'>#</a></div><div id='temp-2.sentence-1' class='sentence'>A non-type
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a>
is dependent if its type is dependent or the constant
expression it specifies is value-dependent<a class='hidden_link' href='#temp-2.sentence-1'>.</a></div></div><div class='para' id='temp-3'><div class='marginalizedparent'><a class='marginalized' href='#temp-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5592'>#</a></div><div id='temp-3.sentence-1' class='sentence'>Furthermore, a non-type
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a>
is dependent if the corresponding non-type <a class='grammarterm' href='temp.param#nt:template-parameter'>template-parameter</a>
is of reference or pointer type and the <a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a>
designates or points to a member of the current instantiation or a member of
a dependent type<a class='hidden_link' href='#temp-3.sentence-1'>.</a></div></div><div class='para' id='temp-4'><div class='marginalizedparent'><a class='marginalized' href='#temp-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/templates.tex#L5600'>#</a></div><div id='temp-4.sentence-1' class='sentence'>A template
<a class='grammarterm' href='temp.names#nt:template-argument'>template-argument</a>
is dependent if it names a
<a class='grammarterm' href='temp.param#nt:template-parameter'>template-parameter</a>
or is a
<a class='grammarterm' href='expr.prim.id.qual#nt:qualified-id'>qualified-id</a>
that refers to a member of an unknown specialization<a class='hidden_link' href='#temp-4.sentence-1'>.</a></div></div></div></div></body></html>