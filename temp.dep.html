<!DOCTYPE html><html lang='en'><head><title>[temp.dep]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>13</a> Templates <a class='abbr_ref' href='./#temp'>[temp]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>13.8</a> Name resolution <a class='abbr_ref' href='temp.res#temp.dep'>[temp.res]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>13.8.3</a> Dependent names <a class='abbr_ref'>[temp.dep]</a></h3><div id='general' class='section'><h4 ><a class='secnum' href='#general' style='min-width:95pt'>13.8.3.1</a> General <a class='abbr_ref' href='temp.dep.general'>[temp.dep.general]</a></h4><div class='para' id='general-1'><div class='marginalizedparent'><a class='marginalized' href='#general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L4870'>#</a></div><div class='texpara'><div id='general-1.sentence-1' class='sentence'>Inside a template, some constructs have semantics which may differ from one
instantiation to another<a class='hidden_link' href='#general-1.sentence-1'>.</a></div> <div id='general-1.sentence-2' class='sentence'>Such a construct
<a class='hidden_link' href='#def:name,dependent' title='13.8.3.1&emsp;General&emsp;[temp.dep.general]'><span id='def:name,dependent'><span class='textit'>depends</span></span></a>
on the template parameters<a class='hidden_link' href='#general-1.sentence-2'>.</a></div> <div id='general-1.sentence-3' class='sentence'>In particular, types and expressions may depend on the type
and/or
value of
template parameters (as determined by the template arguments) and this determines
the context for name lookup for certain names<a class='hidden_link' href='#general-1.sentence-3'>.</a></div> <div id='general-1.sentence-4' class='sentence'>An expression may be
<a class='hidden_link' href='#def:expression,type-dependent' title='13.8.3.1&emsp;General&emsp;[temp.dep.general]'><span id='def:expression,type-dependent'><span class='textit'>type-dependent</span></span></a>
(that is, its type may depend on a template parameter) or
<a class='hidden_link' href='#def:expression,value-dependent' title='13.8.3.1&emsp;General&emsp;[temp.dep.general]'><span id='def:expression,value-dependent'><span class='textit'>value-dependent</span></span></a>
(that is, its value when evaluated as a constant expression (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)
may depend on a template parameter)
as described below<a class='hidden_link' href='#general-1.sentence-4'>.</a></div></div></div><div class='para' id='general-2'><div class='marginalizedparent'><a class='marginalized' href='#general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L4890'>#</a></div><div class='texpara'><div id='general-2.sentence-1' class='sentence'>In an expression of the form:
<div class='ncsimplebnf'>
<a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list'><span class='textsf'><span class='textit'>expression-list</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</div>
where the
<a href='expr.post.general#nt:postfix-expression' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:postfix-expression_'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a>
is an
<a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id'><span class='textsf'><span class='textit'>unqualified-id</span></span></span></a>,
the
<a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id_'><span class='textsf'><span class='textit'>unqualified-id</span></span></span></a>
denotes a
<a class='hidden_link' href='#def:name,dependent' title='13.8.3.1&emsp;General&emsp;[temp.dep.general]'><span id='def:name,dependent_'><span class='textit'>dependent name</span></span></a>
if
<ul class='itemize'><li id='general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.1'>(2.1)</a></div>any of the expressions in the <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list_'><span class='textsf'><span class='textit'>expression-list</span></span></span></a> is a
<a href='temp.variadic#def:pack_expansion' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'>pack expansion</a>,</li><li id='general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.2'>(2.2)</a></div>any of the expressions
or <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list'><span class='textsf'><span class='textit'>braced-init-list</span></span></span></a><span class='textit'>s</span>
in the
<a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list__'><span class='textsf'><span class='textit'>expression-list</span></span></span></a>
is <a href='#expr' title='13.8.3.3&emsp;Type-dependent expressions&emsp;[temp.dep.expr]'>type-dependent</a>, or</li><li id='general-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#general-2.3'>(2.3)</a></div>the <a href='expr.prim.id.unqual#nt:unqualified-id' title='7.5.4.2&emsp;Unqualified names&emsp;[expr.prim.id.unqual]'><span id='ntref:unqualified-id__'><span class='textsf'><span class='textit'>unqualified-id</span></span></span></a>
is a <a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><span class='textit'>template-id</span></span></span></a> in which any of the template arguments depends
on a template parameter<a class='hidden_link' href='#general-2.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='general-2.sentence-2' class='sentence'>If an operand of an operator is a type-dependent expression, the operator
also denotes a dependent name<a class='hidden_link' href='#general-2.sentence-2'>.</a></div> <div id='general-note-1' class='note'><div class='texpara'>[<a class='note_link' href='#general-note-1'><span class='textit'>Note&nbsp;1</span></a><span class='textit'>:</span> <div id='general-2.sentence-3' class='sentence'>Such names are unbound and
are looked up at the point of the template instantiation (<a href='temp.point' title='13.8.5.1&emsp;Point of instantiation'>[temp.<span class='shy'></span>point]</a>) in
both the context of the template definition and the
context of the point of instantiation (<a href='temp.dep.candidate' title='13.8.5.2&emsp;Candidate functions'>[temp.<span class='shy'></span>dep.<span class='shy'></span>candidate]</a>)<a class='hidden_link' href='#general-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='general-3'><div class='marginalizedparent'><a class='marginalized' href='#general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L4929'>#</a></div><div class='texpara'><div id='general-example-1' class='example'><div class='texpara'>[<a class='example_link' href='#general-example-1'><span class='textit'>Example&nbsp;1</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='operator'>:</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> T<span class='operator'>::</span>A<span class='operator'>*</span> pa;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> pb<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>static</span> <span class='keyword'>int</span> i <span class='operator'>=</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>i;
    pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>j<span class='operator'>+</span><span class='operator'>+</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='general-3.sentence-1' class='sentence'>The base class name
<span class='texttt'>B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>,
the type name
<span class='texttt'>T<span class='operator'>&#x200b;::&#x200b;</span>A</span>,
the names
<span class='texttt'>B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>i</span>
and
<span class='texttt'>pb<span class='operator'>-</span><span class='anglebracket'>&gt;</span>j</span>
explicitly depend on the
<a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter'><span class='textsf'><span class='textit'>template-parameter</span></span></span></a><a class='hidden_link' href='#general-3.sentence-1'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='general-4'><div class='marginalizedparent'><a class='marginalized' href='#general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L4953'>#</a></div><div class='texpara'><div id='general-4.sentence-1' class='sentence'>In the definition of a class or class template,
the scope of a <a href='#def:base_class,dependent' title='13.8.3.2&emsp;Dependent types&emsp;[temp.dep.type]'>dependent base class</a>
is not examined during unqualified
name lookup either at the point of definition of the
class template or member or during an instantiation of
the class template or member<a class='hidden_link' href='#general-4.sentence-1'>.</a></div> <div id='general-example-2' class='example'><div class='texpara'>[<a class='example_link' href='#general-example-2'><span class='textit'>Example&nbsp;2</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>double</span> A;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> A;
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> X <span class='operator'>:</span> B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  A a;              <span class='comment'>// <span class='tcode_in_codeblock'>a</span> has type <span class='tcode_in_codeblock'>double</span></span>
<span class='curlybracket'>}</span>;
</span></div><div class='texpara'><div id='general-4.sentence-2' class='sentence'>The type name
<span class='texttt'>A</span>
in the definition of
<span class='texttt'>X<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span>
binds to the typedef name defined in the global
namespace scope, not to the typedef name
defined in the base class
<span class='texttt'>B<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#general-4.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='general-example-3' class='example'><div class='texpara'>[<a class='example_link' href='#general-example-3'><span class='textit'>Example&nbsp;3</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>int</span> a;
  <span class='keyword'>int</span> Y;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> a;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> Y <span class='operator'>:</span> T <span class='curlybracket'>{</span>
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>;
  B b;                          <span class='comment'>// The <span class='tcode_in_codeblock'>B</span> defined in <span class='tcode_in_codeblock'>Y</span></span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> a <span class='operator'>=</span> i; <span class='curlybracket'>}</span>      <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;a</span></span>
  Y<span class='operator'>*</span> p;                         <span class='comment'>// <span class='tcode_in_codeblock'>Y&lt;T&gt;</span></span>
<span class='curlybracket'>}</span>;

Y<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span> ya;
</span></div><div class='texpara'><div id='general-4.sentence-3' class='sentence'>The members
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>B</span>,
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>a</span>,
and
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span>Y</span>
of the template argument
<span class='texttt'>A</span>
do not affect the binding of names in
<span class='texttt'>Y<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#general-4.sentence-3'>.</a></div> —&nbsp;<i>end example</i>]</div></div></div></div></div><div id='type' class='section'><h4 ><a class='secnum' href='#type' style='min-width:95pt'>13.8.3.2</a> Dependent types <a class='abbr_ref' href='temp.dep.type'>[temp.dep.type]</a></h4><div class='para' id='type-1'><div class='marginalizedparent'><a class='marginalized' href='#type-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5013'>#</a></div><div class='texpara'><div id='type-1.sentence-1' class='sentence'>A name refers to the
<a class='hidden_link' href='#def:current_instantiation' title='13.8.3.2&emsp;Dependent types&emsp;[temp.dep.type]'><span id='def:current_instantiation'><span class='textit'>current instantiation</span></span></a>
if it is
<ul class='itemize'><li id='type-1.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-1.1'>(1.1)</a></div>in the definition of a class template, a nested class of a class template,
a member of a class template, or a member of a nested class of a class template,
the <a href='class.pre#def:injected-class-name' title='11.1&emsp;Preamble&emsp;[class.pre]'>injected-class-name</a> of the class template or nested class,</li><li id='type-1.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-1.2'>(1.2)</a></div>in the definition of a primary class template
or a member of a primary class template, the name of the
class template followed by the template argument list of the
primary template (as described below) enclosed in
<span class='texttt'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span> (or an equivalent template alias specialization),</li><li id='type-1.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-1.3'>(1.3)</a></div>in the definition of a nested class of a class template,
the name of the nested class referenced as a member of the
current instantiation, or</li><li id='type-1.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-1.4'>(1.4)</a></div>in the definition of a partial specialization
or a member of a partial specialization, the name of
the class template followed by the template argument list of
the partial specialization enclosed in
<span class='texttt'><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span></span> (or an equivalent template alias specialization)<a class='hidden_link' href='#type-1.sentence-1'>.</a> <div class='texpara'><div id='type-1.4.sentence-2' class='sentence'>If the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template parameter is
a template parameter pack, the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template argument is a pack
expansion (<a href='temp.variadic' title='13.7.4&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>) whose pattern is the name of
the template parameter pack<a class='hidden_link' href='#type-1.4.sentence-2'>.</a></div></div></li></ul></div></div></div><div class='para' id='type-2'><div class='marginalizedparent'><a class='marginalized' href='#type-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5044'>#</a></div><div class='texpara'><div id='type-2.sentence-1' class='sentence'>The template argument list of a primary template is a
template argument list in which the
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span>
template argument has the value of the
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span>
template parameter of the class template<a class='hidden_link' href='#type-2.sentence-1'>.</a></div> <div id='type-2.sentence-2' class='sentence'>If the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template parameter is a
<a href='temp.variadic#def:template_parameter_pack' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'>template parameter pack</a>, the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span> template argument is a
<a href='temp.variadic#def:pack_expansion' title='13.7.4&emsp;Variadic templates&emsp;[temp.variadic]'>pack expansion</a> whose pattern is the name of
the template parameter pack<a class='hidden_link' href='#type-2.sentence-2'>.</a></div></div></div><div class='para' id='type-3'><div class='marginalizedparent'><a class='marginalized' href='#type-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5056'>#</a></div><div class='texpara'><div id='type-3.sentence-1' class='sentence'>A template argument that is equivalent to a template
parameter can be used in place of that
template parameter in a reference to the current instantiation<a class='hidden_link' href='#type-3.sentence-1'>.</a></div> <div id='type-3.sentence-2' class='sentence'>For a template <a href='temp.param#nt:type-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:type-parameter'><span class='textsf'><span class='textit'>type-parameter</span></span></span></a>,
a template argument is equivalent to a template parameter
if it denotes the same type<a class='hidden_link' href='#type-3.sentence-2'>.</a></div> <div id='type-3.sentence-3' class='sentence'>For a non-type template parameter,
a template argument is equivalent to a template parameter
if it is an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><span class='textit'>identifier</span></span></span></a> that names a variable
that is equivalent to the template parameter<a class='hidden_link' href='#type-3.sentence-3'>.</a></div> <div id='type-3.sentence-4' class='sentence'>A variable is equivalent to a template parameter if
<ul class='itemize'><li id='type-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-3.1'>(3.1)</a></div>it has the same type as the template parameter
  (ignoring cv-qualification) and</li><li id='type-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-3.2'>(3.2)</a></div>its initializer consists of a single <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><span class='textit'>identifier</span></span></span></a>
  that names the template parameter or, recursively, such a variable<a class='hidden_link' href='#type-3.sentence-4'>.</a></li></ul></div> <div id='type-note-1' class='note'><div class='texpara'>[<a class='note_link' href='#type-note-1'><span class='textit'>Note&nbsp;1</span></a><span class='textit'>:</span> <div id='type-3.sentence-5' class='sentence'>Using a parenthesized variable name breaks the equivalence<a class='hidden_link' href='#type-3.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div></div> <div id='type-example-1' class='example'><div class='texpara'>[<a class='example_link' href='#type-example-1'><span class='textit'>Example&nbsp;1</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  A<span class='operator'>*</span> p1;                        <span class='comment'>// <span class='tcode_in_codeblock'>A</span> is the current instantiation</span>
  A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p2;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;</span> is the current instantiation</span>
  A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> p3;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;</span> is not the current instantiation</span>
  <span class='operator'>::</span>A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p4;                   <span class='comment'>// <span class='tcode_in_codeblock'>&#x200b;::&#x200b;A&lt;T&gt;</span> is the current instantiation</span>
  <span class='keyword'>class</span> B <span class='curlybracket'>{</span>
    B<span class='operator'>*</span> p1;                      <span class='comment'>// <span class='tcode_in_codeblock'>B</span> is the current instantiation</span>
    A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>*</span> p2;                <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;B</span> is the current instantiation</span>
    <span class='keyword'>typename</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>*</span> p3;      <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;&#x200b;::&#x200b;B</span> is not the current instantiation</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  A<span class='anglebracket'>&lt;</span>T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span> p1;                    <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T*&gt;</span> is the current instantiation</span>
  A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>*</span> p2;                     <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;</span> is not the current instantiation</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T1, <span class='keyword'>class</span> T2, <span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  B<span class='anglebracket'>&lt;</span>T1, T2, I<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b1;             <span class='comment'>// refers to the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>T2, T1, I<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b2;             <span class='comment'>// not the current instantiation</span>
  <span class='keyword'>typedef</span> T1 my_T1;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I <span class='operator'>=</span> I;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I2 <span class='operator'>=</span> I<span class='operator'>+</span><span class='literal'>0</span>;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I3 <span class='operator'>=</span> my_I;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>long</span> my_I4 <span class='operator'>=</span> I;
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> my_I5 <span class='operator'>=</span> <span class='parenthesis'>(</span>I<span class='parenthesis'>)</span>;
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b3;       <span class='comment'>// refers to the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I2<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b4;      <span class='comment'>// not the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I3<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b5;      <span class='comment'>// refers to the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I4<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b6;      <span class='comment'>// not the current instantiation</span>
  B<span class='anglebracket'>&lt;</span>my_T1, T2, my_I5<span class='anglebracket'>&gt;</span><span class='operator'>*</span> b7;      <span class='comment'>// not the current instantiation</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='type-4'><div class='marginalizedparent'><a class='marginalized' href='#type-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5116'>#</a></div><div class='texpara'><div id='type-4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:base_class,dependent' title='13.8.3.2&emsp;Dependent types&emsp;[temp.dep.type]'><span id='def:base_class,dependent'><span class='textit'>dependent base class</span></span></a> is a base class that is a dependent type and is
not the current instantiation<a class='hidden_link' href='#type-4.sentence-1'>.</a></div> <div id='type-note-2' class='note'><div class='texpara'>[<a class='note_link' href='#type-note-2'><span class='textit'>Note&nbsp;2</span></a><span class='textit'>:</span> <div id='type-4.sentence-2' class='sentence'>A base class can be the current instantiation in the case of a nested class
naming an enclosing class as a base<a class='hidden_link' href='#type-4.sentence-2'>.</a></div> <div id='type-example-2' class='example'><div class='texpara'>[<a class='example_link' href='#type-example-2'><span class='textit'>Example&nbsp;2</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> M;
  <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
    <span class='keyword'>typedef</span> <span class='keyword'>void</span> M;
    <span class='keyword'>struct</span> C;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>B<span class='operator'>::</span>C <span class='operator'>:</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  M m;                          <span class='comment'>// OK, <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;M</span></span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='type-5'><div class='marginalizedparent'><a class='marginalized' href='#type-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5140'>#</a></div><div class='texpara'><div id='type-5.sentence-1' class='sentence'>A name is a
<a class='hidden_link' href='#def:current_instantiation,member_of_the' title='13.8.3.2&emsp;Dependent types&emsp;[temp.dep.type]'><span id='def:current_instantiation,member_of_the'><span class='textit'>member of the current instantiation</span></span></a>
if it is
<ul class='itemize'><li id='type-5.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-5.1'>(5.1)</a></div><div class='texpara'><div id='type-5.1.sentence-1' class='sentence'>An unqualified name that, when looked up, refers to
at least one member of a class that is
the current instantiation or a non-dependent base class thereof<a class='hidden_link' href='#type-5.1.sentence-1'>.</a></div> <div id='type-note-3' class='note'><div class='texpara'>[<a class='note_link' href='#type-note-3'><span class='textit'>Note&nbsp;3</span></a><span class='textit'>:</span> <div id='type-5.1.sentence-2' class='sentence'>This can only occur when looking up a name in a scope enclosed by the
definition of a class template<a class='hidden_link' href='#type-5.1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='type-5.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-5.2'>(5.2)</a></div><div class='texpara'><div id='type-5.2.sentence-1' class='sentence'>A
<a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a>
in which the
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><span class='textit'>nested-name-specifier</span></span></span></a>
refers to the current instantiation
and that, when looked up, refers to at least one member of a class that is
the current
instantiation or a non-dependent base class thereof<a class='hidden_link' href='#type-5.2.sentence-1'>.</a></div> <div id='type-note-4' class='note'><div class='texpara'>[<a class='note_link' href='#type-note-4'><span class='textit'>Note&nbsp;4</span></a><span class='textit'>:</span> <div id='type-5.2.sentence-2' class='sentence'>If no such
member is found, and the current instantiation has any dependent base classes,
then the <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a> is a member of an unknown specialization;
see below<a class='hidden_link' href='#type-5.2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li><li id='type-5.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-5.3'>(5.3)</a></div><div class='texpara'><div id='type-5.3.sentence-1' class='sentence'>An <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression'><span class='textsf'><span class='textit'>id-expression</span></span></span></a> denoting the member in a <a href='expr.ref' title='7.6.1.5&emsp;Class member access&emsp;[expr.ref]'>class member access</a>
expression for which the type of the object expression is the
current instantiation, and the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_'><span class='textsf'><span class='textit'>id-expression</span></span></span></a>, when <a href='basic.lookup.classref' title='6.5.6&emsp;Class member access&emsp;[basic.lookup.classref]'>looked
up</a>, refers to at least one member of a class
that is the current
instantiation or a non-dependent base class thereof<a class='hidden_link' href='#type-5.3.sentence-1'>.</a></div> <div id='type-note-5' class='note'><div class='texpara'>[<a class='note_link' href='#type-note-5'><span class='textit'>Note&nbsp;5</span></a><span class='textit'>:</span> <div id='type-5.3.sentence-2' class='sentence'>If no such
member is found, and the current instantiation has any dependent base classes,
then the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression__'><span class='textsf'><span class='textit'>id-expression</span></span></span></a> is a member of an unknown specialization;
see below<a class='hidden_link' href='#type-5.3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></li></ul></div></div><div class='texpara'><div id='type-example-3' class='example'><div class='texpara'>[<a class='example_link' href='#type-example-3'><span class='textit'>Example&nbsp;3</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>const</span> <span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>5</span>;
  <span class='keyword'>int</span> n1<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;                    <span class='comment'>// <span class='tcode_in_codeblock'>i</span> refers to a member of the current instantiation</span>
  <span class='keyword'>int</span> n2<span class='squarebracket'>[</span>A<span class='operator'>::</span>i<span class='squarebracket'>]</span>;                 <span class='comment'>// <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;i</span> refers to a member of the current instantiation</span>
  <span class='keyword'>int</span> n3<span class='squarebracket'>[</span>A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>i<span class='squarebracket'>]</span>;              <span class='comment'>// <span class='tcode_in_codeblock'>A&lt;T&gt;&#x200b;::&#x200b;i</span> refers to a member of the current instantiation</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>return</span> i;                     <span class='comment'>// <span class='tcode_in_codeblock'>i</span> refers to a member of the current instantiation</span>
<span class='curlybracket'>}</span>
</span> —&nbsp;<i>end example</i>]</div></div></div><div class='texpara'><div id='type-5.sentence-2' class='sentence'>A name is a <a class='hidden_link' href='#def:current_instantiation,dependent_member_of_the' title='13.8.3.2&emsp;Dependent types&emsp;[temp.dep.type]'><span id='def:current_instantiation,dependent_member_of_the'><span class='textit'>dependent member of the current instantiation</span></span></a> if it is a
member of the current instantiation that, when looked up, refers to at least
one member of a class that is the current instantiation<a class='hidden_link' href='#type-5.sentence-2'>.</a></div></div></div><div class='para' id='type-6'><div class='marginalizedparent'><a class='marginalized' href='#type-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5206'>#</a></div><div class='texpara'><div id='type-6.sentence-1' class='sentence'>A name is a
<a class='hidden_link' href='#def:member_of_an_unknown_specialization' title='13.8.3.2&emsp;Dependent types&emsp;[temp.dep.type]'><span id='def:member_of_an_unknown_specialization'><span class='textit'>member of an unknown specialization</span></span></a>
if it is
<ul class='itemize'><li id='type-6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-6.1'>(6.1)</a></div><div class='texpara'><div id='type-6.1.sentence-1' class='sentence'>A
<a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id__'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a>
in which the
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier_'><span class='textsf'><span class='textit'>nested-name-specifier</span></span></span></a>
names a dependent type that is not the current instantiation<a class='hidden_link' href='#type-6.1.sentence-1'>.</a></div></div></li><li id='type-6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-6.2'>(6.2)</a></div><div class='texpara'><div id='type-6.2.sentence-1' class='sentence'>A <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id___'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a> in which the <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier__'><span class='textsf'><span class='textit'>nested-name-specifier</span></span></span></a>
refers to the current instantiation, the current instantiation has at least one
dependent base class, and name lookup of the <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id____'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a> does not
find any member of a class that is the current instantiation or a non-dependent
base class thereof<a class='hidden_link' href='#type-6.2.sentence-1'>.</a></div></div></li><li id='type-6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-6.3'>(6.3)</a></div><div class='texpara'><div id='type-6.3.sentence-1' class='sentence'>An <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression___'><span class='textsf'><span class='textit'>id-expression</span></span></span></a> denoting the member in a
<a href='expr.ref' title='7.6.1.5&emsp;Class member access&emsp;[expr.ref]'>class member access</a> expression in which either
<ul class='itemize'><li id='type-6.3.1'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#type-6.3.1'>(6.3.1)</a></div>the type of the object expression is the current instantiation, the
current instantiation has at least one dependent base class, and name lookup
of the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression____'><span class='textsf'><span class='textit'>id-expression</span></span></span></a> does not find a member of a class that is
the current instantiation or a non-dependent base class thereof; or</li><li id='type-6.3.2'><div class='marginalizedparent' style='left:-36mm'><a class='marginalized' href='#type-6.3.2'>(6.3.2)</a></div>the type of the object expression is not the current instantiation
and the object expression is type-dependent<a class='hidden_link' href='#type-6.3.sentence-1'>.</a></li></ul></div></div></li></ul></div></div></div><div class='para' id='type-7'><div class='marginalizedparent'><a class='marginalized' href='#type-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5237'>#</a></div><div class='texpara'><div id='type-7.sentence-1' class='sentence'>If a <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_____'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a> in which the <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier___'><span class='textsf'><span class='textit'>nested-name-specifier</span></span></span></a>
refers to the current instantiation is not a member of the current instantiation
or a member of an unknown specialization, the program is ill-formed even if the
template containing the <a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id______'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a> is not instantiated; no
diagnostic required<a class='hidden_link' href='#type-7.sentence-1'>.</a></div> <div id='type-7.sentence-2' class='sentence'>Similarly, if the <a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_____'><span class='textsf'><span class='textit'>id-expression</span></span></span></a> in a class
member access expression for which the type of the object expression is the
current instantiation does not refer to a member of the current instantiation
or a member of an unknown specialization, the program is ill-formed even if the
template containing the member access expression is not instantiated; no diagnostic
required<a class='hidden_link' href='#type-7.sentence-2'>.</a></div> <div id='type-example-4' class='example'><div class='texpara'>[<a class='example_link' href='#type-example-4'><span class='textit'>Example&nbsp;4</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> <span class='keyword'>int</span> type;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>type i;               <span class='comment'>// OK: refers to a member of the current instantiation</span>
    <span class='keyword'>typename</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='operator'>::</span>other j;     <span class='comment'>// error: neither a member of the current instantiation nor</span>
                                <span class='comment'>// a member of an unknown specialization</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='type-8'><div class='marginalizedparent'><a class='marginalized' href='#type-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5261'>#</a></div><div class='texpara'><div id='type-8.sentence-1' class='sentence'>If, for a given set of template arguments, a specialization of a template is
instantiated that refers to a member of the current instantiation with a
<a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_______'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a> or class member access expression, the name in the
<a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id________'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a> or class member access expression is looked up in the
template instantiation context<a class='hidden_link' href='#type-8.sentence-1'>.</a></div> <div id='type-8.sentence-2' class='sentence'>If the result of this lookup differs from the
result of name lookup in the template definition context, name lookup is
ambiguous<a class='hidden_link' href='#type-8.sentence-2'>.</a></div> <div id='type-example-5' class='example'><div class='texpara'>[<a class='example_link' href='#type-example-5'><span class='textit'>Example&nbsp;5</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> C <span class='operator'>:</span> A, T <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>m; <span class='curlybracket'>}</span>   <span class='comment'>// finds <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> in the template definition context</span>
  <span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> m; <span class='curlybracket'>}</span>         <span class='comment'>// finds <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> in the template definition context</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='keyword'>int</span> C<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&gt;</span><span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: finds both <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;m</span> and <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;m</span></span>
<span class='keyword'>template</span> <span class='keyword'>int</span> C<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&gt;</span><span class='operator'>::</span>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK: transformation to class member access syntax</span>
                            <span class='comment'>// does not occur in the template definition context; see <a href='class.mfct.non-static' title='11.4.3&emsp;Non-static member functions'>[class.<span class='shy'></span>mfct.<span class='shy'></span>non-static]</a></span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='type-9'><div class='marginalizedparent'><a class='marginalized' href='#type-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5291'>#</a></div><div class='texpara'><div id='type-9.sentence-1' class='sentence'>A type is dependent if it is
<ul class='itemize'><li id='type-9.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-9.1'>(9.1)</a></div>a template parameter,</li><li id='type-9.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-9.2'>(9.2)</a></div>a member of an unknown specialization,</li><li id='type-9.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-9.3'>(9.3)</a></div>a nested class or enumeration that is a dependent member of the current
instantiation,</li><li id='type-9.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-9.4'>(9.4)</a></div>a cv-qualified type where the cv-unqualified type is dependent,</li><li id='type-9.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-9.5'>(9.5)</a></div>a compound type constructed from any dependent type,</li><li id='type-9.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-9.6'>(9.6)</a></div>an array type whose element type is dependent or whose
bound (if any) is value-dependent,</li><li id='type-9.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-9.7'>(9.7)</a></div>a function type whose exception specification is value-dependent,</li><li id='type-9.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-9.8'>(9.8)</a></div>denoted by a <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><span class='textit'>simple-template-id</span></span></span></a>
in which either the template name is a template parameter or any of the
template arguments is a dependent type or an expression that is type-dependent
or value-dependent or is a pack expansion,<a class='footnotenum' href='#footnote-141' id='footnoteref-141' title='This includes an injected-class-name ([class.pre]) of a class template used without a template-argument-list.'>141</a>
or</li><li id='type-9.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#type-9.9'>(9.9)</a></div>denoted by <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span></span><a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression'><span class='textsf'><span class='textit'>expression</span></span></span></a><span class='texttt'><span class='parenthesis'>)</span></span>,
where <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_'><span class='textsf'><span class='textit'>expression</span></span></span></a> is <a href='#expr' title='13.8.3.3&emsp;Type-dependent expressions&emsp;[temp.dep.expr]'>type-dependent</a><a class='hidden_link' href='#type-9.sentence-1'>.</a></li></ul></div></div></div><div class='para' id='type-10'><div class='marginalizedparent'><a class='marginalized' href='#type-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5322'>#</a></div><div class='texpara'><div id='type-note-6' class='note'><div class='texpara'>[<a class='note_link' href='#type-note-6'><span class='textit'>Note&nbsp;6</span></a><span class='textit'>:</span> <div id='type-10.sentence-1' class='sentence'>Because typedefs do not introduce new types, but
instead simply refer to other types, a name that refers to a
typedef that is a member of the current instantiation is dependent
only if the type referred to is dependent<a class='hidden_link' href='#type-10.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='footnote' id='footnote-141'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-141'>141)</a></div><div class='texpara'><div id='footnote-141.sentence-1' class='sentence'>This includes an injected-class-name (<a href='class.pre' title='11.1&emsp;Preamble'>[class.<span class='shy'></span>pre]</a>) of a class template
used without a <a href='temp.names#nt:template-argument-list' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument-list'><span class='textsf'><span class='textit'>template-argument-list</span></span></span></a><a class='hidden_link' href='#footnote-141.sentence-1'>.</a></div>&nbsp;<a href='#footnoteref-141'>⮥</a></div></div></div><div id='expr' class='section'><h4 ><a class='secnum' href='#expr' style='min-width:95pt'>13.8.3.3</a> Type-dependent expressions <a class='abbr_ref' href='temp.dep.expr'>[temp.dep.expr]</a></h4><div class='para' id='expr-1'><div class='marginalizedparent'><a class='marginalized' href='#expr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5332'>#</a></div><div class='texpara'><div id='expr-1.sentence-1' class='sentence'>Except as described below, an expression is type-dependent if any
subexpression is type-dependent<a class='hidden_link' href='#expr-1.sentence-1'>.</a></div></div></div><div class='para' id='expr-2'><div class='marginalizedparent'><a class='marginalized' href='#expr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5336'>#</a></div><div class='texpara'><div id='expr-2.sentence-1' class='sentence'><span class='texttt'><span class='keyword'>this</span></span>
is type-dependent if the class type of the enclosing member function is
dependent (<a href='#type' title='13.8.3.2&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>)<a class='hidden_link' href='#expr-2.sentence-1'>.</a></div></div></div><div class='para' id='expr-3'><div class='marginalizedparent'><a class='marginalized' href='#expr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5341'>#</a></div><div class='texpara'><div id='expr-3.sentence-1' class='sentence'>An
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression______'><span class='textsf'><span class='textit'>id-expression</span></span></span></a>
is type-dependent if it is not a concept-id and it contains
<ul class='itemize'><li id='expr-3.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#expr-3.1'>(3.1)</a></div>an
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier__'><span class='textsf'><span class='textit'>identifier</span></span></span></a>
associated by name lookup with one or more declarations
declared with a dependent type,</li><li id='expr-3.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#expr-3.2'>(3.2)</a></div>an
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier___'><span class='textsf'><span class='textit'>identifier</span></span></span></a>
associated by name lookup with
a non-type <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_'><span class='textsf'><span class='textit'>template-parameter</span></span></span></a>
declared with a type
that contains a <a href='dcl.spec.auto#def:placeholder_type' title='9.2.9.6&emsp;Placeholder type specifiers&emsp;[dcl.spec.auto]'>placeholder type</a>,</li><li id='expr-3.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#expr-3.3'>(3.3)</a></div>an
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier____'><span class='textsf'><span class='textit'>identifier</span></span></span></a>
associated by name lookup with
a variable declared with a type that contains a placeholder type (<a href='dcl.spec.auto' title='9.2.9.6&emsp;Placeholder type specifiers'>[dcl.<span class='shy'></span>spec.<span class='shy'></span>auto]</a>)
where the initializer is type-dependent,</li><li id='expr-3.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#expr-3.4'>(3.4)</a></div>an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_____'><span class='textsf'><span class='textit'>identifier</span></span></span></a> associated by name lookup with one or more
declarations of member functions of the current instantiation declared
with a return type that contains a placeholder type,</li><li id='expr-3.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#expr-3.5'>(3.5)</a></div>an <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier______'><span class='textsf'><span class='textit'>identifier</span></span></span></a> associated by name lookup with
a <a href='dcl.struct.bind' title='9.6&emsp;Structured binding declarations&emsp;[dcl.struct.bind]'>structured binding declaration</a> whose
<a href='dcl.init.general#nt:brace-or-equal-initializer' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:brace-or-equal-initializer'><span class='textsf'><span class='textit'>brace-or-equal-initializer</span></span></span></a> is type-dependent,</li><li id='expr-3.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#expr-3.6'>(3.6)</a></div>the
<a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_______'><span class='textsf'><span class='textit'>identifier</span></span></span></a>
<span class='texttt'>__func__</span> (<a href='dcl.fct.def.general' title='9.5.1&emsp;In general'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>def.<span class='shy'></span>general]</a>), where any enclosing function is a
template, a member of a class template, or a generic lambda,</li><li id='expr-3.7'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#expr-3.7'>(3.7)</a></div>a
<a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id_'><span class='textsf'><span class='textit'>template-id</span></span></span></a>
that is dependent,</li><li id='expr-3.8'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#expr-3.8'>(3.8)</a></div>a
<a href='class.conv.fct#nt:conversion-function-id' title='11.4.8.3&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-function-id'><span class='textsf'><span class='textit'>conversion-function-id</span></span></span></a>
that specifies a dependent type, or</li><li id='expr-3.9'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#expr-3.9'>(3.9)</a></div>a
<a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier____'><span class='textsf'><span class='textit'>nested-name-specifier</span></span></span></a>
or a
<a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id_________'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a>
that names a member of an unknown specialization;</li></ul>
or if it names a dependent member of the current instantiation that is a static
data member of type
“array of unknown bound of <span class='texttt'>T</span>” for some <span class='texttt'>T</span> (<a href='temp.static' title='13.7.2.5&emsp;Static data members of class templates'>[temp.<span class='shy'></span>static]</a>)<a class='hidden_link' href='#expr-3.sentence-1'>.</a></div> <div id='expr-3.sentence-2' class='sentence'>Expressions of the following forms are type-dependent only if the type
specified by the
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id'><span class='textsf'><span class='textit'>type-id</span></span></span></a>,
<a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier'><span class='textsf'><span class='textit'>simple-type-specifier</span></span></span></a>
or
<a href='expr.new#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id'><span class='textsf'><span class='textit'>new-type-id</span></span></span></a>
is dependent, even if any subexpression is type-dependent:
<div class='ncsimplebnf'>
<a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier_'><span class='textsf'><span class='textit'>simple-type-specifier</span></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list___'><span class='textsf'><span class='textit'>expression-list</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':new'><span class='texttt'><span class='keyword'>new</span></span></span> <a href='expr.new#nt:new-placement' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-placement'><span class='textsf'><span class='textit'>new-placement</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='expr.new#nt:new-type-id' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-type-id_'><span class='textsf'><span class='textit'>new-type-id</span></span></span></a> <a href='expr.new#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer'><span class='textsf'><span class='textit'>new-initializer</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':new_'><span class='texttt'><span class='keyword'>new</span></span></span> <a href='expr.new#nt:new-placement' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-placement_'><span class='textsf'><span class='textit'>new-placement</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='expr.new#nt:new-initializer' title='7.6.2.8&emsp;New&emsp;[expr.new]'><span id='ntref:new-initializer_'><span class='textsf'><span class='textit'>new-initializer</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><span id=':dynamic_cast'><span class='texttt'><span class='keyword'>dynamic_&shy;cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id__'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression__'><span class='textsf'><span class='textit'>expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':static_cast'><span class='texttt'><span class='keyword'>static_&shy;cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id___'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression___'><span class='textsf'><span class='textit'>expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':const_cast'><span class='texttt'><span class='keyword'>const_&shy;cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id____'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression____'><span class='textsf'><span class='textit'>expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':reinterpret_cast'><span class='texttt'><span class='keyword'>reinterpret_&shy;cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_____'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_____'><span class='textsf'><span class='textit'>expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id______'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression'><span class='textsf'><span class='textit'>cast-expression</span></span></span></a>
</div></div></div></div><div class='para' id='expr-4'><div class='marginalizedparent'><a class='marginalized' href='#expr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5413'>#</a></div><div class='texpara'><div id='expr-4.sentence-1' class='sentence'>Expressions of the following forms are never type-dependent (because the type
of the expression cannot be dependent):
<div class='ncsimplebnf'>
<a href='lex.literal.kinds#nt:literal' title='5.13.1&emsp;Kinds of literals&emsp;[lex.literal.kinds]'><span id='ntref:literal'><span class='textsf'><span class='textit'>literal</span></span></span></a><br/><span id=':sizeof'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <a href='expr.unary.general#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression'><span class='textsf'><span class='textit'>unary-expression</span></span></span></a><br/><span id=':sizeof_'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_______'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':sizeof__'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier________'><span class='textsf'><span class='textit'>identifier</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':alignof'><span class='texttt'><span class='keyword'>alignof</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id________'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':typeid'><span class='texttt'><span class='keyword'>typeid</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression______'><span class='textsf'><span class='textit'>expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':typeid_'><span class='texttt'><span class='keyword'>typeid</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_________'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':delete'><span class='texttt'><span class='keyword'>delete</span></span></span> <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_'><span class='textsf'><span class='textit'>cast-expression</span></span></span></a><br/><span class='terminal'><span class='operator'>::</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span id=':delete_'><span class='texttt'><span class='keyword'>delete</span></span></span> <span class='terminal'><span class='squarebracket'>[</span></span> <span class='terminal'><span class='squarebracket'>]</span></span> <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression__'><span class='textsf'><span class='textit'>cast-expression</span></span></span></a><br/><span id=':throw'><span class='texttt'><span class='keyword'>throw</span></span></span> <a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression'><span class='textsf'><span class='textit'>assignment-expression</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span><br/><span id=':noexcept'><span class='texttt'><span class='keyword'>noexcept</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_______'><span class='textsf'><span class='textit'>expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div></div><div class='texpara'><div id='expr-note-1' class='note'><div class='texpara'>[<a class='note_link' href='#expr-note-1'><span class='textit'>Note&nbsp;1</span></a><span class='textit'>:</span> <div id='expr-4.sentence-2' class='sentence'>For the standard library macro <span class='texttt'>offsetof</span>,
see <a href='support.types' title='17.2&emsp;Common definitions'>[support.<span class='shy'></span>types]</a><a class='hidden_link' href='#expr-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='expr-5'><div class='marginalizedparent'><a class='marginalized' href='#expr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5435'>#</a></div><div class='texpara'><div id='expr-5.sentence-1' class='sentence'>A <a href='expr.ref' title='7.6.1.5&emsp;Class member access&emsp;[expr.ref]'>class member access expression</a> is
type-dependent if
the expression refers to a member of the current instantiation and
the type of the referenced member is dependent, or the class member access
expression refers to a member of an unknown specialization<a class='hidden_link' href='#expr-5.sentence-1'>.</a></div> <div id='expr-note-2' class='note'><div class='texpara'>[<a class='note_link' href='#expr-note-2'><span class='textit'>Note&nbsp;2</span></a><span class='textit'>:</span> <div id='expr-5.sentence-2' class='sentence'>In an expression of the form
<span class='texttt'>x<span class='operator'>.</span>y</span>
or
<span class='texttt'>xp<span class='operator'>-</span><span class='anglebracket'>&gt;</span>y</span>
the type of the expression is usually the type of the member
<span class='texttt'>y</span>
of the class of
<span class='texttt'>x</span>
(or the class pointed to by
<span class='texttt'>xp</span>)<a class='hidden_link' href='#expr-5.sentence-2'>.</a></div> <div id='expr-5.sentence-3' class='sentence'>However, if
<span class='texttt'>x</span>
or
<span class='texttt'>xp</span>
refers to a dependent type that is not the current instantiation,
the type of
<span class='texttt'>y</span>
is always dependent<a class='hidden_link' href='#expr-5.sentence-3'>.</a></div> <div id='expr-5.sentence-4' class='sentence'>If
<span class='texttt'>x</span>
or <span class='texttt'>xp</span>
refers to a non-dependent type or refers to the current instantiation, the
type of
<span class='texttt'>y</span>
is the type of the class member access expression<a class='hidden_link' href='#expr-5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='expr-6'><div class='marginalizedparent'><a class='marginalized' href='#expr-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5468'>#</a></div><div class='texpara'><div id='expr-6.sentence-1' class='sentence'>A <a href='dcl.init.general#nt:braced-init-list' title='9.4.1&emsp;General&emsp;[dcl.init.general]'><span id='ntref:braced-init-list_'><span class='textsf'><span class='textit'>braced-init-list</span></span></span></a> is type-dependent if any element is
type-dependent or is a pack expansion<a class='hidden_link' href='#expr-6.sentence-1'>.</a></div></div></div><div class='para' id='expr-7'><div class='marginalizedparent'><a class='marginalized' href='#expr-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5472'>#</a></div><div class='texpara'><div id='expr-7.sentence-1' class='sentence'>A <a href='expr.prim.fold#nt:fold-expression' title='7.5.6&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-expression'><span class='textsf'><span class='textit'>fold-expression</span></span></span></a> is type-dependent<a class='hidden_link' href='#expr-7.sentence-1'>.</a></div></div></div></div><div id='constexpr' class='section'><h4 ><a class='secnum' href='#constexpr' style='min-width:95pt'>13.8.3.4</a> Value-dependent expressions <a class='abbr_ref' href='temp.dep.constexpr'>[temp.dep.constexpr]</a></h4><div class='para' id='constexpr-1'><div class='marginalizedparent'><a class='marginalized' href='#constexpr-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5477'>#</a></div><div class='texpara'><div id='constexpr-1.sentence-1' class='sentence'>Except as described below, an expression used in a context where a
constant expression is required is value-dependent if any
subexpression is value-dependent<a class='hidden_link' href='#constexpr-1.sentence-1'>.</a></div></div></div><div class='para' id='constexpr-2'><div class='marginalizedparent'><a class='marginalized' href='#constexpr-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5482'>#</a></div><div class='texpara'><div id='constexpr-2.sentence-1' class='sentence'>An
<a href='expr.prim.id.general#nt:id-expression' title='7.5.4.1&emsp;General&emsp;[expr.prim.id.general]'><span id='ntref:id-expression_______'><span class='textsf'><span class='textit'>id-expression</span></span></span></a>
is value-dependent if:
<ul class='itemize'><li id='constexpr-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#constexpr-2.1'>(2.1)</a></div>it is a concept-id and any of its arguments are dependent,</li><li id='constexpr-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#constexpr-2.2'>(2.2)</a></div>it is type-dependent,</li><li id='constexpr-2.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#constexpr-2.3'>(2.3)</a></div>it is the name of a non-type template parameter,</li><li id='constexpr-2.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#constexpr-2.4'>(2.4)</a></div>it names a static data member that is a dependent member of the current
instantiation and is not initialized in a <a href='class.mem.general#nt:member-declarator' title='11.4.1&emsp;General&emsp;[class.mem.general]'><span id='ntref:member-declarator'><span class='textsf'><span class='textit'>member-declarator</span></span></span></a>,</li><li id='constexpr-2.5'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#constexpr-2.5'>(2.5)</a></div>it names a static member function that is a dependent member of the current
instantiation, or</li><li id='constexpr-2.6'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#constexpr-2.6'>(2.6)</a></div>it names a potentially-constant variable (<a href='expr.const' title='7.7&emsp;Constant expressions'>[expr.<span class='shy'></span>const]</a>)
that is initialized with an expression that is value-dependent<a class='hidden_link' href='#constexpr-2.sentence-1'>.</a></li></ul></div></div><div class='texpara'><div id='constexpr-2.sentence-2' class='sentence'>Expressions of the following form are value-dependent if the
<a href='expr.unary.general#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression_'><span class='textsf'><span class='textit'>unary-expression</span></span></span></a> or <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression________'><span class='textsf'><span class='textit'>expression</span></span></span></a>
is type-dependent or the
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id__________'><span class='textsf'><span class='textit'>type-id</span></span></span></a>
is dependent:
<div class='ncsimplebnf'>
<span id=':sizeof___'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <a href='expr.unary.general#nt:unary-expression' title='7.6.2.1&emsp;General&emsp;[expr.unary.general]'><span id='ntref:unary-expression__'><span class='textsf'><span class='textit'>unary-expression</span></span></span></a><br/><span id=':sizeof____'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id___________'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':typeid__'><span class='texttt'><span class='keyword'>typeid</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_________'><span class='textsf'><span class='textit'>expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':typeid___'><span class='texttt'><span class='keyword'>typeid</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id____________'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':alignof_'><span class='texttt'><span class='keyword'>alignof</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_____________'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':noexcept_'><span class='texttt'><span class='keyword'>noexcept</span></span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression__________'><span class='textsf'><span class='textit'>expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div></div><div class='texpara'><div id='constexpr-note-1' class='note'><div class='texpara'>[<a class='note_link' href='#constexpr-note-1'><span class='textit'>Note&nbsp;1</span></a><span class='textit'>:</span> <div id='constexpr-2.sentence-3' class='sentence'>For the standard library macro <span class='texttt'>offsetof</span>,
see <a href='support.types' title='17.2&emsp;Common definitions'>[support.<span class='shy'></span>types]</a><a class='hidden_link' href='#constexpr-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='constexpr-3'><div class='marginalizedparent'><a class='marginalized' href='#constexpr-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5523'>#</a></div><div class='texpara'><div id='constexpr-3.sentence-1' class='sentence'>Expressions of the following form are value-dependent if either the
<a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id______________'><span class='textsf'><span class='textit'>type-id</span></span></span></a>
or
<a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier__'><span class='textsf'><span class='textit'>simple-type-specifier</span></span></span></a>
is dependent or the
<a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression___________'><span class='textsf'><span class='textit'>expression</span></span></span></a>
or
<a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression___'><span class='textsf'><span class='textit'>cast-expression</span></span></span></a>
is value-dependent:
<div class='ncsimplebnf'>
<a href='dcl.type.simple#nt:simple-type-specifier' title='9.2.9.3&emsp;Simple type specifiers&emsp;[dcl.type.simple]'><span id='ntref:simple-type-specifier___'><span class='textsf'><span class='textit'>simple-type-specifier</span></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post.general#nt:expression-list' title='7.6.1.1&emsp;General&emsp;[expr.post.general]'><span id='ntref:expression-list____'><span class='textsf'><span class='textit'>expression-list</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':static_cast_'><span class='texttt'><span class='keyword'>static_&shy;cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_______________'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression____________'><span class='textsf'><span class='textit'>expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':const_cast_'><span class='texttt'><span class='keyword'>const_&shy;cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id________________'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression_____________'><span class='textsf'><span class='textit'>expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span id=':reinterpret_cast_'><span class='texttt'><span class='keyword'>reinterpret_&shy;cast</span></span></span> <span class='terminal'><span class='anglebracket'>&lt;</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id_________________'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.comma#nt:expression' title='7.6.20&emsp;Comma operator&emsp;[expr.comma]'><span id='ntref:expression______________'><span class='textsf'><span class='textit'>expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.name#nt:type-id' title='9.3.2&emsp;Type names&emsp;[dcl.name]'><span id='ntref:type-id__________________'><span class='textsf'><span class='textit'>type-id</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span> <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression____'><span class='textsf'><span class='textit'>cast-expression</span></span></span></a>
</div></div></div></div><div class='para' id='constexpr-4'><div class='marginalizedparent'><a class='marginalized' href='#constexpr-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5541'>#</a></div><div class='texpara'><div id='constexpr-4.sentence-1' class='sentence'>Expressions of the following form are value-dependent:
<div class='ncsimplebnf'>
<span id=':sizeof_____'><span class='texttt'><span class='keyword'>sizeof</span></span></span> <span class='terminal'><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_________'><span class='textsf'><span class='textit'>identifier</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span><br/><a href='expr.prim.fold#nt:fold-expression' title='7.5.6&emsp;Fold expressions&emsp;[expr.prim.fold]'><span id='ntref:fold-expression_'><span class='textsf'><span class='textit'>fold-expression</span></span></span></a>
</div></div></div></div><div class='para' id='constexpr-5'><div class='marginalizedparent'><a class='marginalized' href='#constexpr-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5548'>#</a></div><div class='texpara'><div id='constexpr-5.sentence-1' class='sentence'>An expression of the form <span class='texttt'><span class='operator'>&amp;</span></span><a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id__________'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a> where the
<a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id___________'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a> names a dependent member of the current
instantiation is value-dependent<a class='hidden_link' href='#constexpr-5.sentence-1'>.</a></div> <div id='constexpr-5.sentence-2' class='sentence'>An expression of the form <span class='texttt'><span class='operator'>&amp;</span></span><a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_____'><span class='textsf'><span class='textit'>cast-expression</span></span></span></a>
is also value-dependent if evaluating <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression______'><span class='textsf'><span class='textit'>cast-expression</span></span></span></a>
as a <a href='expr.const#def:expression,core_constant' title='7.7&emsp;Constant expressions&emsp;[expr.const]'>core constant expression</a> succeeds and
the result of the evaluation refers to a templated entity
that is an object with static or thread storage duration or a member function<a class='hidden_link' href='#constexpr-5.sentence-2'>.</a></div></div></div></div><div id='temp' class='section'><h4 ><a class='secnum' href='#temp' style='min-width:95pt'>13.8.3.5</a> Dependent template arguments <a class='abbr_ref' href='temp.dep.temp'>[temp.dep.temp]</a></h4><div class='para' id='temp-1'><div class='marginalizedparent'><a class='marginalized' href='#temp-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5560'>#</a></div><div class='texpara'><div id='temp-1.sentence-1' class='sentence'>A type
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument'><span class='textsf'><span class='textit'>template-argument</span></span></span></a>
is dependent if the type it specifies is dependent<a class='hidden_link' href='#temp-1.sentence-1'>.</a></div></div></div><div class='para' id='temp-2'><div class='marginalizedparent'><a class='marginalized' href='#temp-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5565'>#</a></div><div class='texpara'><div id='temp-2.sentence-1' class='sentence'>A non-type
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument_'><span class='textsf'><span class='textit'>template-argument</span></span></span></a>
is dependent if its type is dependent or the constant
expression it specifies is value-dependent<a class='hidden_link' href='#temp-2.sentence-1'>.</a></div></div></div><div class='para' id='temp-3'><div class='marginalizedparent'><a class='marginalized' href='#temp-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5571'>#</a></div><div class='texpara'><div id='temp-3.sentence-1' class='sentence'>Furthermore, a non-type
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument__'><span class='textsf'><span class='textit'>template-argument</span></span></span></a>
is dependent if the corresponding non-type <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter__'><span class='textsf'><span class='textit'>template-parameter</span></span></span></a>
is of reference or pointer type and the <a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument___'><span class='textsf'><span class='textit'>template-argument</span></span></span></a>
designates or points to a member of the current instantiation or a member of
a dependent type<a class='hidden_link' href='#temp-3.sentence-1'>.</a></div></div></div><div class='para' id='temp-4'><div class='marginalizedparent'><a class='marginalized' href='#temp-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/templates.tex#L5579'>#</a></div><div class='texpara'><div id='temp-4.sentence-1' class='sentence'>A template
<a href='temp.names#nt:template-argument' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-argument____'><span class='textsf'><span class='textit'>template-argument</span></span></span></a>
is dependent if it names a
<a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter___'><span class='textsf'><span class='textit'>template-parameter</span></span></span></a>
or is a
<a href='expr.prim.id.qual#nt:qualified-id' title='7.5.4.3&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:qualified-id____________'><span class='textsf'><span class='textit'>qualified-id</span></span></span></a>
that refers to a member of an unknown specialization<a class='hidden_link' href='#temp-4.sentence-1'>.</a></div></div></div></div></div></body></html>