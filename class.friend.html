<!DOCTYPE html><html lang='en'><head><title>[class.friend]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>11</a> Classes <a class='abbr_ref' href='./#class'>[class]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>11.9</a> Member access control <a class='abbr_ref' href='class.access#class.friend'>[class.access]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>11.9.3</a> Friends <a class='abbr_ref'>[class.friend]</a></h3><span class='indexparent'><a class='index' id=':friend_function,access_and'></a></span><span class='indexparent'><a class='index' id=':access_control,friend_function'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L5056'>#</a></div><div id='1.sentence-1' class='sentence'>A friend of a class is a function or class that is
given permission to use the private and protected member names from the class<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>A class specifies its friends, if any, by way of friend declarations<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>Such declarations give special access rights to the friends, but they
do not make the nominated friends members of the befriending class<a class='hidden_link' href='#1.sentence-3'>.</a></div> <div id='1.example-1' class='example'>[&nbsp;<a class='example_link' href='#1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='1.sentence-4' class='sentence'>The following example illustrates the differences between
members and friends:
<span class='indexparent'><a class='index' id=':friend_function,member_function_and'></a></span>
<pre class='codeblock'>
<span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> a;
  <span class='keyword'>friend</span> <span class='keyword'>void</span> friend_set<span class='parenthesis'>(</span>X<span class='operator'>*</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>public</span><span class='operator'>:</span>
  <span class='keyword'>void</span> member_set<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> friend_set<span class='parenthesis'>(</span>X<span class='operator'>*</span> p, <span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a <span class='operator'>=</span> i; <span class='curlybracket'>}</span>
<span class='keyword'>void</span> X<span class='operator'>::</span>member_set<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> a <span class='operator'>=</span> i; <span class='curlybracket'>}</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  X obj;
  friend_set<span class='parenthesis'>(</span><span class='operator'>&amp;</span>obj,<span class='literal'>10</span><span class='parenthesis'>)</span>;
  obj<span class='operator'>.</span>member_set<span class='parenthesis'>(</span><span class='literal'>10</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</pre></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L5086'>#</a></div><div id='2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':friend,class_access_and'></a></span>Declaring a class to be a friend implies that the names of private and
protected members from the class granting friendship can be accessed in the
<a class='grammarterm' href='class.derived#nt:base-specifier'>base-specifier</a><span class='textit'>s</span> and member declarations of the befriended
class<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.example-1' class='example'>[&nbsp;<a class='example_link' href='#2.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>friend</span> <span class='keyword'>class</span> X;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> X <span class='operator'>:</span> A<span class='operator'>::</span>B <span class='curlybracket'>{</span>               <span class='comment'>// OK: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> accessible to friend</span>
  A<span class='operator'>::</span>B mx;                      <span class='comment'>// OK: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> accessible to member of friend</span>
  <span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
    A<span class='operator'>::</span>B my;                    <span class='comment'>// OK: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;B</span> accessible to nested member of friend</span>
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='2.example-2' class='example'>[&nbsp;<a class='example_link' href='#2.example-2'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>enum</span> <span class='curlybracket'>{</span> a<span class='operator'>=</span><span class='literal'>100</span> <span class='curlybracket'>}</span>;
  <span class='keyword'>friend</span> <span class='keyword'>class</span> Y;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> v<span class='squarebracket'>[</span>X<span class='operator'>::</span>a<span class='squarebracket'>]</span>;                  <span class='comment'>// OK, <span class='tcode_in_codeblock'>Y</span> is a friend of <span class='tcode_in_codeblock'>X</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> Z <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> v<span class='squarebracket'>[</span>X<span class='operator'>::</span>a<span class='squarebracket'>]</span>;                  <span class='comment'>// error: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;a</span> is private</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> <div id='2.sentence-2' class='sentence'>A class shall not be defined in a friend declaration<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.example-3' class='example'>[&nbsp;<a class='example_link' href='#2.example-3'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;           <span class='comment'>// error: cannot define class in friend declaration</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L5133'>#</a></div><div id='3.sentence-1' class='sentence'>A friend declaration that does not declare a function
shall have one of the following forms:</div><pre class='ncsimplebnf'><span class='texttt'><span class='keyword'>friend</span></span><span class='indexparent'><a class='index' id=':friend'></a></span> <a class='grammarterm' href='dcl.type.elab#nt:elaborated-type-specifier'>elaborated-type-specifier</a> <span class='terminal'>;</span>
<span class='texttt'><span class='keyword'>friend</span></span><span class='indexparent'><a class='index' id=':friend_'></a></span> <a class='grammarterm' href='dcl.type.simple#nt:simple-type-specifier'>simple-type-specifier</a> <span class='terminal'>;</span>
<span class='texttt'><span class='keyword'>friend</span></span><span class='indexparent'><a class='index' id=':friend__'></a></span> <a class='grammarterm' href='temp.res#nt:typename-specifier'>typename-specifier</a> <span class='terminal'>;</span>
</pre><div id='3.note-1' class='note'>[&nbsp;<a class='note_link' href='#3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='3.sentence-2' class='sentence'>A friend declaration may be the
<a class='grammarterm' href='dcl.pre#nt:declaration'>declaration</a> in a <a class='grammarterm' href='temp.pre#nt:template-declaration'>template-declaration</a>
(<a href='temp.pre'>[temp.pre]</a>, <a href='temp.friend'>[temp.friend]</a>)<a class='hidden_link' href='#3.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='3.sentence-3' class='sentence'>
If the
type specifier in a <span class='texttt'><span class='keyword'>friend</span></span> declaration designates a (possibly
cv-qualified) class type, that class is declared as a friend; otherwise, the
friend declaration is ignored<a class='hidden_link' href='#3.sentence-3'>.</a></div> <div id='3.example-1' class='example'>[&nbsp;<a class='example_link' href='#3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> C;
<span class='keyword'>typedef</span> C Ct;

<span class='keyword'>class</span> X1 <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> C;                     <span class='comment'>// OK: <span class='tcode_in_codeblock'>class C</span> is a friend</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> X2 <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> Ct;                    <span class='comment'>// OK: <span class='tcode_in_codeblock'>class C</span> is a friend</span>
  <span class='keyword'>friend</span> D;                     <span class='comment'>// error: no type-name <span class='tcode_in_codeblock'>D</span> in scope</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> D;               <span class='comment'>// OK: elaborated-type-specifier declares new class</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> R <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> T;
<span class='curlybracket'>}</span>;

R<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&gt;</span> rc;                        <span class='comment'>// <span class='tcode_in_codeblock'>class C</span> is a friend of <span class='tcode_in_codeblock'>R&lt;C&gt;</span></span>
R<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> Ri;                      <span class='comment'>// OK: <span class='tcode_in_codeblock'>"friend int;"</span> is ignored</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L5176'>#</a></div><div id='4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':friend_function,linkage_of'></a></span>A function first declared in a friend declaration
has the linkage of the namespace of which it is a member (<a href='basic.link'>[basic.link]</a>,
<a href='namespace.memdef'>[namespace.memdef]</a>)<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>Otherwise, the function retains its previous linkage (<a href='dcl.stc'>[dcl.stc]</a>)<a class='hidden_link' href='#4.sentence-2'>.</a></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L5183'>#</a></div><div id='5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':declaration,overloaded_name_and_friend'></a></span>When a friend
declaration refers to an overloaded name or operator, only the function specified
by the parameter types becomes a friend<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>A member function of a class
<span class='texttt'>X</span>
can be a friend of
a class
<span class='texttt'>Y</span><a class='hidden_link' href='#5.sentence-2'>.</a></div> <span class='indexparent'><a class='index' id=':member_function,friend'></a></span><div id='5.example-1' class='example'>[&nbsp;<a class='example_link' href='#5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>char</span><span class='operator'>*</span> X<span class='operator'>::</span>foo<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>friend</span> X<span class='operator'>::</span>X<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='parenthesis'>)</span>;            <span class='comment'>// constructors can be friends</span>
  <span class='keyword'>friend</span> X<span class='operator'>::</span><span class='operator'>~</span>X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// destructors can be friends</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L5204'>#</a></div><div id='6.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':friend_function,inline'></a></span>A function can be defined in a friend declaration of a class if and only if the
class is a non-local class (<a href='class.local'>[class.local]</a>), the function name is unqualified,
and the function has namespace scope<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.example-1' class='example'>[&nbsp;<a class='example_link' href='#6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> M <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>           <span class='comment'>// definition of global <span class='tcode_in_codeblock'>f</span>, a friend of <span class='tcode_in_codeblock'>M</span>,</span>
                                <span class='comment'>// not the definition of a member function</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L5218'>#</a></div><div id='7.sentence-1' class='sentence'>Such a function is implicitly an inline (<a href='dcl.inline'>[dcl.inline]</a>) function
if it is attached to the global module<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>A friend
function defined in a class is in the (lexical) scope of the class in which it is defined<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>A friend function defined outside the class is not (<a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>)<a class='hidden_link' href='#7.sentence-3'>.</a></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L5225'>#</a></div><div id='8.sentence-1' class='sentence'>No
<a class='grammarterm' href='dcl.stc#nt:storage-class-specifier'>storage-class-specifier</a>
shall appear in the
<a class='grammarterm' href='dcl.spec#nt:decl-specifier-seq'>decl-specifier-seq</a>
of a friend declaration<a class='hidden_link' href='#8.sentence-1'>.</a></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L5232'>#</a></div><div id='9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':friend,access_specifier_and'></a></span>A name nominated by a friend declaration shall be accessible in the scope of the
class containing the friend declaration<a class='hidden_link' href='#9.sentence-1'>.</a></div> <div id='9.sentence-2' class='sentence'>The meaning of the friend declaration is the same whether the friend declaration
appears in the private, protected, or public (<a href='class.mem'>[class.mem]</a>)
portion of the class
<a class='grammarterm' href='class.mem#nt:member-specification'>member-specification</a><a class='hidden_link' href='#9.sentence-2'>.</a></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L5241'>#</a></div><div id='10.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':friend,inheritance_and'></a></span>Friendship is neither inherited nor transitive<a class='hidden_link' href='#10.sentence-1'>.</a></div> <div id='10.example-1' class='example'>[&nbsp;<a class='example_link' href='#10.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> B;
  <span class='keyword'>int</span> a;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> C;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> C  <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a<span class='operator'>+</span><span class='operator'>+</span>;         <span class='comment'>// error: <span class='tcode_in_codeblock'>C</span> is not a friend of <span class='tcode_in_codeblock'>A</span> despite being a friend of a friend</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> D <span class='operator'>:</span> <span class='keyword'>public</span> B  <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    p<span class='operator'>-</span><span class='anglebracket'>&gt;</span>a<span class='operator'>+</span><span class='operator'>+</span>;         <span class='comment'>// error: <span class='tcode_in_codeblock'>D</span> is not a friend of <span class='tcode_in_codeblock'>A</span> despite being derived from a friend</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/classes.tex#L5269'>#</a></div><div id='11.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':local_class,friend'></a></span><span class='indexparent'><a class='index' id=':friend,local_class_and'></a></span>If a friend declaration appears in a local class (<a href='class.local'>[class.local]</a>) and the
name specified is an unqualified name, a prior declaration is looked
up without considering scopes that are outside the innermost enclosing
non-class scope<a class='hidden_link' href='#11.sentence-1'>.</a></div> <div id='11.sentence-2' class='sentence'>For a friend function declaration, if there is no
prior declaration, the program is ill-formed<a class='hidden_link' href='#11.sentence-2'>.</a></div> <div id='11.sentence-3' class='sentence'>For a friend class
declaration, if there is no prior declaration, the class that is
specified belongs to the innermost enclosing non-class scope, but if it is
subsequently referenced, its name is not found by name lookup
until a matching declaration is provided in the innermost enclosing
non-class scope<a class='hidden_link' href='#11.sentence-3'>.</a></div> <div id='11.example-1' class='example'>[&nbsp;<a class='example_link' href='#11.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> X;
<span class='keyword'>void</span> a<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> Y;
  <span class='keyword'>extern</span> <span class='keyword'>void</span> b<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>class</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> X;   <span class='comment'>// OK, but <span class='tcode_in_codeblock'>X</span> is a local class, not <span class='tcode_in_codeblock'>&#x200b;::&#x200b;X</span></span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> Y;   <span class='comment'>// OK</span>
  <span class='keyword'>friend</span> <span class='keyword'>class</span> Z;   <span class='comment'>// OK, introduces local class <span class='tcode_in_codeblock'>Z</span></span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> a<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='comment'>// error, <span class='tcode_in_codeblock'>&#x200b;::&#x200b;a</span> is not considered</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> b<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='comment'>// OK</span>
  <span class='keyword'>friend</span> <span class='keyword'>void</span> c<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;  <span class='comment'>// error</span>
  <span class='curlybracket'>}</span>;
  X<span class='operator'>*</span> px;            <span class='comment'>// OK, but <span class='tcode_in_codeblock'>&#x200b;::&#x200b;X</span> is found</span>
  Z<span class='operator'>*</span> pz;            <span class='comment'>// error: no <span class='tcode_in_codeblock'>Z</span> is found</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div></body></html>