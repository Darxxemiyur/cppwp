<!DOCTYPE html><html lang='en'><head><title>[conforming]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>16</a> Library introduction <a class='abbr_ref' href='./#library'>[library]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>16.5</a> Library-wide requirements <a class='abbr_ref' href='requirements#conforming'>[requirements]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>16.5.5</a> Conforming implementations <a class='abbr_ref'>[conforming]</a></h3><div id='overview' class='section'><h4 ><a class='secnum' href='#overview' style='min-width:118pt'>16.5.5.1</a> Overview <a class='abbr_ref' href='conforming.overview'>[conforming.overview]</a></h4><div class='para' id='overview-1'><div class='marginalizedparent'><a class='marginalized' href='#overview-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3007'>#</a></div><div id='overview-1.sentence-1' class='sentence'>Subclause <a href='#conforming'>[conforming]</a> describes the constraints upon, and latitude of, implementations of the C++ standard library<a class='hidden_link' href='#overview-1.sentence-1'>.</a></div></div><div class='para' id='overview-2'><div class='marginalizedparent'><a class='marginalized' href='#overview-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3010'>#</a></div><div id='overview-2.sentence-1' class='sentence'>An implementation's use of headers is discussed in <a href='#res.on.headers'>[res.on.headers]</a>, its use
of macros in <a href='#res.on.macro.definitions'>[res.on.macro.definitions]</a>, non-member functions
in <a href='#global.functions'>[global.functions]</a>, member functions in <a href='#member.functions'>[member.functions]</a>, data race
avoidance in <a href='#res.on.data.races'>[res.on.data.races]</a>, access specifiers
in <a href='#protection.within.classes'>[protection.within.classes]</a>, class derivation in <a href='#derivation'>[derivation]</a>, and
exceptions in <a href='#res.on.exception.handling'>[res.on.exception.handling]</a><a class='hidden_link' href='#overview-2.sentence-1'>.</a></div></div></div><div id='res.on.headers' class='section'><h4 ><a class='secnum' href='#res.on.headers' style='min-width:118pt'>16.5.5.2</a> Headers <a class='abbr_ref' href='res.on.headers'>[res.on.headers]</a></h4><div class='para' id='res.on.headers-1'><div class='marginalizedparent'><a class='marginalized' href='#res.on.headers-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3020'>#</a></div><div id='res.on.headers-1.sentence-1' class='sentence'>A C++ header may include other C++ headers<a class='hidden_link' href='#res.on.headers-1.sentence-1'>.</a></div> <div id='res.on.headers-1.sentence-2' class='sentence'>A C++ header shall provide the declarations and definitions that appear in its
synopsis<a class='hidden_link' href='#res.on.headers-1.sentence-2'>.</a></div> <div id='res.on.headers-1.sentence-3' class='sentence'>A C++ header shown in its synopsis as including other C++ headers
shall provide the declarations and definitions that appear in the synopses of
those other headers<a class='hidden_link' href='#res.on.headers-1.sentence-3'>.</a></div></div><div class='para' id='res.on.headers-2'><div class='marginalizedparent'><a class='marginalized' href='#res.on.headers-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3027'>#</a></div><div id='res.on.headers-2.sentence-1' class='sentence'>Certain types and macros are defined in more than one header<a class='hidden_link' href='#res.on.headers-2.sentence-1'>.</a></div> <div id='res.on.headers-2.sentence-2' class='sentence'>Every such entity shall be defined such that any header that defines it may be
included after any other header that also defines it (<a href='basic.def.odr'>[basic.def.odr]</a>)<a class='hidden_link' href='#res.on.headers-2.sentence-2'>.</a></div></div><div class='para' id='res.on.headers-3'><div class='marginalizedparent'><a class='marginalized' href='#res.on.headers-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3032'>#</a></div><div id='res.on.headers-3.sentence-1' class='sentence'>The <a href='depr.c.headers'>C standard library headers</a>
shall include only their corresponding C++ standard library header,
as described in <a href='headers'>[headers]</a><a class='hidden_link' href='#res.on.headers-3.sentence-1'>.</a></div></div></div><div id='res.on.macro.definitions' class='section'><h4 ><a class='secnum' href='#res.on.macro.definitions' style='min-width:118pt'>16.5.5.3</a> Restrictions on macro definitions <a class='abbr_ref' href='res.on.macro.definitions'>[res.on.macro.definitions]</a></h4><span class='indexparent'><a class='index' id=':restriction'></a></span><div class='para' id='res.on.macro.definitions-1'><div class='marginalizedparent'><a class='marginalized' href='#res.on.macro.definitions-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3040'>#</a></div><div id='res.on.macro.definitions-1.sentence-1' class='sentence'>The names and global function signatures described in <a href='contents'>[contents]</a> are
reserved to the implementation<a class='hidden_link' href='#res.on.macro.definitions-1.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id=':argument'></a></span><span class='indexparent'><a class='index' id=':header,C'></a></span><span class='indexparent'><a class='index' id=':function,global'></a></span><span class='indexparent'><a class='index' id=':inline'></a></span><span class='indexparent'><a class='index' id=':macro,masking'></a></span></div><div class='para' id='res.on.macro.definitions-2'><div class='marginalizedparent'><a class='marginalized' href='#res.on.macro.definitions-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3049'>#</a></div><div id='res.on.macro.definitions-2.sentence-1' class='sentence'>All object-like macros defined by the C standard library and described in this
Clause as expanding to integral constant expressions are also suitable for use
in <span class='texttt'><span class='preprocessordirective'>#if</span></span><span class='indexparent'><a class='index' id=':#if'></a></span> preprocessing directives, unless
explicitly stated otherwise<a class='hidden_link' href='#res.on.macro.definitions-2.sentence-1'>.</a></div></div></div><div id='global.functions' class='section'><h4 ><a class='secnum' href='#global.functions' style='min-width:118pt'>16.5.5.4</a> Non-member functions <a class='abbr_ref' href='global.functions'>[global.functions]</a></h4><div class='para' id='global.functions-1'><div class='marginalizedparent'><a class='marginalized' href='#global.functions-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3057'>#</a></div><div id='global.functions-1.sentence-1' class='sentence'>It is unspecified whether any
non-member
functions in the C++ standard library are defined as
<a href='dcl.inline'>inline</a><a class='hidden_link' href='#global.functions-1.sentence-1'>.</a></div></div><div class='para' id='global.functions-2'><div class='marginalizedparent'><a class='marginalized' href='#global.functions-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3063'>#</a></div><div id='global.functions-2.sentence-1' class='sentence'>A call to a non-member function signature
described in <a href='support'>[support]</a> through <a href='thread'>[thread]</a> and
<a href='depr'>[depr]</a> shall behave as if the implementation declared no additional
non-member function signatures<a class='hidden_link' href='#global.functions-2.sentence-1'>.</a><a class='footnotenum' href='#footnote-177' id='footnoteref-177'>177</a></div></div><div class='para' id='global.functions-3'><div class='marginalizedparent'><a class='marginalized' href='#global.functions-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3072'>#</a></div><div id='global.functions-3.sentence-1' class='sentence'>An implementation shall not declare a non-member function signature
with additional default arguments<a class='hidden_link' href='#global.functions-3.sentence-1'>.</a></div></div><div class='para' id='global.functions-4'><div class='marginalizedparent'><a class='marginalized' href='#global.functions-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3076'>#</a></div><div id='global.functions-4.sentence-1' class='sentence'>Unless otherwise specified,
calls made by functions in the standard library to non-operator, non-member functions
do not use functions from another namespace which are found through
argument-dependent name lookup (<a href='basic.lookup.argdep'>[basic.lookup.argdep]</a>)<a class='hidden_link' href='#global.functions-4.sentence-1'>.</a></div> <div id='global.functions-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#global.functions-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='global.functions-4.sentence-2' class='sentence'>The phrase “unless otherwise specified” applies to cases such as
the swappable with requirements (<a href='swappable.requirements'>[swappable.requirements]</a>)<a class='hidden_link' href='#global.functions-4.sentence-2'>.</a></div> <div id='global.functions-4.sentence-3' class='sentence'>The exception for overloaded operators allows argument-dependent lookup
in cases like that of
<a href='ostream.iterator.ops#lib:ostream_iterator,operator='><span class='texttt'>ostream_&shy;iterator&#x200b;::&#x200b;operator=</span></a>:</div><div style='height:0.6em;display:block'></div><div id='global.functions-4.sentence-4' class='sentence'><span class='textit'>Effects:</span> 
<pre class='codeblock'>
<span class='operator'>*</span><span class='textit'>out_stream</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> value;
<span class='keyword'>if</span> <span class='parenthesis'>(</span><span class='textit'>delim</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span>
  <span class='operator'>*</span><span class='textit'>out_stream</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='textit'>delim</span>;
<span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>;
</pre></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='footnote' id='footnote-177'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-177'>177)</a></div><div id='footnote-177.sentence-1' class='sentence'>A valid C++ program always
calls the expected library non-member function<a class='hidden_link' href='#footnote-177.sentence-1'>.</a></div> <div id='footnote-177.sentence-2' class='sentence'>An implementation may
also define additional non-member functions that would otherwise not
be called by a valid C++ program<a class='hidden_link' href='#footnote-177.sentence-2'>.</a></div> <a href='#footnoteref-177'>⮥</a></div></div><div id='member.functions' class='section'><h4 ><a class='secnum' href='#member.functions' style='min-width:118pt'>16.5.5.5</a> Member functions <a class='abbr_ref' href='member.functions'>[member.functions]</a></h4><div class='para' id='member.functions-1'><div class='marginalizedparent'><a class='marginalized' href='#member.functions-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3099'>#</a></div><div id='member.functions-1.sentence-1' class='sentence'>It is unspecified whether any member functions in the C++ standard library are defined as
<a href='dcl.inline'>inline</a><a class='hidden_link' href='#member.functions-1.sentence-1'>.</a></div></div><div class='para' id='member.functions-2'><div class='marginalizedparent'><a class='marginalized' href='#member.functions-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3103'>#</a></div><div id='member.functions-2.sentence-1' class='sentence'>For a non-virtual member function described in the C++ standard library,
an implementation may declare a different set of member function signatures,
provided that any call to the member function that would select
an overload from the set of declarations described in this document
behaves as if that overload were selected<a class='hidden_link' href='#member.functions-2.sentence-1'>.</a></div> <div id='member.functions-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#member.functions-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='member.functions-2.sentence-2' class='sentence'>For instance, an implementation may add parameters with default values,
or replace a member function with default arguments
with two or more member functions with equivalent behavior,
or add additional signatures for a member function name<a class='hidden_link' href='#member.functions-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='hidden.friends' class='section'><h4 ><a class='secnum' href='#hidden.friends' style='min-width:118pt'>16.5.5.6</a> Friend functions <a class='abbr_ref' href='hidden.friends'>[hidden.friends]</a></h4><div class='para' id='hidden.friends-1'><div class='marginalizedparent'><a class='marginalized' href='#hidden.friends-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3118'>#</a></div><div id='hidden.friends-1.sentence-1' class='sentence'>Whenever this document specifies
a friend declaration of a function or function template
within a class or class template definition,
that declaration shall be
the only declaration of that function or function template
provided by an implementation<a class='hidden_link' href='#hidden.friends-1.sentence-1'>.</a></div> <div id='hidden.friends-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#hidden.friends-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='hidden.friends-1.sentence-2' class='sentence'>In particular,
an implementation is not allowed to provide
an additional declaration of that function or function template
at namespace scope<a class='hidden_link' href='#hidden.friends-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='hidden.friends-1.note-2' class='note'>[&nbsp;<a class='note_link' href='#hidden.friends-1.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='hidden.friends-1.sentence-3' class='sentence'>Such a friend function or function template declaration
is known as a hidden friend,
as it is visible neither
to ordinary unqualified lookup (<a href='basic.lookup.unqual'>[basic.lookup.unqual]</a>) nor
to qualified lookup (<a href='basic.lookup.qual'>[basic.lookup.qual]</a>)<a class='hidden_link' href='#hidden.friends-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='constexpr.functions' class='section'><h4 ><a class='secnum' href='#constexpr.functions' style='min-width:118pt'>16.5.5.7</a> Constexpr functions and constructors <a class='abbr_ref' href='constexpr.functions'>[constexpr.functions]</a></h4><div class='para' id='constexpr.functions-1'><div class='marginalizedparent'><a class='marginalized' href='#constexpr.functions-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3141'>#</a></div><div id='constexpr.functions-1.sentence-1' class='sentence'>This document explicitly requires that certain standard library functions are
<span class='texttt'><span class='keyword'>constexpr</span></span> (<a href='dcl.constexpr'>[dcl.constexpr]</a>)<a class='hidden_link' href='#constexpr.functions-1.sentence-1'>.</a></div> <div id='constexpr.functions-1.sentence-2' class='sentence'>An implementation shall not declare
any standard library function signature as <span class='texttt'><span class='keyword'>constexpr</span></span> except for those where
it is explicitly required<a class='hidden_link' href='#constexpr.functions-1.sentence-2'>.</a></div> <div id='constexpr.functions-1.sentence-3' class='sentence'>Within any header that provides any non-defining declarations of constexpr
functions or constructors an implementation shall provide corresponding definitions<a class='hidden_link' href='#constexpr.functions-1.sentence-3'>.</a></div></div></div><div id='algorithm.stable' class='section'><h4 ><a class='secnum' href='#algorithm.stable' style='min-width:118pt'>16.5.5.8</a> Requirements for stable algorithms <a class='abbr_ref' href='algorithm.stable'>[algorithm.stable]</a></h4><div class='para' id='algorithm.stable-1'><div class='marginalizedparent'><a class='marginalized' href='#algorithm.stable-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3151'>#</a></div><div id='algorithm.stable-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':algorithm,stable'></a></span><span class='indexparent'><a class='index' id=':stable_algorithm'></a></span>When the requirements for an algorithm state that it is “stable” without further elaboration,
it means:</div><ul class='itemize'><li id='algorithm.stable-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#algorithm.stable-1.1'>(1.1)</a></div><div id='algorithm.stable-1.1.sentence-1' class='sentence'>For the sort algorithms the relative order of equivalent
elements is preserved<a class='hidden_link' href='#algorithm.stable-1.1.sentence-1'>.</a></div></li><li id='algorithm.stable-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#algorithm.stable-1.2'>(1.2)</a></div><div id='algorithm.stable-1.2.sentence-1' class='sentence'>For the remove and copy algorithms the relative order of
the elements that are not removed is preserved<a class='hidden_link' href='#algorithm.stable-1.2.sentence-1'>.</a></div></li><li id='algorithm.stable-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#algorithm.stable-1.3'>(1.3)</a></div><div id='algorithm.stable-1.3.sentence-1' class='sentence'>For the merge algorithms, for equivalent elements in
the original two ranges, the elements from the first range (preserving their
original order) precede the elements from the second range (preserving their
original order)<a class='hidden_link' href='#algorithm.stable-1.3.sentence-1'>.</a></div></li></ul></div></div><div id='reentrancy' class='section'><h4 ><a class='secnum' href='#reentrancy' style='min-width:118pt'>16.5.5.9</a> Reentrancy <a class='abbr_ref' href='reentrancy'>[reentrancy]</a></h4><div class='para' id='reentrancy-1'><div class='marginalizedparent'><a class='marginalized' href='#reentrancy-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3172'>#</a></div><div id='reentrancy-1.sentence-1' class='sentence'>Except where explicitly specified in this document, it is <span class='indexparent'><a class='index' id=':which_functions_in_the_C++_standard_library_may_be_recursively_reentered'></a></span>implementation-defined which functions in the C++ standard
library may be recursively reentered<a class='hidden_link' href='#reentrancy-1.sentence-1'>.</a></div></div></div><div id='res.on.data.races' class='section'><h4 ><a class='secnum' href='#res.on.data.races' style='min-width:118pt'>16.5.5.10</a> Data race avoidance <a class='abbr_ref' href='res.on.data.races'>[res.on.data.races]</a></h4><div class='para' id='res.on.data.races-1'><div class='marginalizedparent'><a class='marginalized' href='#res.on.data.races-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3179'>#</a></div><div id='res.on.data.races-1.sentence-1' class='sentence'>This subclause specifies requirements that implementations shall meet to prevent
<a href='intro.multithread#def:data_race'>data races</a><a class='hidden_link' href='#res.on.data.races-1.sentence-1'>.</a></div> <div id='res.on.data.races-1.sentence-2' class='sentence'>Every standard library function shall meet each requirement unless otherwise specified<a class='hidden_link' href='#res.on.data.races-1.sentence-2'>.</a></div> <div id='res.on.data.races-1.sentence-3' class='sentence'>Implementations may prevent data races in cases other than those specified below<a class='hidden_link' href='#res.on.data.races-1.sentence-3'>.</a></div></div><div class='para' id='res.on.data.races-2'><div class='marginalizedparent'><a class='marginalized' href='#res.on.data.races-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3185'>#</a></div><div id='res.on.data.races-2.sentence-1' class='sentence'>A C++ standard library function shall not directly or indirectly access
objects (<a href='intro.multithread'>[intro.multithread]</a>) accessible by threads other than the current thread
unless the objects are accessed directly or indirectly via the function's arguments,
including <span class='texttt'><span class='keyword'>this</span></span><a class='hidden_link' href='#res.on.data.races-2.sentence-1'>.</a></div></div><div class='para' id='res.on.data.races-3'><div class='marginalizedparent'><a class='marginalized' href='#res.on.data.races-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3191'>#</a></div><div id='res.on.data.races-3.sentence-1' class='sentence'>A C++ standard library function shall not directly or indirectly modify
objects (<a href='intro.multithread'>[intro.multithread]</a>) accessible by threads other than the current thread
unless the objects are accessed directly or indirectly via the function's non-const
arguments, including <span class='texttt'><span class='keyword'>this</span></span><a class='hidden_link' href='#res.on.data.races-3.sentence-1'>.</a></div></div><div class='para' id='res.on.data.races-4'><div class='marginalizedparent'><a class='marginalized' href='#res.on.data.races-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3197'>#</a></div><div id='res.on.data.races-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#res.on.data.races-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='res.on.data.races-4.sentence-1' class='sentence'>This means, for example, that implementations can't use an object with static storage duration for
internal purposes without synchronization because it could cause a data race even in
programs that do not explicitly share objects between threads<a class='hidden_link' href='#res.on.data.races-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='res.on.data.races-5'><div class='marginalizedparent'><a class='marginalized' href='#res.on.data.races-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3204'>#</a></div><div id='res.on.data.races-5.sentence-1' class='sentence'>A C++ standard library function shall not access objects indirectly accessible via its
arguments or via elements of its container arguments except by invoking functions
required by its specification on those container elements<a class='hidden_link' href='#res.on.data.races-5.sentence-1'>.</a></div></div><div class='para' id='res.on.data.races-6'><div class='marginalizedparent'><a class='marginalized' href='#res.on.data.races-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3209'>#</a></div><div id='res.on.data.races-6.sentence-1' class='sentence'>Operations on iterators obtained by calling a standard library container or string
member function may access the underlying container, but shall not modify it<a class='hidden_link' href='#res.on.data.races-6.sentence-1'>.</a></div> <div id='res.on.data.races-6.note-1' class='note'>[&nbsp;<a class='note_link' href='#res.on.data.races-6.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='res.on.data.races-6.sentence-2' class='sentence'>In particular, container operations that invalidate iterators conflict
with operations on iterators associated with that container<a class='hidden_link' href='#res.on.data.races-6.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='res.on.data.races-7'><div class='marginalizedparent'><a class='marginalized' href='#res.on.data.races-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3217'>#</a></div><div id='res.on.data.races-7.sentence-1' class='sentence'>Implementations may share their own internal objects between threads if the objects are
not visible to users and are protected against data races<a class='hidden_link' href='#res.on.data.races-7.sentence-1'>.</a></div></div><div class='para' id='res.on.data.races-8'><div class='marginalizedparent'><a class='marginalized' href='#res.on.data.races-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3221'>#</a></div><div id='res.on.data.races-8.sentence-1' class='sentence'>Unless otherwise specified, C++ standard library functions shall perform all operations
solely within the current thread if those operations have effects that are
<a href='intro.multithread#def:side_effects,visible'>visible</a> to users<a class='hidden_link' href='#res.on.data.races-8.sentence-1'>.</a></div></div><div class='para' id='res.on.data.races-9'><div class='marginalizedparent'><a class='marginalized' href='#res.on.data.races-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3226'>#</a></div><div id='res.on.data.races-9.note-1' class='note'>[&nbsp;<a class='note_link' href='#res.on.data.races-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='res.on.data.races-9.sentence-1' class='sentence'>This allows implementations to parallelize operations if there are no visible
<span class='indexparent'><a class='index' id=':side_effects'></a></span>side effects<a class='hidden_link' href='#res.on.data.races-9.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='protection.within.classes' class='section'><h4 ><a class='secnum' href='#protection.within.classes' style='min-width:118pt'>16.5.5.11</a> Protection within classes <a class='abbr_ref' href='protection.within.classes'>[protection.within.classes]</a></h4><div class='para' id='protection.within.classes-1'><div class='marginalizedparent'><a class='marginalized' href='#protection.within.classes-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3235'>#</a></div><div id='protection.within.classes-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':protection'></a></span>It is unspecified whether any function signature or class described in
<a href='support'>[support]</a> through <a href='thread'>[thread]</a> and <a href='depr'>[depr]</a> is a
friend of another class in the C++ standard library<a class='hidden_link' href='#protection.within.classes-1.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id=':specifier,friend'></a></span></div></div><div id='derivation' class='section'><h4 ><a class='secnum' href='#derivation' style='min-width:118pt'>16.5.5.12</a> Derived classes <a class='abbr_ref' href='derivation'>[derivation]</a></h4><div class='para' id='derivation-1'><div class='marginalizedparent'><a class='marginalized' href='#derivation-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3244'>#</a></div><div id='derivation-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':class,derived'></a></span><span class='indexparent'><a class='index' id=':class,base'></a></span>An implementation may derive any class in the C++ standard library from a class with a
name reserved to the implementation<a class='hidden_link' href='#derivation-1.sentence-1'>.</a></div></div><div class='para' id='derivation-2'><div class='marginalizedparent'><a class='marginalized' href='#derivation-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3250'>#</a></div><div id='derivation-2.sentence-1' class='sentence'>Certain classes defined in the C++ standard library are required to be derived from
other classes
in the C++ standard library<a class='hidden_link' href='#derivation-2.sentence-1'>.</a></div> <div id='derivation-2.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':library,C++_standard'></a></span>An implementation may derive such a class directly from the required base or indirectly
through a hierarchy of base classes with names reserved to the implementation<a class='hidden_link' href='#derivation-2.sentence-2'>.</a></div></div><div class='para' id='derivation-3'><div class='marginalizedparent'><a class='marginalized' href='#derivation-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3258'>#</a></div><div id='derivation-3.sentence-1' class='sentence'>In any case:
<ul class='itemize'><li id='derivation-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#derivation-3.1'>(3.1)</a></div>Every base class described as
<span class='texttt'><span class='keyword'>virtual</span></span>
shall be virtual;<span class='indexparent'><a class='index' id=':class,base_'></a></span></li><li id='derivation-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#derivation-3.2'>(3.2)</a></div>Every base class not specified as
<span class='texttt'><span class='keyword'>virtual</span></span> shall not be virtual;</li><li id='derivation-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#derivation-3.3'>(3.3)</a></div>Unless explicitly stated otherwise, types with distinct names shall be distinct
types.<a class='footnotenum' href='#footnote-178' id='footnoteref-178'>178</a></li></ul></div></div><div class='para' id='derivation-4'><div class='marginalizedparent'><a class='marginalized' href='#derivation-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3277'>#</a></div><div id='derivation-4.sentence-1' class='sentence'>All types specified in the C++ standard library shall be non-<span class='texttt'><span class='keyword'>final</span></span> types
unless otherwise specified<a class='hidden_link' href='#derivation-4.sentence-1'>.</a></div></div><div class='footnote' id='footnote-178'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-178'>178)</a></div><div id='footnote-178.sentence-1' class='sentence'>There is an implicit exception to this rule for types that are
described as synonyms for basic integral types, such as
<a href='support.types'><span class='texttt'>size_&shy;t</span></a> and
<a href='stream.types'><span class='texttt'>streamoff</span></a><a class='hidden_link' href='#footnote-178.sentence-1'>.</a></div> <a href='#footnoteref-178'>⮥</a></div></div><div id='res.on.exception.handling' class='section'><h4 ><a class='secnum' href='#res.on.exception.handling' style='min-width:118pt'>16.5.5.13</a> Restrictions on exception handling <a class='abbr_ref' href='res.on.exception.handling'>[res.on.exception.handling]</a></h4><span class='indexparent'><a class='index' id=':restriction_'></a></span><span class='indexparent'><a class='index' id=':exception_handling,handler'></a></span><div class='para' id='res.on.exception.handling-1'><div class='marginalizedparent'><a class='marginalized' href='#res.on.exception.handling-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3285'>#</a></div><div id='res.on.exception.handling-1.sentence-1' class='sentence'>Any of the functions defined in the C++ standard library
<span class='indexparent'><a class='index' id=':library,C++_standard_'></a></span>can report a failure by throwing an exception of a type
described in its <span class='textit'>Throws:</span> paragraph,
or of a type derived from a type named in the <span class='textit'>Throws:</span> paragraph
that would be caught by an exception handler for the base type<a class='hidden_link' href='#res.on.exception.handling-1.sentence-1'>.</a></div></div><div class='para' id='res.on.exception.handling-2'><div class='marginalizedparent'><a class='marginalized' href='#res.on.exception.handling-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3293'>#</a></div><div id='res.on.exception.handling-2.sentence-1' class='sentence'>Functions from the C standard library shall not throw exceptions<span class='indexparent'><a class='index' id=':specifications,C_standard_library_exception'></a></span><a class='footnotenum' href='#footnote-179' id='footnoteref-179'>179</a>
except when such a function calls a program-supplied function that throws an
exception<a class='hidden_link' href='#res.on.exception.handling-2.sentence-1'>.</a><a class='footnotenum' href='#footnote-180' id='footnoteref-180'>180</a></div></div><div class='para' id='res.on.exception.handling-3'><div class='marginalizedparent'><a class='marginalized' href='#res.on.exception.handling-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3306'>#</a></div><div id='res.on.exception.handling-3.sentence-1' class='sentence'>Destructor operations defined in the C++ standard library
shall not throw exceptions<a class='hidden_link' href='#res.on.exception.handling-3.sentence-1'>.</a></div> <div id='res.on.exception.handling-3.sentence-2' class='sentence'>Every destructor in the C++ standard library shall behave as if it had a
non-throwing exception specification<a class='hidden_link' href='#res.on.exception.handling-3.sentence-2'>.</a></div></div><div class='para' id='res.on.exception.handling-4'><div class='marginalizedparent'><a class='marginalized' href='#res.on.exception.handling-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3312'>#</a></div><div id='res.on.exception.handling-4.sentence-1' class='sentence'>Functions defined in the
C++ standard library
<span class='indexparent'><a class='index' id=':specifications,C++'></a></span>that do not have a <span class='textit'>Throws:</span> paragraph
but do have a potentially-throwing exception specification
may throw <span class='indexparent'><a class='index' id=':exceptions_thrown_by_standard_library_functions_that_have_a_potentially-throwing_exception_specification'></a></span>implementation-defined exceptions<a class='hidden_link' href='#res.on.exception.handling-4.sentence-1'>.</a><a class='footnotenum' href='#footnote-181' id='footnoteref-181'>181</a></div> <div id='res.on.exception.handling-4.sentence-2' class='sentence'>
Implementations should
report errors by throwing exceptions of or derived
from the standard exception classes (<a href='bad.alloc'>[bad.alloc]</a>,
<a href='support.exception'>[support.exception]</a>, <a href='std.exceptions'>[std.exceptions]</a>)<a class='hidden_link' href='#res.on.exception.handling-4.sentence-2'>.</a></div></div><div class='para' id='res.on.exception.handling-5'><div class='marginalizedparent'><a class='marginalized' href='#res.on.exception.handling-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3330'>#</a></div><div id='res.on.exception.handling-5.sentence-1' class='sentence'>An implementation may strengthen the
exception specification
for a non-virtual function
by adding a non-throwing exception specification<a class='hidden_link' href='#res.on.exception.handling-5.sentence-1'>.</a></div></div><div class='footnote' id='footnote-179'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-179'>179)</a></div><div id='footnote-179.sentence-1' class='sentence'>That is, the C
library functions can all be treated as if they
are marked <span class='texttt'><span class='keyword'>noexcept</span></span><a class='hidden_link' href='#footnote-179.sentence-1'>.</a></div> <div id='footnote-179.sentence-2' class='sentence'>This allows implementations to make performance optimizations
based on the absence of exceptions at runtime<a class='hidden_link' href='#footnote-179.sentence-2'>.</a></div> <a href='#footnoteref-179'>⮥</a></div><div class='footnote' id='footnote-180'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-180'>180)</a></div><div id='footnote-180.sentence-1' class='sentence'>The functions
<span class='texttt'>qsort<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>bsearch<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='alg.c.library'>[alg.c.library]</a>) meet this condition<a class='hidden_link' href='#footnote-180.sentence-1'>.</a></div> <a href='#footnoteref-180'>⮥</a></div><div class='footnote' id='footnote-181'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-181'>181)</a></div><div id='footnote-181.sentence-1' class='sentence'>In particular, they
can report a failure to allocate storage by throwing an exception of type
<a href='bad.alloc'><span class='texttt'>bad_&shy;alloc</span></a>,
or a class derived from
<span class='texttt'>bad_&shy;alloc</span><a class='hidden_link' href='#footnote-181.sentence-1'>.</a></div> <a href='#footnoteref-181'>⮥</a></div></div><div id='res.on.pointer.storage' class='section'><h4 ><a class='secnum' href='#res.on.pointer.storage' style='min-width:118pt'>16.5.5.14</a> Restrictions on storage of pointers <a class='abbr_ref' href='res.on.pointer.storage'>[res.on.pointer.storage]</a></h4><div class='para' id='res.on.pointer.storage-1'><div class='marginalizedparent'><a class='marginalized' href='#res.on.pointer.storage-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3338'>#</a></div><div id='res.on.pointer.storage-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':traceable_pointer_object'></a></span><span class='indexparent'><a class='index' id=':pointer,to_traceable_object'></a></span>Objects constructed by the standard library that may hold a user-supplied pointer value
or an integer of type <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>intptr_&shy;t</span> shall store such values in a traceable
pointer location (<a href='basic.stc.dynamic.safety'>[basic.stc.dynamic.safety]</a>)<a class='hidden_link' href='#res.on.pointer.storage-1.sentence-1'>.</a></div> <div id='res.on.pointer.storage-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#res.on.pointer.storage-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='res.on.pointer.storage-1.sentence-2' class='sentence'>Other libraries are
strongly encouraged to do the same, since not doing so may result in accidental use of
pointers that are not safely derived<a class='hidden_link' href='#res.on.pointer.storage-1.sentence-2'>.</a></div> <div id='res.on.pointer.storage-1.sentence-3' class='sentence'>Libraries that store pointers outside the user's
address space should make it appear that they are stored and retrieved from a traceable
pointer location<a class='hidden_link' href='#res.on.pointer.storage-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='value.error.codes' class='section'><h4 ><a class='secnum' href='#value.error.codes' style='min-width:118pt'>16.5.5.15</a> Value of error codes <a class='abbr_ref' href='value.error.codes'>[value.error.codes]</a></h4><div class='para' id='value.error.codes-1'><div class='marginalizedparent'><a class='marginalized' href='#value.error.codes-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3354'>#</a></div><div id='value.error.codes-1.sentence-1' class='sentence'>Certain functions in the C++ standard library report errors via a
<a href='syserr.errcode.overview'><span class='texttt'>std&#x200b;::&#x200b;error_&shy;code</span></a> object<a class='hidden_link' href='#value.error.codes-1.sentence-1'>.</a></div> <div id='value.error.codes-1.sentence-2' class='sentence'>That object's
<span class='texttt'>category<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> member shall return <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>system_&shy;category<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> for
errors originating from the operating system, or a reference to an
<span class='indexparent'><a class='index' id=':error_category_for_errors_originating_outside_the_operating_system'></a></span>implementation-defined <span class='texttt'>error_&shy;category</span> object for errors originating elsewhere<a class='hidden_link' href='#value.error.codes-1.sentence-2'>.</a></div> <div id='value.error.codes-1.sentence-3' class='sentence'>The implementation shall define the possible values of <span class='texttt'>value<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> for each of these
error categories<a class='hidden_link' href='#value.error.codes-1.sentence-3'>.</a></div> <div id='value.error.codes-1.example-1' class='example'>[&nbsp;<a class='example_link' href='#value.error.codes-1.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <div id='value.error.codes-1.sentence-4' class='sentence'>For operating systems that are based on POSIX,
implementations should define the <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>system_&shy;category<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> values as
identical to the POSIX <span class='texttt'>errno</span> values, with additional values as defined by the
operating system's documentation<a class='hidden_link' href='#value.error.codes-1.sentence-4'>.</a></div> <div id='value.error.codes-1.sentence-5' class='sentence'>Implementations for operating systems that are not
based on POSIX should define values identical to the operating system's
values<a class='hidden_link' href='#value.error.codes-1.sentence-5'>.</a></div> <div id='value.error.codes-1.sentence-6' class='sentence'>For errors that do not originate from the operating system, the implementation
may provide enums for the associated values<a class='hidden_link' href='#value.error.codes-1.sentence-6'>.</a></div> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='lib.types.movedfrom' class='section'><h4 ><a class='secnum' href='#lib.types.movedfrom' style='min-width:118pt'>16.5.5.16</a> Moved-from state of library types <a class='abbr_ref' href='lib.types.movedfrom'>[lib.types.movedfrom]</a></h4><div class='para' id='lib.types.movedfrom-1'><div class='marginalizedparent'><a class='marginalized' href='#lib.types.movedfrom-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/lib-intro.tex#L3375'>#</a></div><div id='lib.types.movedfrom-1.sentence-1' class='sentence'>Objects of types defined in the C++ standard library may be moved
from (<a href='class.copy.ctor'>[class.copy.ctor]</a>)<a class='hidden_link' href='#lib.types.movedfrom-1.sentence-1'>.</a></div> <div id='lib.types.movedfrom-1.sentence-2' class='sentence'>Move operations may be explicitly specified or
implicitly generated<a class='hidden_link' href='#lib.types.movedfrom-1.sentence-2'>.</a></div> <div id='lib.types.movedfrom-1.sentence-3' class='sentence'>Unless otherwise specified, such moved-from objects shall
be placed in a valid but unspecified state<a class='hidden_link' href='#lib.types.movedfrom-1.sentence-3'>.</a></div></div></div></div></body></html>