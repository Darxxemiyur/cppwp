<!DOCTYPE html><html lang='en'><head><title>[charconv.to.chars]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>20</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>20.19</a> Primitive numeric conversions <a class='abbr_ref' href='charconv#to.chars'>[charconv]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>20.19.2</a> Primitive numeric output conversion <a class='abbr_ref'>[charconv.to.chars]</a></h3><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18848'>#</a></div><div id='1.sentence-1' class='sentence'>All functions named <span class='texttt'>to_&shy;chars</span>
convert <span class='texttt'>value</span> into a character string
by successively filling the range
<span class='texttt'>[</span><span class='texttt'>first, last</span><span class='texttt'>)</span>,
where <span class='texttt'>[</span><span class='texttt'>first, last</span><span class='texttt'>)</span> is required to be a valid range<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>If the member <span class='texttt'>ec</span>
of the return value
is such that the value
is equal to the value of a value-initialized <span class='texttt'>errc</span>,
the conversion was successful
and the member <span class='texttt'>ptr</span>
is the one-past-the-end pointer of the characters written<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>Otherwise,
the member <span class='texttt'>ec</span> has the value <span class='texttt'>errc<span class='operator'>&#x200b;::&#x200b;</span>value_&shy;too_&shy;large</span>,
the member <span class='texttt'>ptr</span> has the value <span class='texttt'>last</span>,
and the contents of the range <span class='texttt'>[</span><span class='texttt'>first, last</span><span class='texttt'>)</span> are unspecified<a class='hidden_link' href='#1.sentence-3'>.</a></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18866'>#</a></div><div id='2.sentence-1' class='sentence'>The functions that take a floating-point <span class='texttt'>value</span>
but not a <span class='texttt'>precision</span> parameter
ensure that the string representation
consists of the smallest number of characters
such that
there is at least one digit before the radix point (if present) and
parsing the representation using the corresponding <span class='texttt'>from_&shy;chars</span> function
recovers <span class='texttt'>value</span> exactly<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.note-1' class='note'>[&nbsp;<a class='note_link' href='#2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='2.sentence-2' class='sentence'>This guarantee applies only if
<span class='texttt'>to_&shy;chars</span> and <span class='texttt'>from_&shy;chars</span>
are executed on the same implementation<a class='hidden_link' href='#2.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='2.sentence-3' class='sentence'>
If there are several such representations,
the representation with the smallest difference from
the floating-point argument value is chosen,
resolving any remaining ties using rounding according to
<a href='round.style#lib:round_to_nearest'><span class='texttt'>round_&shy;to_&shy;nearest</span></a><a class='hidden_link' href='#2.sentence-3'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18886'>#</a></div><div id='3.sentence-1' class='sentence'>The functions taking a <span class='texttt'>chars_&shy;format</span> parameter
determine the conversion specifier for <span class='texttt'>printf</span> as follows:
The conversion specifier is
<span class='texttt'>f</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format<span class='operator'>&#x200b;::&#x200b;</span>fixed</span>,
<span class='texttt'>e</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format<span class='operator'>&#x200b;::&#x200b;</span>scientific</span>,
<span class='texttt'>a</span> (without leading <span class='texttt'><span class='literal'>"0x"</span></span> in the result)
if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format<span class='operator'>&#x200b;::&#x200b;</span>hex</span>,
and
<span class='texttt'>g</span> if <span class='texttt'>fmt</span> is <span class='texttt'>chars_&shy;format<span class='operator'>&#x200b;::&#x200b;</span>general</span><a class='hidden_link' href='#3.sentence-1'>.</a></div><div style='height:0.6em;display:block'></div><div id='lib:to_chars'>
<div class='itemdecl' id='3.itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#3.itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>to_chars_result to_chars<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span> first, <span class='keyword'>char</span><span class='operator'>*</span> last, <span class='textit'><span class='texttt'>see below</span></span> value, <span class='keyword'>int</span> base <span class='operator'>=</span> <span class='literal'>10</span><span class='parenthesis'>)</span>;
</code></div>
</div></div><div class='itemdescr'></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18904'>#</a></div><div id='4.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
<span class='texttt'>base</span> has a value between 2 and 36 (inclusive)<a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18908'>#</a></div><div id='5.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
The value of <span class='texttt'>value</span> is converted
to a string of digits in the given base
(with no redundant leading zeroes)<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>Digits in the range 10<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'><a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='5.sentence-4' class='sentence'>35 (inclusive)
are represented as lowercase characters <span class='texttt'>a</span><a class='hidden_link' href='#5.sentence-4'>.</a></div> <div id='5.sentence-5' class='sentence'><a class='hidden_link' href='#5.sentence-5'>.</a></div> <div id='5.sentence-6' class='sentence'><span class='texttt'>z</span><a class='hidden_link' href='#5.sentence-6'>.</a></div> <div id='5.sentence-7' class='sentence'>If <span class='texttt'>value</span> is less than zero,
the representation starts with <span class='texttt'><span class='literal'>'-'</span></span><a class='hidden_link' href='#5.sentence-7'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18918'>#</a></div><div id='6.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Nothing<a class='hidden_link' href='#6.sentence-1'>.</a></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18922'>#</a></div><div id='7.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
The implementation shall provide overloads
for all signed and unsigned integer types
and <span class='texttt'><span class='keyword'>char</span></span>
as the type of the parameter <span class='texttt'>value</span><a class='hidden_link' href='#7.sentence-1'>.</a></div></div></div><div id='lib:to_chars_'>
<div class='itemdecl' id='itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>to_chars_result to_chars<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span> first, <span class='keyword'>char</span><span class='operator'>*</span> last, <span class='keyword'>float</span> value<span class='parenthesis'>)</span>;
to_chars_result to_chars<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span> first, <span class='keyword'>char</span><span class='operator'>*</span> last, <span class='keyword'>double</span> value<span class='parenthesis'>)</span>;
to_chars_result to_chars<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span> first, <span class='keyword'>char</span><span class='operator'>*</span> last, <span class='keyword'>long</span> <span class='keyword'>double</span> value<span class='parenthesis'>)</span>;
</code></div>
</div><div class='itemdescr'></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18939'>#</a></div><div id='8.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'><span class='literal'>"C"</span></span> locale<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>The conversion specifier is <span class='texttt'>f</span> or <span class='texttt'>e</span>,
chosen according to the requirement for a shortest representation
(see above);
a tie is resolved in favor of <span class='texttt'>f</span><a class='hidden_link' href='#8.sentence-2'>.</a></div></div></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18949'>#</a></div><div id='9.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Nothing<a class='hidden_link' href='#9.sentence-1'>.</a></div></div></div><div id='lib:to_chars__'>
<div class='itemdecl' id='itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:3'>ðŸ”—</a></div><code class='itemdeclcode'>to_chars_result to_chars<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span> first, <span class='keyword'>char</span><span class='operator'>*</span> last, <span class='keyword'>float</span> value, chars_format fmt<span class='parenthesis'>)</span>;
to_chars_result to_chars<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span> first, <span class='keyword'>char</span><span class='operator'>*</span> last, <span class='keyword'>double</span> value, chars_format fmt<span class='parenthesis'>)</span>;
to_chars_result to_chars<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span> first, <span class='keyword'>char</span><span class='operator'>*</span> last, <span class='keyword'>long</span> <span class='keyword'>double</span> value, chars_format fmt<span class='parenthesis'>)</span>;
</code></div>
</div><div class='itemdescr'></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18963'>#</a></div><div id='10.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
<span class='texttt'>fmt</span> has the value of
one of the enumerators of <span class='texttt'>chars_&shy;format</span><a class='hidden_link' href='#10.sentence-1'>.</a></div></div></div><div class='para' id='11'><div class='marginalizedparent'><a class='marginalized' href='#11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18968'>#</a></div><div id='11.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'><span class='literal'>"C"</span></span> locale<a class='hidden_link' href='#11.sentence-1'>.</a></div></div></div><div class='para' id='12'><div class='marginalizedparent'><a class='marginalized' href='#12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18974'>#</a></div><div id='12.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Nothing<a class='hidden_link' href='#12.sentence-1'>.</a></div></div></div><div id='lib:to_chars___'>
<div class='itemdecl' id='itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'>to_chars_result to_chars<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span> first, <span class='keyword'>char</span><span class='operator'>*</span> last, <span class='keyword'>float</span> value,
                         chars_format fmt, <span class='keyword'>int</span> precision<span class='parenthesis'>)</span>;
to_chars_result to_chars<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span> first, <span class='keyword'>char</span><span class='operator'>*</span> last, <span class='keyword'>double</span> value,
                         chars_format fmt, <span class='keyword'>int</span> precision<span class='parenthesis'>)</span>;
to_chars_result to_chars<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span> first, <span class='keyword'>char</span><span class='operator'>*</span> last, <span class='keyword'>long</span> <span class='keyword'>double</span> value,
                         chars_format fmt, <span class='keyword'>int</span> precision<span class='parenthesis'>)</span>;
</code></div>
</div><div class='itemdescr'></div><div class='para' id='13'><div class='marginalizedparent'><a class='marginalized' href='#13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18991'>#</a></div><div id='13.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
<span class='texttt'>fmt</span> has the value of
one of the enumerators of <span class='texttt'>chars_&shy;format</span><a class='hidden_link' href='#13.sentence-1'>.</a></div></div></div><div class='para' id='14'><div class='marginalizedparent'><a class='marginalized' href='#14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L18996'>#</a></div><div id='14.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<span class='texttt'>value</span> is converted to a string
in the style of <span class='texttt'>printf</span>
in the <span class='texttt'><span class='literal'>"C"</span></span> locale
with the given precision<a class='hidden_link' href='#14.sentence-1'>.</a></div></div></div><div class='para' id='15'><div class='marginalizedparent'><a class='marginalized' href='#15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/utilities.tex#L19003'>#</a></div><div id='15.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
Nothing<a class='hidden_link' href='#15.sentence-1'>.</a></div></div></div><div id='sentence-1' class='sentence'><span class='textsc'>See also:</span>  ISO C 7.21.6.1</div></div></body></html>