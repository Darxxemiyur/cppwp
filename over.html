<!DOCTYPE html><html lang='en'><head><title>[over]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>12</a> Overloading <a class='abbr_ref' href='./#over'>[over]</a></h1><span class='indexparent'><a class='index' id=':overloading'></a></span><div id='pre' class='section'><h2 ><a class='secnum' href='#pre' style='min-width:88pt'>12.1</a> Preamble <a class='abbr_ref' href='over.pre'>[over.pre]</a></h2><div class='para' id='pre-1'><div class='marginalizedparent'><a class='marginalized' href='#pre-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L9'>#</a></div><div id='pre-1.sentence-1' class='sentence'>When two or more different declarations are specified for a single name
in the same scope, that name is said to be
<a class='hidden_link' href='#def:overloading' title='12.1&emsp;Preamble&emsp;[over.pre]'><span id='def:overloading'><span class='textit'>overloaded</span></span></a>,
and the declarations
are called
<a class='hidden_link' href='#def:declaration,overloaded' title='12.1&emsp;Preamble&emsp;[over.pre]'><span id='def:declaration,overloaded'><span class='textit'>overloaded declarations</span></span></a><a class='hidden_link' href='#pre-1.sentence-1'>.</a></div> <div id='pre-1.sentence-2' class='sentence'>Only function and function template
declarations can be overloaded; variable and type declarations
cannot be overloaded<a class='hidden_link' href='#pre-1.sentence-2'>.</a></div></div><div class='para' id='pre-2'><div class='marginalizedparent'><a class='marginalized' href='#pre-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L22'>#</a></div><div id='pre-2.sentence-1' class='sentence'>When a function name is used in a call, which function
declaration is being referenced and the validity of the call
are determined by comparing the types
of the arguments at the point of use with the types of the parameters
in the declarations that are visible at the point of use<a class='hidden_link' href='#pre-2.sentence-1'>.</a></div> <div id='pre-2.sentence-2' class='sentence'>This function selection process is called
<a class='hidden_link' href='#def:overload_resolution' title='12.1&emsp;Preamble&emsp;[over.pre]'><span id='def:overload_resolution'><span class='textit'>overload resolution</span></span></a> and is defined in <a href='#match' title='12.4&emsp;Overload resolution'>[over.<span class='shy'></span>match]</a><a class='hidden_link' href='#pre-2.sentence-2'>.</a></div> <div id='pre-2.example-1' class='example'>[<a class='example_link' href='#pre-2.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <span class='indexparent'><a class='index' id=':overloading,example_of'></a></span><pre class='codeblock'>
<span class='keyword'>double</span> abs<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> abs<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;

abs<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;             <span class='comment'>// calls <span class='tcode_in_codeblock'>abs(int);</span></span>
abs<span class='parenthesis'>(</span><span class='literal'>1.0</span><span class='parenthesis'>)</span>;           <span class='comment'>// calls <span class='tcode_in_codeblock'>abs(double);</span></span>
</pre> —&nbsp;<i>end example</i>]</div> </div></div><div id='load' class='section'><h2 ><a class='secnum' href='#load' style='min-width:88pt'>12.2</a> Overloadable declarations <a class='abbr_ref' href='over.load'>[over.load]</a></h2><span class='indexparent'><a class='index' id=':overloading,declarations'></a></span><div class='para' id='load-1'><div class='marginalizedparent'><a class='marginalized' href='#load-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L44'>#</a></div><div id='load-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading,prohibited'></a></span>Not all function declarations can be overloaded<a class='hidden_link' href='#load-1.sentence-1'>.</a></div> <div id='load-1.sentence-2' class='sentence'>Those that cannot be
overloaded are specified here<a class='hidden_link' href='#load-1.sentence-2'>.</a></div> <div id='load-1.sentence-3' class='sentence'>A program is ill-formed if it contains
two such non-overloadable declarations in the same scope<a class='hidden_link' href='#load-1.sentence-3'>.</a></div> <div id='load-1.note-1' class='note'>[<a class='note_link' href='#load-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='load-1.sentence-4' class='sentence'>This restriction applies to explicit declarations in a scope, and between
such declarations and
declarations made through a
<a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><span class='textit'>using-declaration</span></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)<a class='hidden_link' href='#load-1.sentence-4'>.</a></div> <div id='load-1.sentence-5' class='sentence'>It does not apply to sets of functions fabricated as a result of
name lookup (e.g., because of
<a href='namespace.udir#nt:using-directive' title='9.8.3&emsp;Using namespace directive&emsp;[namespace.udir]'><span id='ntref:using-directive'><span class='textsf'><span class='textit'>using-directive</span></span></span></a><span class='textit'>s</span>)
or overload resolution
(e.g., for operator functions)<a class='hidden_link' href='#load-1.sentence-5'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='load-2'><div class='marginalizedparent'><a class='marginalized' href='#load-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L63'>#</a></div><div id='load-2.sentence-1' class='sentence'>Certain function declarations cannot be overloaded:
<ul class='itemize'><li id='load-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#load-2.1'>(2.1)</a></div><div id='load-2.1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':return_type,overloading_and'></a></span>Function declarations that differ only in the return type,
the <a href='except.spec' title='14.5&emsp;Exception specifications&emsp;[except.spec]'>exception specification</a>, or both
cannot be overloaded<a class='hidden_link' href='#load-2.1.sentence-1'>.</a></div></li><li id='load-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#load-2.2'>(2.2)</a></div><div id='load-2.2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':static,overloading_and'></a></span>Member function declarations with
the same name,
the same parameter-type-list (<a href='dcl.fct' title='9.3.3.5&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>), and
the same trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause'><span class='textsf'><span class='textit'>requires-clause</span></span></span></a> (if any)
cannot be overloaded if any of them is a
<span class='texttt'><span class='keyword'>static</span></span>
member function declaration (<a href='class.static' title='11.4.8&emsp;Static members'>[class.<span class='shy'></span>static]</a>)<a class='hidden_link' href='#load-2.2.sentence-1'>.</a></div> <div id='load-2.2.sentence-2' class='sentence'>Likewise, member function template declarations with
the same name,
the same parameter-type-list,
the same trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_'><span class='textsf'><span class='textit'>requires-clause</span></span></span></a> (if any), and
the same <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head'><span class='textsf'><span class='textit'>template-head</span></span></span></a>
cannot be
overloaded if any of them is a
<span class='texttt'><span class='keyword'>static</span></span>
member function template declaration<a class='hidden_link' href='#load-2.2.sentence-2'>.</a></div> <div id='load-2.2.sentence-3' class='sentence'>The types of the implicit object parameters constructed for the member
functions for the purpose of overload resolution (<a href='#match.funcs' title='12.4.1&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a>)
are not considered when comparing parameter-type-lists for enforcement of
this rule<a class='hidden_link' href='#load-2.2.sentence-3'>.</a></div> <div id='load-2.2.sentence-4' class='sentence'>In contrast, if there is no
<span class='texttt'><span class='keyword'>static</span></span>
member function declaration among a set of member function
declarations with
the same name,
the same parameter-type-list, and
the same trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause__'><span class='textsf'><span class='textit'>requires-clause</span></span></span></a> (if any),
then
these member function declarations can be overloaded if they differ in
the type of their implicit object parameter<a class='hidden_link' href='#load-2.2.sentence-4'>.</a></div> <div id='load-2.2.example-1' class='example'>[<a class='example_link' href='#load-2.2.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <div id='load-2.2.sentence-5' class='sentence'>The following illustrates this distinction:
<pre class='codeblock'>
<span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>static</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                     <span class='comment'>// error</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;               <span class='comment'>// error</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>volatile</span>;      <span class='comment'>// error</span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;               <span class='comment'>// OK: no static <span class='tcode_in_codeblock'>g</span></span>
  <span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>volatile</span>;      <span class='comment'>// OK: no static <span class='tcode_in_codeblock'>g</span></span>
<span class='curlybracket'>}</span>;
</pre></div> —&nbsp;<i>end example</i>]</div> </li><li id='load-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#load-2.3'>(2.3)</a></div><div id='load-2.3.sentence-1' class='sentence'>Member function declarations with
the same name,
the same parameter-type-list (<a href='dcl.fct' title='9.3.3.5&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>), and
the same trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause___'><span class='textsf'><span class='textit'>requires-clause</span></span></span></a> (if any),
as well as member function template
declarations with
the same name,
the same parameter-type-list,
the same trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause____'><span class='textsf'><span class='textit'>requires-clause</span></span></span></a> (if any), and
the same <a href='temp.pre#nt:template-head' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-head_'><span class='textsf'><span class='textit'>template-head</span></span></span></a>,
cannot be overloaded if any of them, but not
all, have a <a href='dcl.decl#nt:ref-qualifier' title='9.3&emsp;Declarators&emsp;[dcl.decl]'><span id='ntref:ref-qualifier'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a> (<a href='dcl.fct' title='9.3.3.5&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#load-2.3.sentence-1'>.</a></div> <div id='load-2.3.example-2' class='example'>[<a class='example_link' href='#load-2.3.example-2'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='operator'>&amp;</span>;             <span class='comment'>// OK</span>
  <span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;                  <span class='comment'>// OK, all declarations have a ref-qualifier</span>
  <span class='keyword'>void</span> i<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
  <span class='keyword'>void</span> i<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;               <span class='comment'>// error: prior declaration of <span class='tcode_in_codeblock'>i</span> has a ref-qualifier</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i>]</div> </li></ul></div></div><div class='para' id='load-3'><div class='marginalizedparent'><a class='marginalized' href='#load-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L143'>#</a></div><span class='indexparent'><a class='index' id=':equivalent_parameter_declarations'></a></span><span class='indexparent'><a class='index' id=':equivalent_parameter_declarations,overloading_and'></a></span><div id='load-3.note-1' class='note'>[<a class='note_link' href='#load-3.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='load-3.sentence-1' class='sentence'>As specified in <a href='dcl.fct' title='9.3.3.5&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>,
function declarations that have equivalent parameter declarations
and <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause_____'><span class='textsf'><span class='textit'>requires-clause</span></span></span></a><span class='textit'>s</span>, if any (<a href='temp.constr.decl' title='13.5.2&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>),
declare
the same function and therefore cannot
be overloaded:
<ul class='itemize'><li id='load-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#load-3.1'>(3.1)</a></div><div id='load-3.1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':typedef,overloading_and'></a></span>Parameter declarations that differ only in the use of equivalent typedef
“types” are equivalent<a class='hidden_link' href='#load-3.1.sentence-1'>.</a></div> <div id='load-3.1.sentence-2' class='sentence'>A
<a href='dcl.typedef' title='9.2.3&emsp;The typedef specifier&emsp;[dcl.typedef]'><span class='texttt'>typedef</span></a>
is not a separate type, but only a synonym for another type<a class='hidden_link' href='#load-3.1.sentence-2'>.</a></div> <div id='load-3.1.example-1' class='example'>[<a class='example_link' href='#load-3.1.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>typedef</span> <span class='keyword'>int</span> Int;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>Int i<span class='parenthesis'>)</span>;                  <span class='comment'>// OK: redeclaration of <span class='tcode_in_codeblock'>f(int)</span></span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>Int i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>     <span class='comment'>// error: redefinition of <span class='tcode_in_codeblock'>f(int)</span></span>
</pre> —&nbsp;<i>end example</i>]</div> <div id='load-3.1.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':enum,overloading_and'></a></span>Enumerations, on the other hand, are distinct types and can be used to
distinguish
overloaded function declarations<a class='hidden_link' href='#load-3.1.sentence-3'>.</a></div> <div id='load-3.1.example-2' class='example'>[<a class='example_link' href='#load-3.1.example-2'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>enum</span> E <span class='curlybracket'>{</span> a <span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> i<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>E i<span class='parenthesis'>)</span>   <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div> </li><li id='load-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#load-3.2'>(3.2)</a></div><div id='load-3.2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading,array_versus_pointer'></a></span><span class='indexparent'><a class='index' id=':array,overloading_and_pointer_versus'></a></span>Parameter declarations that differ only in a pointer
<span class='texttt'><span class='operator'>*</span></span>
versus an array
<span class='texttt'><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>
are equivalent<a class='hidden_link' href='#load-3.2.sentence-1'>.</a></div> <div id='load-3.2.sentence-2' class='sentence'>That is, the array declaration is adjusted to become a pointer
declaration (<a href='dcl.fct' title='9.3.3.5&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#load-3.2.sentence-2'>.</a></div> <div id='load-3.2.sentence-3' class='sentence'>Only the second and subsequent array dimensions are significant in
parameter types (<a href='dcl.array' title='9.3.3.4&emsp;Arrays'>[dcl.<span class='shy'></span>array]</a>)<a class='hidden_link' href='#load-3.2.sentence-3'>.</a></div> <div id='load-3.2.example-3' class='example'>[<a class='example_link' href='#load-3.2.example-3'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;                  <span class='comment'>// same as <span class='tcode_in_codeblock'>f(char*);</span></span>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='squarebracket'>[</span><span class='literal'>7</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;                 <span class='comment'>// same as <span class='tcode_in_codeblock'>f(char*);</span></span>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='squarebracket'>[</span><span class='literal'>9</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;                 <span class='comment'>// same as <span class='tcode_in_codeblock'>f(char*);</span></span>

<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='squarebracket'>[</span><span class='literal'>5</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;             <span class='comment'>// same as <span class='tcode_in_codeblock'>g(char(*)[10]);</span></span>
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='squarebracket'>[</span><span class='literal'>7</span><span class='squarebracket'>]</span><span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;             <span class='comment'>// same as <span class='tcode_in_codeblock'>g(char(*)[10]);</span></span>
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>char</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>20</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;             <span class='comment'>// different from <span class='tcode_in_codeblock'>g(char(*)[10]);</span></span>
</pre> —&nbsp;<i>end example</i>]</div> </li><li id='load-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#load-3.3'>(3.3)</a></div><div id='load-3.3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading,function_versus_pointer'></a></span><span class='indexparent'><a class='index' id=':function,overloading_and_pointer_versus'></a></span>Parameter declarations that differ only in that one is a function type
and the other is a pointer to the same function type are equivalent<a class='hidden_link' href='#load-3.3.sentence-1'>.</a></div> <div id='load-3.3.sentence-2' class='sentence'>That is, the function type is adjusted to become a pointer to function type (<a href='dcl.fct' title='9.3.3.5&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#load-3.3.sentence-2'>.</a></div> <div id='load-3.3.example-4' class='example'>[<a class='example_link' href='#load-3.3.example-4'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;              <span class='comment'>// redeclaration of <span class='tcode_in_codeblock'>h(int())</span></span>
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> x<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>             <span class='comment'>// definition of <span class='tcode_in_codeblock'>h(int())</span></span>
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>x<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>          <span class='comment'>// error: redefinition of <span class='tcode_in_codeblock'>h(int())</span></span>
</pre> —&nbsp;<i>end example</i>]</div> </li><li id='load-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#load-3.4'>(3.4)</a></div><div id='load-3.4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':const,overloading_and'></a></span><span class='indexparent'><a class='index' id=':volatile,overloading_and'></a></span>Parameter declarations that differ only in the presence or absence of
<span class='texttt'><span class='keyword'>const</span></span>
and/or
<span class='texttt'><span class='keyword'>volatile</span></span>
are equivalent<a class='hidden_link' href='#load-3.4.sentence-1'>.</a></div> <div id='load-3.4.sentence-2' class='sentence'>That is, the
<span class='texttt'><span class='keyword'>const</span></span>
and
<span class='texttt'><span class='keyword'>volatile</span></span>
type-specifiers for
each parameter type are ignored when determining which function is being
declared,
defined, or called<a class='hidden_link' href='#load-3.4.sentence-2'>.</a></div> <div id='load-3.4.example-5' class='example'>[<a class='example_link' href='#load-3.4.example-5'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>typedef</span> <span class='keyword'>const</span> <span class='keyword'>int</span> cInt;

<span class='keyword'>int</span> f <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f <span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>int</span><span class='parenthesis'>)</span>;              <span class='comment'>// redeclaration of <span class='tcode_in_codeblock'>f(int)</span></span>
<span class='keyword'>int</span> f <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>       <span class='comment'>// definition of <span class='tcode_in_codeblock'>f(int)</span></span>
<span class='keyword'>int</span> f <span class='parenthesis'>(</span>cInt<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='comment'>/* ... */</span> <span class='curlybracket'>}</span>      <span class='comment'>// error: redefinition of <span class='tcode_in_codeblock'>f(int)</span></span>
</pre> —&nbsp;<i>end example</i>]</div> <div id='load-3.4.sentence-3' class='sentence'>Only the
<span class='texttt'><span class='keyword'>const</span></span>
and
<span class='texttt'><span class='keyword'>volatile</span></span>
type-specifiers at the outermost level of the
parameter type specification are ignored in this fashion;
<span class='texttt'><span class='keyword'>const</span></span>
and
<span class='texttt'><span class='keyword'>volatile</span></span>
type-specifiers buried within a parameter type specification are significant
and can be used to distinguish overloaded function
declarations<a class='hidden_link' href='#load-3.4.sentence-3'>.</a><a class='footnotenum' href='#footnote-116' id='footnoteref-116' title='When a parameter type includes a function type, such as in the case of a parameter type that is a pointer to function, the const and volatile type-specifiers at the outermost level of the parameter type specifications for the inner function type are also ignored.'>116</a></div> <div id='load-3.4.sentence-4' class='sentence'>
In particular, for any type
<span class='texttt'>T</span>,
“pointer to
<span class='texttt'>T</span>”,
“pointer to
<span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'>T</span>”,
and
“pointer to
<span class='texttt'><span class='keyword'>volatile</span></span>
<span class='texttt'>T</span>”
are considered distinct parameter types, as are
“reference to
<span class='texttt'>T</span>”,
“reference to
<span class='texttt'><span class='keyword'>const</span></span>
<span class='texttt'>T</span>”,
and
“reference to
<span class='texttt'><span class='keyword'>volatile</span></span>
<span class='texttt'>T</span>”<a class='hidden_link' href='#load-3.4.sentence-4'>.</a></div></li><li id='load-3.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#load-3.5'>(3.5)</a></div><div id='load-3.5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':default_initializers,overloading_and'></a></span>Two parameter declarations that differ only in their default arguments
are equivalent<a class='hidden_link' href='#load-3.5.sentence-1'>.</a></div> <div id='load-3.5.example-6' class='example'>[<a class='example_link' href='#load-3.5.example-6'><span class='textit'>Example</span></a><span class='textit'>:</span> <div id='load-3.5.sentence-2' class='sentence'>Consider the following:
<pre class='codeblock'>
<span class='keyword'>void</span> f <span class='parenthesis'>(</span><span class='keyword'>int</span> i, <span class='keyword'>int</span> j<span class='parenthesis'>)</span>;
<span class='keyword'>void</span> f <span class='parenthesis'>(</span><span class='keyword'>int</span> i, <span class='keyword'>int</span> j <span class='operator'>=</span> <span class='literal'>99</span><span class='parenthesis'>)</span>;     <span class='comment'>// OK: redeclaration of <span class='tcode_in_codeblock'>f(int, int)</span></span>
<span class='keyword'>void</span> f <span class='parenthesis'>(</span><span class='keyword'>int</span> i <span class='operator'>=</span> <span class='literal'>88</span>, <span class='keyword'>int</span> j<span class='parenthesis'>)</span>;     <span class='comment'>// OK: redeclaration of <span class='tcode_in_codeblock'>f(int, int)</span></span>
<span class='keyword'>void</span> f <span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                      <span class='comment'>// OK: overloaded declaration of <span class='tcode_in_codeblock'>f</span></span>

<span class='keyword'>void</span> prog <span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    f <span class='parenthesis'>(</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='parenthesis'>)</span>;                   <span class='comment'>// OK: call <span class='tcode_in_codeblock'>f(int, int)</span></span>
    f <span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                      <span class='comment'>// OK: call <span class='tcode_in_codeblock'>f(int, int)</span></span>
    f <span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                       <span class='comment'>// error: <span class='tcode_in_codeblock'>f(int, int)</span> or <span class='tcode_in_codeblock'>f()</span>?</span>
<span class='curlybracket'>}</span>
</pre></div> —&nbsp;<i>end example</i>]</div> </li></ul></div> —&nbsp;<i>end note</i>]</div> </div><div class='footnote' id='footnote-116'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-116'>116)</a></div><div id='footnote-116.sentence-1' class='sentence'>When a parameter type includes a function type,
such as in the case of a parameter type that is a pointer to function, the
<span class='texttt'><span class='keyword'>const</span></span>
and
<span class='texttt'><span class='keyword'>volatile</span></span>
type-specifiers at the outermost level of the parameter type
specifications for the inner function type are also ignored<a class='hidden_link' href='#footnote-116.sentence-1'>.</a></div> <a href='#footnoteref-116'>⮥</a></div></div><div id='dcl' class='section'><h2 ><a class='secnum' href='#dcl' style='min-width:88pt'>12.3</a> Declaration matching <a class='abbr_ref' href='over.dcl'>[over.dcl]</a></h2><span class='indexparent'><a class='index' id=':overloading,declaration_matching'></a></span><span class='indexparent'><a class='index' id=':scope,overloading_and'></a></span><span class='indexparent'><a class='index' id=':base_class,overloading_and'></a></span><div class='para' id='dcl-1'><div class='marginalizedparent'><a class='marginalized' href='#dcl-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L319'>#</a></div><div id='dcl-1.sentence-1' class='sentence'>Two function declarations of the same name refer to the same function if they
are in the same scope and have equivalent parameter declarations (<a href='#load' title='12.2&emsp;Overloadable declarations'>[over.<span class='shy'></span>load]</a>)
and equivalent (<a href='temp.over.link' title='13.7.6.1&emsp;Function template overloading'>[temp.<span class='shy'></span>over.<span class='shy'></span>link]</a>) trailing <a href='temp.pre#nt:requires-clause' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:requires-clause______'><span class='textsf'><span class='textit'>requires-clause</span></span></span></a><span class='textit'>s</span>, if any (<a href='dcl.decl' title='9.3&emsp;Declarators'>[dcl.<span class='shy'></span>decl]</a>)<a class='hidden_link' href='#dcl-1.sentence-1'>.</a></div> <div id='dcl-1.note-1' class='note'>[<a class='note_link' href='#dcl-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='dcl-1.sentence-2' class='sentence'>Since a <a href='temp.constr.decl#nt:constraint-expression' title='13.5.2&emsp;Constrained declarations&emsp;[temp.constr.decl]'><span id='ntref:constraint-expression'><span class='textsf'><span class='textit'>constraint-expression</span></span></span></a> is an unevaluated operand,
equivalence compares the expressions without evaluating them<a class='hidden_link' href='#dcl-1.sentence-2'>.</a></div> <div id='dcl-1.example-1' class='example'>[<a class='example_link' href='#dcl-1.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span> I<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> C <span class='operator'>=</span> <span class='literal'>true</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> C<span class='anglebracket'>&lt;</span><span class='literal'>42</span><span class='anglebracket'>&gt;</span>;      <span class='comment'>// #1</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>requires</span> <span class='literal'>true</span>;       <span class='comment'>// OK, different functions</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i>]</div>  —&nbsp;<i>end note</i>]</div>  <div id='dcl-1.sentence-3' class='sentence'>
A function member of a derived class is
<span class='textit'>not</span>
in the same scope as a function member of the same name in a base class<a class='hidden_link' href='#dcl-1.sentence-3'>.</a></div> <div id='dcl-1.example-2' class='example'>[<a class='example_link' href='#dcl-1.example-2'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
</pre><div id='dcl-1.sentence-4' class='sentence'><span class='indexparent'><a class='index' id=':name_hiding,function'></a></span><span class='indexparent'><a class='index' id=':name_hiding,overloading_versus'></a></span>Here
<span class='texttt'>D<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span></span>
hides
<span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span>f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span>
rather than overloading it<a class='hidden_link' href='#dcl-1.sentence-4'>.</a></div><span class='indexparent'><a class='index' id=':Ben'></a></span><pre class='codeblock'>
<span class='keyword'>void</span> h<span class='parenthesis'>(</span>D<span class='operator'>*</span> pd<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                     <span class='comment'>// error:</span>
                                <span class='comment'>// <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f(const char*)</span> hides <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;f(int)</span></span>
  pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                  <span class='comment'>// OK</span>
  pd<span class='operator'>-</span><span class='anglebracket'>&gt;</span>f<span class='parenthesis'>(</span><span class='literal'>"Ben"</span><span class='parenthesis'>)</span>;                 <span class='comment'>// OK, calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;f</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='dcl-2'><div class='marginalizedparent'><a class='marginalized' href='#dcl-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L369'>#</a></div><div id='dcl-2.sentence-1' class='sentence'>A locally declared function is not in the same scope as a function in
a containing scope<a class='hidden_link' href='#dcl-2.sentence-1'>.</a></div> <div id='dcl-2.example-1' class='example'>[<a class='example_link' href='#dcl-2.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>extern</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  f<span class='parenthesis'>(</span><span class='literal'>"asdf"</span><span class='parenthesis'>)</span>;                    <span class='comment'>// error: <span class='tcode_in_codeblock'>f(int)</span> hides <span class='tcode_in_codeblock'>f(const char*)</span></span>
                                <span class='comment'>// so there is no <span class='tcode_in_codeblock'>f(const char*)</span> in this scope</span>
<span class='curlybracket'>}</span>

<span class='keyword'>void</span> caller <span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>extern</span> <span class='keyword'>void</span> callee<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='curlybracket'>{</span>
    <span class='keyword'>extern</span> <span class='keyword'>void</span> callee<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;    <span class='comment'>// hides <span class='tcode_in_codeblock'>callee(int, int)</span></span>
    callee<span class='parenthesis'>(</span><span class='literal'>88</span>, <span class='literal'>99</span><span class='parenthesis'>)</span>;             <span class='comment'>// error: only <span class='tcode_in_codeblock'>callee(int)</span> in scope</span>
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='dcl-3'><div class='marginalizedparent'><a class='marginalized' href='#dcl-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L391'>#</a></div><div id='dcl-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':access_control,overloading_and'></a></span><span class='indexparent'><a class='index' id=':overloading,access_control_and'></a></span>Different versions of an overloaded member function can be given different
access rules<a class='hidden_link' href='#dcl-3.sentence-1'>.</a></div> <div id='dcl-3.example-1' class='example'>[<a class='example_link' href='#dcl-3.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> buffer <span class='curlybracket'>{</span>
<span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>char</span><span class='operator'>*</span> p;
    <span class='keyword'>int</span> size;
<span class='keyword'>protected</span><span class='operator'>:</span>
    buffer<span class='parenthesis'>(</span><span class='keyword'>int</span> s, <span class='keyword'>char</span><span class='operator'>*</span> store<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> size <span class='operator'>=</span> s; p <span class='operator'>=</span> store; <span class='curlybracket'>}</span>
<span class='keyword'>public</span><span class='operator'>:</span>
    buffer<span class='parenthesis'>(</span><span class='keyword'>int</span> s<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> p <span class='operator'>=</span> <span class='keyword'>new</span> <span class='keyword'>char</span><span class='squarebracket'>[</span>size <span class='operator'>=</span> s<span class='squarebracket'>]</span>; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;
</pre> —&nbsp;<i>end example</i>]</div> </div></div><div id='match' class='section'><h2 ><a class='secnum' href='#match' style='min-width:88pt'>12.4</a> Overload resolution <a class='abbr_ref' href='over.match'>[over.match]</a></h2><span class='indexparent'><a class='index' id=':overloading,resolution'></a></span><span class='indexparent'><a class='index' id=':ambiguity,overloaded_function'></a></span><div class='para' id='match-1'><div class='marginalizedparent'><a class='marginalized' href='#match-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L415'>#</a></div><div id='match-1.sentence-1' class='sentence'>Overload resolution is a mechanism for selecting the best
function to call given a list of expressions that are to be the
arguments of the call and a set of
<a class='hidden_link' href='#def:candidate' title='12.4&emsp;Overload resolution&emsp;[over.match]'><span id='def:candidate'><span class='textit'>candidate functions</span></span></a>
that can
be called based on the context of the call<a class='hidden_link' href='#match-1.sentence-1'>.</a></div> <div id='match-1.sentence-2' class='sentence'>The selection
criteria for the best function are the number of arguments, how
well the arguments match the parameter-type-list of the
candidate function,
how well (for non-static member functions) the object
matches the implicit object parameter,
and certain other properties of the candidate function<a class='hidden_link' href='#match-1.sentence-2'>.</a></div> <div id='match-1.note-1' class='note'>[<a class='note_link' href='#match-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match-1.sentence-3' class='sentence'>The function selected by overload resolution is not
guaranteed to be appropriate for the context<a class='hidden_link' href='#match-1.sentence-3'>.</a></div> <div id='match-1.sentence-4' class='sentence'>Other restrictions,
such as the accessibility of the function, can make its use in
the calling context ill-formed<a class='hidden_link' href='#match-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='match-2'><div class='marginalizedparent'><a class='marginalized' href='#match-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L437'>#</a></div><div id='match-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':overloading,resolution,contexts'></a></span>Overload resolution selects the function to call in seven distinct
contexts within the language:
<ul class='itemize'><li id='match-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match-2.1'>(2.1)</a></div>invocation of a function named in the <a href='#call.func' title='12.4.1.1.1&emsp;Call to named function&emsp;[over.call.func]'>function call syntax</a>;</li><li id='match-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match-2.2'>(2.2)</a></div>invocation of a function call operator, a pointer-to-function
conversion function, a reference-to-pointer-to-function conversion
function, or a reference-to-function
conversion function on a class object named in the function
call syntax (<a href='#call.object' title='12.4.1.1.2&emsp;Call to object of class type'>[over.<span class='shy'></span>call.<span class='shy'></span>object]</a>);</li><li id='match-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match-2.3'>(2.3)</a></div>invocation of the operator referenced in an expression (<a href='#match.oper' title='12.4.1.2&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>);</li><li id='match-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match-2.4'>(2.4)</a></div>invocation of a constructor for default- or direct-initialization (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>)
of a class object (<a href='#match.ctor' title='12.4.1.3&emsp;Initialization by constructor'>[over.<span class='shy'></span>match.<span class='shy'></span>ctor]</a>);</li><li id='match-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match-2.5'>(2.5)</a></div>invocation of a user-defined conversion for
<a href='dcl.init#def:copy-initialization' title='9.4&emsp;Initializers&emsp;[dcl.init]'>copy-initialization</a> of a class object (<a href='#match.copy' title='12.4.1.4&emsp;Copy-initialization of class by user-defined conversion'>[over.<span class='shy'></span>match.<span class='shy'></span>copy]</a>);</li><li id='match-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match-2.6'>(2.6)</a></div>invocation of a conversion function for initialization of an object of a
non-class type from an expression of class type (<a href='#match.conv' title='12.4.1.5&emsp;Initialization by conversion function'>[over.<span class='shy'></span>match.<span class='shy'></span>conv]</a>); and</li><li id='match-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match-2.7'>(2.7)</a></div>invocation of a conversion function for conversion
in which a reference (<a href='dcl.init.ref' title='9.4.3&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>)
will be <a href='#match.ref' title='12.4.1.6&emsp;Initialization by conversion function for direct reference binding&emsp;[over.match.ref]'>directly bound</a><a class='hidden_link' href='#match-2.sentence-1'>.</a></li></ul></div><div id='match-2.sentence-2' class='sentence'>Each of these contexts defines the set of candidate functions and
the list of arguments in its own unique way<a class='hidden_link' href='#match-2.sentence-2'>.</a></div> <div id='match-2.sentence-3' class='sentence'>But, once the
candidate functions and argument lists have been identified, the
selection of the best function is the same in all cases:
<ul class='itemize'><li id='match-2.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match-2.8'>(2.8)</a></div><div id='match-2.8.sentence-1' class='sentence'>First, a subset of the candidate functions (those that have
the proper number of arguments and meet certain other
conditions) is selected to form a set of
<span class='indexparent'><a class='index' id=':function,viable'></a></span>viable functions (<a href='#match.viable' title='12.4.2&emsp;Viable functions'>[over.<span class='shy'></span>match.<span class='shy'></span>viable]</a>)<a class='hidden_link' href='#match-2.8.sentence-1'>.</a></div></li><li id='match-2.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match-2.9'>(2.9)</a></div><div id='match-2.9.sentence-1' class='sentence'>Then the best viable function is selected based on the
<a href='#best.ics' title='12.4.3.1&emsp;Implicit conversion sequences&emsp;[over.best.ics]'>implicit conversion sequences</a> needed to
match each argument to the corresponding parameter of each
viable function<a class='hidden_link' href='#match-2.9.sentence-1'>.</a></div></li></ul></div></div><div class='para' id='match-3'><div class='marginalizedparent'><a class='marginalized' href='#match-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L486'>#</a></div><div id='match-3.sentence-1' class='sentence'>If a best viable function exists and is unique, overload
resolution succeeds and produces it as the result<a class='hidden_link' href='#match-3.sentence-1'>.</a></div> <div id='match-3.sentence-2' class='sentence'>Otherwise
overload resolution fails and the invocation is ill-formed<a class='hidden_link' href='#match-3.sentence-2'>.</a></div> <div id='match-3.sentence-3' class='sentence'>When overload resolution succeeds,
and the best viable function is not <a href='class.access' title='11.9&emsp;Member access control&emsp;[class.access]'>accessible</a> in the context
in which it is used,
the program is ill-formed<a class='hidden_link' href='#match-3.sentence-3'>.</a></div></div><div class='para' id='match-4'><div class='marginalizedparent'><a class='marginalized' href='#match-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L496'>#</a></div><div id='match-4.sentence-1' class='sentence'>Overload resolution results in a <a class='hidden_link' href='#def:candidate,usable' title='12.4&emsp;Overload resolution&emsp;[over.match]'><span id='def:candidate,usable'><span class='textit'>usable candidate</span></span></a>
if overload resolution succeeds and
the selected candidate
is either not a function (<a href='#built' title='12.7&emsp;Built-in operators'>[over.<span class='shy'></span>built]</a>), or
is a function that is not deleted and
is accessible from the context
in which overload resolution was performed<a class='hidden_link' href='#match-4.sentence-1'>.</a></div></div><div id='match.funcs' class='section'><h3 ><a class='secnum' href='#match.funcs' style='min-width:103pt'>12.4.1</a> Candidate functions and argument lists <a class='abbr_ref' href='over.match.funcs'>[over.match.funcs]</a></h3><span class='indexparent'><a class='index' id=':overloading,candidate_functions'></a></span><span class='indexparent'><a class='index' id=':overloading,argument_lists'></a></span><div class='para' id='match.funcs-1'><div class='marginalizedparent'><a class='marginalized' href='#match.funcs-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L509'>#</a></div><div id='match.funcs-1.sentence-1' class='sentence'>The subclauses of <a href='#match.funcs' title='12.4.1&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a> describe
the set of candidate functions and the argument list submitted to
overload resolution in each context in which
overload resolution is used<a class='hidden_link' href='#match.funcs-1.sentence-1'>.</a></div> <div id='match.funcs-1.sentence-2' class='sentence'>The source transformations and constructions defined
in these subclauses are only for the purpose of describing the
overload resolution process<a class='hidden_link' href='#match.funcs-1.sentence-2'>.</a></div> <div id='match.funcs-1.sentence-3' class='sentence'>An implementation is not required
to use such transformations and constructions<a class='hidden_link' href='#match.funcs-1.sentence-3'>.</a></div></div><div class='para' id='match.funcs-2'><div class='marginalizedparent'><a class='marginalized' href='#match.funcs-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L520'>#</a></div><div id='match.funcs-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':member_function,overload_resolution_and'></a></span><span class='indexparent'><a class='index' id=':function,overload_resolution_and'></a></span>The set of candidate functions can contain both member and non-member
functions to be resolved against the same argument list<a class='hidden_link' href='#match.funcs-2.sentence-1'>.</a></div> <div id='match.funcs-2.sentence-2' class='sentence'>So that argument and parameter lists are comparable within this
heterogeneous set, a member function is considered to have an
extra first parameter, called the
<a class='hidden_link' href='#def:implicit_object_parameter' title='12.4.1&emsp;Candidate functions and argument lists&emsp;[over.match.funcs]'><span id='def:implicit_object_parameter'><span class='textit'>implicit object parameter</span></span></a>,
which represents the object for which the member function has been
called<a class='hidden_link' href='#match.funcs-2.sentence-2'>.</a></div> <div id='match.funcs-2.sentence-3' class='sentence'>For the purposes of overload resolution, both static and
non-static member functions have an implicit object parameter,
but constructors do not<a class='hidden_link' href='#match.funcs-2.sentence-3'>.</a></div></div><div class='para' id='match.funcs-3'><div class='marginalizedparent'><a class='marginalized' href='#match.funcs-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L535'>#</a></div><div id='match.funcs-3.sentence-1' class='sentence'>Similarly, when appropriate, the context can construct an
argument list that contains an
<a class='hidden_link' href='#def:implied_object_argument' title='12.4.1&emsp;Candidate functions and argument lists&emsp;[over.match.funcs]'><span id='def:implied_object_argument'><span class='textit'>implied object argument</span></span></a>
as the first argument in the list to denote
the object to be operated on<a class='hidden_link' href='#match.funcs-3.sentence-1'>.</a></div></div><div class='para' id='match.funcs-4'><div class='marginalizedparent'><a class='marginalized' href='#match.funcs-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L542'>#</a></div><div id='match.funcs-4.sentence-1' class='sentence'>For non-static member functions, the type of the implicit object
parameter is
<ul class='itemize'><li id='match.funcs-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.funcs-4.1'>(4.1)</a></div>“lvalue reference to <span class='mathit'>cv</span> <span class='texttt'>X</span>” for functions declared
without a <a href='dcl.decl#nt:ref-qualifier' title='9.3&emsp;Declarators&emsp;[dcl.decl]'><span id='ntref:ref-qualifier_'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a> or with the
<span class='texttt'><span class='operator'>&amp;</span></span> <a href='dcl.decl#nt:ref-qualifier' title='9.3&emsp;Declarators&emsp;[dcl.decl]'><span id='ntref:ref-qualifier__'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a></li><li id='match.funcs-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.funcs-4.2'>(4.2)</a></div>“rvalue reference to <span class='mathit'>cv</span> <span class='texttt'>X</span>” for functions declared with the
<span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span> <a href='dcl.decl#nt:ref-qualifier' title='9.3&emsp;Declarators&emsp;[dcl.decl]'><span id='ntref:ref-qualifier___'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a></li></ul>
where
<span class='texttt'>X</span>
is the class of which the function is a member and
<span class='mathit'>cv</span>
is the cv-qualification on the
member function declaration<a class='hidden_link' href='#match.funcs-4.sentence-1'>.</a></div> <div id='match.funcs-4.example-1' class='example'>[<a class='example_link' href='#match.funcs-4.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <div id='match.funcs-4.sentence-2' class='sentence'>For a
<span class='texttt'><span class='keyword'>const</span></span>
member
function of class
<span class='texttt'>X</span>,
the extra parameter is assumed to have type
“reference to
<span class='texttt'><span class='keyword'>const</span> X</span>”<a class='hidden_link' href='#match.funcs-4.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div>  <div id='match.funcs-4.sentence-3' class='sentence'>
For conversion functions, the function is considered to be a member of the
class of the implied object argument for the purpose of defining the
type of the implicit object parameter<a class='hidden_link' href='#match.funcs-4.sentence-3'>.</a></div> <div id='match.funcs-4.sentence-4' class='sentence'>For non-conversion functions
introduced by a
<a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration_'><span class='textsf'><span class='textit'>using-declaration</span></span></span></a>
into a derived class, the function is
considered to be a member of the derived class for the purpose of defining
the type of the implicit object parameter<a class='hidden_link' href='#match.funcs-4.sentence-4'>.</a></div> <div id='match.funcs-4.sentence-5' class='sentence'>For static member functions, the implicit object parameter is considered
to match any object (since if the function is selected, the object is
discarded)<a class='hidden_link' href='#match.funcs-4.sentence-5'>.</a></div> <div id='match.funcs-4.note-1' class='note'>[<a class='note_link' href='#match.funcs-4.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match.funcs-4.sentence-6' class='sentence'>No actual type is established for the implicit object parameter
of a static member function, and no attempt will be made to determine a
conversion sequence for that parameter (<a href='#match.best' title='12.4.3&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>)<a class='hidden_link' href='#match.funcs-4.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='match.funcs-5'><div class='marginalizedparent'><a class='marginalized' href='#match.funcs-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L586'>#</a></div><div id='match.funcs-5.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':implied_object_argument,implicit_conversion_sequences'></a></span>During overload resolution, the implied object argument is
indistinguishable from other arguments<a class='hidden_link' href='#match.funcs-5.sentence-1'>.</a></div> <div id='match.funcs-5.sentence-2' class='sentence'>The implicit object
parameter, however, retains its identity since
no user-defined conversions can be applied to achieve a type
match with it<a class='hidden_link' href='#match.funcs-5.sentence-2'>.</a></div> <div id='match.funcs-5.sentence-3' class='sentence'><span class='indexparent'><a class='index' id=':implied_object_argument,non-static_member_function_and'></a></span>For non-static member functions declared without a <a href='dcl.decl#nt:ref-qualifier' title='9.3&emsp;Declarators&emsp;[dcl.decl]'><span id='ntref:ref-qualifier____'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a>,
even if the implicit object parameter is not const-qualified,
an rvalue can be bound to the parameter
as long as in all other respects the argument can be
converted to the type of the implicit object parameter<a class='hidden_link' href='#match.funcs-5.sentence-3'>.</a></div> <div id='match.funcs-5.note-1' class='note'>[<a class='note_link' href='#match.funcs-5.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match.funcs-5.sentence-4' class='sentence'>The fact that such an argument is an rvalue does not
affect the <a href='#ics.rank' title='12.4.3.2&emsp;Ranking implicit conversion sequences&emsp;[over.ics.rank]'>ranking</a> of implicit conversion sequences<a class='hidden_link' href='#match.funcs-5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='match.funcs-6'><div class='marginalizedparent'><a class='marginalized' href='#match.funcs-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L605'>#</a></div><div id='match.funcs-6.sentence-1' class='sentence'>Because other than in list-initialization only one user-defined conversion
is allowed
in an
implicit conversion sequence, special rules apply when selecting
the best user-defined conversion (<a href='#match.best' title='12.4.3&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>,
<a href='#best.ics' title='12.4.3.1&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>)<a class='hidden_link' href='#match.funcs-6.sentence-1'>.</a></div> <div id='match.funcs-6.example-1' class='example'>[<a class='example_link' href='#match.funcs-6.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> T <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> C <span class='operator'>:</span> T <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  C<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
T a <span class='operator'>=</span> <span class='literal'>1</span>;            <span class='comment'>// error: no viable conversion (<span class='tcode_in_codeblock'>T(C(1))</span> not considered)</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='match.funcs-7'><div class='marginalizedparent'><a class='marginalized' href='#match.funcs-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L627'>#</a></div><div id='match.funcs-7.sentence-1' class='sentence'>In each case where a candidate is a function template, candidate
function template specializations
are generated using template argument deduction (<a href='temp.over' title='13.10.3&emsp;Overload resolution'>[temp.<span class='shy'></span>over]</a>,
<a href='temp.deduct' title='13.10.2&emsp;Template argument deduction'>[temp.<span class='shy'></span>deduct]</a>)<a class='hidden_link' href='#match.funcs-7.sentence-1'>.</a></div> <div id='match.funcs-7.sentence-2' class='sentence'>If a constructor template or conversion function template
has an <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.2&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier'><span class='textsf'><span class='textit'>explicit-specifier</span></span></span></a>
whose <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression'><span class='textsf'><span class='textit'>constant-expression</span></span></span></a> is value-dependent (<a href='temp.dep' title='13.8.2&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>),
template argument deduction is performed first and then,
if the context requires a candidate that
is not explicit and the generated specialization is explicit (<a href='dcl.fct.spec' title='9.2.2&emsp;Function specifiers'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>spec]</a>),
it will be removed from the candidate set<a class='hidden_link' href='#match.funcs-7.sentence-2'>.</a></div> <div id='match.funcs-7.sentence-3' class='sentence'>Those candidates are then handled as candidate
functions in the usual way<a class='hidden_link' href='#match.funcs-7.sentence-3'>.</a><a class='footnotenum' href='#footnote-117' id='footnoteref-117' title='The process of argument deduction fully determines the parameter types of the function template specializations, i.e., the parameters of function template specializations contain no template parameter types. Therefore, except where specified otherwise, function template specializations and non-template functions ([dcl.fct]) are treated equivalently for the remainder of overload resolution.'>117</a></div> <div id='match.funcs-7.sentence-4' class='sentence'>
A given name can refer to one or more function templates and also
to a set of non-template functions<a class='hidden_link' href='#match.funcs-7.sentence-4'>.</a></div> <div id='match.funcs-7.sentence-5' class='sentence'>In such a case, the
candidate functions generated from each function template are combined
with the set of non-template candidate functions<a class='hidden_link' href='#match.funcs-7.sentence-5'>.</a></div></div><div class='para' id='match.funcs-8'><div class='marginalizedparent'><a class='marginalized' href='#match.funcs-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L658'>#</a></div><div id='match.funcs-8.sentence-1' class='sentence'>A
defaulted move special member function (<a href='class.copy.ctor' title='11.4.4.2&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>, <a href='class.copy.assign' title='11.4.5&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>)
that is defined as deleted
is excluded from the set of candidate functions in all contexts<a class='hidden_link' href='#match.funcs-8.sentence-1'>.</a></div> <div id='match.funcs-8.sentence-2' class='sentence'>A constructor inherited from class type <span class='texttt'>C</span> (<a href='class.inhctor.init' title='11.10.3&emsp;Initialization by inherited constructor'>[class.<span class='shy'></span>inhctor.<span class='shy'></span>init]</a>)
that has a first parameter of type “reference to <span class='textit'>cv1</span> <span class='texttt'>P</span>”
(including such a constructor instantiated from a template)
is excluded from the set of candidate functions
when constructing an object of type <span class='textit'>cv2</span> <span class='texttt'>D</span>
if the argument list has exactly one argument and
<span class='texttt'>C</span> is reference-related to <span class='texttt'>P</span> and
<span class='texttt'>P</span> is reference-related to <span class='texttt'>D</span><a class='hidden_link' href='#match.funcs-8.sentence-2'>.</a></div> <div id='match.funcs-8.example-1' class='example'>[<a class='example_link' href='#match.funcs-8.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                  <span class='comment'>// #1</span>
  A<span class='parenthesis'>(</span>A <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                              <span class='comment'>// #2</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> A<span class='parenthesis'>(</span>T <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;         <span class='comment'>// #3</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> A<span class='operator'>::</span>A;
  B<span class='parenthesis'>(</span><span class='keyword'>const</span> B <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                         <span class='comment'>// #4</span>
  B<span class='parenthesis'>(</span>B <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;                    <span class='comment'>// #5, implicitly deleted</span>

  <span class='keyword'>struct</span> X <span class='curlybracket'>{</span> X<span class='parenthesis'>(</span>X <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>; <span class='curlybracket'>}</span> x;
<span class='curlybracket'>}</span>;
<span class='keyword'>extern</span> B b1;
B b2 <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>b1<span class='parenthesis'>)</span>;            <span class='comment'>// calls #4: #1 is not viable, #2, #3, and #5 are not candidates</span>
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='keyword'>operator</span> B<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
B b3 <span class='operator'>=</span> C<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                             <span class='comment'>// calls #4</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='footnote' id='footnote-117'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-117'>117)</a></div><div id='footnote-117.sentence-1' class='sentence'>The process of argument deduction fully
determines the parameter types of
the
function template specializations,
i.e., the parameters of
function template specializations
contain
no template parameter types<a class='hidden_link' href='#footnote-117.sentence-1'>.</a></div> <div id='footnote-117.sentence-2' class='sentence'>Therefore, except where specified otherwise,
function template specializations
and non-template functions (<a href='dcl.fct' title='9.3.3.5&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) are treated equivalently
for the remainder of overload resolution<a class='hidden_link' href='#footnote-117.sentence-2'>.</a></div> <a href='#footnoteref-117'>⮥</a></div><div id='match.call' class='section'><h4 ><a class='secnum' href='#match.call' style='min-width:118pt'>12.4.1.1</a> Function call syntax <a class='abbr_ref' href='over.match.call'>[over.match.call]</a></h4><span class='indexparent'><a class='index' id=':overloading,resolution,function_call_syntax'></a></span><div class='para' id='match.call-1'><div class='marginalizedparent'><a class='marginalized' href='#match.call-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L695'>#</a></div><div id='match.call-1.sentence-1' class='sentence'>In a <a href='expr.call' title='7.6.1.2&emsp;Function call&emsp;[expr.call]'>function call</a>
<div class='ncsimplebnf'>
<a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post#nt:expression-list' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:expression-list'><span class='textsf'><span class='textit'>expression-list</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</div>
if the <a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression_'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> names at least one function or
function template,
overload resolution is applied as specified in <a href='#call.func' title='12.4.1.1.1&emsp;Call to named function'>[over.<span class='shy'></span>call.<span class='shy'></span>func]</a><a class='hidden_link' href='#match.call-1.sentence-1'>.</a></div> <div id='match.call-1.sentence-2' class='sentence'>If the <a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression__'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> denotes an object of class type, overload
resolution is applied as specified in <a href='#call.object' title='12.4.1.1.2&emsp;Call to object of class type'>[over.<span class='shy'></span>call.<span class='shy'></span>object]</a><a class='hidden_link' href='#match.call-1.sentence-2'>.</a></div></div><div class='para' id='match.call-2'><div class='marginalizedparent'><a class='marginalized' href='#match.call-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L706'>#</a></div><div id='match.call-2.sentence-1' class='sentence'>If the <a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression___'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> is the address of an overload set,
overload resolution is applied using that set as described above<a class='hidden_link' href='#match.call-2.sentence-1'>.</a></div> <div id='match.call-2.sentence-2' class='sentence'>If the function selected by overload resolution is a non-static member function,
the program is ill-formed<a class='hidden_link' href='#match.call-2.sentence-2'>.</a></div> <div id='match.call-2.note-1' class='note'>[<a class='note_link' href='#match.call-2.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match.call-2.sentence-3' class='sentence'>The resolution of the address of an
overload set in other contexts is described in <a href='#over' title='12.5&emsp;Address of overloaded function'>[over.<span class='shy'></span>over]</a><a class='hidden_link' href='#match.call-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div id='call.func' class='section'><h4 ><a class='secnum' href='#call.func' style='min-width:133pt'>12.4.1.1.1</a> Call to named function <a class='abbr_ref' href='over.call.func'>[over.call.func]</a></h4><div class='para' id='call.func-1'><div class='marginalizedparent'><a class='marginalized' href='#call.func-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L718'>#</a></div><div id='call.func-1.sentence-1' class='sentence'>Of interest in <a href='#call.func' title='12.4.1.1.1&emsp;Call to named function'>[over.<span class='shy'></span>call.<span class='shy'></span>func]</a> are only those function calls in
which the
<a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression____'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a>
ultimately contains a name that
denotes one or more functions that might be called<a class='hidden_link' href='#call.func-1.sentence-1'>.</a></div> <div id='call.func-1.sentence-2' class='sentence'>Such a
<a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression_____'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a>,
perhaps nested arbitrarily deep in
parentheses, has one of the following forms:
<div class='ncbnf'>
<a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression______'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a>:<br/><a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression_______'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> <span class='terminal'><span class='operator'>.</span></span> <a href='expr.prim.id#nt:id-expression' title='7.5.4&emsp;Names&emsp;[expr.prim.id]'><span id='ntref:id-expression'><span class='textsf'><span class='textit'>id-expression</span></span></span></a><br/><a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression________'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> <span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <a href='expr.prim.id#nt:id-expression' title='7.5.4&emsp;Names&emsp;[expr.prim.id]'><span id='ntref:id-expression_'><span class='textsf'><span class='textit'>id-expression</span></span></span></a><br/><a href='expr.prim#nt:primary-expression' title='7.5&emsp;Primary expressions&emsp;[expr.prim]'><span id='ntref:primary-expression'><span class='textsf'><span class='textit'>primary-expression</span></span></span></a>
</div></div><div id='call.func-1.sentence-3' class='sentence'>These represent two syntactic subcategories of function calls:
qualified function calls and unqualified function calls<a class='hidden_link' href='#call.func-1.sentence-3'>.</a></div></div><div class='para' id='call.func-2'><div class='marginalizedparent'><a class='marginalized' href='#call.func-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L738'>#</a></div><div id='call.func-2.sentence-1' class='sentence'>In qualified function calls, the name to be resolved is an
<a href='expr.prim.id#nt:id-expression' title='7.5.4&emsp;Names&emsp;[expr.prim.id]'><span id='ntref:id-expression__'><span class='textsf'><span class='textit'>id-expression</span></span></span></a>
and is preceded by an
<span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
or
<span class='texttt'><span class='operator'>.</span></span>
operator<a class='hidden_link' href='#call.func-2.sentence-1'>.</a></div> <div id='call.func-2.sentence-2' class='sentence'>Since the
construct
<span class='texttt'>A<span class='operator'>-</span><span class='anglebracket'>&gt;</span>B</span>
is generally equivalent to
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span>A<span class='parenthesis'>)</span><span class='operator'>.</span>B</span>,
the rest of
<a href='#over' title='12&emsp;Overloading'>[over]</a> assumes, without loss of generality, that all member
function calls have been normalized to the form that uses an
object and the
<span class='texttt'><span class='operator'>.</span></span>
operator<a class='hidden_link' href='#call.func-2.sentence-2'>.</a></div> <div id='call.func-2.sentence-3' class='sentence'>Furthermore, <a href='#over' title='12&emsp;Overloading'>[over]</a> assumes that
the
<a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression_________'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a>
that is the left operand of the
<span class='texttt'><span class='operator'>.</span></span>
operator
has type “<span class='mathit'>cv</span> <span class='texttt'>T</span>”
where
<span class='texttt'>T</span>
denotes a class<a class='hidden_link' href='#call.func-2.sentence-3'>.</a><a class='footnotenum' href='#footnote-118' id='footnoteref-118' title='Note that cv-qualifiers on the type of objects are significant in overload resolution for both glvalue and class prvalue objects.'>118</a></div> <div id='call.func-2.sentence-4' class='sentence'>
Under this
assumption, the
<a href='expr.prim.id#nt:id-expression' title='7.5.4&emsp;Names&emsp;[expr.prim.id]'><span id='ntref:id-expression___'><span class='textsf'><span class='textit'>id-expression</span></span></span></a>
in the call is looked up as a
member function of
<span class='texttt'>T</span>
following the rules for looking up names in
classes (<a href='class.member.lookup' title='11.8&emsp;Member name lookup'>[class.<span class='shy'></span>member.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#call.func-2.sentence-4'>.</a></div> <div id='call.func-2.sentence-5' class='sentence'>The function declarations found by that lookup constitute the set of
candidate functions<a class='hidden_link' href='#call.func-2.sentence-5'>.</a></div> <div id='call.func-2.sentence-6' class='sentence'>The argument list is the
<a href='expr.post#nt:expression-list' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:expression-list_'><span class='textsf'><span class='textit'>expression-list</span></span></span></a>
in the call augmented by the addition of the left operand of
the
<span class='texttt'><span class='operator'>.</span></span>
operator in the normalized member function call as the
implied object argument (<a href='#match.funcs' title='12.4.1&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a>)<a class='hidden_link' href='#call.func-2.sentence-6'>.</a></div></div><div class='para' id='call.func-3'><div class='marginalizedparent'><a class='marginalized' href='#call.func-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L788'>#</a></div><div id='call.func-3.sentence-1' class='sentence'>In unqualified function calls, the name is not qualified by an
<span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
or
<span class='texttt'><span class='operator'>.</span></span>
operator and has the more general form of a
<a href='expr.prim#nt:primary-expression' title='7.5&emsp;Primary expressions&emsp;[expr.prim]'><span id='ntref:primary-expression_'><span class='textsf'><span class='textit'>primary-expression</span></span></span></a><a class='hidden_link' href='#call.func-3.sentence-1'>.</a></div> <div id='call.func-3.sentence-2' class='sentence'>The name is looked up in the context of the function
call following the normal rules for name lookup
in expressions (<a href='basic.lookup' title='6.5&emsp;Name lookup'>[basic.<span class='shy'></span>lookup]</a>)<a class='hidden_link' href='#call.func-3.sentence-2'>.</a></div> <div id='call.func-3.sentence-3' class='sentence'>The function declarations found by that lookup constitute the
set of candidate functions<a class='hidden_link' href='#call.func-3.sentence-3'>.</a></div> <div id='call.func-3.sentence-4' class='sentence'>Because of the rules for name lookup, the set of candidate functions
consists (1) entirely of non-member functions or (2) entirely of
member functions of some class
<span class='texttt'>T</span><a class='hidden_link' href='#call.func-3.sentence-4'>.</a></div> <div id='call.func-3.sentence-5' class='sentence'>In case (1),
the argument list is
the same as the
<a href='expr.post#nt:expression-list' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:expression-list__'><span class='textsf'><span class='textit'>expression-list</span></span></span></a>
in the call<a class='hidden_link' href='#call.func-3.sentence-5'>.</a></div> <div id='call.func-3.sentence-6' class='sentence'>In case (2), the argument list is the
<a href='expr.post#nt:expression-list' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:expression-list___'><span class='textsf'><span class='textit'>expression-list</span></span></span></a>
in the call augmented by the addition of an implied object
argument as in a qualified function call<a class='hidden_link' href='#call.func-3.sentence-6'>.</a></div> <div id='call.func-3.sentence-7' class='sentence'>If the keyword
<a href='class.this' title='11.4.2.1&emsp;The this pointer&emsp;[class.this]'><span class='texttt'>this</span></a> is in scope and refers to
class
<span class='texttt'>T</span>,
or a derived class of
<span class='texttt'>T</span>,
then the implied object argument is
<span class='texttt'><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#call.func-3.sentence-7'>.</a></div> <div id='call.func-3.sentence-8' class='sentence'>If the keyword
<span class='texttt'><span class='keyword'>this</span></span>
is not in
scope or refers to another class, then
a contrived object of type
<span class='texttt'>T</span>
becomes the implied object
argument<a class='hidden_link' href='#call.func-3.sentence-8'>.</a><a class='footnotenum' href='#footnote-119' id='footnoteref-119' title='An implied object argument must be contrived to correspond to the implicit object parameter attributed to member functions during overload resolution. It is not used in the call to the selected function. Since the member functions all have the same implicit object parameter, the contrived object will not be the cause to select or reject a function.'>119</a></div> <div id='call.func-3.sentence-9' class='sentence'>
If the argument list is augmented by a contrived object and overload
resolution selects one of the non-static member functions of
<span class='texttt'>T</span>,
the call is ill-formed<a class='hidden_link' href='#call.func-3.sentence-9'>.</a></div></div><div class='footnote' id='footnote-118'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-118'>118)</a></div><div id='footnote-118.sentence-1' class='sentence'>Note that cv-qualifiers on the type of objects are
significant in overload
resolution for
both glvalue and class prvalue objects<a class='hidden_link' href='#footnote-118.sentence-1'>.</a></div> <a href='#footnoteref-118'>⮥</a></div><div class='footnote' id='footnote-119'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-119'>119)</a></div><div id='footnote-119.sentence-1' class='sentence'>An implied object argument must be contrived to
correspond to the implicit object
parameter attributed to member functions during overload resolution<a class='hidden_link' href='#footnote-119.sentence-1'>.</a></div> <div id='footnote-119.sentence-2' class='sentence'>It is not
used in
the call to the selected function<a class='hidden_link' href='#footnote-119.sentence-2'>.</a></div> <div id='footnote-119.sentence-3' class='sentence'>Since the member functions all have the
same implicit
object parameter, the contrived object will not be the cause to select or
reject a
function<a class='hidden_link' href='#footnote-119.sentence-3'>.</a></div> <a href='#footnoteref-119'>⮥</a></div></div><div id='call.object' class='section'><h4 ><a class='secnum' href='#call.object' style='min-width:133pt'>12.4.1.1.2</a> Call to object of class type <a class='abbr_ref' href='over.call.object'>[over.call.object]</a></h4><div class='para' id='call.object-1'><div class='marginalizedparent'><a class='marginalized' href='#call.object-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L846'>#</a></div><div id='call.object-1.sentence-1' class='sentence'>If the <a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression__________'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> <span class='texttt'>E</span>
in the function call syntax evaluates
to a class object of type “<span class='mathit'>cv</span> <span class='texttt'>T</span>”,
then the set of candidate functions
includes at least the function call operators of <span class='texttt'>T</span><a class='hidden_link' href='#call.object-1.sentence-1'>.</a></div> <div id='call.object-1.sentence-2' class='sentence'>The function call operators of <span class='texttt'>T</span>
are obtained by ordinary lookup of the name <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator'></a></span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
in the context of <span class='texttt'><span class='parenthesis'>(</span>E<span class='parenthesis'>)</span><span class='operator'>.</span><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_'></a></span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#call.object-1.sentence-2'>.</a></div></div><div class='para' id='call.object-2'><div class='marginalizedparent'><a class='marginalized' href='#call.object-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L856'>#</a></div><div id='call.object-2.sentence-1' class='sentence'>In addition, for each non-explicit conversion function declared in <span class='texttt'>T</span> of the
form
<div class='ncsimplebnf'>
<span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator__'></a></span> <a href='class.conv.fct#nt:conversion-type-id' title='11.4.7.2&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id'><span class='textsf'><span class='textit'>conversion-type-id</span></span></span></a> <span class='terminal'><span class='parenthesis'>(</span><span style='white-space:nowrap'>&thinsp;</span><span class='parenthesis'>)</span></span> <a href='dcl.decl#nt:cv-qualifier-seq' title='9.3&emsp;Declarators&emsp;[dcl.decl]'><span id='ntref:cv-qualifier-seq'><span class='textsf'><span class='textit'>cv-qualifier-seq</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.decl#nt:ref-qualifier' title='9.3&emsp;Declarators&emsp;[dcl.decl]'><span id='ntref:ref-qualifier_____'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='except.spec#nt:noexcept-specifier' title='14.5&emsp;Exception specifications&emsp;[except.spec]'><span id='ntref:noexcept-specifier'><span class='textsf'><span class='textit'>noexcept-specifier</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='dcl.attr.grammar#nt:attribute-specifier-seq' title='9.12.1&emsp;Attribute syntax and semantics&emsp;[dcl.attr.grammar]'><span id='ntref:attribute-specifier-seq'><span class='textsf'><span class='textit'>attribute-specifier-seq</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>;</span>
</div>
where the optional
<a href='dcl.decl#nt:cv-qualifier-seq' title='9.3&emsp;Declarators&emsp;[dcl.decl]'><span id='ntref:cv-qualifier-seq_'><span class='textsf'><span class='textit'>cv-qualifier-seq</span></span></span></a>
is the same cv-qualification as, or a greater cv-qualification than,
<span class='mathit'>cv</span>,
and where
<a href='class.conv.fct#nt:conversion-type-id' title='11.4.7.2&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id_'><span class='textsf'><span class='textit'>conversion-type-id</span></span></span></a>
denotes the type “pointer to function
of (<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span>) returning <span class='texttt'>R</span>”,
or the type “reference to pointer to function
of (<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span>) returning <span class='texttt'>R</span>”,
or the type
“reference to function of (<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span>)
returning <span class='texttt'>R</span>”, a <a class='hidden_link' href='#def:surrogate_call_function' title='12.4.1.1.2&emsp;Call to object of class type&emsp;[over.call.object]'><span id='def:surrogate_call_function'><span class='textit'>surrogate call function</span></span></a> with the unique name
<span class='textit'>call-function</span>
and having the form
<div class='ncbnf'>
<span class='terminal'>R</span> <span class='textit'>call-function</span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='class.conv.fct#nt:conversion-type-id' title='11.4.7.2&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id__'><span class='textsf'><span class='textit'>conversion-type-id</span></span></span></a> &nbsp;<span class='terminal'>F, P<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> a<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='math'>&hellip;</span>, P<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span> a<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span><span class='parenthesis'>)</span></span> <span class='terminal'><span class='curlybracket'>{</span> <span class='keyword'>return</span> F <span class='parenthesis'>(</span>a<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>, <span class='math'>&hellip;</span>, a<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span></span>
</div>
is also considered as a candidate function<a class='hidden_link' href='#call.object-2.sentence-1'>.</a></div> <div id='call.object-2.sentence-2' class='sentence'>Similarly, surrogate
call functions are added to the set of candidate functions for
each non-explicit conversion function declared in a base class of
<span class='texttt'>T</span>
provided the function is not hidden within
<span class='texttt'>T</span>
by another
intervening declaration<a class='hidden_link' href='#call.object-2.sentence-2'>.</a><a class='footnotenum' href='#footnote-120' id='footnoteref-120' title='Note that this construction can yield candidate call functions that cannot be differentiated one from the other by overload resolution because they have identical declarations or differ only in their return type. The call will be ambiguous if overload resolution cannot select a match to the call that is uniquely better than such undifferentiable functions.'>120</a></div></div><div class='para' id='call.object-3'><div class='marginalizedparent'><a class='marginalized' href='#call.object-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L899'>#</a></div><div id='call.object-3.sentence-1' class='sentence'>The argument list submitted to overload resolution consists of
the argument expressions present in the function call syntax
preceded by the implied object argument
<span class='texttt'><span class='parenthesis'>(</span>E<span class='parenthesis'>)</span></span><a class='hidden_link' href='#call.object-3.sentence-1'>.</a></div> <div id='call.object-3.note-1' class='note'>[<a class='note_link' href='#call.object-3.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='call.object-3.sentence-2' class='sentence'>When comparing the
call against the function call operators, the implied object
argument is compared against the implicit object parameter of the
function call operator<a class='hidden_link' href='#call.object-3.sentence-2'>.</a></div> <div id='call.object-3.sentence-3' class='sentence'>When comparing the call against a
surrogate call function, the implied object argument is compared
against the first parameter of the surrogate call function<a class='hidden_link' href='#call.object-3.sentence-3'>.</a></div> <div id='call.object-3.sentence-4' class='sentence'>The
conversion function from which the surrogate call function was
derived will be used in the conversion sequence for that
parameter since it converts the implied object argument to the
appropriate function pointer or reference required by that first
parameter<a class='hidden_link' href='#call.object-3.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div>  <div id='call.object-3.example-1' class='example'>[<a class='example_link' href='#call.object-3.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> f1<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f2<span class='parenthesis'>(</span><span class='keyword'>float</span><span class='parenthesis'>)</span>;
<span class='keyword'>typedef</span> <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>fp1<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>typedef</span> <span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>fp2<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>float</span><span class='parenthesis'>)</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> fp1<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> f1; <span class='curlybracket'>}</span>
  <span class='keyword'>operator</span> fp2<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> f2; <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span> a;
<span class='keyword'>int</span> i <span class='operator'>=</span> a<span class='parenthesis'>(</span><span class='literal'>1</span><span class='parenthesis'>)</span>;                   <span class='comment'>// calls <span class='tcode_in_codeblock'>f1</span> via pointer returned from conversion function</span>
</pre> —&nbsp;<i>end example</i>]</div>  </div><div class='footnote' id='footnote-120'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-120'>120)</a></div><div id='footnote-120.sentence-1' class='sentence'>Note that this construction can yield
candidate call functions that cannot be
differentiated one from the other by overload resolution because they have
identical
declarations or differ only in their return type<a class='hidden_link' href='#footnote-120.sentence-1'>.</a></div> <div id='footnote-120.sentence-2' class='sentence'>The call will be ambiguous
if overload
resolution cannot select a match to the call that is uniquely better than such
undifferentiable functions<a class='hidden_link' href='#footnote-120.sentence-2'>.</a></div> <a href='#footnoteref-120'>⮥</a></div></div></div><div id='match.oper' class='section'><h4 ><a class='secnum' href='#match.oper' style='min-width:118pt'>12.4.1.2</a> Operators in expressions <a class='abbr_ref' href='over.match.oper'>[over.match.oper]</a></h4><span class='indexparent'><a class='index' id=':overloading,resolution,operators'></a></span><div class='para' id='match.oper-1'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L937'>#</a></div><div id='match.oper-1.sentence-1' class='sentence'>If no operand of an operator in an expression has a type that is a class
or an enumeration, the operator is assumed to be a built-in operator
and interpreted according to <a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a><a class='hidden_link' href='#match.oper-1.sentence-1'>.</a></div> <div id='match.oper-1.note-1' class='note'>[<a class='note_link' href='#match.oper-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match.oper-1.sentence-2' class='sentence'>Because
<span class='texttt'><span class='operator'>.</span></span>,
<span class='texttt'><span class='operator'>.</span><span class='operator'>*</span></span>,
and
<span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span>
cannot be overloaded,
these operators are always built-in operators interpreted according to
<a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a><a class='hidden_link' href='#match.oper-1.sentence-2'>.</a></div> <div id='match.oper-1.sentence-3' class='sentence'><span class='texttt'><span class='operator'>?</span><span class='operator'>:</span></span>
cannot be overloaded, but the rules in this subclause are used to determine
the conversions to be applied to the second and third operands when they
have class or enumeration type (<a href='expr.cond' title='7.6.16&emsp;Conditional operator'>[expr.<span class='shy'></span>cond]</a>)<a class='hidden_link' href='#match.oper-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div>  <div id='match.oper-1.example-1' class='example'>[<a class='example_link' href='#match.oper-1.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> String <span class='curlybracket'>{</span>
  String <span class='parenthesis'>(</span><span class='keyword'>const</span> String<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
  String <span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> <span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
String <span class='keyword'>operator</span> <span class='operator'>+</span> <span class='parenthesis'>(</span><span class='keyword'>const</span> String<span class='operator'>&amp;</span>, <span class='keyword'>const</span> String<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> p<span class='operator'>=</span> <span class='literal'>"one"</span> <span class='operator'>+</span> <span class='literal'>"two"</span>; <span class='comment'>// error: cannot add two pointers; overloaded <span class='tcode_in_codeblock'>operator+</span> not considered</span>
                                <span class='comment'>// because neither operand has class or enumeration type</span>
  <span class='keyword'>int</span> I <span class='operator'>=</span> <span class='literal'>1</span> <span class='operator'>+</span> <span class='literal'>1</span>;                <span class='comment'>// always evaluates to <span class='tcode_in_codeblock'>2</span> even if class or enumeration types exist</span>
                                <span class='comment'>// that would perform the operation.</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='match.oper-2'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L973'>#</a></div><div id='match.oper-2.sentence-1' class='sentence'>If either operand has a type that is a class or an enumeration, a
user-defined operator function might be declared that implements
this operator or a user-defined conversion can be necessary to
convert the operand to a type that is appropriate for a built-in
operator<a class='hidden_link' href='#match.oper-2.sentence-1'>.</a></div> <div id='match.oper-2.sentence-2' class='sentence'>In this case, overload resolution is used to determine
which operator function or built-in operator is to be invoked to implement the
operator<a class='hidden_link' href='#match.oper-2.sentence-2'>.</a></div> <div id='match.oper-2.sentence-3' class='sentence'>Therefore, the operator notation is first transformed
to the equivalent function-call notation as summarized in
Table <a href='#tab:over.match.oper' title='Table 15: Relationship between operator and function call notation &emsp;&ensp;[tab:over.match.oper]'>15</a>
(where <span class='texttt'>@</span> denotes one of the operators covered in the specified subclause)<a class='hidden_link' href='#match.oper-2.sentence-3'>.</a></div> <div id='match.oper-2.sentence-4' class='sentence'>However, the operands are sequenced in the order prescribed
for the built-in operator (<a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a>)<a class='hidden_link' href='#match.oper-2.sentence-4'>.</a></div><div class='numberedTable' id='tab:over.match.oper'>Table <a href='#tab:over.match.oper'>15</a>: Relationship between operator and function call notation &emsp;&ensp;[tab:over.match.oper]<br><table ><tr class='rowsep'><td class='left'><div id='match.oper-2.sentence-5' class='sentence'><b>Subclause</b></div></td><td class='border left'><div id='match.oper-2.sentence-6' class='sentence'><b>Expression</b></div></td><td class='border left'><div id='match.oper-2.sentence-7' class='sentence'><b>As member function</b></div></td><td class='border left'><div id='match.oper-2.sentence-8' class='sentence'><b>As non-member function</b></div></td></tr><tr class='capsep'><td class='left'><div id='match.oper-2.sentence-9' class='sentence'><a href='#unary' title='12.6.1&emsp;Unary operators'>[over.<span class='shy'></span>unary]</a></div></td><td class='border left'><div id='match.oper-2.sentence-10' class='sentence'><span class='texttt'>@a</span></div></td><td class='border left'><div id='match.oper-2.sentence-11' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator______'></a></span>@ <span class='parenthesis'>(</span><span style='white-space:nowrap'>&thinsp;</span><span class='parenthesis'>)</span></span></div></td><td class='border left'><div id='match.oper-2.sentence-12' class='sentence'><span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_______'></a></span>@<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span></span></div></td></tr><tr ><td class='left'><div id='match.oper-2.sentence-13' class='sentence'><a href='#binary' title='12.6.2&emsp;Binary operators'>[over.<span class='shy'></span>binary]</a></div></td><td class='border left'><div id='match.oper-2.sentence-14' class='sentence'><span class='texttt'>a@b</span></div></td><td class='border left'><div id='match.oper-2.sentence-15' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator________'></a></span>@ <span class='parenthesis'>(</span>b<span class='parenthesis'>)</span></span></div></td><td class='border left'><div id='match.oper-2.sentence-16' class='sentence'><span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_________'></a></span>@<span class='parenthesis'>(</span>a, b<span class='parenthesis'>)</span></span></div></td></tr><tr ><td class='left'><div id='match.oper-2.sentence-17' class='sentence'><a href='#ass' title='12.6.2.1&emsp;Simple assignment'>[over.<span class='shy'></span>ass]</a></div></td><td class='border left'><div id='match.oper-2.sentence-18' class='sentence'><span class='texttt'>a<span class='operator'>=</span>b</span></div></td><td class='border left'><div id='match.oper-2.sentence-19' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator__________'></a></span><span class='operator'>=</span> <span class='parenthesis'>(</span>b<span class='parenthesis'>)</span></span></div></td><td class='empty border left'></td></tr><tr ><td class='left'><div id='match.oper-2.sentence-20' class='sentence'><a href='#sub' title='12.6.4&emsp;Subscripting'>[over.<span class='shy'></span>sub]</a></div></td><td class='border left'><div id='match.oper-2.sentence-21' class='sentence'><span class='texttt'>a<span class='squarebracket'>[</span>b<span class='squarebracket'>]</span></span></div></td><td class='border left'><div id='match.oper-2.sentence-22' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator___________'></a></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>b<span class='parenthesis'>)</span></span></div></td><td class='empty border left'></td></tr><tr ><td class='left'><div id='match.oper-2.sentence-23' class='sentence'><a href='#ref' title='12.6.5&emsp;Class member access'>[over.<span class='shy'></span>ref]</a></div></td><td class='border left'><div id='match.oper-2.sentence-24' class='sentence'><span class='texttt'>a<span class='operator'>-</span><span class='anglebracket'>&gt;</span></span></div></td><td class='border left'><div id='match.oper-2.sentence-25' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator____________'></a></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span style='white-space:nowrap'>&thinsp;</span><span class='parenthesis'>)</span></span></div></td><td class='empty border left'></td></tr><tr ><td class='left'><div id='match.oper-2.sentence-26' class='sentence'><a href='#inc' title='12.6.6&emsp;Increment and decrement'>[over.<span class='shy'></span>inc]</a></div></td><td class='border left'><div id='match.oper-2.sentence-27' class='sentence'><span class='texttt'>a@</span></div></td><td class='border left'><div id='match.oper-2.sentence-28' class='sentence'><span class='texttt'><span class='parenthesis'>(</span>a<span class='parenthesis'>)</span><span class='operator'>.</span><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_____________'></a></span>@ <span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span></span></div></td><td class='border left'><div id='match.oper-2.sentence-29' class='sentence'><span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator______________'></a></span>@<span class='parenthesis'>(</span>a, <span class='literal'>0</span><span class='parenthesis'>)</span></span></div></td></tr></table></div></div><div class='para' id='match.oper-3'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1001'>#</a></div><div id='match.oper-3.sentence-1' class='sentence'>For a unary operator <span class='texttt'>@</span>
with an operand of type <span class='textit'>cv1</span> <span class='texttt'>T1</span>,
and for a binary operator <span class='texttt'>@</span>
with a left operand of type <span class='textit'>cv1</span> <span class='texttt'>T1</span>
and a right operand of type <span class='textit'>cv2</span> <span class='texttt'>T2</span>,
four sets of candidate functions, designated
<a class='hidden_link' href='#def:member_candidate' title='12.4.1.2&emsp;Operators in expressions&emsp;[over.match.oper]'><span id='def:member_candidate'><span class='textit'>member candidates</span></span></a>,
<a class='hidden_link' href='#def:non-member_candidate' title='12.4.1.2&emsp;Operators in expressions&emsp;[over.match.oper]'><span id='def:non-member_candidate'><span class='textit'>non-member candidates</span></span></a>,
<a class='hidden_link' href='#def:built-in_candidate' title='12.4.1.2&emsp;Operators in expressions&emsp;[over.match.oper]'><span id='def:built-in_candidate'><span class='textit'>built-in candidates</span></span></a>,
and
<a class='hidden_link' href='#def:rewritten_candidate' title='12.4.1.2&emsp;Operators in expressions&emsp;[over.match.oper]'><span id='def:rewritten_candidate'><span class='textit'>rewritten candidates</span></span></a>,
are constructed as follows:
<ul class='itemize'><li id='match.oper-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.oper-3.1'>(3.1)</a></div><div id='match.oper-3.1.sentence-1' class='sentence'>If <span class='texttt'>T1</span>
is a complete class type or a class currently being defined, the set of member candidates is the
result of the qualified lookup of
<span class='texttt'>T1<span class='operator'>&#x200b;::&#x200b;</span><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_______________'></a></span>@</span> (<a href='#call.func' title='12.4.1.1.1&emsp;Call to named function'>[over.<span class='shy'></span>call.<span class='shy'></span>func]</a>); otherwise, the set of member
candidates is empty<a class='hidden_link' href='#match.oper-3.1.sentence-1'>.</a></div></li><li id='match.oper-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.oper-3.2'>(3.2)</a></div><div id='match.oper-3.2.sentence-1' class='sentence'>The set of non-member candidates is the result of the unqualified lookup of
<span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator________________'></a></span>@</span>
in the context of
the expression according to the usual rules for name
lookup in unqualified function calls (<a href='basic.lookup.argdep' title='6.5.2&emsp;Argument-dependent name lookup'>[basic.<span class='shy'></span>lookup.<span class='shy'></span>argdep]</a>) except
that all member functions are ignored<a class='hidden_link' href='#match.oper-3.2.sentence-1'>.</a></div> <div id='match.oper-3.2.sentence-2' class='sentence'>However, if no operand has a class type, only those non-member
functions in the lookup set that have a first parameter of type
<span class='texttt'>T1</span>
or “reference to <span class='mathit'>cv</span> <span class='texttt'>T1</span>”,
when
<span class='texttt'>T1</span>
is an enumeration type,
or (if there is a right operand) a second parameter of type
<span class='texttt'>T2</span>
or “reference to <span class='mathit'>cv</span> <span class='texttt'>T2</span>”,
when
<span class='texttt'>T2</span>
is an enumeration type,
are candidate functions<a class='hidden_link' href='#match.oper-3.2.sentence-2'>.</a></div></li><li id='match.oper-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.oper-3.3'>(3.3)</a></div><div id='match.oper-3.3.sentence-1' class='sentence'>For the operator
<span class='texttt'>,</span>,
the unary operator
<span class='texttt'><span class='operator'>&amp;</span></span>,
or the operator
<span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>,
the built-in candidates set is empty<a class='hidden_link' href='#match.oper-3.3.sentence-1'>.</a></div> <div id='match.oper-3.3.sentence-2' class='sentence'>For all other operators, the built-in candidates include all
of the candidate operator functions defined in <a href='#built' title='12.7&emsp;Built-in operators'>[over.<span class='shy'></span>built]</a> that,
compared to the given operator,
<ul class='itemize'><li id='match.oper-3.3.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.oper-3.3.1'>(3.3.1)</a></div>have the same operator name, and</li><li id='match.oper-3.3.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.oper-3.3.2'>(3.3.2)</a></div>accept the same number of operands, and</li><li id='match.oper-3.3.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.oper-3.3.3'>(3.3.3)</a></div>accept operand types to which the given operand or
operands can be converted according to <a href='#best.ics' title='12.4.3.1&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>, and</li><li id='match.oper-3.3.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.oper-3.3.4'>(3.3.4)</a></div>do not have the same parameter-type-list as any non-member candidate
that is not a function template specialization<a class='hidden_link' href='#match.oper-3.3.sentence-2'>.</a></li></ul></div></li><li id='match.oper-3.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.oper-3.4'>(3.4)</a></div><div id='match.oper-3.4.sentence-1' class='sentence'>The rewritten candidate set is determined as follows:
<ul class='itemize'><li id='match.oper-3.4.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.oper-3.4.1'>(3.4.1)</a></div><div id='match.oper-3.4.1.sentence-1' class='sentence'>For the relational (<a href='expr.rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>) operators,
the rewritten candidates include
all non-rewritten candidates
for the expression <span class='texttt'>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> y</span><a class='hidden_link' href='#match.oper-3.4.1.sentence-1'>.</a></div></li><li id='match.oper-3.4.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.oper-3.4.2'>(3.4.2)</a></div><div id='match.oper-3.4.2.sentence-1' class='sentence'>For the
relational (<a href='expr.rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>) and
three-way comparison (<a href='expr.spaceship' title='7.6.8&emsp;Three-way comparison operator'>[expr.<span class='shy'></span>spaceship]</a>)
operators,
the rewritten candidates also include
a synthesized candidate,
with the order of the two parameters reversed,
for each non-rewritten candidate
for the expression
<span class='texttt'>y <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> x</span><a class='hidden_link' href='#match.oper-3.4.2.sentence-1'>.</a></div></li><li id='match.oper-3.4.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.oper-3.4.3'>(3.4.3)</a></div><div id='match.oper-3.4.3.sentence-1' class='sentence'>For the <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span> operator (<a href='expr.eq' title='7.6.10&emsp;Equality operators'>[expr.<span class='shy'></span>eq]</a>),
the rewritten candidates
include all non-rewritten candidates
for the expression <span class='texttt'>x <span class='operator'>=</span><span class='operator'>=</span> y</span><a class='hidden_link' href='#match.oper-3.4.3.sentence-1'>.</a></div></li><li id='match.oper-3.4.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.oper-3.4.4'>(3.4.4)</a></div><div id='match.oper-3.4.4.sentence-1' class='sentence'>For the equality operators,
the rewritten candidates also include a synthesized candidate,
with the order of the two parameters reversed,
for each non-rewritten candidate
for the expression <span class='texttt'>y <span class='operator'>=</span><span class='operator'>=</span> x</span><a class='hidden_link' href='#match.oper-3.4.4.sentence-1'>.</a></div></li><li id='match.oper-3.4.5'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.oper-3.4.5'>(3.4.5)</a></div><div id='match.oper-3.4.5.sentence-1' class='sentence'>For all other operators, the rewritten candidate set is empty<a class='hidden_link' href='#match.oper-3.4.5.sentence-1'>.</a></div></li></ul></div> <div id='match.oper-3.4.note-1' class='note'>[<a class='note_link' href='#match.oper-3.4.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match.oper-3.4.sentence-2' class='sentence'>A candidate synthesized from a member candidate has its implicit
object parameter as the second parameter, thus implicit conversions
are considered for the first, but not for the second, parameter<a class='hidden_link' href='#match.oper-3.4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </li></ul></div></div><div class='para' id='match.oper-4'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1106'>#</a></div><div id='match.oper-4.sentence-1' class='sentence'>For the built-in assignment operators, conversions of the left
operand are restricted as follows:
<ul class='itemize'><li id='match.oper-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.oper-4.1'>(4.1)</a></div>no temporaries are introduced to hold the left operand, and</li><li id='match.oper-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.oper-4.2'>(4.2)</a></div>no user-defined conversions are applied to the left operand to achieve
a type match with the left-most parameter of a built-in candidate<a class='hidden_link' href='#match.oper-4.sentence-1'>.</a></li></ul></div></div><div class='para' id='match.oper-5'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1117'>#</a></div><div id='match.oper-5.sentence-1' class='sentence'>For all other operators, no such restrictions apply<a class='hidden_link' href='#match.oper-5.sentence-1'>.</a></div></div><div class='para' id='match.oper-6'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1120'>#</a></div><div id='match.oper-6.sentence-1' class='sentence'>The set of candidate functions for overload resolution
for some operator <span class='texttt'>@</span>
is the
union of
the member candidates,
the non-member candidates,
the built-in candidates,
and the rewritten candidates
for that operator <span class='texttt'>@</span><a class='hidden_link' href='#match.oper-6.sentence-1'>.</a></div></div><div class='para' id='match.oper-7'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1131'>#</a></div><div id='match.oper-7.sentence-1' class='sentence'>The argument list contains all of the
operands of the operator<a class='hidden_link' href='#match.oper-7.sentence-1'>.</a></div> <div id='match.oper-7.sentence-2' class='sentence'>The best function from the set of candidate functions is selected
according to <a href='#match.viable' title='12.4.2&emsp;Viable functions'>[over.<span class='shy'></span>match.<span class='shy'></span>viable]</a>
and <a href='#match.best' title='12.4.3&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a><a class='hidden_link' href='#match.oper-7.sentence-2'>.</a><a class='footnotenum' href='#footnote-121' id='footnoteref-121' title='If the set of candidate functions is empty, overload resolution is unsuccessful.'>121</a></div> <div id='match.oper-7.example-1' class='example'>[<a class='example_link' href='#match.oper-7.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
A <span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='keyword'>const</span> A<span class='operator'>&amp;</span>, <span class='keyword'>const</span> A<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> m<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  A a, b;
  a <span class='operator'>+</span> b;                        <span class='comment'>// <span class='tcode_in_codeblock'><span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator_________________'></a></span>+(a, b)</span> chosen over <span class='tcode_in_codeblock'>int(a) + int(b)</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='match.oper-8'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1151'>#</a></div><div id='match.oper-8.sentence-1' class='sentence'>If a rewritten <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator__________________'></a></span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span></span> candidate
is selected by overload resolution
for an operator <span class='texttt'>@</span>,
<span class='texttt'>x @ y</span>
is interpreted as
<span class='texttt'><span class='literal'>0</span> @ <span class='parenthesis'>(</span>y <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> x<span class='parenthesis'>)</span></span>
if the selected candidate is a synthesized candidate
with reversed order of parameters,
or <span class='texttt'><span class='parenthesis'>(</span>x <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span> y<span class='parenthesis'>)</span> @ <span class='literal'>0</span></span> otherwise,
using the selected rewritten <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator___________________'></a></span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span></span> candidate<a class='hidden_link' href='#match.oper-8.sentence-1'>.</a></div> <div id='match.oper-8.sentence-2' class='sentence'>Rewritten candidates for the operator <span class='texttt'>@</span>
are not considered in the context of the resulting expression<a class='hidden_link' href='#match.oper-8.sentence-2'>.</a></div></div><div class='para' id='match.oper-9'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1165'>#</a></div><div id='match.oper-9.sentence-1' class='sentence'>If a rewritten <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator____________________'></a></span><span class='operator'>=</span><span class='operator'>=</span></span> candidate
is selected by overload resolution
for an operator <span class='texttt'>@</span>,
its return type shall be <span class='mathit'>cv</span> <span class='texttt'><span class='keyword'>bool</span></span>, and
<span class='texttt'>x @ y</span> is interpreted as:
<ul class='itemize'><li id='match.oper-9.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.oper-9.1'>(9.1)</a></div>if <span class='texttt'>@</span> is <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span>
and the selected candidate is a synthesized candidate
with reversed order of parameters,
<span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span>y <span class='operator'>=</span><span class='operator'>=</span> x<span class='parenthesis'>)</span></span>,</li><li id='match.oper-9.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.oper-9.2'>(9.2)</a></div>otherwise, if <span class='texttt'>@</span> is <span class='texttt'><span class='operator'>!</span><span class='operator'>=</span></span>,
<span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span>x <span class='operator'>=</span><span class='operator'>=</span> y<span class='parenthesis'>)</span></span>,</li><li id='match.oper-9.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.oper-9.3'>(9.3)</a></div>otherwise (when <span class='texttt'>@</span> is <span class='texttt'><span class='operator'>=</span><span class='operator'>=</span></span>),
<span class='texttt'>y <span class='operator'>=</span><span class='operator'>=</span> x</span>,</li></ul>
in each case using the selected rewritten <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_____________________'></a></span><span class='operator'>=</span><span class='operator'>=</span></span> candidate<a class='hidden_link' href='#match.oper-9.sentence-1'>.</a></div></div><div class='para' id='match.oper-10'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1186'>#</a></div><div id='match.oper-10.sentence-1' class='sentence'>If a built-in candidate is selected by overload resolution, the
operands of class type are converted to the types of the corresponding parameters
of the selected operation function, except that the second standard conversion
sequence of a <a href='#ics.user' title='12.4.3.1.2&emsp;User-defined conversion sequences&emsp;[over.ics.user]'>user-defined conversion sequence</a> is not applied<a class='hidden_link' href='#match.oper-10.sentence-1'>.</a></div> <div id='match.oper-10.sentence-2' class='sentence'>Then the operator is treated as the corresponding
built-in operator and interpreted according to <a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a><a class='hidden_link' href='#match.oper-10.sentence-2'>.</a></div> <div id='match.oper-10.example-1' class='example'>[<a class='example_link' href='#match.oper-10.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>double</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> <span class='operator'>*</span>a <span class='operator'>=</span> Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> <span class='literal'>100.0</span>;           <span class='comment'>// error: pointer arithmetic requires integral operand</span>
<span class='keyword'>int</span> <span class='operator'>*</span>b <span class='operator'>=</span> Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;             <span class='comment'>// error: pointer arithmetic requires integral operand</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='match.oper-11'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1208'>#</a></div><div id='match.oper-11.sentence-1' class='sentence'>The second operand of operator
<span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
is ignored in selecting an
<span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator______________________'></a></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
function, and is not an argument when the
<span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_______________________'></a></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
function is called<a class='hidden_link' href='#match.oper-11.sentence-1'>.</a></div> <div id='match.oper-11.sentence-2' class='sentence'>When
<span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator________________________'></a></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
returns, the operator
<span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
is applied to the value returned, with the original second
operand<a class='hidden_link' href='#match.oper-11.sentence-2'>.</a><a class='footnotenum' href='#footnote-122' id='footnoteref-122' title='If the value returned by the operator-&gt; function has class type, this may result in selecting and calling another operator-&gt; function. The process repeats until an operator-&gt; function returns a value of non-class type.'>122</a></div></div><div class='para' id='match.oper-12'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1230'>#</a></div><div id='match.oper-12.sentence-1' class='sentence'>If the operator is the operator
<span class='texttt'>,</span>,
the unary operator
<span class='texttt'><span class='operator'>&amp;</span></span>,
or the operator
<span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>,
and there are no viable functions, then the operator is
assumed to be the built-in operator and interpreted according to
<a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a><a class='hidden_link' href='#match.oper-12.sentence-1'>.</a></div></div><div class='para' id='match.oper-13'><div class='marginalizedparent'><a class='marginalized' href='#match.oper-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1241'>#</a></div><div id='match.oper-13.note-1' class='note'>[<a class='note_link' href='#match.oper-13.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match.oper-13.sentence-1' class='sentence'>The lookup rules for operators in expressions are different than
the lookup
rules for operator function names in a function call, as shown in the following
example:
<pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='operator'>+</span> <span class='parenthesis'>(</span>A, A<span class='parenthesis'>)</span>;

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='operator'>+</span> <span class='parenthesis'>(</span>B<span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> f <span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

A a;

<span class='keyword'>void</span> B<span class='operator'>::</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span><span class='operator'>+</span> <span class='parenthesis'>(</span>a,a<span class='parenthesis'>)</span>;              <span class='comment'>// error: global operator hidden by member</span>
  a <span class='operator'>+</span> a;                        <span class='comment'>// OK: calls global <span class='tcode_in_codeblock'><span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator_________________________'></a></span>+</span></span>
<span class='curlybracket'>}</span>
</pre></div> —&nbsp;<i>end note</i>]</div> </div><div class='footnote' id='footnote-121'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-121'>121)</a></div><div id='footnote-121.sentence-1' class='sentence'>If the set of candidate functions is empty,
overload resolution is unsuccessful<a class='hidden_link' href='#footnote-121.sentence-1'>.</a></div> <a href='#footnoteref-121'>⮥</a></div><div class='footnote' id='footnote-122'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-122'>122)</a></div><div id='footnote-122.sentence-1' class='sentence'>If the value returned by the
<span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator___'></a></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
function has class type, this may result in selecting and calling another
<span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator____'></a></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
function<a class='hidden_link' href='#footnote-122.sentence-1'>.</a></div> <div id='footnote-122.sentence-2' class='sentence'>The process repeats until an
<span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_____'></a></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
function returns a value of non-class type<a class='hidden_link' href='#footnote-122.sentence-2'>.</a></div> <a href='#footnoteref-122'>⮥</a></div></div><div id='match.ctor' class='section'><h4 ><a class='secnum' href='#match.ctor' style='min-width:118pt'>12.4.1.3</a> Initialization by constructor <a class='abbr_ref' href='over.match.ctor'>[over.match.ctor]</a></h4><span class='indexparent'><a class='index' id=':overloading,resolution,initialization'></a></span><div class='para' id='match.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#match.ctor-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1268'>#</a></div><div id='match.ctor-1.sentence-1' class='sentence'>When objects of class type are <a href='dcl.init#def:direct-initialization' title='9.4&emsp;Initializers&emsp;[dcl.init]'>direct-initialized</a>,
copy-initialized from an expression of the same or a
derived class type (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>),
or <a href='dcl.init#def:default-initialization' title='9.4&emsp;Initializers&emsp;[dcl.init]'>default-initialized</a>,
overload resolution selects the constructor<a class='hidden_link' href='#match.ctor-1.sentence-1'>.</a></div> <div id='match.ctor-1.sentence-2' class='sentence'>For direct-initialization or default-initialization
that is not in the context of copy-initialization, the
candidate functions are
all the constructors of the class of the object being
initialized<a class='hidden_link' href='#match.ctor-1.sentence-2'>.</a></div> <div id='match.ctor-1.sentence-3' class='sentence'>For copy-initialization (including default initialization
in the context of copy-initialization), the candidate functions are all
the converting constructors (<a href='class.conv.ctor' title='11.4.7.1&emsp;Conversion by constructor'>[class.<span class='shy'></span>conv.<span class='shy'></span>ctor]</a>) of that
class<a class='hidden_link' href='#match.ctor-1.sentence-3'>.</a></div> <div id='match.ctor-1.sentence-4' class='sentence'>The argument list is the
<a href='expr.post#nt:expression-list' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:expression-list____'><span class='textsf'><span class='textit'>expression-list</span></span></span></a> or <a href='expr.ass#nt:assignment-expression' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'><span id='ntref:assignment-expression'><span class='textsf'><span class='textit'>assignment-expression</span></span></span></a>
of the <a href='dcl.init#nt:initializer' title='9.4&emsp;Initializers&emsp;[dcl.init]'><span id='ntref:initializer'><span class='textsf'><span class='textit'>initializer</span></span></span></a><a class='hidden_link' href='#match.ctor-1.sentence-4'>.</a></div></div></div><div id='match.copy' class='section'><h4 ><a class='secnum' href='#match.copy' style='min-width:118pt'>12.4.1.4</a> Copy-initialization of class by user-defined conversion <a class='abbr_ref' href='over.match.copy'>[over.match.copy]</a></h4><span class='indexparent'><a class='index' id=':overloading,resolution,initialization_'></a></span><div class='para' id='match.copy-1'><div class='marginalizedparent'><a class='marginalized' href='#match.copy-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1290'>#</a></div><div id='match.copy-1.sentence-1' class='sentence'>Under the conditions specified in <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>, as
part of a copy-initialization of an object of class type, a user-defined
conversion can be invoked to convert an initializer expression to the
type of the object being initialized<a class='hidden_link' href='#match.copy-1.sentence-1'>.</a></div> <div id='match.copy-1.sentence-2' class='sentence'>Overload resolution is used
to select the user-defined conversion to be invoked<a class='hidden_link' href='#match.copy-1.sentence-2'>.</a></div> <div id='match.copy-1.note-1' class='note'>[<a class='note_link' href='#match.copy-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match.copy-1.sentence-3' class='sentence'>The conversion performed for indirect binding to a reference to a possibly
cv-qualified class type is determined in terms of a corresponding non-reference
copy-initialization<a class='hidden_link' href='#match.copy-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div>  <div id='match.copy-1.sentence-4' class='sentence'>
Assuming that
“<span class='textit'>cv1</span> <span class='texttt'>T</span>” is the type of the object being initialized, with
<span class='texttt'>T</span>
a class type,
the candidate functions are selected as follows:
<ul class='itemize'><li id='match.copy-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.copy-1.1'>(1.1)</a></div><div id='match.copy-1.1.sentence-1' class='sentence'>The <a href='class.conv.ctor#def:converting_constructor' title='11.4.7.1&emsp;Conversion by constructor&emsp;[class.conv.ctor]'>converting constructors</a> of
<span class='texttt'>T</span>
are candidate functions<a class='hidden_link' href='#match.copy-1.1.sentence-1'>.</a></div></li><li id='match.copy-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.copy-1.2'>(1.2)</a></div><div id='match.copy-1.2.sentence-1' class='sentence'>When the type of the initializer expression is a class type
“<span class='mathit'>cv</span> <span class='texttt'>S</span>”,
the non-explicit conversion functions of
<span class='texttt'>S</span>
and its base classes are considered<a class='hidden_link' href='#match.copy-1.2.sentence-1'>.</a></div> <div id='match.copy-1.2.sentence-2' class='sentence'>When initializing a temporary object (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)
to be bound to the first parameter of a constructor
where the parameter is of type
“reference to <span class='textit'>cv2</span> <span class='texttt'>T</span>”
and the constructor is
called with a single argument in the context of
direct-initialization of an object of type “<span class='textit'>cv3</span> <span class='texttt'>T</span>”, explicit
conversion functions are also considered<a class='hidden_link' href='#match.copy-1.2.sentence-2'>.</a></div> <div id='match.copy-1.2.sentence-3' class='sentence'>Those that are not hidden within
<span class='texttt'>S</span>
and yield a type whose cv-unqualified version is the same type as
<span class='texttt'>T</span>
or is a derived class thereof
are candidate functions<a class='hidden_link' href='#match.copy-1.2.sentence-3'>.</a></div> <div id='match.copy-1.2.sentence-4' class='sentence'>A call to a conversion function returning “reference to <span class='texttt'>X</span>”
is a glvalue of type <span class='texttt'>X</span>, and such a conversion function is
therefore considered to yield <span class='texttt'>X</span> for this process of selecting
candidate functions<a class='hidden_link' href='#match.copy-1.2.sentence-4'>.</a></div></li></ul></div></div><div class='para' id='match.copy-2'><div class='marginalizedparent'><a class='marginalized' href='#match.copy-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1338'>#</a></div><div id='match.copy-2.sentence-1' class='sentence'>In both cases, the argument list has one argument, which is the initializer
expression<a class='hidden_link' href='#match.copy-2.sentence-1'>.</a></div> <div id='match.copy-2.note-1' class='note'>[<a class='note_link' href='#match.copy-2.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match.copy-2.sentence-2' class='sentence'>This argument will be compared against
the first parameter of the constructors and against the implicit
object parameter of the conversion functions<a class='hidden_link' href='#match.copy-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </div></div><div id='match.conv' class='section'><h4 ><a class='secnum' href='#match.conv' style='min-width:118pt'>12.4.1.5</a> Initialization by conversion function <a class='abbr_ref' href='over.match.conv'>[over.match.conv]</a></h4><span class='indexparent'><a class='index' id=':overloading,resolution,initialization__'></a></span><div class='para' id='match.conv-1'><div class='marginalizedparent'><a class='marginalized' href='#match.conv-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1350'>#</a></div><div id='match.conv-1.sentence-1' class='sentence'>Under the conditions specified in <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>, as
part of an initialization of an object of non-class type,
a conversion function can be invoked to convert an initializer
expression of class type to the type of the object
being initialized<a class='hidden_link' href='#match.conv-1.sentence-1'>.</a></div> <div id='match.conv-1.sentence-2' class='sentence'>Overload resolution is used to select the
conversion function to be invoked<a class='hidden_link' href='#match.conv-1.sentence-2'>.</a></div> <div id='match.conv-1.sentence-3' class='sentence'>Assuming that “<span class='textit'>cv1</span> <span class='texttt'>T</span>” is the
type of the object being initialized, and “<span class='mathit'>cv</span> <span class='texttt'>S</span>” is the type
of the initializer expression, with
<span class='texttt'>S</span>
a class type,
the candidate functions are selected as follows:
<ul class='itemize'><li id='match.conv-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.conv-1.1'>(1.1)</a></div>The conversion functions of
<span class='texttt'>S</span>
and its base classes are considered<a class='hidden_link' href='#match.conv-1.sentence-3'>.</a> <div id='match.conv-1.1.sentence-2' class='sentence'>Those non-explicit conversion functions that are not hidden
within
<span class='texttt'>S</span>
and yield type
<span class='texttt'>T</span>
or a type that can be converted to type
<span class='texttt'>T</span>
via a <a href='#ics.scs' title='12.4.3.1.1&emsp;Standard conversion sequences&emsp;[over.ics.scs]'>standard conversion sequence</a>
are candidate functions<a class='hidden_link' href='#match.conv-1.1.sentence-2'>.</a></div> <div id='match.conv-1.1.sentence-3' class='sentence'>For direct-initialization, those explicit conversion functions that are not
hidden within <span class='texttt'>S</span> and yield type <span class='texttt'>T</span> or a type that can be converted
to type <span class='texttt'>T</span> with a <a href='conv.qual' title='7.3.5&emsp;Qualification conversions&emsp;[conv.qual]'>qualification conversion</a> are also
candidate functions<a class='hidden_link' href='#match.conv-1.1.sentence-3'>.</a></div> <div id='match.conv-1.1.sentence-4' class='sentence'>Conversion functions that return a cv-qualified type
are considered to yield the cv-unqualified version of that type
for this process of selecting candidate functions<a class='hidden_link' href='#match.conv-1.1.sentence-4'>.</a></div> <div id='match.conv-1.1.sentence-5' class='sentence'>A call to a conversion function returning “reference to <span class='texttt'>X</span>”
is a glvalue of type <span class='texttt'>X</span>, and such a conversion function is
therefore considered to yield <span class='texttt'>X</span> for this process of selecting
candidate functions<a class='hidden_link' href='#match.conv-1.1.sentence-5'>.</a></div></li></ul></div></div><div class='para' id='match.conv-2'><div class='marginalizedparent'><a class='marginalized' href='#match.conv-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1391'>#</a></div><div id='match.conv-2.sentence-1' class='sentence'>The argument list has one argument, which is the initializer expression<a class='hidden_link' href='#match.conv-2.sentence-1'>.</a></div> <div id='match.conv-2.note-1' class='note'>[<a class='note_link' href='#match.conv-2.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match.conv-2.sentence-2' class='sentence'>This argument will be compared against
the implicit object parameter of the conversion functions<a class='hidden_link' href='#match.conv-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </div></div><div id='match.ref' class='section'><h4 ><a class='secnum' href='#match.ref' style='min-width:118pt'>12.4.1.6</a> Initialization by conversion function for direct reference binding <a class='abbr_ref' href='over.match.ref'>[over.match.ref]</a></h4><span class='indexparent'><a class='index' id=':overloading,resolution,initialization___'></a></span><div class='para' id='match.ref-1'><div class='marginalizedparent'><a class='marginalized' href='#match.ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1401'>#</a></div><div id='match.ref-1.sentence-1' class='sentence'>Under the conditions specified in <a href='dcl.init.ref' title='9.4.3&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>, a reference can be bound directly
to the result of applying a conversion
function to an initializer expression<a class='hidden_link' href='#match.ref-1.sentence-1'>.</a></div> <div id='match.ref-1.sentence-2' class='sentence'>Overload resolution is used to select the
conversion function to be invoked<a class='hidden_link' href='#match.ref-1.sentence-2'>.</a></div> <div id='match.ref-1.sentence-3' class='sentence'>Assuming that “reference to <span class='textit'>cv1</span> <span class='texttt'>T</span>” is the
type of the reference being initialized, and
“<span class='mathit'>cv</span> <span class='texttt'>S</span>” is the type
of the initializer expression, with
<span class='texttt'>S</span>
a class type,
the candidate functions are selected as follows:
<ul class='itemize'><li id='match.ref-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.ref-1.1'>(1.1)</a></div>The conversion functions of
<span class='texttt'>S</span>
and its base classes are considered<a class='hidden_link' href='#match.ref-1.sentence-3'>.</a> <div id='match.ref-1.1.sentence-2' class='sentence'>Those non-explicit conversion functions that are not hidden within
<span class='texttt'>S</span>
and yield type “lvalue reference to <span class='textit'>cv2</span> <span class='texttt'>T2</span>”
(when initializing an lvalue reference or an rvalue reference to function) or
“<span class='textit'>cv2</span> <span class='texttt'>T2</span>”
or “rvalue reference to <span class='textit'>cv2</span> <span class='texttt'>T2</span>” (when initializing an
rvalue reference or an lvalue reference to function),
where “<span class='textit'>cv1</span> <span class='texttt'>T</span>” is <a href='dcl.init.ref#def:reference-compatible' title='9.4.3&emsp;References&emsp;[dcl.init.ref]'>reference-compatible</a>
with “<span class='textit'>cv2</span> <span class='texttt'>T2</span>”,
are candidate functions<a class='hidden_link' href='#match.ref-1.1.sentence-2'>.</a></div> <div id='match.ref-1.1.sentence-3' class='sentence'>For direct-initialization, those explicit
conversion functions that are not hidden within <span class='texttt'>S</span> and yield
type “lvalue reference to <span class='textit'>cv2</span> <span class='texttt'>T2</span>”
(when initializing an lvalue reference or an rvalue reference to function)
or “rvalue reference to <span class='textit'>cv2</span> <span class='texttt'>T2</span>”
(when initializing an rvalue reference or an lvalue reference to function),
where <span class='texttt'>T2</span> is the same type as <span class='texttt'>T</span> or can be
converted to type <span class='texttt'>T</span> with a <a href='conv.qual' title='7.3.5&emsp;Qualification conversions&emsp;[conv.qual]'>qualification
conversion</a>, are also candidate functions<a class='hidden_link' href='#match.ref-1.1.sentence-3'>.</a></div></li></ul></div></div><div class='para' id='match.ref-2'><div class='marginalizedparent'><a class='marginalized' href='#match.ref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1439'>#</a></div><div id='match.ref-2.sentence-1' class='sentence'>The argument list has one argument, which is the initializer expression<a class='hidden_link' href='#match.ref-2.sentence-1'>.</a></div> <div id='match.ref-2.note-1' class='note'>[<a class='note_link' href='#match.ref-2.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match.ref-2.sentence-2' class='sentence'>This argument will be compared against
the implicit object parameter of the conversion functions<a class='hidden_link' href='#match.ref-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </div></div><div id='match.list' class='section'><h4 ><a class='secnum' href='#match.list' style='min-width:118pt'>12.4.1.7</a> Initialization by list-initialization <a class='abbr_ref' href='over.match.list'>[over.match.list]</a></h4><span class='indexparent'><a class='index' id=':overloading,resolution,initialization____'></a></span><div class='para' id='match.list-1'><div class='marginalizedparent'><a class='marginalized' href='#match.list-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1449'>#</a></div><div id='match.list-1.sentence-1' class='sentence'>When objects of non-aggregate class type <span class='texttt'>T</span> are
list-initialized such that <a href='dcl.init.list' title='9.4.4&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a> specifies that overload resolution
is performed according to the rules in this subclause
or when forming a list-initialization sequence according to <a href='#ics.list' title='12.4.3.1.5&emsp;List-initialization sequence'>[over.<span class='shy'></span>ics.<span class='shy'></span>list]</a>,
overload resolution selects the constructor in two phases:
<ul class='itemize'><li id='match.list-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.list-1.1'>(1.1)</a></div><div id='match.list-1.1.sentence-1' class='sentence'>If the initializer list is not empty or <span class='texttt'>T</span> has no default constructor,
overload resolution is first performed
where the candidate functions are the initializer-list constructors (<a href='dcl.init.list' title='9.4.4&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>)
of the class <span class='texttt'>T</span> and
the argument list consists of the initializer list as a single argument<a class='hidden_link' href='#match.list-1.1.sentence-1'>.</a></div></li><li id='match.list-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.list-1.2'>(1.2)</a></div><div id='match.list-1.2.sentence-1' class='sentence'>Otherwise, or if no viable initializer-list constructor is found,
overload resolution is
performed again, where the candidate functions are all the constructors of
the class <span class='texttt'>T</span> and
the argument list consists of the elements of the initializer list<a class='hidden_link' href='#match.list-1.2.sentence-1'>.</a></div></li></ul></div><div id='match.list-1.sentence-2' class='sentence'>In copy-list-initialization, if an explicit constructor is
chosen, the initialization is ill-formed<a class='hidden_link' href='#match.list-1.sentence-2'>.</a></div> <div id='match.list-1.note-1' class='note'>[<a class='note_link' href='#match.list-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='match.list-1.sentence-3' class='sentence'>This differs from other situations (<a href='#match.ctor' title='12.4.1.3&emsp;Initialization by constructor'>[over.<span class='shy'></span>match.<span class='shy'></span>ctor]</a>, <a href='#match.copy' title='12.4.1.4&emsp;Copy-initialization of class by user-defined conversion'>[over.<span class='shy'></span>match.<span class='shy'></span>copy]</a>),
where only converting constructors are considered for copy-initialization<a class='hidden_link' href='#match.list-1.sentence-3'>.</a></div> <div id='match.list-1.sentence-4' class='sentence'>This restriction only
applies if this initialization is part of the final result of overload
resolution<a class='hidden_link' href='#match.list-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div> </div></div><div id='match.class.deduct' class='section'><h4 ><a class='secnum' href='#match.class.deduct' style='min-width:118pt'>12.4.1.8</a> Class template argument deduction <a class='abbr_ref' href='over.match.class.deduct'>[over.match.class.deduct]</a></h4><span class='indexparent'><a class='index' id=':deduction,class_template_arguments'></a></span><div class='para' id='match.class.deduct-1'><div class='marginalizedparent'><a class='marginalized' href='#match.class.deduct-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1484'>#</a></div><div id='match.class.deduct-1.sentence-1' class='sentence'>When resolving a placeholder for a deduced class type (<a href='dcl.type.class.deduct' title='9.2.8.6&emsp;Deduced class template specialization types'>[dcl.<span class='shy'></span>type.<span class='shy'></span>class.<span class='shy'></span>deduct]</a>)
where the <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name'><span class='textsf'><span class='textit'>template-name</span></span></span></a> names a primary class template <span class='texttt'>C</span>,
a set of functions and function templates, called the guides of <span class='texttt'>C</span>,
is formed comprising:
<ul class='itemize'><li id='match.class.deduct-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-1.1'>(1.1)</a></div><div id='match.class.deduct-1.1.sentence-1' class='sentence'>If <span class='texttt'>C</span> is defined,
for each constructor of <span class='texttt'>C</span>,
a function template with the following properties:
<ul class='itemize'><li id='match.class.deduct-1.1.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.class.deduct-1.1.1'>(1.1.1)</a></div><div id='match.class.deduct-1.1.1.sentence-1' class='sentence'>The template parameters are the template parameters of <span class='texttt'>C</span>
followed
by the template parameters (including default template arguments) of the constructor,
if any<a class='hidden_link' href='#match.class.deduct-1.1.1.sentence-1'>.</a></div></li><li id='match.class.deduct-1.1.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.class.deduct-1.1.2'>(1.1.2)</a></div><div id='match.class.deduct-1.1.2.sentence-1' class='sentence'>The types of the function parameters are those of the constructor<a class='hidden_link' href='#match.class.deduct-1.1.2.sentence-1'>.</a></div></li><li id='match.class.deduct-1.1.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.class.deduct-1.1.3'>(1.1.3)</a></div><div id='match.class.deduct-1.1.3.sentence-1' class='sentence'>The return type is the class template specialization
designated by <span class='texttt'>C</span>
and template arguments
corresponding to the template parameters of <span class='texttt'>C</span><a class='hidden_link' href='#match.class.deduct-1.1.3.sentence-1'>.</a></div></li></ul></div></li><li id='match.class.deduct-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-1.2'>(1.2)</a></div><div id='match.class.deduct-1.2.sentence-1' class='sentence'>If <span class='texttt'>C</span>
is not defined or does not declare any constructors,
an additional function template derived as above
from a hypothetical constructor <span class='texttt'>C<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#match.class.deduct-1.2.sentence-1'>.</a></div></li><li id='match.class.deduct-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-1.3'>(1.3)</a></div><div id='match.class.deduct-1.3.sentence-1' class='sentence'>An additional function template derived as above
from a hypothetical constructor <span class='texttt'>C<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span></span>,
called the <a class='hidden_link' href='#def:copy_deduction_candidate' title='12.4.1.8&emsp;Class template argument deduction&emsp;[over.match.class.deduct]'><span id='def:copy_deduction_candidate'><span class='textit'>copy deduction candidate</span></span></a><a class='hidden_link' href='#match.class.deduct-1.3.sentence-1'>.</a></div></li><li id='match.class.deduct-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-1.4'>(1.4)</a></div><div id='match.class.deduct-1.4.sentence-1' class='sentence'>For each <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.1.2&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide'><span class='textsf'><span class='textit'>deduction-guide</span></span></span></a>,
a function or function template
with the following properties:
<ul class='itemize'><li id='match.class.deduct-1.4.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.class.deduct-1.4.1'>(1.4.1)</a></div><div id='match.class.deduct-1.4.1.sentence-1' class='sentence'>The template parameters, if any,
and function parameters
are those of the <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.1.2&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide_'><span class='textsf'><span class='textit'>deduction-guide</span></span></span></a><a class='hidden_link' href='#match.class.deduct-1.4.1.sentence-1'>.</a></div></li><li id='match.class.deduct-1.4.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#match.class.deduct-1.4.2'>(1.4.2)</a></div><div id='match.class.deduct-1.4.2.sentence-1' class='sentence'>The return type
is the <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id'><span class='textsf'><span class='textit'>simple-template-id</span></span></span></a>
of the <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.1.2&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide__'><span class='textsf'><span class='textit'>deduction-guide</span></span></span></a><a class='hidden_link' href='#match.class.deduct-1.4.2.sentence-1'>.</a></div></li></ul></div></li></ul></div> <div id='match.class.deduct-1.sentence-2' class='sentence'>
In addition, if <span class='texttt'>C</span> is defined
and its definition satisfies the conditions for
an aggregate class (<a href='dcl.init.aggr' title='9.4.1&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>)
with the assumption that any dependent base class has
no virtual functions and no virtual base classes, and
the initializer is a non-empty <a href='dcl.init#nt:braced-init-list' title='9.4&emsp;Initializers&emsp;[dcl.init]'><span id='ntref:braced-init-list'><span class='textsf'><span class='textit'>braced-init-list</span></span></span></a> or
parenthesized <a href='expr.post#nt:expression-list' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:expression-list_____'><span class='textsf'><span class='textit'>expression-list</span></span></span></a>, and
there are no <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.1.2&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide___'><span class='textsf'><span class='textit'>deduction-guide</span></span></span></a><span class='textit'>s</span> for <span class='texttt'>C</span>,
the set contains an additional function template,
called the <a class='hidden_link' href='#def:candidate,aggregate_deduction' title='12.4.1.8&emsp;Class template argument deduction&emsp;[over.match.class.deduct]'><span id='def:candidate,aggregate_deduction'><span class='textit'>aggregate deduction candidate</span></span></a>, defined as follows<a class='hidden_link' href='#match.class.deduct-1.sentence-2'>.</a></div> <div id='match.class.deduct-1.sentence-3' class='sentence'>Let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span> be the elements
of the <a href='dcl.init#nt:initializer-list' title='9.4&emsp;Initializers&emsp;[dcl.init]'><span id='ntref:initializer-list'><span class='textsf'><span class='textit'>initializer-list</span></span></span></a> or
<a href='dcl.init#nt:designated-initializer-list' title='9.4&emsp;Initializers&emsp;[dcl.init]'><span id='ntref:designated-initializer-list'><span class='textsf'><span class='textit'>designated-initializer-list</span></span></span></a>
of the <a href='dcl.init#nt:braced-init-list' title='9.4&emsp;Initializers&emsp;[dcl.init]'><span id='ntref:braced-init-list_'><span class='textsf'><span class='textit'>braced-init-list</span></span></span></a>, or
of the <a href='expr.post#nt:expression-list' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:expression-list______'><span class='textsf'><span class='textit'>expression-list</span></span></span></a><a class='hidden_link' href='#match.class.deduct-1.sentence-3'>.</a></div> <div id='match.class.deduct-1.sentence-4' class='sentence'>For each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>, let <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> be the corresponding aggregate element
of <span class='texttt'>C</span> or of one of its (possibly recursive) subaggregates
that would be initialized by <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> (<a href='dcl.init.aggr' title='9.4.1&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>) if
<ul class='itemize'><li id='match.class.deduct-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-1.5'>(1.5)</a></div>brace elision is not considered for any aggregate element
that has a dependent non-array type or
an array type with a value-dependent bound, and</li><li id='match.class.deduct-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-1.6'>(1.6)</a></div>each non-trailing aggregate element that is a pack expansion
is assumed to correspond to no elements of the initializer list, and</li><li id='match.class.deduct-1.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-1.7'>(1.7)</a></div>a trailing aggregate element that is a pack expansion is assumed to correspond
to all remaining elements of the initializer list (if any)<a class='hidden_link' href='#match.class.deduct-1.sentence-4'>.</a></li></ul></div> <div id='match.class.deduct-1.sentence-5' class='sentence'>
If there is no such aggregate element <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> for any <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>,
the aggregate deduction candidate is not added to the set<a class='hidden_link' href='#match.class.deduct-1.sentence-5'>.</a></div> <div id='match.class.deduct-1.sentence-6' class='sentence'>The aggregate deduction candidate is derived as above
from a hypothetical constructor <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">C</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span class="mjx-texatom MJXc-space1"><span class="mjx-mrow"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>,
where
<ul class='itemize'><li id='match.class.deduct-1.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-1.8'>(1.8)</a></div>if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is of array type and
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is a <a href='dcl.init#nt:braced-init-list' title='9.4&emsp;Initializers&emsp;[dcl.init]'><span id='ntref:braced-init-list__'><span class='textsf'><span class='textit'>braced-init-list</span></span></span></a> or <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal'><span class='textsf'><span class='textit'>string-literal</span></span></span></a>,
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is an rvalue reference to the declared type of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>, and</li><li id='match.class.deduct-1.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-1.9'>(1.9)</a></div>otherwise, <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> is the declared type of <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span>,</li></ul>
except that additional parameter packs of the form <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="margin-top: -0.07em; padding-bottom: 0.225em;"><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span></span></span></span></span></span></span>
are inserted into the parameter list in their original aggregate element position corresponding to each non-trailing aggregate element of type <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">P</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>
that was skipped because it was a parameter pack, and
the trailing sequence of parameters corresponding
to a trailing aggregate element that is a pack expansion (if any)
is replaced by a single parameter of the form <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="margin-top: -0.07em; padding-bottom: 0.225em;"><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span></span></span></span></span></span></span></span><a class='hidden_link' href='#match.class.deduct-1.sentence-6'>.</a></div></div><div class='para' id='match.class.deduct-2'><div class='marginalizedparent'><a class='marginalized' href='#match.class.deduct-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1585'>#</a></div><div id='match.class.deduct-2.sentence-1' class='sentence'>When resolving a placeholder for a deduced class type (<a href='dcl.type.simple' title='9.2.8.2&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a>)
where the <a href='temp.names#nt:template-name' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-name_'><span class='textsf'><span class='textit'>template-name</span></span></span></a> names an alias template <span class='texttt'>A</span>,
the <a href='dcl.name#nt:defining-type-id' title='9.3.1&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id'><span class='textsf'><span class='textit'>defining-type-id</span></span></span></a> of <span class='texttt'>A</span> must be of the form
<div class='ncsimplebnf'>
<span class='texttt'><span class='keyword'>typename</span></span><span class='indexparent'><a class='index' id=':typename'></a></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='expr.prim.id.qual#nt:nested-name-specifier' title='7.5.4.2&emsp;Qualified names&emsp;[expr.prim.id.qual]'><span id='ntref:nested-name-specifier'><span class='textsf'><span class='textit'>nested-name-specifier</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='texttt'><span class='keyword'>template</span></span><span class='indexparent'><a class='index' id=':template'></a></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id_'><span class='textsf'><span class='textit'>simple-template-id</span></span></span></a>
</div>
as specified in <a href='dcl.type.simple' title='9.2.8.2&emsp;Simple type specifiers'>[dcl.<span class='shy'></span>type.<span class='shy'></span>simple]</a><a class='hidden_link' href='#match.class.deduct-2.sentence-1'>.</a></div> <div id='match.class.deduct-2.sentence-2' class='sentence'>The guides of <span class='texttt'>A</span> are the set of functions or function templates
formed as follows<a class='hidden_link' href='#match.class.deduct-2.sentence-2'>.</a></div> <div id='match.class.deduct-2.sentence-3' class='sentence'>For each function or function template <span class='texttt'>f</span> in the guides of
the template named by the <a href='temp.names#nt:simple-template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:simple-template-id__'><span class='textsf'><span class='textit'>simple-template-id</span></span></span></a>
of the <a href='dcl.name#nt:defining-type-id' title='9.3.1&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id_'><span class='textsf'><span class='textit'>defining-type-id</span></span></span></a>,
the template arguments of the return type of <span class='texttt'>f</span>
are deduced
from the <a href='dcl.name#nt:defining-type-id' title='9.3.1&emsp;Type names&emsp;[dcl.name]'><span id='ntref:defining-type-id__'><span class='textsf'><span class='textit'>defining-type-id</span></span></span></a> of <span class='texttt'>A</span>
according to the process in <a href='temp.deduct.type' title='13.10.2.5&emsp;Deducing template arguments from a type'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>type]</a>
with the exception that deduction does not fail
if not all template arguments are deduced<a class='hidden_link' href='#match.class.deduct-2.sentence-3'>.</a></div> <div id='match.class.deduct-2.sentence-4' class='sentence'>Let <span class='texttt'>g</span> denote the result of substituting
these deductions into <span class='texttt'>f</span><a class='hidden_link' href='#match.class.deduct-2.sentence-4'>.</a></div> <div id='match.class.deduct-2.sentence-5' class='sentence'>If substitution succeeds,
form a function or function template <span class='texttt'>f'</span>
with the following properties and add it to the set
of guides of <span class='texttt'>A</span>:
<ul class='itemize'><li id='match.class.deduct-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-2.1'>(2.1)</a></div><div id='match.class.deduct-2.1.sentence-1' class='sentence'>The function type of <span class='texttt'>f'</span> is the function type of <span class='texttt'>g</span><a class='hidden_link' href='#match.class.deduct-2.1.sentence-1'>.</a></div></li><li id='match.class.deduct-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-2.2'>(2.2)</a></div><div id='match.class.deduct-2.2.sentence-1' class='sentence'>If <span class='texttt'>f</span> is a function template,
<span class='texttt'>f'</span> is a function template whose
template parameter list consists of
all the template parameters of <span class='texttt'>A</span>
(including their default template arguments)
that appear in the above deductions or
(recursively) in their default template arguments,
followed by the template parameters of <span class='texttt'>f</span> that were not deduced
(including their default template arguments),
otherwise <span class='texttt'>f'</span> is not a function template<a class='hidden_link' href='#match.class.deduct-2.2.sentence-1'>.</a></div></li><li id='match.class.deduct-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-2.3'>(2.3)</a></div><div id='match.class.deduct-2.3.sentence-1' class='sentence'>The associated constraints (<a href='temp.constr.decl' title='13.5.2&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>) are
the conjunction of the associated constraints of <span class='texttt'>g</span> and
a constraint that is satisfied if and only if
the arguments of <span class='texttt'>A</span> are deducible (see below) from the return type<a class='hidden_link' href='#match.class.deduct-2.3.sentence-1'>.</a></div></li><li id='match.class.deduct-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-2.4'>(2.4)</a></div><div id='match.class.deduct-2.4.sentence-1' class='sentence'>If <span class='texttt'>f</span> is a copy deduction candidate,
then <span class='texttt'>f'</span> is considered to be so as well<a class='hidden_link' href='#match.class.deduct-2.4.sentence-1'>.</a></div></li><li id='match.class.deduct-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-2.5'>(2.5)</a></div><div id='match.class.deduct-2.5.sentence-1' class='sentence'>If <span class='texttt'>f</span> was generated
from a <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.1.2&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide____'><span class='textsf'><span class='textit'>deduction-guide</span></span></span></a> (<a href='temp.deduct.guide' title='13.7.1.2&emsp;Deduction guides'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>guide]</a>),
then <span class='texttt'>f'</span> is considered to be so as well<a class='hidden_link' href='#match.class.deduct-2.5.sentence-1'>.</a></div></li><li id='match.class.deduct-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-2.6'>(2.6)</a></div><div id='match.class.deduct-2.6.sentence-1' class='sentence'>The <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.2&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier_'><span class='textsf'><span class='textit'>explicit-specifier</span></span></span></a> of <span class='texttt'>f'</span> is
the <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.2&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier__'><span class='textsf'><span class='textit'>explicit-specifier</span></span></span></a> of <span class='texttt'>g</span> (if any)<a class='hidden_link' href='#match.class.deduct-2.6.sentence-1'>.</a></div></li></ul></div> <span class='indexparent'><a class='index' id=':template,deducible_arguments_of'></a></span></div><div class='para' id='match.class.deduct-3'><div class='marginalizedparent'><a class='marginalized' href='#match.class.deduct-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1647'>#</a></div><div id='match.class.deduct-3.sentence-1' class='sentence'>The arguments of a template <span class='texttt'>A</span> are said to be
deducible from a type <span class='texttt'>T</span> if, given a class template
<pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> AA;
</pre>
with a single partial specialization
whose template parameter list is that of <span class='texttt'>A</span> and
whose template argument list is a specialization of <span class='texttt'>A</span>
with the template argument list of <span class='texttt'>A</span> (<a href='temp.dep.type' title='13.8.2.1&emsp;Dependent types'>[temp.<span class='shy'></span>dep.<span class='shy'></span>type]</a>),
<span class='texttt'>AA<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> matches the partial specialization<a class='hidden_link' href='#match.class.deduct-3.sentence-1'>.</a></div></div><div class='para' id='match.class.deduct-4'><div class='marginalizedparent'><a class='marginalized' href='#match.class.deduct-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1659'>#</a></div><div id='match.class.deduct-4.sentence-1' class='sentence'>Initialization and overload resolution are performed as described
in <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a> and <a href='#match.ctor' title='12.4.1.3&emsp;Initialization by constructor'>[over.<span class='shy'></span>match.<span class='shy'></span>ctor]</a>, <a href='#match.copy' title='12.4.1.4&emsp;Copy-initialization of class by user-defined conversion'>[over.<span class='shy'></span>match.<span class='shy'></span>copy]</a>,
or <a href='#match.list' title='12.4.1.7&emsp;Initialization by list-initialization'>[over.<span class='shy'></span>match.<span class='shy'></span>list]</a> (as appropriate for the type of initialization
performed) for an object of a hypothetical class type, where
the guides of the template named by the placeholder are considered to be the
constructors of that class type for the purpose of forming an overload
set, and the initializer is provided by the context in which class
template argument deduction was performed<a class='hidden_link' href='#match.class.deduct-4.sentence-1'>.</a></div> <div id='match.class.deduct-4.sentence-2' class='sentence'>The following exceptions apply:
<ul class='itemize'><li id='match.class.deduct-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-4.1'>(4.1)</a></div><div id='match.class.deduct-4.1.sentence-1' class='sentence'>The first phase in <a href='#match.list' title='12.4.1.7&emsp;Initialization by list-initialization'>[over.<span class='shy'></span>match.<span class='shy'></span>list]</a>
(considering initializer-list constructors)
is omitted if the initializer list consists of
a single expression of type <span class='mathit'>cv</span> <span class='texttt'>U</span>,
where <span class='texttt'>U</span> is, or is derived from,
a specialization of the class template
directly or indirectly named by the placeholder<a class='hidden_link' href='#match.class.deduct-4.1.sentence-1'>.</a></div></li><li id='match.class.deduct-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.class.deduct-4.2'>(4.2)</a></div><div id='match.class.deduct-4.2.sentence-1' class='sentence'>During template argument deduction for the aggregate deduction candidate,
the number of elements in a trailing parameter pack
is only deduced from the number of remaining function arguments
if it is not otherwise deduced<a class='hidden_link' href='#match.class.deduct-4.2.sentence-1'>.</a></div></li></ul></div> <div id='match.class.deduct-4.sentence-3' class='sentence'>
If the function or function template was generated from
a constructor or <a href='temp.deduct.guide#nt:deduction-guide' title='13.7.1.2&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide_____'><span class='textsf'><span class='textit'>deduction-guide</span></span></span></a>
that had an <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.2&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier___'><span class='textsf'><span class='textit'>explicit-specifier</span></span></span></a>,
each such notional constructor is considered to have
that same <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.2&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier____'><span class='textsf'><span class='textit'>explicit-specifier</span></span></span></a><a class='hidden_link' href='#match.class.deduct-4.sentence-3'>.</a></div> <div id='match.class.deduct-4.sentence-4' class='sentence'>All such notional constructors are considered to be
public members of the hypothetical class type<a class='hidden_link' href='#match.class.deduct-4.sentence-4'>.</a></div></div><div class='para' id='match.class.deduct-5'><div class='marginalizedparent'><a class='marginalized' href='#match.class.deduct-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1692'>#</a></div><div id='match.class.deduct-5.example-1' class='example'>[<a class='example_link' href='#match.class.deduct-5.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>explicit</span> A<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;               <span class='comment'>// #1</span>
  A<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;                                      <span class='comment'>// #2</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> i;
A a1 <span class='operator'>=</span> <span class='curlybracket'>{</span> i, i <span class='curlybracket'>}</span>;    <span class='comment'>// error: explicit constructor #1 selected in copy-list-initialization during deduction,</span>
                    <span class='comment'>// cannot deduce from non-forwarding rvalue reference in #2</span>

A a2<span class='curlybracket'>{</span>i, i<span class='curlybracket'>}</span>;         <span class='comment'>// OK, #1 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and also initializes</span>
A a3<span class='curlybracket'>{</span><span class='literal'>0</span>, i<span class='curlybracket'>}</span>;         <span class='comment'>// OK, #2 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and also initializes</span>
A a4 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>0</span>, i<span class='curlybracket'>}</span>;      <span class='comment'>// OK, #2 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and also initializes</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> A<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span>, <span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>T<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span>;  <span class='comment'>// #3</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> A<span class='parenthesis'>(</span>T<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;    <span class='comment'>// #4</span>

A a5 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>0</span>, <span class='literal'>1</span><span class='curlybracket'>}</span>;      <span class='comment'>// error: explicit deduction guide #4 selected in copy-list-initialization during deduction</span>
A a6<span class='curlybracket'>{</span><span class='literal'>0</span>,<span class='literal'>1</span><span class='curlybracket'>}</span>;          <span class='comment'>// OK, #4 deduces to <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and #2 initializes</span>
A a7 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>0</span>, i<span class='curlybracket'>}</span>;      <span class='comment'>// error: #3 deduces to <span class='tcode_in_codeblock'>A&lt;int&amp;&gt;</span>, #1 and #2 declare same constructor</span>
A a8<span class='curlybracket'>{</span><span class='literal'>0</span>,i<span class='curlybracket'>}</span>;          <span class='comment'>// error: #3 deduces to <span class='tcode_in_codeblock'>A&lt;int&amp;&gt;</span>, #1 and #2 declare same constructor</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> TA <span class='operator'>=</span> T;
  <span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> B<span class='parenthesis'>(</span>U, TA<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

B b<span class='curlybracket'>{</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span>, <span class='parenthesis'>(</span><span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='literal'>0</span><span class='curlybracket'>}</span>;         <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>B&lt;char*&gt;</span></span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  T x;
  T y;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  S<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> s;
  T t;
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> D <span class='curlybracket'>{</span>
  S<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span> s;
  T t;
<span class='curlybracket'>}</span>;

C c1 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>;                  <span class='comment'>// error: deduction failed</span>
C c2 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span><span class='curlybracket'>}</span>;               <span class='comment'>// error: deduction failed</span>
C c3 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='curlybracket'>{</span><span class='literal'>1u</span>, <span class='literal'>2u</span><span class='curlybracket'>}</span>, <span class='literal'>3</span><span class='curlybracket'>}</span>;           <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>C&lt;int&gt;</span></span>

D d1 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>;                  <span class='comment'>// error: deduction failed</span>
D d2 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span><span class='curlybracket'>}</span>;               <span class='comment'>// OK, braces elided, deduces <span class='tcode_in_codeblock'>D&lt;int&gt;</span></span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> E <span class='curlybracket'>{</span>
  T t;
  <span class='keyword'>decltype</span><span class='parenthesis'>(</span>t<span class='parenthesis'>)</span> t2;
<span class='curlybracket'>}</span>;

E e1 <span class='operator'>=</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span>;                  <span class='comment'>// OK, deduces <span class='tcode_in_codeblock'>E&lt;int&gt;</span></span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> Types <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>typename</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> T<span class='anglebracket'>&gt;</span>
<span class='keyword'>struct</span> F <span class='operator'>:</span> Types<span class='anglebracket'>&lt;</span>T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>, T<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> X <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> Z <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> W <span class='curlybracket'>{</span> <span class='keyword'>operator</span> Y<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

F f1 <span class='operator'>=</span> <span class='curlybracket'>{</span>Types<span class='anglebracket'>&lt;</span>X, Y, Z<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;      <span class='comment'>// OK, <span class='tcode_in_codeblock'>F&lt;X, Y, Z&gt;</span> deduced</span>
F f2 <span class='operator'>=</span> <span class='curlybracket'>{</span>Types<span class='anglebracket'>&lt;</span>X, Y, Z<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, X<span class='curlybracket'>{</span><span class='curlybracket'>}</span>, Y<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;    <span class='comment'>// OK, <span class='tcode_in_codeblock'>F&lt;X, Y, Z&gt;</span> deduced</span>
F f3 <span class='operator'>=</span> <span class='curlybracket'>{</span>Types<span class='anglebracket'>&lt;</span>X, Y, Z<span class='anglebracket'>&gt;</span><span class='curlybracket'>{</span><span class='curlybracket'>}</span>, X<span class='curlybracket'>{</span><span class='curlybracket'>}</span>, W<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='curlybracket'>}</span>;    <span class='comment'>// error: conflicting types deduced; <span class='tcode_in_codeblock'>operator Y</span> not considered</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='match.class.deduct-6'><div class='marginalizedparent'><a class='marginalized' href='#match.class.deduct-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1773'>#</a></div><div id='match.class.deduct-6.example-1' class='example'>[<a class='example_link' href='#match.class.deduct-6.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  C<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span>;                                      <span class='comment'>// #1</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  C<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>T, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;     <span class='comment'>// #2</span>

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> A <span class='operator'>=</span> C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, V <span class='operator'>*</span><span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span><a href='concepts.arithmetic#concept:integral' title='18.4.7&emsp;Arithmetic concepts&emsp;[concepts.arithmetic]'><span id='conceptref:integral'><span class='tcode_in_codeblock'>integral</span></span></a> W<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> B <span class='operator'>=</span> A<span class='anglebracket'>&lt;</span>W<span class='anglebracket'>&gt;</span>;

<span class='keyword'>int</span> i<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>double</span> d<span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
A a1<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, <span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;   <span class='comment'>// deduces <span class='tcode_in_codeblock'>A&lt;int&gt;</span></span>
A a2<span class='parenthesis'>(</span>i, i<span class='parenthesis'>)</span>;     <span class='comment'>// error: cannot deduce <span class='tcode_in_codeblock'>V *</span> from <span class='tcode_in_codeblock'>i</span></span>
A a3<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, <span class='operator'>&amp;</span>d<span class='parenthesis'>)</span>;   <span class='comment'>// error: #1: cannot deduce <span class='tcode_in_codeblock'>(V*, V*)</span> from <span class='tcode_in_codeblock'>(int *, double *)</span></span>
                <span class='comment'>// #2: cannot deduce <span class='tcode_in_codeblock'>A&lt;V&gt;</span> from <span class='tcode_in_codeblock'>C&lt;int *, double *&gt;</span></span>
B b1<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, <span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;   <span class='comment'>// deduces <span class='tcode_in_codeblock'>B&lt;int&gt;</span></span>
B b2<span class='parenthesis'>(</span><span class='operator'>&amp;</span>d, <span class='operator'>&amp;</span>d<span class='parenthesis'>)</span>;   <span class='comment'>// error: cannot deduce <span class='tcode_in_codeblock'>B&lt;W&gt;</span> from <span class='tcode_in_codeblock'>C&lt;double *, double *&gt;</span></span>
</pre> <div id='match.class.deduct-6.sentence-1' class='sentence'>
Possible exposition-only implementation of the above procedure:
<pre class='codeblock'>
<span class='comment'>// The following concept ensures a specialization of <span class='tcode_in_codeblock'>A</span> is deduced.</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> AA;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> AA<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> deduces_A <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>AA<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='comment'>// <span class='tcode_in_codeblock'>f1</span> is formed from the constructor #1 of <span class='tcode_in_codeblock'>C</span>, generating the following function template</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f1<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>T, U<span class='anglebracket'>&gt;</span>;

<span class='comment'>// Deducing arguments for <span class='tcode_in_codeblock'>C&lt;T, U&gt;</span> from <span class='tcode_in_codeblock'>C&lt;V *, V*&gt;</span> deduces <span class='tcode_in_codeblock'>T</span> as <span class='tcode_in_codeblock'>V *</span> and <span class='tcode_in_codeblock'>U</span> as <span class='tcode_in_codeblock'>V *</span>;</span>
<span class='comment'>// <span class='tcode_in_codeblock'>f1'</span> is obtained by transforming <span class='tcode_in_codeblock'>f1</span> as described by the above procedure.</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, V <span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f1_prime<span class='parenthesis'>(</span>V <span class='operator'>*</span>, V<span class='operator'>*</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, V <span class='operator'>*</span><span class='anglebracket'>&gt;</span>;

<span class='comment'>// <span class='tcode_in_codeblock'>f2</span> is formed from the deduction-guide #2 of <span class='tcode_in_codeblock'>C</span></span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span> <span class='keyword'>auto</span> f2<span class='parenthesis'>(</span>T, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>T, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

<span class='comment'>// Deducing arguments for <span class='tcode_in_codeblock'>C&lt;T, std&#x200b;::&#x200b;type_&shy;identity_&shy;t&lt;U&gt;&gt;</span> from <span class='tcode_in_codeblock'>C&lt;V *, V*&gt;</span> deduces <span class='tcode_in_codeblock'>T</span> as <span class='tcode_in_codeblock'>V *</span>;</span>
<span class='comment'>// <span class='tcode_in_codeblock'>f2'</span> is obtained by transforming <span class='tcode_in_codeblock'>f2</span> as described by the above procedure.</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f2_prime<span class='parenthesis'>(</span>V <span class='operator'>*</span>, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>V <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

<span class='comment'>// The following concept ensures a specialization of <span class='tcode_in_codeblock'>B</span> is deduced.</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> BB;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> V<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> BB<span class='anglebracket'>&lt;</span>B<span class='anglebracket'>&lt;</span>V<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>concept</span> deduces_B <span class='operator'>=</span> <span class='keyword'>requires</span> <span class='curlybracket'>{</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>BB<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;

<span class='comment'>// The guides for <span class='tcode_in_codeblock'>B</span> derived from the above <span class='tcode_in_codeblock'>f1'</span> and <span class='tcode_in_codeblock'>f2'</span> for <span class='tcode_in_codeblock'>A</span> are as follows:</span>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span><a href='concepts.arithmetic#concept:integral' title='18.4.7&emsp;Arithmetic concepts&emsp;[concepts.arithmetic]'><span id='conceptref:integral_'><span class='tcode_in_codeblock'>integral</span></span></a> W<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> deduces_B<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f1_prime_for_B<span class='parenthesis'>(</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, W <span class='operator'>*</span><span class='anglebracket'>&gt;</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>std<span class='operator'>::</span><a href='concepts.arithmetic#concept:integral' title='18.4.7&emsp;Arithmetic concepts&emsp;[concepts.arithmetic]'><span id='conceptref:integral__'><span class='tcode_in_codeblock'>integral</span></span></a> W, <span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
  <span class='keyword'>requires</span> deduces_A<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
    deduces_B<span class='anglebracket'>&lt;</span>C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>auto</span> f2_prime_for_B<span class='parenthesis'>(</span>W <span class='operator'>*</span>, U<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> C<span class='anglebracket'>&lt;</span>W <span class='operator'>*</span>, std<span class='operator'>::</span>type_identity_t<span class='anglebracket'>&lt;</span>U<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;
</pre></div> —&nbsp;<i>end example</i>]</div>  </div></div></div><div id='match.viable' class='section'><h3 ><a class='secnum' href='#match.viable' style='min-width:103pt'>12.4.2</a> Viable functions <a class='abbr_ref' href='over.match.viable'>[over.match.viable]</a></h3><span class='indexparent'><a class='index' id=':overloading,resolution,viable_functions'></a></span><div class='para' id='match.viable-1'><div class='marginalizedparent'><a class='marginalized' href='#match.viable-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1841'>#</a></div><div id='match.viable-1.sentence-1' class='sentence'>From the set of candidate functions constructed for a given
context (<a href='#match.funcs' title='12.4.1&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a>), a set of viable functions is
chosen, from which the best function will be selected by
comparing argument conversion sequences
and associated constraints (<a href='temp.constr.decl' title='13.5.2&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>)
for the best fit (<a href='#match.best' title='12.4.3&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>)<a class='hidden_link' href='#match.viable-1.sentence-1'>.</a></div> <div id='match.viable-1.sentence-2' class='sentence'>The selection of viable functions considers
associated constraints, if any, and
relationships between arguments and function parameters other
than the ranking of conversion sequences<a class='hidden_link' href='#match.viable-1.sentence-2'>.</a></div></div><div class='para' id='match.viable-2'><div class='marginalizedparent'><a class='marginalized' href='#match.viable-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1853'>#</a></div><div id='match.viable-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':ellipsis,overload_resolution_and'></a></span><span class='indexparent'><a class='index' id=':default_argument,overload_resolution_and'></a></span>First, to be a viable function, a candidate function shall have
enough parameters to agree in number with the arguments in the
list<a class='hidden_link' href='#match.viable-2.sentence-1'>.</a></div><ul class='itemize'><li id='match.viable-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.viable-2.1'>(2.1)</a></div><div id='match.viable-2.1.sentence-1' class='sentence'>If there are
<span class='textit'>m</span>
arguments in the list, all candidate
functions having exactly
<span class='textit'>m</span>
parameters are viable<a class='hidden_link' href='#match.viable-2.1.sentence-1'>.</a></div></li><li id='match.viable-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.viable-2.2'>(2.2)</a></div><div id='match.viable-2.2.sentence-1' class='sentence'>A candidate function having fewer than
<span class='textit'>m</span>
parameters is
viable only if it has an ellipsis in its parameter list (<a href='dcl.fct' title='9.3.3.5&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>)<a class='hidden_link' href='#match.viable-2.2.sentence-1'>.</a></div> <div id='match.viable-2.2.sentence-2' class='sentence'>For the purposes of overload resolution,
any argument for which there is no corresponding parameter is
considered to “match the ellipsis” (<a href='#ics.ellipsis' title='12.4.3.1.3&emsp;Ellipsis conversion sequences'>[over.<span class='shy'></span>ics.<span class='shy'></span>ellipsis]</a>) <a class='hidden_link' href='#match.viable-2.2.sentence-2'>.</a></div></li><li id='match.viable-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.viable-2.3'>(2.3)</a></div><div id='match.viable-2.3.sentence-1' class='sentence'>A candidate function having more than
<span class='textit'>m</span>
parameters is viable
only if all parameters following the <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">m</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">th</span></span></span></span></span></span></span>
have default arguments (<a href='dcl.fct.default' title='9.3.3.6&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>)<a class='hidden_link' href='#match.viable-2.3.sentence-1'>.</a></div> <div id='match.viable-2.3.sentence-2' class='sentence'>For the purposes of overload
resolution, the parameter list is truncated on the right, so
that there are exactly
<span class='textit'>m</span>
parameters<a class='hidden_link' href='#match.viable-2.3.sentence-2'>.</a></div></li></ul></div><div class='para' id='match.viable-3'><div class='marginalizedparent'><a class='marginalized' href='#match.viable-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1889'>#</a></div><div id='match.viable-3.sentence-1' class='sentence'>Second, for a function to be viable, if it has associated constraints (<a href='temp.constr.decl' title='13.5.2&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>),
those constraints shall be satisfied (<a href='temp.constr.constr' title='13.5.1&emsp;Constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>constr]</a>)<a class='hidden_link' href='#match.viable-3.sentence-1'>.</a></div></div><div class='para' id='match.viable-4'><div class='marginalizedparent'><a class='marginalized' href='#match.viable-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1893'>#</a></div><div id='match.viable-4.sentence-1' class='sentence'>Third, for
<span class='texttt'>F</span>
to be a viable function, there shall exist for each
argument an
<a href='#def:conversion_sequence,implicit' title='12.4.3.1&emsp;Implicit conversion sequences&emsp;[over.best.ics]'>implicit conversion sequence</a> that
converts that argument to the corresponding parameter of
<span class='texttt'>F</span><a class='hidden_link' href='#match.viable-4.sentence-1'>.</a></div> <div id='match.viable-4.sentence-2' class='sentence'>If the parameter has reference type, the implicit conversion sequence
includes the operation of binding the reference, and the fact that
an lvalue reference to non-<span class='texttt'><span class='keyword'>const</span></span> cannot be bound to an rvalue
and that an rvalue reference cannot be bound to an lvalue
can affect
the viability of the function (see <a href='#ics.ref' title='12.4.3.1.4&emsp;Reference binding'>[over.<span class='shy'></span>ics.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#match.viable-4.sentence-2'>.</a></div></div></div><div id='match.best' class='section'><h3 ><a class='secnum' href='#match.best' style='min-width:103pt'>12.4.3</a> Best viable function <a class='abbr_ref' href='over.match.best'>[over.match.best]</a></h3><span class='indexparent'><a class='index' id=':overloading,resolution,best_viable_function'></a></span><div class='para' id='match.best-1'><div class='marginalizedparent'><a class='marginalized' href='#match.best-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1911'>#</a></div><div id='match.best-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':conversion,overload_resolution_and'></a></span>Define ICS<span class='textit'>i</span>(<span class='texttt'>F</span>) as follows:
<ul class='itemize'><li id='match.best-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-1.1'>(1.1)</a></div>If
<span class='texttt'>F</span>
is a static member function, ICS<span class='textit'>1</span>(<span class='texttt'>F</span>) is defined such that
ICS<span class='textit'>1</span>(<span class='texttt'>F</span>) is neither better nor worse than ICS<span class='textit'>1</span>(<span class='texttt'>G</span>)
for any function
<span class='texttt'>G</span>,
and, symmetrically, ICS<span class='textit'>1</span>(<span class='texttt'>G</span>) is neither better nor worse than
ICS<span class='textit'>1</span>(<span class='texttt'>F</span>);<a class='footnotenum' href='#footnote-123' id='footnoteref-123' title='If a function is a static member function, this definition means that the first argument, the implied object argument, has no effect in the determination of whether the function is better or worse than any other function.'>123</a>
otherwise,</li><li id='match.best-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-1.2'>(1.2)</a></div>let ICS<span class='textit'>i</span>(<span class='texttt'>F</span>) denote the implicit conversion sequence that converts
the <span class='textit'>i</span>-th argument in the list to the type of the
<span class='textit'>i</span>-th
parameter
of viable function
<span class='texttt'>F</span><a class='hidden_link' href='#match.best-1.sentence-1'>.</a> <div id='match.best-1.2.sentence-2' class='sentence'><a href='#best.ics' title='12.4.3.1&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a> defines the implicit conversion sequences and <a href='#ics.rank' title='12.4.3.2&emsp;Ranking implicit conversion sequences'>[over.<span class='shy'></span>ics.<span class='shy'></span>rank]</a>
defines what it means for one implicit conversion sequence to be
a better conversion sequence or worse conversion sequence than
another<a class='hidden_link' href='#match.best-1.2.sentence-2'>.</a></div></li></ul></div></div><div class='para' id='match.best-2'><div class='marginalizedparent'><a class='marginalized' href='#match.best-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L1941'>#</a></div><div id='match.best-2.sentence-1' class='sentence'>Given these definitions, a viable function
<span class='texttt'>F1</span>
is defined
to be a
<a class='hidden_link' href='#def:overloading,resolution,better_viable_function' title='12.4.3&emsp;Best viable function&emsp;[over.match.best]'><span id='def:overloading,resolution,better_viable_function'><span class='textit'>better</span></span></a>
function than another viable function
<span class='texttt'>F2</span>
if
for all arguments
<span class='textit'>i</span>,
ICS<span class='textit'>i</span>(<span class='texttt'>F1</span>) is not a worse conversion
sequence than ICS<span class='textit'>i</span>(<span class='texttt'>F2</span>), and then
<ul class='itemize'><li id='match.best-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.1'>(2.1)</a></div><div id='match.best-2.1.sentence-1' class='sentence'>for some argument
<span class='textit'>j</span>,
ICS<span class='textit'>j</span>(<span class='texttt'>F1</span>) is a better conversion
sequence than ICS<span class='textit'>j</span>(<span class='texttt'>F2</span>), or, if not that,</div></li><li id='match.best-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.2'>(2.2)</a></div><div id='match.best-2.2.sentence-1' class='sentence'>the context is an initialization by user-defined conversion
(see <a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>,
<a href='#match.conv' title='12.4.1.5&emsp;Initialization by conversion function'>[over.<span class='shy'></span>match.<span class='shy'></span>conv]</a>, and <a href='#match.ref' title='12.4.1.6&emsp;Initialization by conversion function for direct reference binding'>[over.<span class='shy'></span>match.<span class='shy'></span>ref]</a>)
and the standard conversion sequence from the return type of
<span class='texttt'>F1</span>
to the destination type (i.e., the type of the entity being initialized)
is a better conversion sequence than the standard conversion sequence
from the return type of
<span class='texttt'>F2</span>
to the destination type
<div id='match.best-2.2.example-1' class='example'>[<a class='example_link' href='#match.best-2.2.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
  <span class='keyword'>operator</span> <span class='keyword'>double</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span> a;
<span class='keyword'>int</span> i <span class='operator'>=</span> a;          <span class='comment'>// <span class='tcode_in_codeblock'>a.<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator__________________________'></a></span> int()</span> followed by no conversion is better than</span>
                    <span class='comment'>// <span class='tcode_in_codeblock'>a.<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator___________________________'></a></span> double()</span> followed by a conversion to <span class='tcode_in_codeblock'>int</span></span>
<span class='keyword'>float</span> x <span class='operator'>=</span> a;        <span class='comment'>// ambiguous: both possibilities require conversions,</span>
                    <span class='comment'>// and neither is better than the other</span>
</pre> —&nbsp;<i>end example</i>]</div> 
or, if not that,</div></li><li id='match.best-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.3'>(2.3)</a></div><div id='match.best-2.3.sentence-1' class='sentence'>the context is an initialization by conversion function for <a href='#match.ref' title='12.4.1.6&emsp;Initialization by conversion function for direct reference binding&emsp;[over.match.ref]'>direct
reference binding</a> of a reference to function type, the
return type of <span class='texttt'>F1</span> is the same kind of reference (lvalue or rvalue)
as the reference being initialized, and the return type of <span class='texttt'>F2</span> is not
<div id='match.best-2.3.example-2' class='example'>[<a class='example_link' href='#match.best-2.3.example-2'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> T<span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;    <span class='comment'>// #1</span>
  <span class='keyword'>operator</span> T<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;   <span class='comment'>// #2</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>typedef</span> <span class='keyword'>int</span> Fn<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
A<span class='anglebracket'>&lt;</span>Fn<span class='anglebracket'>&gt;</span> a;
Fn<span class='operator'>&amp;</span> lf <span class='operator'>=</span> a;         <span class='comment'>// calls #1</span>
Fn<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rf <span class='operator'>=</span> a;        <span class='comment'>// calls #2</span>
</pre> —&nbsp;<i>end example</i>]</div> 
or, if not that,</div></li><li id='match.best-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.4'>(2.4)</a></div><div id='match.best-2.4.sentence-1' class='sentence'><span class='texttt'>F1</span>
is not a function template specialization and
<span class='texttt'>F2</span>
is a
function template
specialization, or, if not that,</div></li><li id='match.best-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.5'>(2.5)</a></div><div id='match.best-2.5.sentence-1' class='sentence'><span class='texttt'>F1</span>
and
<span class='texttt'>F2</span>
are
function template specializations,
and the function template
for
<span class='texttt'>F1</span>
is more specialized than the template for
<span class='texttt'>F2</span>
according to the partial ordering rules described in <a href='temp.func.order' title='13.7.6.2&emsp;Partial ordering of function templates'>[temp.<span class='shy'></span>func.<span class='shy'></span>order]</a>,
or, if not that,</div></li><li id='match.best-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.6'>(2.6)</a></div><div id='match.best-2.6.sentence-1' class='sentence'><span class='texttt'>F1</span> and <span class='texttt'>F2</span> are non-template functions with the same
parameter-type-lists, and  <span class='texttt'>F1</span> is more constrained than <span class='texttt'>F2</span>
according to the partial ordering of constraints described in
<a href='temp.constr.order' title='13.5.4&emsp;Partial ordering by constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>order]</a>, or if not that,</div></li><li id='match.best-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.7'>(2.7)</a></div><div id='match.best-2.7.sentence-1' class='sentence'><span class='texttt'>F1</span> is a constructor for a class <span class='texttt'>D</span>,
<span class='texttt'>F2</span> is a constructor for a base class <span class='texttt'>B</span> of <span class='texttt'>D</span>, and
for all arguments
the corresponding parameters of <span class='texttt'>F1</span> and <span class='texttt'>F2</span> have the same type<a class='hidden_link' href='#match.best-2.7.sentence-1'>.</a></div> <div id='match.best-2.7.example-3' class='example'>[<a class='example_link' href='#match.best-2.7.example-3'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> B<span class='operator'>:</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> A<span class='operator'>::</span>A;
  B<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> main<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  B b;              <span class='comment'>// OK, <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;B()</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div>  <div id='match.best-2.7.sentence-2' class='sentence'>
or, if not that,</div></li><li id='match.best-2.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.8'>(2.8)</a></div><div id='match.best-2.8.sentence-1' class='sentence'><span class='texttt'>F2</span> is a rewritten candidate (<a href='#match.oper' title='12.4.1.2&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>) and
<span class='texttt'>F1</span> is not
<div id='match.best-2.8.example-4' class='example'>[<a class='example_link' href='#match.best-2.8.example-4'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> <span class='keyword'>auto</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> S<span class='operator'>&amp;</span>, <span class='keyword'>const</span> S<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;        <span class='comment'>// #1</span>
  <span class='keyword'>friend</span> <span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> S<span class='operator'>&amp;</span>, <span class='keyword'>const</span> S<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                    <span class='comment'>// #2</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>bool</span> b <span class='operator'>=</span> S<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span> S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                             <span class='comment'>// calls #2</span>
</pre> —&nbsp;<i>end example</i>]</div> 
or, if not that,</div></li><li id='match.best-2.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.9'>(2.9)</a></div><div id='match.best-2.9.sentence-1' class='sentence'><span class='texttt'>F1</span> and <span class='texttt'>F2</span> are rewritten candidates, and
<span class='texttt'>F2</span> is a synthesized candidate
with reversed order of parameters
and <span class='texttt'>F1</span> is not
<div id='match.best-2.9.example-5' class='example'>[<a class='example_link' href='#match.best-2.9.example-5'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span>
  <span class='keyword'>friend</span> std<span class='operator'>::</span>weak_ordering <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const</span> S<span class='operator'>&amp;</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;         <span class='comment'>// #1</span>
  <span class='keyword'>friend</span> std<span class='operator'>::</span>weak_ordering <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>const</span> S<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;         <span class='comment'>// #2</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>bool</span> b <span class='operator'>=</span> <span class='literal'>1</span> <span class='anglebracket'>&lt;</span> S<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                               <span class='comment'>// calls #2</span>
</pre> —&nbsp;<i>end example</i>]</div> 
or, if not that</div></li><li id='match.best-2.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.10'>(2.10)</a></div><div id='match.best-2.10.sentence-1' class='sentence'><span class='texttt'>F1</span> is generated from a
<a href='temp.deduct.guide#nt:deduction-guide' title='13.7.1.2&emsp;Deduction guides&emsp;[temp.deduct.guide]'><span id='ntref:deduction-guide______'><span class='textsf'><span class='textit'>deduction-guide</span></span></span></a> (<a href='#match.class.deduct' title='12.4.1.8&emsp;Class template argument deduction'>[over.<span class='shy'></span>match.<span class='shy'></span>class.<span class='shy'></span>deduct]</a>)
and <span class='texttt'>F2</span> is not, or, if not that,</div></li><li id='match.best-2.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.11'>(2.11)</a></div><div id='match.best-2.11.sentence-1' class='sentence'><span class='texttt'>F1</span> is the <a href='#def:copy_deduction_candidate' title='12.4.1.8&emsp;Class template argument deduction&emsp;[over.match.class.deduct]'>copy deduction candidate</a>
and <span class='texttt'>F2</span> is not, or, if not that,</div></li><li id='match.best-2.12'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#match.best-2.12'>(2.12)</a></div><div id='match.best-2.12.sentence-1' class='sentence'><span class='texttt'>F1</span> is generated from a non-template constructor
and <span class='texttt'>F2</span> is generated from a constructor template<a class='hidden_link' href='#match.best-2.12.sentence-1'>.</a></div> <div id='match.best-2.12.example-6' class='example'>[<a class='example_link' href='#match.best-2.12.example-6'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> value_type <span class='operator'>=</span> T;
  A<span class='parenthesis'>(</span>value_type<span class='parenthesis'>)</span>;    <span class='comment'>// #1</span>
  A<span class='parenthesis'>(</span><span class='keyword'>const</span> A<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;      <span class='comment'>// #2</span>
  A<span class='parenthesis'>(</span>T, T, <span class='keyword'>int</span><span class='parenthesis'>)</span>;     <span class='comment'>// #3</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> U<span class='anglebracket'>&gt;</span>
    A<span class='parenthesis'>(</span><span class='keyword'>int</span>, T, U<span class='parenthesis'>)</span>;   <span class='comment'>// #4</span>
  <span class='comment'>// #5 is the copy deduction candidate, <span class='tcode_in_codeblock'>A(A)</span></span>
<span class='curlybracket'>}</span>;

A x<span class='parenthesis'>(</span><span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span><span class='parenthesis'>)</span>;       <span class='comment'>// uses #3, generated from a non-template constructor</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
A<span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>;       <span class='comment'>// #6, less specialized than #5</span>

A a<span class='parenthesis'>(</span><span class='literal'>42</span><span class='parenthesis'>)</span>;            <span class='comment'>// uses #6 to deduce <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and #1 to initialize</span>
A b <span class='operator'>=</span> a;            <span class='comment'>// uses #5 to deduce <span class='tcode_in_codeblock'>A&lt;int&gt;</span> and #2 to initialize</span>

<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
A<span class='parenthesis'>(</span>A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> A<span class='anglebracket'>&lt;</span>A<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>; <span class='comment'>// #7, as specialized as #5</span>

A b2 <span class='operator'>=</span> a;           <span class='comment'>// uses #7 to deduce <span class='tcode_in_codeblock'>A&lt;A&lt;int&gt;&gt;</span> and #1 to initialize</span>
</pre> —&nbsp;<i>end example</i>]</div> </li></ul></div></div><div class='para' id='match.best-3'><div class='marginalizedparent'><a class='marginalized' href='#match.best-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2126'>#</a></div><div id='match.best-3.sentence-1' class='sentence'>If there is exactly one viable function that is a better function
than all other viable functions, then it is the one selected by
overload resolution; otherwise the call is ill-formed<a class='hidden_link' href='#match.best-3.sentence-1'>.</a><a class='footnotenum' href='#footnote-124' id='footnoteref-124' title='The algorithm for selecting the best viable function is linear in the number of viable functions. Run a simple tournament to find a function W that is not worse than any opponent it faced. Although another function F that W did not face might be at least as good as W, F cannot be the best function because at some point in the tournament F encountered another function G such that F was not better than G. Hence, either W is the best function or there is no best function. So, make a second pass over the viable functions to verify that W is better than all other functions.'>124</a></div> <div id='match.best-3.example-1' class='example'>[<a class='example_link' href='#match.best-3.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> Fcn<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>*</span>,  <span class='keyword'>short</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> Fcn<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='operator'>*</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;

<span class='keyword'>int</span> i;
<span class='keyword'>short</span> s <span class='operator'>=</span> <span class='literal'>0</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  Fcn<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, s<span class='parenthesis'>)</span>;       <span class='comment'>// is ambiguous because <span class='tcode_in_codeblock'>&amp;i</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>int*</span> is better than <span class='tcode_in_codeblock'>&amp;i</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>const int*</span></span>
                    <span class='comment'>// but <span class='tcode_in_codeblock'>s</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>short</span> is also better than <span class='tcode_in_codeblock'>s</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>int</span></span>

  Fcn<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, <span class='literal'>1L</span><span class='parenthesis'>)</span>;      <span class='comment'>// calls <span class='tcode_in_codeblock'>Fcn(int*, int)</span>, because <span class='tcode_in_codeblock'>&amp;i</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>int*</span> is better than <span class='tcode_in_codeblock'>&amp;i</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>const int*</span></span>
                    <span class='comment'>// and <span class='tcode_in_codeblock'>1L</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>short</span> and <span class='tcode_in_codeblock'>1L</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>int</span> are indistinguishable</span>

  Fcn<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i, <span class='literal'>'c'</span><span class='parenthesis'>)</span>;     <span class='comment'>// calls <span class='tcode_in_codeblock'>Fcn(int*, int)</span>, because <span class='tcode_in_codeblock'>&amp;i</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>int*</span> is better than <span class='tcode_in_codeblock'>&amp;i</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>const int*</span></span>
                    <span class='comment'>// and <span class='tcode_in_codeblock'>c</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>int</span> is better than <span class='tcode_in_codeblock'>c</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>short</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='match.best-4'><div class='marginalizedparent'><a class='marginalized' href='#match.best-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2184'>#</a></div><div id='match.best-4.sentence-1' class='sentence'>If the best viable function resolves to a function for
which multiple declarations were found, and if at least
two of these declarations — or the declarations they
refer to in the case of
<a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration__'><span class='textsf'><span class='textit'>using-declaration</span></span></span></a><span class='textit'>s</span>
— specify a default argument that made the function
viable, the program is ill-formed<a class='hidden_link' href='#match.best-4.sentence-1'>.</a></div> <div id='match.best-4.example-1' class='example'>[<a class='example_link' href='#match.best-4.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>namespace</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> <span class='literal'>5</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
<span class='keyword'>namespace</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>=</span> <span class='literal'>5</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>

<span class='keyword'>using</span> A<span class='operator'>::</span>f;
<span class='keyword'>using</span> B<span class='operator'>::</span>f;

<span class='keyword'>void</span> use<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='literal'>3</span><span class='parenthesis'>)</span>;             <span class='comment'>// OK, default argument was not used for viability</span>
  f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;              <span class='comment'>// error: found default argument twice</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='footnote' id='footnote-123'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-123'>123)</a></div><div id='footnote-123.sentence-1' class='sentence'>If a function is a static member function, this
definition means that the first argument, the implied object argument,
has no effect in the determination of whether the function is better
or worse than any other function<a class='hidden_link' href='#footnote-123.sentence-1'>.</a></div> <a href='#footnoteref-123'>⮥</a></div><div class='footnote' id='footnote-124'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-124'>124)</a></div><div id='footnote-124.sentence-1' class='sentence'>The algorithm
for selecting the best viable function is linear in the number
of viable
functions<a class='hidden_link' href='#footnote-124.sentence-1'>.</a></div> <div id='footnote-124.sentence-2' class='sentence'>Run a simple tournament to find a function
<span class='texttt'>W</span>
that is not
worse than any
opponent it faced<a class='hidden_link' href='#footnote-124.sentence-2'>.</a></div> <div id='footnote-124.sentence-3' class='sentence'>Although another function
<span class='texttt'>F</span>
that
<span class='texttt'>W</span>
did not face
might be at least as good as
<span class='texttt'>W</span>,
<span class='texttt'>F</span>
cannot be the best function because at some point in the
tournament
<span class='texttt'>F</span>
encountered another function
<span class='texttt'>G</span>
such that
<span class='texttt'>F</span>
was not better than
<span class='texttt'>G</span><a class='hidden_link' href='#footnote-124.sentence-3'>.</a></div> <div id='footnote-124.sentence-4' class='sentence'>Hence,
either <span class='texttt'>W</span> is
the best function or there is no best function<a class='hidden_link' href='#footnote-124.sentence-4'>.</a></div> <div id='footnote-124.sentence-5' class='sentence'>So, make a second pass over
the viable
functions to verify that
<span class='texttt'>W</span>
is better than all other functions<a class='hidden_link' href='#footnote-124.sentence-5'>.</a></div> <a href='#footnoteref-124'>⮥</a></div><div id='best.ics' class='section'><h4 ><a class='secnum' href='#best.ics' style='min-width:118pt'>12.4.3.1</a> Implicit conversion sequences <a class='abbr_ref' href='over.best.ics'>[over.best.ics]</a></h4><span class='indexparent'><a class='index' id=':overloading,resolution,implicit_conversions_and'></a></span>
<div class='para' id='best.ics-1'><div class='marginalizedparent'><a class='marginalized' href='#best.ics-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2215'>#</a></div><div id='best.ics-1.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:conversion_sequence,implicit' title='12.4.3.1&emsp;Implicit conversion sequences&emsp;[over.best.ics]'><span id='def:conversion_sequence,implicit'><span class='textit'>implicit conversion sequence</span></span></a>
is a sequence of conversions used
to convert an argument in a function call to the type of the
corresponding parameter of the function being called<a class='hidden_link' href='#best.ics-1.sentence-1'>.</a></div> <div id='best.ics-1.sentence-2' class='sentence'>The
sequence of conversions is an implicit conversion as defined in
<a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>, which means it is governed by the rules for
initialization of an object or reference by a single
expression (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>, <a href='dcl.init.ref' title='9.4.3&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#best.ics-1.sentence-2'>.</a></div></div><div class='para' id='best.ics-2'><div class='marginalizedparent'><a class='marginalized' href='#best.ics-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2226'>#</a></div><div id='best.ics-2.sentence-1' class='sentence'>Implicit conversion sequences are concerned only with the type,
cv-qualification, and value category of the argument and how these
are converted to match the corresponding properties of the
parameter<a class='hidden_link' href='#best.ics-2.sentence-1'>.</a></div> <div id='best.ics-2.note-1' class='note'>[<a class='note_link' href='#best.ics-2.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='best.ics-2.sentence-2' class='sentence'>Other properties, such as the lifetime, storage class,
alignment, accessibility of the argument, whether the argument is a bit-field,
and whether a function is <a href='dcl.fct.def.delete' title='9.5.3&emsp;Deleted definitions&emsp;[dcl.fct.def.delete]'>deleted</a>, are ignored<a class='hidden_link' href='#best.ics-2.sentence-2'>.</a></div> <div id='best.ics-2.sentence-3' class='sentence'>So, although an implicit
conversion sequence can be defined for a given argument-parameter
pair, the conversion from the argument to the parameter might still
be ill-formed in the final analysis<a class='hidden_link' href='#best.ics-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='best.ics-3'><div class='marginalizedparent'><a class='marginalized' href='#best.ics-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2241'>#</a></div><div id='best.ics-3.sentence-1' class='sentence'>A
well-formed implicit conversion
sequence is one of the following forms:
<ul class='itemize'><li id='best.ics-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#best.ics-3.1'>(3.1)</a></div>a <a href='#ics.scs' title='12.4.3.1.1&emsp;Standard conversion sequences&emsp;[over.ics.scs]'>standard conversion sequence</a>,</li><li id='best.ics-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#best.ics-3.2'>(3.2)</a></div>a <a href='#ics.user' title='12.4.3.1.2&emsp;User-defined conversion sequences&emsp;[over.ics.user]'>user-defined conversion sequence</a>, or</li><li id='best.ics-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#best.ics-3.3'>(3.3)</a></div>an <a href='#ics.ellipsis' title='12.4.3.1.3&emsp;Ellipsis conversion sequences&emsp;[over.ics.ellipsis]'>ellipsis conversion sequence</a><a class='hidden_link' href='#best.ics-3.sentence-1'>.</a></li></ul></div></div><div class='para' id='best.ics-4'><div class='marginalizedparent'><a class='marginalized' href='#best.ics-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2254'>#</a></div><div id='best.ics-4.sentence-1' class='sentence'>However, if the target is
<ul class='itemize'><li id='best.ics-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#best.ics-4.1'>(4.1)</a></div>the first parameter of a constructor or</li><li id='best.ics-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#best.ics-4.2'>(4.2)</a></div>the implicit object parameter of a user-defined conversion function</li></ul>
and the constructor or user-defined conversion function is a candidate by
<ul class='itemize'><li id='best.ics-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#best.ics-4.3'>(4.3)</a></div><a href='#match.ctor' title='12.4.1.3&emsp;Initialization by constructor'>[over.<span class='shy'></span>match.<span class='shy'></span>ctor]</a>, when the argument is the temporary in the second
step of a class copy-initialization,</li><li id='best.ics-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#best.ics-4.4'>(4.4)</a></div><a href='#match.copy' title='12.4.1.4&emsp;Copy-initialization of class by user-defined conversion'>[over.<span class='shy'></span>match.<span class='shy'></span>copy]</a>, <a href='#match.conv' title='12.4.1.5&emsp;Initialization by conversion function'>[over.<span class='shy'></span>match.<span class='shy'></span>conv]</a>, or <a href='#match.ref' title='12.4.1.6&emsp;Initialization by conversion function for direct reference binding'>[over.<span class='shy'></span>match.<span class='shy'></span>ref]</a>
(in all cases), or</li><li id='best.ics-4.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#best.ics-4.5'>(4.5)</a></div>the second phase of <a href='#match.list' title='12.4.1.7&emsp;Initialization by list-initialization'>[over.<span class='shy'></span>match.<span class='shy'></span>list]</a>
when the initializer list has exactly one element that
is itself an initializer list, and
the target is the first parameter of a constructor of class <span class='texttt'>X</span>, and
the conversion is to <span class='texttt'>X</span> or reference to <span class='mathit'>cv</span> <span class='texttt'>X</span>,</li></ul>
user-defined conversion sequences are not considered<a class='hidden_link' href='#best.ics-4.sentence-1'>.</a></div> <div id='best.ics-4.note-1' class='note'>[<a class='note_link' href='#best.ics-4.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='best.ics-4.sentence-2' class='sentence'>These rules prevent more than one user-defined conversion from being
applied during overload resolution, thereby avoiding infinite recursion<a class='hidden_link' href='#best.ics-4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div>  <div id='best.ics-4.example-1' class='example'>[<a class='example_link' href='#best.ics-4.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span> Y<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>operator</span> <span class='keyword'>int</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
Y y1 <span class='operator'>=</span> A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;         <span class='comment'>// error: <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator____________________________'></a></span> int()</span> is not a candidate</span>

<span class='keyword'>struct</span> X <span class='curlybracket'>{</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>operator</span> X<span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
B b;
X x<span class='curlybracket'>{</span><span class='curlybracket'>{</span>b<span class='curlybracket'>}</span><span class='curlybracket'>}</span>;           <span class='comment'>// error: <span class='tcode_in_codeblock'>B&#x200b;::&#x200b;<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator_____________________________'></a></span> X()</span> is not a candidate</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='best.ics-5'><div class='marginalizedparent'><a class='marginalized' href='#best.ics-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2290'>#</a></div><div id='best.ics-5.sentence-1' class='sentence'>For the case where the parameter type is a reference, see <a href='#ics.ref' title='12.4.3.1.4&emsp;Reference binding'>[over.<span class='shy'></span>ics.<span class='shy'></span>ref]</a><a class='hidden_link' href='#best.ics-5.sentence-1'>.</a></div></div><div class='para' id='best.ics-6'><div class='marginalizedparent'><a class='marginalized' href='#best.ics-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2293'>#</a></div><div id='best.ics-6.sentence-1' class='sentence'>When the parameter type is not a reference, the implicit conversion
sequence models a copy-initialization of the parameter from the argument
expression<a class='hidden_link' href='#best.ics-6.sentence-1'>.</a></div> <div id='best.ics-6.sentence-2' class='sentence'>The implicit conversion sequence is the one required to convert the
argument expression to a prvalue of the type of
the parameter<a class='hidden_link' href='#best.ics-6.sentence-2'>.</a></div> <div id='best.ics-6.note-1' class='note'>[<a class='note_link' href='#best.ics-6.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='best.ics-6.sentence-3' class='sentence'>When the parameter has a class type, this is a conceptual conversion
defined for the purposes of <a href='#over' title='12&emsp;Overloading'>[over]</a>; the actual initialization is
defined in terms of constructors and is not a conversion<a class='hidden_link' href='#best.ics-6.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div>  <div id='best.ics-6.sentence-4' class='sentence'>
Any difference in top-level cv-qualification is
subsumed by the initialization itself and does not constitute a conversion<a class='hidden_link' href='#best.ics-6.sentence-4'>.</a></div> <div id='best.ics-6.example-1' class='example'>[<a class='example_link' href='#best.ics-6.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <div id='best.ics-6.sentence-5' class='sentence'>A parameter of type
<span class='texttt'>A</span>
can be initialized from an argument of type
<span class='texttt'><span class='keyword'>const</span> A</span><a class='hidden_link' href='#best.ics-6.sentence-5'>.</a></div> <div id='best.ics-6.sentence-6' class='sentence'>The implicit conversion sequence for that case is the identity sequence; it
contains no “conversion” from
<span class='texttt'><span class='keyword'>const</span> A</span>
to
<span class='texttt'>A</span><a class='hidden_link' href='#best.ics-6.sentence-6'>.</a></div> —&nbsp;<i>end example</i>]</div>  <div id='best.ics-6.sentence-7' class='sentence'>
When the parameter has a class type and the argument expression has the
same type, the implicit conversion sequence is an identity conversion<a class='hidden_link' href='#best.ics-6.sentence-7'>.</a></div> <div id='best.ics-6.sentence-8' class='sentence'>When the parameter has a class type and the argument expression has a
derived class type, the implicit conversion sequence is a
derived-to-base
<span class='indexparent'><a class='index' id=':conversion,derived-to-base'></a></span>conversion from the derived class to the base class<a class='hidden_link' href='#best.ics-6.sentence-8'>.</a></div> <div id='best.ics-6.note-2' class='note'>[<a class='note_link' href='#best.ics-6.note-2'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='best.ics-6.sentence-9' class='sentence'>There is no such standard conversion; this derived-to-base conversion exists
only in the description of implicit conversion sequences<a class='hidden_link' href='#best.ics-6.sentence-9'>.</a></div> —&nbsp;<i>end note</i>]</div>  <div id='best.ics-6.sentence-10' class='sentence'>
A derived-to-base conversion has Conversion rank (<a href='#ics.scs' title='12.4.3.1.1&emsp;Standard conversion sequences'>[over.<span class='shy'></span>ics.<span class='shy'></span>scs]</a>)<a class='hidden_link' href='#best.ics-6.sentence-10'>.</a></div></div><div class='para' id='best.ics-7'><div class='marginalizedparent'><a class='marginalized' href='#best.ics-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2331'>#</a></div><div id='best.ics-7.sentence-1' class='sentence'>In all contexts, when converting to the implicit object parameter
or when converting to the left operand of an assignment operation
only standard conversion sequences are allowed<a class='hidden_link' href='#best.ics-7.sentence-1'>.</a></div></div><div class='para' id='best.ics-8'><div class='marginalizedparent'><a class='marginalized' href='#best.ics-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2336'>#</a></div><div id='best.ics-8.sentence-1' class='sentence'>If no conversions are required to match an argument to a
parameter type, the implicit conversion sequence is the standard
conversion sequence consisting of the identity conversion (<a href='#ics.scs' title='12.4.3.1.1&emsp;Standard conversion sequences'>[over.<span class='shy'></span>ics.<span class='shy'></span>scs]</a>)<a class='hidden_link' href='#best.ics-8.sentence-1'>.</a></div></div><div class='para' id='best.ics-9'><div class='marginalizedparent'><a class='marginalized' href='#best.ics-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2341'>#</a></div><div id='best.ics-9.sentence-1' class='sentence'>If no sequence of conversions can be found to convert an argument
to a parameter type, an implicit conversion sequence cannot be formed<a class='hidden_link' href='#best.ics-9.sentence-1'>.</a></div></div><div class='para' id='best.ics-10'><div class='marginalizedparent'><a class='marginalized' href='#best.ics-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2345'>#</a></div><div id='best.ics-10.sentence-1' class='sentence'>If there are multiple well-formed implicit conversion sequences
converting the argument to the parameter type, the implicit
conversion sequence associated with the parameter is defined to be
the unique conversion sequence designated the
<a class='hidden_link' href='#def:conversion_sequence,ambiguous' title='12.4.3.1&emsp;Implicit conversion sequences&emsp;[over.best.ics]'><span id='def:conversion_sequence,ambiguous'><span class='textit'>ambiguous conversion sequence</span></span></a><a class='hidden_link' href='#best.ics-10.sentence-1'>.</a></div> <div id='best.ics-10.sentence-2' class='sentence'>For the purpose of ranking implicit conversion sequences as described
in <a href='#ics.rank' title='12.4.3.2&emsp;Ranking implicit conversion sequences'>[over.<span class='shy'></span>ics.<span class='shy'></span>rank]</a>, the ambiguous conversion sequence is treated
as a user-defined conversion sequence that is indistinguishable from any
other user-defined conversion sequence<a class='hidden_link' href='#best.ics-10.sentence-2'>.</a></div> <div id='best.ics-10.note-1' class='note'>[<a class='note_link' href='#best.ics-10.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='best.ics-10.sentence-3' class='sentence'>This rule prevents a function from becoming non-viable because of an ambiguous
conversion sequence for one of its parameters<a class='hidden_link' href='#best.ics-10.sentence-3'>.</a></div> <div id='best.ics-10.example-1' class='example'>[<a class='example_link' href='#best.ics-10.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>class</span> B;
<span class='keyword'>class</span> A <span class='curlybracket'>{</span> A <span class='parenthesis'>(</span>B<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;<span class='curlybracket'>}</span>;
<span class='keyword'>class</span> B <span class='curlybracket'>{</span> <span class='keyword'>operator</span> A <span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>class</span> C <span class='curlybracket'>{</span> C <span class='parenthesis'>(</span>B<span class='operator'>&amp;</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
B b;
f<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>;               <span class='comment'>// error: ambiguous because there is a conversion <span class='tcode_in_codeblock'>b</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>C</span> (via constructor)</span>
                    <span class='comment'>// and an (ambiguous) conversion <span class='tcode_in_codeblock'>b</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>A</span> (via constructor or conversion function)</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>B<span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>
f<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>;               <span class='comment'>// OK, unambiguous</span>
</pre> —&nbsp;<i>end example</i>]</div>  —&nbsp;<i>end note</i>]</div>  <div id='best.ics-10.sentence-4' class='sentence'>
If a function that uses the ambiguous conversion sequence is selected
as the best viable function, the call will be ill-formed because the conversion
of one of the arguments in the call is ambiguous<a class='hidden_link' href='#best.ics-10.sentence-4'>.</a></div></div><div class='para' id='best.ics-11'><div class='marginalizedparent'><a class='marginalized' href='#best.ics-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2378'>#</a></div><div id='best.ics-11.sentence-1' class='sentence'>The three forms of implicit conversion sequences mentioned above
are defined in the following subclauses<a class='hidden_link' href='#best.ics-11.sentence-1'>.</a></div></div><div id='ics.scs' class='section'><h4 ><a class='secnum' href='#ics.scs' style='min-width:133pt'>12.4.3.1.1</a> Standard conversion sequences <a class='abbr_ref' href='over.ics.scs'>[over.ics.scs]</a></h4><div class='para' id='ics.scs-1'><div class='marginalizedparent'><a class='marginalized' href='#ics.scs-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2384'>#</a></div><div id='ics.scs-1.sentence-1' class='sentence'>Table <a href='#tab:over.ics.scs' title='Table 16: Conversions &emsp;&ensp;[tab:over.ics.scs]'>16</a>
summarizes the conversions defined in <a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a> and
partitions them into four disjoint categories: Lvalue Transformation,
Qualification Adjustment, Promotion, and Conversion<a class='hidden_link' href='#ics.scs-1.sentence-1'>.</a></div> <div id='ics.scs-1.note-1' class='note'>[<a class='note_link' href='#ics.scs-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='ics.scs-1.sentence-2' class='sentence'>These categories are orthogonal with respect to value category,
cv-qualification, and data representation: the Lvalue Transformations
do not change the cv-qualification or data
representation of the type; the Qualification Adjustments do not
change the value category or data representation of the type; and
the Promotions and Conversions do not change the
value category or cv-qualification of the type<a class='hidden_link' href='#ics.scs-1.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='ics.scs-2'><div class='marginalizedparent'><a class='marginalized' href='#ics.scs-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2399'>#</a></div><div id='ics.scs-2.note-1' class='note'>[<a class='note_link' href='#ics.scs-2.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='ics.scs-2.sentence-1' class='sentence'>As described in <a href='conv' title='7.3&emsp;Standard conversions'>[conv]</a>,
a standard conversion sequence either is the Identity conversion
by itself (that is, no conversion) or consists of one to three
conversions from the other
four categories<a class='hidden_link' href='#ics.scs-2.sentence-1'>.</a></div> <div id='ics.scs-2.sentence-2' class='sentence'>If there are two or more conversions in the sequence, the
conversions are applied in the canonical order:
<b>Lvalue Transformation</b>,
<b>Promotion</b>
or
<b>Conversion</b>,
<b>Qualification Adjustment</b><a class='hidden_link' href='#ics.scs-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='ics.scs-3'><div class='marginalizedparent'><a class='marginalized' href='#ics.scs-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2415'>#</a></div><div id='ics.scs-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':conversion_rank'></a></span>Each conversion in Table <a href='#tab:over.ics.scs' title='Table 16: Conversions &emsp;&ensp;[tab:over.ics.scs]'>16</a>
also has an associated rank (Exact
Match, Promotion, or Conversion)<a class='hidden_link' href='#ics.scs-3.sentence-1'>.</a></div> <div id='ics.scs-3.sentence-2' class='sentence'>These are used
to <a href='#ics.rank' title='12.4.3.2&emsp;Ranking implicit conversion sequences&emsp;[over.ics.rank]'>rank standard conversion sequences</a><a class='hidden_link' href='#ics.scs-3.sentence-2'>.</a></div> <div id='ics.scs-3.sentence-3' class='sentence'>The rank of a conversion sequence is determined by considering the
rank of each conversion in the sequence and the rank of any <a href='#ics.ref' title='12.4.3.1.4&emsp;Reference binding&emsp;[over.ics.ref]'>reference
binding</a><a class='hidden_link' href='#ics.scs-3.sentence-3'>.</a></div> <div id='ics.scs-3.sentence-4' class='sentence'>If any of those has Conversion rank, the
sequence has Conversion rank; otherwise, if any of those has Promotion rank,
the sequence has Promotion rank; otherwise, the sequence has Exact
Match rank<a class='hidden_link' href='#ics.scs-3.sentence-4'>.</a></div><div class='numberedTable' id='tab:over.ics.scs'>Table <a href='#tab:over.ics.scs'>16</a>: Conversions &emsp;&ensp;[tab:over.ics.scs]<br><table ><tr class='rowsep'><td class='left'><div id='ics.scs-3.sentence-5' class='sentence'><b>Conversion</b></div></td><td class='border center'><div id='ics.scs-3.sentence-6' class='sentence'><b>Category</b></div></td><td class='border center'><div id='ics.scs-3.sentence-7' class='sentence'><b>Rank</b></div></td><td class='border center'><div id='ics.scs-3.sentence-8' class='sentence'><b>Subclause</b></div></td></tr><tr class='capsep'><td class='left'><div id='ics.scs-3.sentence-9' class='sentence'>No conversions required</div></td><td class='border center'><div id='ics.scs-3.sentence-10' class='sentence'>Identity</div></td><td class='empty border center'></td><td class='empty border center'></td></tr><tr ><td class='left cline'><div id='ics.scs-3.sentence-11' class='sentence'>
Lvalue-to-rvalue conversion</div></td><td class='empty border center cline'></td><td class='empty border center'></td><td class='border center cline'><div id='ics.scs-3.sentence-12' class='sentence'><a href='conv.lval' title='7.3.1&emsp;Lvalue-to-rvalue conversion'>[conv.<span class='shy'></span>lval]</a></div></td></tr><tr ><td class='left cline'><div id='ics.scs-3.sentence-13' class='sentence'>
Array-to-pointer conversion</div></td><td class='border center'><div id='ics.scs-3.sentence-14' class='sentence'>Lvalue Transformation</div></td><td class='empty border center'></td><td class='border center cline'><div id='ics.scs-3.sentence-15' class='sentence'><a href='conv.array' title='7.3.2&emsp;Array-to-pointer conversion'>[conv.<span class='shy'></span>array]</a></div></td></tr><tr ><td class='left cline'><div id='ics.scs-3.sentence-16' class='sentence'>
Function-to-pointer conversion</div></td><td class='empty border center'></td><td class='border center'><span style='position: relative; top: -1.5ex'>Exact Match</span></td><td class='border center cline'><div id='ics.scs-3.sentence-17' class='sentence'><a href='conv.func' title='7.3.3&emsp;Function-to-pointer conversion'>[conv.<span class='shy'></span>func]</a></div></td></tr><tr ><td class='left cline'><div id='ics.scs-3.sentence-18' class='sentence'>
Qualification conversions</div></td><td class='empty border center cline'></td><td class='empty border center'></td><td class='border center cline'><div id='ics.scs-3.sentence-19' class='sentence'><a href='conv.qual' title='7.3.5&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a></div></td></tr><tr ><td class='left cline'><div id='ics.scs-3.sentence-20' class='sentence'>
Function pointer conversion</div></td><td class='border center'><span style='position: relative; top: -1.5ex'>Qualification Adjustment</span></td><td class='empty border center'></td><td class='border center cline'><div id='ics.scs-3.sentence-21' class='sentence'><a href='conv.fctptr' title='7.3.13&emsp;Function pointer conversions'>[conv.<span class='shy'></span>fctptr]</a></div></td></tr><tr class='rowsep'><td class='left'><div id='ics.scs-3.sentence-22' class='sentence'>Integral promotions</div></td><td class='empty border center'></td><td class='empty border center'></td><td class='border center'><div id='ics.scs-3.sentence-23' class='sentence'><a href='conv.prom' title='7.3.6&emsp;Integral promotions'>[conv.<span class='shy'></span>prom]</a></div></td></tr><tr ><td class='left cline'><div id='ics.scs-3.sentence-24' class='sentence'>
Floating-point promotion</div></td><td class='border center'><span style='position: relative; top: -1.5ex'>Promotion</span></td><td class='border center'><span style='position: relative; top: -1.5ex'>Promotion</span></td><td class='border center cline'><div id='ics.scs-3.sentence-25' class='sentence'><a href='conv.fpprom' title='7.3.7&emsp;Floating-point promotion'>[conv.<span class='shy'></span>fpprom]</a></div></td></tr><tr class='rowsep'><td class='left'><div id='ics.scs-3.sentence-26' class='sentence'>Integral conversions</div></td><td class='empty border center'></td><td class='empty border center'></td><td class='border center'><div id='ics.scs-3.sentence-27' class='sentence'><a href='conv.integral' title='7.3.8&emsp;Integral conversions'>[conv.<span class='shy'></span>integral]</a></div></td></tr><tr ><td class='left cline'><div id='ics.scs-3.sentence-28' class='sentence'>
Floating-point conversions</div></td><td class='empty border center'></td><td class='empty border center'></td><td class='border center cline'><div id='ics.scs-3.sentence-29' class='sentence'><a href='conv.double' title='7.3.9&emsp;Floating-point conversions'>[conv.<span class='shy'></span>double]</a></div></td></tr><tr ><td class='left cline'><div id='ics.scs-3.sentence-30' class='sentence'>
Floating-integral conversions</div></td><td class='empty border center'></td><td class='empty border center'></td><td class='border center cline'><div id='ics.scs-3.sentence-31' class='sentence'><a href='conv.fpint' title='7.3.10&emsp;Floating-integral conversions'>[conv.<span class='shy'></span>fpint]</a></div></td></tr><tr ><td class='left cline'><div id='ics.scs-3.sentence-32' class='sentence'>
Pointer conversions</div></td><td class='border center'><span style='position: relative; top: -1.5ex'>Conversion</span></td><td class='border center'><span style='position: relative; top: -1.5ex'>Conversion</span></td><td class='border center cline'><div id='ics.scs-3.sentence-33' class='sentence'><a href='conv.ptr' title='7.3.11&emsp;Pointer conversions'>[conv.<span class='shy'></span>ptr]</a></div></td></tr><tr ><td class='left cline'><div id='ics.scs-3.sentence-34' class='sentence'>
Pointer-to-member conversions</div></td><td class='empty border center'></td><td class='empty border center'></td><td class='border center cline'><div id='ics.scs-3.sentence-35' class='sentence'><a href='conv.mem' title='7.3.12&emsp;Pointer-to-member conversions'>[conv.<span class='shy'></span>mem]</a></div></td></tr><tr ><td class='left cline'><div id='ics.scs-3.sentence-36' class='sentence'>
Boolean conversions</div></td><td class='empty border center'></td><td class='empty border center'></td><td class='border center cline'><div id='ics.scs-3.sentence-37' class='sentence'><a href='conv.bool' title='7.3.14&emsp;Boolean conversions'>[conv.<span class='shy'></span>bool]</a></div></td></tr></table></div></div></div><div id='ics.user' class='section'><h4 ><a class='secnum' href='#ics.user' style='min-width:133pt'>12.4.3.1.2</a> User-defined conversion sequences <a class='abbr_ref' href='over.ics.user'>[over.ics.user]</a></h4><div class='para' id='ics.user-1'><div class='marginalizedparent'><a class='marginalized' href='#ics.user-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2451'>#</a></div><div id='ics.user-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:conversion_sequence,user-defined' title='12.4.3.1.2&emsp;User-defined conversion sequences&emsp;[over.ics.user]'><span id='def:conversion_sequence,user-defined'><span class='textit'>user-defined conversion sequence</span></span></a> consists of an initial
standard conversion sequence followed by a user-defined
conversion (<a href='class.conv' title='11.4.7&emsp;Conversions'>[class.<span class='shy'></span>conv]</a>) followed by a second standard
conversion sequence<a class='hidden_link' href='#ics.user-1.sentence-1'>.</a></div> <div id='ics.user-1.sentence-2' class='sentence'>If the user-defined conversion is <a href='class.conv.ctor' title='11.4.7.1&emsp;Conversion by constructor&emsp;[class.conv.ctor]'>specified
by a constructor</a>, the initial standard
conversion sequence converts the source type to the type required
by the argument of the constructor<a class='hidden_link' href='#ics.user-1.sentence-2'>.</a></div> <div id='ics.user-1.sentence-3' class='sentence'>If the user-defined
conversion is specified by a <a href='class.conv.fct' title='11.4.7.2&emsp;Conversion functions&emsp;[class.conv.fct]'>conversion function</a>, the
initial standard conversion sequence
converts the source type to the implicit object parameter of the
conversion function<a class='hidden_link' href='#ics.user-1.sentence-3'>.</a></div></div><div class='para' id='ics.user-2'><div class='marginalizedparent'><a class='marginalized' href='#ics.user-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2466'>#</a></div><div id='ics.user-2.sentence-1' class='sentence'>The second standard conversion sequence converts the result of
the user-defined conversion to the target type for the sequence;
any reference binding is included in the second standard
conversion sequence<a class='hidden_link' href='#ics.user-2.sentence-1'>.</a></div> <div id='ics.user-2.sentence-2' class='sentence'>Since an implicit conversion sequence is an initialization, the
special rules for initialization by user-defined conversion apply
when selecting the best user-defined conversion for a
user-defined conversion sequence (see <a href='#match.best' title='12.4.3&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a> and <a href='#best.ics' title='12.4.3.1&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>)<a class='hidden_link' href='#ics.user-2.sentence-2'>.</a></div></div><div class='para' id='ics.user-3'><div class='marginalizedparent'><a class='marginalized' href='#ics.user-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2476'>#</a></div><div id='ics.user-3.sentence-1' class='sentence'>If the user-defined conversion is specified by a
specialization of a conversion function template,
the second standard conversion sequence shall have exact match rank<a class='hidden_link' href='#ics.user-3.sentence-1'>.</a></div></div><div class='para' id='ics.user-4'><div class='marginalizedparent'><a class='marginalized' href='#ics.user-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2481'>#</a></div><div id='ics.user-4.sentence-1' class='sentence'>A conversion of an expression of class type
to the same class type is given Exact Match rank, and
a conversion of an expression of class type
to a base class of that type is given Conversion rank,
in spite of the
fact that a constructor (i.e., a user-defined conversion
function) is called for those cases<a class='hidden_link' href='#ics.user-4.sentence-1'>.</a></div></div></div><div id='ics.ellipsis' class='section'><h4 ><a class='secnum' href='#ics.ellipsis' style='min-width:133pt'>12.4.3.1.3</a> Ellipsis conversion sequences <a class='abbr_ref' href='over.ics.ellipsis'>[over.ics.ellipsis]</a></h4><div class='para' id='ics.ellipsis-1'><div class='marginalizedparent'><a class='marginalized' href='#ics.ellipsis-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2492'>#</a></div><div id='ics.ellipsis-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':ellipsis,conversion_sequence'></a></span>An ellipsis conversion sequence occurs when an argument in a
function call is matched with the ellipsis parameter
specification of the function called (see <a href='expr.call' title='7.6.1.2&emsp;Function call'>[expr.<span class='shy'></span>call]</a>)<a class='hidden_link' href='#ics.ellipsis-1.sentence-1'>.</a></div></div></div><div id='ics.ref' class='section'><h4 ><a class='secnum' href='#ics.ref' style='min-width:133pt'>12.4.3.1.4</a> Reference binding <a class='abbr_ref' href='over.ics.ref'>[over.ics.ref]</a></h4><div class='para' id='ics.ref-1'><div class='marginalizedparent'><a class='marginalized' href='#ics.ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2500'>#</a></div><div id='ics.ref-1.sentence-1' class='sentence'>When a parameter of reference type <a href='dcl.init.ref' title='9.4.3&emsp;References&emsp;[dcl.init.ref]'>binds directly</a> to an
argument expression, the implicit conversion sequence is the identity conversion,
unless the argument expression has a type that is a derived class of the parameter
type, in which case the implicit conversion sequence is a derived-to-base
conversion (<a href='#best.ics' title='12.4.3.1&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>)<a class='hidden_link' href='#ics.ref-1.sentence-1'>.</a></div> <div id='ics.ref-1.example-1' class='example'>[<a class='example_link' href='#ics.ref-1.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>public</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span> b;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span>A<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span>B<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> i <span class='operator'>=</span> f<span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>;       <span class='comment'>// calls <span class='tcode_in_codeblock'>f(B&amp;)</span>, an exact match, rather than <span class='tcode_in_codeblock'>f(A&amp;)</span>, a conversion</span>
</pre> —&nbsp;<i>end example</i>]</div>  <div id='ics.ref-1.sentence-2' class='sentence'>
If the parameter binds directly to the result of
applying a conversion function to the argument expression, the implicit
conversion sequence is a <a href='#ics.user' title='12.4.3.1.2&emsp;User-defined conversion sequences&emsp;[over.ics.user]'>user-defined conversion sequence</a>,
with the second standard conversion sequence either an identity conversion or,
if the conversion function returns an entity of a type that is a derived class
of the parameter type, a derived-to-base conversion<a class='hidden_link' href='#ics.ref-1.sentence-2'>.</a></div></div><div class='para' id='ics.ref-2'><div class='marginalizedparent'><a class='marginalized' href='#ics.ref-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2522'>#</a></div><div id='ics.ref-2.sentence-1' class='sentence'>When a parameter of reference type is not bound directly to an argument
expression, the conversion sequence is the one required to convert the argument
expression to the referenced type according to <a href='#best.ics' title='12.4.3.1&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a><a class='hidden_link' href='#ics.ref-2.sentence-1'>.</a></div> <div id='ics.ref-2.sentence-2' class='sentence'>Conceptually, this conversion sequence corresponds to copy-initializing a
temporary of the referenced type with the argument expression<a class='hidden_link' href='#ics.ref-2.sentence-2'>.</a></div> <div id='ics.ref-2.sentence-3' class='sentence'>Any difference
in top-level cv-qualification is subsumed by the initialization itself and
does not constitute a conversion<a class='hidden_link' href='#ics.ref-2.sentence-3'>.</a></div></div><div class='para' id='ics.ref-3'><div class='marginalizedparent'><a class='marginalized' href='#ics.ref-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2532'>#</a></div><div id='ics.ref-3.sentence-1' class='sentence'>Except for an implicit object parameter, for which see <a href='#match.funcs' title='12.4.1&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a>,
an implicit conversion sequence cannot be formed if it requires
binding an lvalue reference
other than a reference to a non-volatile <span class='texttt'><span class='keyword'>const</span></span> type
to an rvalue
or binding an rvalue reference to an lvalue other than a function lvalue<a class='hidden_link' href='#ics.ref-3.sentence-1'>.</a></div> <div id='ics.ref-3.note-1' class='note'>[<a class='note_link' href='#ics.ref-3.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='ics.ref-3.sentence-2' class='sentence'>This means, for example, that a candidate function cannot be a viable
function if it has a non-<span class='texttt'><span class='keyword'>const</span></span> lvalue reference parameter (other than
the implicit object parameter) and the corresponding argument
would require a temporary to be created to initialize the lvalue
reference (see <a href='dcl.init.ref' title='9.4.3&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#ics.ref-3.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='ics.ref-4'><div class='marginalizedparent'><a class='marginalized' href='#ics.ref-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2547'>#</a></div><div id='ics.ref-4.sentence-1' class='sentence'>Other restrictions on binding a reference to a particular argument
that are not based on the types of the reference and the argument
do not affect the formation of an implicit conversion
sequence, however<a class='hidden_link' href='#ics.ref-4.sentence-1'>.</a></div> <div id='ics.ref-4.example-1' class='example'>[<a class='example_link' href='#ics.ref-4.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <div id='ics.ref-4.sentence-2' class='sentence'>A function with an “lvalue reference to <span class='texttt'><span class='keyword'>int</span></span>” parameter can
be a viable candidate even if the corresponding argument is an
<span class='texttt'><span class='keyword'>int</span></span>
bit-field<a class='hidden_link' href='#ics.ref-4.sentence-2'>.</a></div> <div id='ics.ref-4.sentence-3' class='sentence'>The formation of implicit conversion sequences
treats the
<span class='texttt'><span class='keyword'>int</span></span>
bit-field as an
<span class='texttt'><span class='keyword'>int</span></span>
lvalue and finds an exact
match with the parameter<a class='hidden_link' href='#ics.ref-4.sentence-3'>.</a></div> <div id='ics.ref-4.sentence-4' class='sentence'>If the function is selected by overload
resolution, the call will nonetheless be ill-formed because of
the prohibition on binding a non-<span class='texttt'><span class='keyword'>const</span></span> lvalue reference to a bit-field (<a href='dcl.init.ref' title='9.4.3&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>)<a class='hidden_link' href='#ics.ref-4.sentence-4'>.</a></div> —&nbsp;<i>end example</i>]</div> </div></div><div id='ics.list' class='section'><h4 ><a class='secnum' href='#ics.list' style='min-width:133pt'>12.4.3.1.5</a> List-initialization sequence <a class='abbr_ref' href='over.ics.list'>[over.ics.list]</a></h4><div class='para' id='ics.list-1'><div class='marginalizedparent'><a class='marginalized' href='#ics.list-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2571'>#</a></div><div id='ics.list-1.sentence-1' class='sentence'>When an argument is an initializer list (<a href='dcl.init.list' title='9.4.4&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>), it is not an expression and special rules apply for converting it to a parameter type<a class='hidden_link' href='#ics.list-1.sentence-1'>.</a></div></div><div class='para' id='ics.list-2'><div class='marginalizedparent'><a class='marginalized' href='#ics.list-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2575'>#</a></div><div id='ics.list-2.sentence-1' class='sentence'>If the initializer list is a <a href='dcl.init#nt:designated-initializer-list' title='9.4&emsp;Initializers&emsp;[dcl.init]'><span id='ntref:designated-initializer-list_'><span class='textsf'><span class='textit'>designated-initializer-list</span></span></span></a>,
a conversion is only possible if
the parameter has an aggregate type
that can be initialized from the initializer list
according to the rules for aggregate initialization (<a href='dcl.init.aggr' title='9.4.1&emsp;Aggregates'>[dcl.<span class='shy'></span>init.<span class='shy'></span>aggr]</a>),
in which case the implicit conversion sequence is
a user-defined conversion sequence
whose second standard conversion sequence
is an identity conversion<a class='hidden_link' href='#ics.list-2.sentence-1'>.</a></div> <div id='ics.list-2.note-1' class='note'>[<a class='note_link' href='#ics.list-2.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='ics.list-2.sentence-2' class='sentence'>Aggregate initialization does not require that
the members are declared in designation order<a class='hidden_link' href='#ics.list-2.sentence-2'>.</a></div> <div id='ics.list-2.sentence-3' class='sentence'>If, after overload resolution, the order does not match
for the selected overload,
the initialization of the parameter will be ill-formed (<a href='dcl.init.list' title='9.4.4&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>)<a class='hidden_link' href='#ics.list-2.sentence-3'>.</a></div> <div id='ics.list-2.example-1' class='example'>[<a class='example_link' href='#ics.list-2.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span> <span class='keyword'>int</span> x, y; <span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span> <span class='keyword'>int</span> y, x; <span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>A a, <span class='keyword'>int</span><span class='parenthesis'>)</span>;               <span class='comment'>// #1</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>B b, <span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;               <span class='comment'>// #2</span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>A a<span class='parenthesis'>)</span>;                    <span class='comment'>// #3</span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>B b<span class='parenthesis'>)</span>;                    <span class='comment'>// #4</span>
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  f<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='operator'>.</span>x <span class='operator'>=</span> <span class='literal'>1</span>, <span class='operator'>.</span>y <span class='operator'>=</span> <span class='literal'>2</span><span class='curlybracket'>}</span>, <span class='literal'>0</span><span class='parenthesis'>)</span>;       <span class='comment'>// OK; calls #1</span>
  f<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='operator'>.</span>y <span class='operator'>=</span> <span class='literal'>2</span>, <span class='operator'>.</span>x <span class='operator'>=</span> <span class='literal'>1</span><span class='curlybracket'>}</span>, <span class='literal'>0</span><span class='parenthesis'>)</span>;       <span class='comment'>// error: selects #1, initialization of <span class='tcode_in_codeblock'>a</span> fails</span>
                                <span class='comment'>// due to non-matching member order (<a href='dcl.init.list' title='9.4.4&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>)</span>
  g<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='operator'>.</span>x <span class='operator'>=</span> <span class='literal'>1</span>, <span class='operator'>.</span>y <span class='operator'>=</span> <span class='literal'>2</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;          <span class='comment'>// error: ambiguous between #3 and #4</span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div>  —&nbsp;<i>end note</i>]</div> </div><div class='para' id='ics.list-3'><div class='marginalizedparent'><a class='marginalized' href='#ics.list-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2609'>#</a></div><div id='ics.list-3.sentence-1' class='sentence'>Otherwise,
if the parameter type is an aggregate class <span class='texttt'>X</span> and the initializer list has a
single element of type <span class='mathit'>cv</span> <span class='texttt'>U</span>, where <span class='texttt'>U</span> is <span class='texttt'>X</span>
or a class derived from <span class='texttt'>X</span>, the implicit conversion sequence is the one
required to convert the element to the parameter type<a class='hidden_link' href='#ics.list-3.sentence-1'>.</a></div></div><div class='para' id='ics.list-4'><div class='marginalizedparent'><a class='marginalized' href='#ics.list-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2616'>#</a></div><div id='ics.list-4.sentence-1' class='sentence'>Otherwise, if the parameter type is a character array<a class='footnotenum' href='#footnote-125' id='footnoteref-125' title='Since there are no parameters of array type, this will only occur as the referenced type of a reference parameter.'>125</a>
and the initializer list has a single element that is an appropriately-typed
<a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal_'><span class='textsf'><span class='textit'>string-literal</span></span></span></a> (<a href='dcl.init.string' title='9.4.2&emsp;Character arrays'>[dcl.<span class='shy'></span>init.<span class='shy'></span>string]</a>), the implicit conversion
sequence is the identity conversion<a class='hidden_link' href='#ics.list-4.sentence-1'>.</a></div></div><div class='para' id='ics.list-5'><div class='marginalizedparent'><a class='marginalized' href='#ics.list-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2624'>#</a></div><div id='ics.list-5.sentence-1' class='sentence'>Otherwise, if the parameter type is <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>initializer_&shy;list<span class='anglebracket'>&lt;</span>X<span class='anglebracket'>&gt;</span></span>
and all the elements
of the initializer list can be implicitly converted to <span class='texttt'>X</span>, the implicit
conversion sequence is the worst conversion necessary to convert an element of
the list to <span class='texttt'>X</span>, or if the initializer list has no elements, the identity
conversion<a class='hidden_link' href='#ics.list-5.sentence-1'>.</a></div> <div id='ics.list-5.sentence-2' class='sentence'>This conversion can be a user-defined conversion even in
the context of a call to an initializer-list constructor<a class='hidden_link' href='#ics.list-5.sentence-2'>.</a></div> <div id='ics.list-5.example-1' class='example'>[<a class='example_link' href='#ics.list-5.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;                        <span class='comment'>// OK: <span class='tcode_in_codeblock'>f(initializer_&shy;list&lt;int&gt;)</span> identity conversion</span>
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>1</span>,<span class='literal'>2</span>,<span class='literal'>3</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;                   <span class='comment'>// OK: <span class='tcode_in_codeblock'>f(initializer_&shy;list&lt;int&gt;)</span> identity conversion</span>
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>'a'</span>,<span class='literal'>'b'</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;                 <span class='comment'>// OK: <span class='tcode_in_codeblock'>f(initializer_&shy;list&lt;int&gt;)</span> integral promotion</span>
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>1.0</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;                     <span class='comment'>// error: narrowing</span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;             <span class='comment'>// #1</span>
  A<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span>complex<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;    <span class='comment'>// #2</span>
  A<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>string<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;        <span class='comment'>// #3</span>
<span class='curlybracket'>}</span>;
A a<span class='curlybracket'>{</span> <span class='literal'>1.0</span>,<span class='literal'>2.0</span> <span class='curlybracket'>}</span>;                 <span class='comment'>// OK, uses #1</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span>A<span class='parenthesis'>)</span>;
g<span class='parenthesis'>(</span><span class='curlybracket'>{</span> <span class='literal'>"foo"</span>, <span class='literal'>"bar"</span> <span class='curlybracket'>}</span><span class='parenthesis'>)</span>;            <span class='comment'>// OK, uses #3</span>

<span class='keyword'>typedef</span> <span class='keyword'>int</span> IA<span class='squarebracket'>[</span><span class='literal'>3</span><span class='squarebracket'>]</span>;
<span class='keyword'>void</span> h<span class='parenthesis'>(</span><span class='keyword'>const</span> IA<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
h<span class='parenthesis'>(</span><span class='curlybracket'>{</span> <span class='literal'>1</span>, <span class='literal'>2</span>, <span class='literal'>3</span> <span class='curlybracket'>}</span><span class='parenthesis'>)</span>;                 <span class='comment'>// OK: identity conversion</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='ics.list-6'><div class='marginalizedparent'><a class='marginalized' href='#ics.list-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2656'>#</a></div><div id='ics.list-6.sentence-1' class='sentence'>Otherwise, if the parameter type is “array of <span class='texttt'>N</span> <span class='texttt'>X</span>”
or “array of unknown bound of <span class='texttt'>X</span>”,
if there exists an implicit conversion sequence
from each element of the initializer list
(and from <span class='texttt'><span class='curlybracket'>{</span><span class='curlybracket'>}</span></span> in the former case
if <span class='texttt'>N</span> exceeds the number of elements in the initializer list)
to <span class='texttt'>X</span>, the implicit conversion sequence is
the worst such implicit conversion sequence<a class='hidden_link' href='#ics.list-6.sentence-1'>.</a></div></div><div class='para' id='ics.list-7'><div class='marginalizedparent'><a class='marginalized' href='#ics.list-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2666'>#</a></div><div id='ics.list-7.sentence-1' class='sentence'>Otherwise, if the parameter is a non-aggregate class <span class='texttt'>X</span> and overload
resolution per <a href='#match.list' title='12.4.1.7&emsp;Initialization by list-initialization'>[over.<span class='shy'></span>match.<span class='shy'></span>list]</a> chooses a single best constructor <span class='texttt'>C</span> of
<span class='texttt'>X</span> to perform the initialization of an object of type <span class='texttt'>X</span> from the
argument initializer list:
<ul class='itemize'><li id='ics.list-7.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.list-7.1'>(7.1)</a></div><div id='ics.list-7.1.sentence-1' class='sentence'>If <span class='texttt'>C</span> is not an initializer-list constructor
and the initializer list has a single element of type <span class='mathit'>cv</span> <span class='texttt'>U</span>,
where <span class='texttt'>U</span> is <span class='texttt'>X</span> or a class derived from <span class='texttt'>X</span>,
the implicit conversion sequence has Exact Match rank if <span class='texttt'>U</span> is <span class='texttt'>X</span>,
or Conversion rank if <span class='texttt'>U</span> is derived from <span class='texttt'>X</span><a class='hidden_link' href='#ics.list-7.1.sentence-1'>.</a></div></li><li id='ics.list-7.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.list-7.2'>(7.2)</a></div><div id='ics.list-7.2.sentence-1' class='sentence'>Otherwise, the implicit conversion sequence is a user-defined
conversion sequence with the second standard conversion sequence an
identity conversion<a class='hidden_link' href='#ics.list-7.2.sentence-1'>.</a></div></li></ul></div> <div id='ics.list-7.sentence-2' class='sentence'>
If multiple constructors are viable but none is better than
the others, the implicit conversion sequence is the ambiguous conversion
sequence<a class='hidden_link' href='#ics.list-7.sentence-2'>.</a></div> <div id='ics.list-7.sentence-3' class='sentence'>User-defined conversions are allowed for conversion of the initializer
list elements to the constructor parameter types except as noted
in <a href='#best.ics' title='12.4.3.1&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a><a class='hidden_link' href='#ics.list-7.sentence-3'>.</a></div> <div id='ics.list-7.example-1' class='example'>[<a class='example_link' href='#ics.list-7.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='parenthesis'>)</span>;
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>'a'</span>, <span class='literal'>'b'</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;        <span class='comment'>// OK: <span class='tcode_in_codeblock'>f(A(std&#x200b;::&#x200b;initializer_&shy;list&lt;int&gt;))</span> user-defined conversion</span>

<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  B<span class='parenthesis'>(</span><span class='keyword'>int</span>, <span class='keyword'>double</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span>B<span class='parenthesis'>)</span>;
g<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>'a'</span>, <span class='literal'>'b'</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;        <span class='comment'>// OK: <span class='tcode_in_codeblock'>g(B(int, double))</span> user-defined conversion</span>
g<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>1.0</span>, <span class='literal'>1.0</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;        <span class='comment'>// error: narrowing</span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>B<span class='parenthesis'>)</span>;
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>'a'</span>, <span class='literal'>'b'</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;        <span class='comment'>// error: ambiguous <span class='tcode_in_codeblock'>f(A)</span> or <span class='tcode_in_codeblock'>f(B)</span></span>

<span class='keyword'>struct</span> C <span class='curlybracket'>{</span>
  C<span class='parenthesis'>(</span>std<span class='operator'>::</span>string<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> h<span class='parenthesis'>(</span>C<span class='parenthesis'>)</span>;
h<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='literal'>"foo"</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;             <span class='comment'>// OK: <span class='tcode_in_codeblock'>h(C(std&#x200b;::&#x200b;string("foo")))</span></span>

<span class='keyword'>struct</span> D <span class='curlybracket'>{</span>
  D<span class='parenthesis'>(</span>A, C<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> i<span class='parenthesis'>(</span>D<span class='parenthesis'>)</span>;
i<span class='parenthesis'>(</span><span class='curlybracket'>{</span> <span class='curlybracket'>{</span><span class='literal'>1</span>,<span class='literal'>2</span><span class='curlybracket'>}</span>, <span class='curlybracket'>{</span><span class='literal'>"bar"</span><span class='curlybracket'>}</span> <span class='curlybracket'>}</span><span class='parenthesis'>)</span>;  <span class='comment'>// OK: <span class='tcode_in_codeblock'>i(D(A(std&#x200b;::&#x200b;initializer_&shy;list&lt;int&gt;{1,2}), C(std&#x200b;::&#x200b;string("bar"))))</span></span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='ics.list-8'><div class='marginalizedparent'><a class='marginalized' href='#ics.list-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2720'>#</a></div><div id='ics.list-8.sentence-1' class='sentence'>Otherwise, if the parameter has an aggregate type which can be initialized from
the initializer list according to the rules for <a href='dcl.init.aggr' title='9.4.1&emsp;Aggregates&emsp;[dcl.init.aggr]'>aggregate
initialization</a>, the implicit conversion sequence is a
user-defined conversion sequence with the second standard conversion
sequence an identity conversion<a class='hidden_link' href='#ics.list-8.sentence-1'>.</a></div> <div id='ics.list-8.example-1' class='example'>[<a class='example_link' href='#ics.list-8.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m1;
  <span class='keyword'>double</span> m2;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>A<span class='parenthesis'>)</span>;
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>'a'</span>, <span class='literal'>'b'</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;        <span class='comment'>// OK: <span class='tcode_in_codeblock'>f(A(int,double))</span> user-defined conversion</span>
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>1.0</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;             <span class='comment'>// error: narrowing</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='ics.list-9'><div class='marginalizedparent'><a class='marginalized' href='#ics.list-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2739'>#</a></div><div id='ics.list-9.sentence-1' class='sentence'>Otherwise, if the parameter is a reference, see <a href='#ics.ref' title='12.4.3.1.4&emsp;Reference binding'>[over.<span class='shy'></span>ics.<span class='shy'></span>ref]</a><a class='hidden_link' href='#ics.list-9.sentence-1'>.</a></div> <div id='ics.list-9.note-1' class='note'>[<a class='note_link' href='#ics.list-9.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='ics.list-9.sentence-2' class='sentence'>The rules in this subclause will apply for initializing the underlying temporary
for the reference<a class='hidden_link' href='#ics.list-9.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div>  <div id='ics.list-9.example-1' class='example'>[<a class='example_link' href='#ics.list-9.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> m1;
  <span class='keyword'>double</span> m2;
<span class='curlybracket'>}</span>;

<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>const</span> A<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>'a'</span>, <span class='literal'>'b'</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;        <span class='comment'>// OK: <span class='tcode_in_codeblock'>f(A(int,double))</span> user-defined conversion</span>
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>1.0</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;             <span class='comment'>// error: narrowing</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>double</span> <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
g<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='literal'>1</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;                 <span class='comment'>// same conversion as <span class='tcode_in_codeblock'>int</span> to <span class='tcode_in_codeblock'>double</span></span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='ics.list-10'><div class='marginalizedparent'><a class='marginalized' href='#ics.list-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2761'>#</a></div><div id='ics.list-10.sentence-1' class='sentence'>Otherwise, if the parameter type is not a class:
<ul class='itemize'><li id='ics.list-10.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.list-10.1'>(10.1)</a></div>if the initializer list has one element that is not itself an initializer list,
the implicit conversion sequence is the one required to convert the element to
the parameter type;
<div id='ics.list-10.1.example-1' class='example'>[<a class='example_link' href='#ics.list-10.1.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>'a'</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;             <span class='comment'>// OK: same conversion as <span class='tcode_in_codeblock'>char</span> to <span class='tcode_in_codeblock'>int</span></span>
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>1.0</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;             <span class='comment'>// error: narrowing</span>
</pre> —&nbsp;<i>end example</i>]</div> </li><li id='ics.list-10.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.list-10.2'>(10.2)</a></div>if the initializer list has no elements, the implicit conversion sequence
is the identity conversion<a class='hidden_link' href='#ics.list-10.sentence-1'>.</a> <div id='ics.list-10.2.example-2' class='example'>[<a class='example_link' href='#ics.list-10.2.example-2'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span> <span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;               <span class='comment'>// OK: identity conversion</span>
</pre> —&nbsp;<i>end example</i>]</div> </li></ul></div></div><div class='para' id='ics.list-11'><div class='marginalizedparent'><a class='marginalized' href='#ics.list-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2785'>#</a></div><div id='ics.list-11.sentence-1' class='sentence'>In all cases other than those enumerated above, no conversion is possible<a class='hidden_link' href='#ics.list-11.sentence-1'>.</a></div></div><div class='footnote' id='footnote-125'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-125'>125)</a></div><div id='footnote-125.sentence-1' class='sentence'>Since there are no parameters of array type,
this will only occur as the referenced type of a reference parameter<a class='hidden_link' href='#footnote-125.sentence-1'>.</a></div> <a href='#footnoteref-125'>⮥</a></div></div></div><div id='ics.rank' class='section'><h4 ><a class='secnum' href='#ics.rank' style='min-width:118pt'>12.4.3.2</a> Ranking implicit conversion sequences <a class='abbr_ref' href='over.ics.rank'>[over.ics.rank]</a></h4><div class='para' id='ics.rank-1'><div class='marginalizedparent'><a class='marginalized' href='#ics.rank-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2790'>#</a></div><div id='ics.rank-1.sentence-1' class='sentence'>This subclause defines a partial ordering of implicit conversion
sequences based on the relationships
<a class='hidden_link' href='#def:conversion_sequence,better' title='12.4.3.2&emsp;Ranking implicit conversion sequences&emsp;[over.ics.rank]'><span id='def:conversion_sequence,better'><span class='textit'>better conversion sequence</span></span></a>
and
<a class='hidden_link' href='#def:conversion,better' title='12.4.3.2&emsp;Ranking implicit conversion sequences&emsp;[over.ics.rank]'><span id='def:conversion,better'><span class='textit'>better conversion</span></span></a><a class='hidden_link' href='#ics.rank-1.sentence-1'>.</a></div> <div id='ics.rank-1.sentence-2' class='sentence'>If an implicit conversion sequence S1 is
defined by these rules to be a better conversion sequence than
S2, then it is also the case that S2 is a
<a class='hidden_link' href='#def:conversion_sequence,worse' title='12.4.3.2&emsp;Ranking implicit conversion sequences&emsp;[over.ics.rank]'><span id='def:conversion_sequence,worse'><span class='textit'>worse conversion sequence</span></span></a>
than S1<a class='hidden_link' href='#ics.rank-1.sentence-2'>.</a></div> <div id='ics.rank-1.sentence-3' class='sentence'>If conversion sequence S1 is neither better
than nor worse than conversion sequence S2, S1 and S2 are said to
be
<a class='hidden_link' href='#def:conversion_sequence,indistinguishable' title='12.4.3.2&emsp;Ranking implicit conversion sequences&emsp;[over.ics.rank]'><span id='def:conversion_sequence,indistinguishable'><span class='textit'>indistinguishable conversion sequences</span></span></a><a class='hidden_link' href='#ics.rank-1.sentence-3'>.</a></div></div><div class='para' id='ics.rank-2'><div class='marginalizedparent'><a class='marginalized' href='#ics.rank-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2806'>#</a></div><div id='ics.rank-2.sentence-1' class='sentence'>When comparing the basic forms of implicit conversion sequences
(as defined in <a href='#best.ics' title='12.4.3.1&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>)
<ul class='itemize'><li id='ics.rank-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.rank-2.1'>(2.1)</a></div>a <a href='#ics.scs' title='12.4.3.1.1&emsp;Standard conversion sequences&emsp;[over.ics.scs]'>standard conversion sequence</a> is a better
conversion sequence than a user-defined conversion sequence
or an ellipsis conversion sequence, and</li><li id='ics.rank-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.rank-2.2'>(2.2)</a></div>a <a href='#ics.user' title='12.4.3.1.2&emsp;User-defined conversion sequences&emsp;[over.ics.user]'>user-defined conversion sequence</a> is a
better conversion sequence than an <a href='#ics.ellipsis' title='12.4.3.1.3&emsp;Ellipsis conversion sequences&emsp;[over.ics.ellipsis]'>ellipsis conversion
sequence</a><a class='hidden_link' href='#ics.rank-2.sentence-1'>.</a></li></ul></div></div><div class='para' id='ics.rank-3'><div class='marginalizedparent'><a class='marginalized' href='#ics.rank-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L2820'>#</a></div><div id='ics.rank-3.sentence-1' class='sentence'>Two implicit conversion sequences of the same form are
indistinguishable conversion sequences unless one of the
following rules applies:
<ul class='itemize'><li id='ics.rank-3.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.rank-3.1'>(3.1)</a></div><div id='ics.rank-3.1.sentence-1' class='sentence'>List-initialization sequence <span class='texttt'>L1</span> is a better conversion sequence than
list-initialization sequence <span class='texttt'>L2</span> if
<ul class='itemize'><li id='ics.rank-3.1.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-3.1.1'>(3.1.1)</a></div><span class='texttt'>L1</span> converts to <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>initializer_&shy;list<span class='anglebracket'>&lt;</span>X<span class='anglebracket'>&gt;</span></span> for some <span class='texttt'>X</span> and
<span class='texttt'>L2</span> does not, or, if not that,</li><li id='ics.rank-3.1.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-3.1.2'>(3.1.2)</a></div><span class='texttt'>L1</span> and <span class='texttt'>L2</span> convert to arrays of the same element type, and
either the number of elements <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span> initialized by <span class='texttt'>L1</span>
is less than the number of elements <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> initialized by <span class='texttt'>L2</span>, or
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span> and
<span class='texttt'>L2</span> converts to an array of unknown bound and <span class='texttt'>L1</span> does not,</li></ul>
even if one of the other rules in this paragraph would otherwise apply<a class='hidden_link' href='#ics.rank-3.1.sentence-1'>.</a></div> <div id='ics.rank-3.1.example-1' class='example'>[<a class='example_link' href='#ics.rank-3.1.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> f1<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;                                   <span class='comment'>// #1</span>
<span class='keyword'>void</span> f1<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>long</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;           <span class='comment'>// #2</span>
<span class='keyword'>void</span> g1<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> f1<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='literal'>42</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>                         <span class='comment'>// chooses #2</span>

<span class='keyword'>void</span> f2<span class='parenthesis'>(</span>std<span class='operator'>::</span>pair<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, <span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;   <span class='comment'>// #3</span>
<span class='keyword'>void</span> f2<span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span>std<span class='operator'>::</span>string<span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;    <span class='comment'>// #4</span>
<span class='keyword'>void</span> g2<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> f2<span class='parenthesis'>(</span><span class='curlybracket'>{</span><span class='literal'>"foo"</span>,<span class='literal'>"bar"</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>                <span class='comment'>// chooses #4</span>
</pre> —&nbsp;<i>end example</i>]</div>  <div id='ics.rank-3.1.example-2' class='example'>[<a class='example_link' href='#ics.rank-3.1.example-2'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span>    <span class='parenthesis'>(</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='parenthesis'>)</span>;         <span class='comment'>// #1</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>double</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='parenthesis'>)</span>;         <span class='comment'>// #2</span>
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span>    <span class='parenthesis'>(</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span><span class='squarebracket'>[</span><span class='literal'>2</span><span class='squarebracket'>]</span><span class='parenthesis'>)</span>;         <span class='comment'>// #3</span>

f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>1</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;           <span class='comment'>// Calls #1: Better than #2 due to conversion, better than #3 due to bounds</span>
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>1.0</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;         <span class='comment'>// Calls #2: Identity conversion is better than floating-integral conversion</span>
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>1.0</span>, <span class='literal'>2.0</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;    <span class='comment'>// Calls #2: Identity conversion is better than floating-integral conversion</span>
f<span class='parenthesis'>(</span> <span class='curlybracket'>{</span><span class='literal'>1</span>, <span class='literal'>2</span><span class='curlybracket'>}</span> <span class='parenthesis'>)</span>;        <span class='comment'>// Calls #3: Converting to array of known bound is better than to unknown bound,</span>
                    <span class='comment'>// and an identity conversion is better than floating-integral conversion</span>
</pre> —&nbsp;<i>end example</i>]</div> </li><li id='ics.rank-3.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.rank-3.2'>(3.2)</a></div><div id='ics.rank-3.2.sentence-1' class='sentence'>Standard conversion sequence
<span class='texttt'>S1</span>
is a better conversion
sequence than standard conversion sequence
<span class='texttt'>S2</span>
if
<ul class='itemize'><li id='ics.rank-3.2.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-3.2.1'>(3.2.1)</a></div><div id='ics.rank-3.2.1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':subsequence_rule,overloading'></a></span><span class='texttt'>S1</span>
is a proper subsequence of
<span class='texttt'>S2</span>
(comparing the conversion sequences in the canonical form defined
by <a href='#ics.scs' title='12.4.3.1.1&emsp;Standard conversion sequences'>[over.<span class='shy'></span>ics.<span class='shy'></span>scs]</a>, excluding any Lvalue Transformation;
the identity conversion sequence is considered to be a
subsequence of any non-identity conversion sequence)
or, if not that,</div></li><li id='ics.rank-3.2.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-3.2.2'>(3.2.2)</a></div><div id='ics.rank-3.2.2.sentence-1' class='sentence'>the rank of
<span class='texttt'>S1</span>
is better than the rank of
<span class='texttt'>S2</span>,
or
<span class='texttt'>S1</span>
and
<span class='texttt'>S2</span>
have the same rank and are distinguishable by the rules
in the paragraph below,
or, if not that,</div></li><li id='ics.rank-3.2.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-3.2.3'>(3.2.3)</a></div><div id='ics.rank-3.2.3.sentence-1' class='sentence'><span class='texttt'>S1</span> and <span class='texttt'>S2</span> include reference bindings (<a href='dcl.init.ref' title='9.4.3&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>) and
neither refers to an implicit object parameter of a non-static member function
declared without a <a href='dcl.decl#nt:ref-qualifier' title='9.3&emsp;Declarators&emsp;[dcl.decl]'><span id='ntref:ref-qualifier______'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a>,
and <span class='texttt'>S1</span> binds an rvalue reference to an
rvalue and <span class='texttt'>S2</span> binds an lvalue reference
<div id='ics.rank-3.2.3.example-3' class='example'>[<a class='example_link' href='#ics.rank-3.2.3.example-3'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> i;
<span class='keyword'>int</span> f1<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span> f2<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>int</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> j <span class='operator'>=</span> g<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span>;                   <span class='comment'>// calls <span class='tcode_in_codeblock'>g(const int&amp;)</span></span>
<span class='keyword'>int</span> k <span class='operator'>=</span> g<span class='parenthesis'>(</span>f1<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;                <span class='comment'>// calls <span class='tcode_in_codeblock'>g(const int&amp;&amp;)</span></span>
<span class='keyword'>int</span> l <span class='operator'>=</span> g<span class='parenthesis'>(</span>f2<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;                <span class='comment'>// calls <span class='tcode_in_codeblock'>g(const int&amp;&amp;)</span></span>

<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>void</span> p<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span>;
  <span class='keyword'>void</span> p<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>;
<span class='curlybracket'>}</span>;
A<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span>A<span class='operator'>&amp;</span><span class='operator'>&amp;</span>, <span class='keyword'>char</span><span class='parenthesis'>)</span>;
A<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>1</span>;                       <span class='comment'>// calls <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator______________________________'></a></span>&lt;&lt;(int)</span></span>
A<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>'c'</span>;                     <span class='comment'>// calls <span class='tcode_in_codeblock'><span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator_______________________________'></a></span>&lt;&lt;(A&amp;&amp;, char)</span></span>
A a;
a <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>1</span>;                         <span class='comment'>// calls <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator________________________________'></a></span>&lt;&lt;(int)</span></span>
a <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span> <span class='literal'>'c'</span>;                       <span class='comment'>// calls <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator_________________________________'></a></span>&lt;&lt;(int)</span></span>
A<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>p<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                        <span class='comment'>// calls <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;p()&amp;&amp;</span></span>
a<span class='operator'>.</span>p<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                          <span class='comment'>// calls <span class='tcode_in_codeblock'>A&#x200b;::&#x200b;p()&amp;</span></span>
</pre> —&nbsp;<i>end example</i>]</div> 
or, if not that,</div></li><li id='ics.rank-3.2.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-3.2.4'>(3.2.4)</a></div><div id='ics.rank-3.2.4.sentence-1' class='sentence'><span class='texttt'>S1</span> and <span class='texttt'>S2</span> include reference bindings (<a href='dcl.init.ref' title='9.4.3&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>) and
<span class='texttt'>S1</span> binds an lvalue reference to a function lvalue and <span class='texttt'>S2</span> binds
an rvalue reference to a function lvalue
<div id='ics.rank-3.2.4.example-4' class='example'>[<a class='example_link' href='#ics.rank-3.2.4.example-4'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>void</span><span class='parenthesis'>(</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;               <span class='comment'>// #1</span>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>void</span><span class='parenthesis'>(</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;              <span class='comment'>// #2</span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> i1 <span class='operator'>=</span> f<span class='parenthesis'>(</span>g<span class='parenthesis'>)</span>;                  <span class='comment'>// calls #1</span>
</pre> —&nbsp;<i>end example</i>]</div> 
or, if not that,</div></li><li id='ics.rank-3.2.5'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-3.2.5'>(3.2.5)</a></div><div id='ics.rank-3.2.5.sentence-1' class='sentence'><span class='texttt'>S1</span> and <span class='texttt'>S2</span> differ only
in their qualification conversion (<a href='conv.qual' title='7.3.5&emsp;Qualification conversions'>[conv.<span class='shy'></span>qual]</a>) and
yield similar types <span class='texttt'>T1</span> and <span class='texttt'>T2</span>, respectively,
where <span class='texttt'>T1</span> can be converted to <span class='texttt'>T2</span> by a qualification conversion<a class='hidden_link' href='#ics.rank-3.2.5.sentence-1'>.</a></div> <div id='ics.rank-3.2.5.example-5' class='example'>[<a class='example_link' href='#ics.rank-3.2.5.example-5'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>volatile</span> <span class='keyword'>int</span> <span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>int</span> <span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> i;
<span class='keyword'>int</span> j <span class='operator'>=</span> f<span class='parenthesis'>(</span><span class='operator'>&amp;</span>i<span class='parenthesis'>)</span>;                  <span class='comment'>// calls <span class='tcode_in_codeblock'>f(const int*)</span></span>
</pre> —&nbsp;<i>end example</i>]</div>  <div id='ics.rank-3.2.5.sentence-2' class='sentence'>
or, if not that,</div></li><li id='ics.rank-3.2.6'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-3.2.6'>(3.2.6)</a></div><div id='ics.rank-3.2.6.sentence-1' class='sentence'><span class='texttt'>S1</span>
and
<span class='texttt'>S2</span>
include reference bindings (<a href='dcl.init.ref' title='9.4.3&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>), and the types to which the references
refer are the same type except for top-level cv-qualifiers, and the type to
which the reference initialized by
<span class='texttt'>S2</span>
refers is more cv-qualified than the type to which the reference initialized by
<span class='texttt'>S1</span>
refers<a class='hidden_link' href='#ics.rank-3.2.6.sentence-1'>.</a></div> <div id='ics.rank-3.2.6.example-6' class='example'>[<a class='example_link' href='#ics.rank-3.2.6.example-6'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>int</span> <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>int</span> <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> g<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;

<span class='keyword'>int</span> i;
<span class='keyword'>int</span> j <span class='operator'>=</span> f<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span>;                   <span class='comment'>// calls <span class='tcode_in_codeblock'>f(int &amp;)</span></span>
<span class='keyword'>int</span> k <span class='operator'>=</span> g<span class='parenthesis'>(</span>i<span class='parenthesis'>)</span>;                   <span class='comment'>// ambiguous</span>

<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='keyword'>const</span> X<span class='operator'>&amp;</span> a, X b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  a<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                        <span class='comment'>// calls <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;f() const</span></span>
  b<span class='operator'>.</span>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                        <span class='comment'>// calls <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;f()</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div> </li></ul></div></li><li id='ics.rank-3.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.rank-3.3'>(3.3)</a></div><div id='ics.rank-3.3.sentence-1' class='sentence'>User-defined conversion sequence
<span class='texttt'>U1</span>
is a better conversion sequence than another user-defined conversion
sequence
<span class='texttt'>U2</span>
if they contain the same user-defined conversion function or
constructor or they initialize the same class in an aggregate
initialization and in either case the second standard conversion
sequence of
<span class='texttt'>U1</span>
is better than
the second standard conversion sequence of
<span class='texttt'>U2</span><a class='hidden_link' href='#ics.rank-3.3.sentence-1'>.</a></div> <div id='ics.rank-3.3.example-7' class='example'>[<a class='example_link' href='#ics.rank-3.3.example-7'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>operator</span> <span class='keyword'>short</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span> a;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>float</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> i <span class='operator'>=</span> f<span class='parenthesis'>(</span>a<span class='parenthesis'>)</span>;                   <span class='comment'>// calls <span class='tcode_in_codeblock'>f(int)</span>, because <span class='tcode_in_codeblock'>short</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>int</span> is</span>
                                <span class='comment'>// better than <span class='tcode_in_codeblock'>short</span> <span class='math'>→</span> <span class='tcode_in_codeblock'>float</span>.</span>
</pre> —&nbsp;<i>end example</i>]</div> </li></ul></div></div><div class='para' id='ics.rank-4'><div class='marginalizedparent'><a class='marginalized' href='#ics.rank-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3019'>#</a></div><div id='ics.rank-4.sentence-1' class='sentence'>Standard conversion sequences are ordered by their ranks: an Exact Match is a
better conversion than a Promotion, which is a better conversion than
a Conversion<a class='hidden_link' href='#ics.rank-4.sentence-1'>.</a></div> <div id='ics.rank-4.sentence-2' class='sentence'>Two conversion sequences with the same rank are indistinguishable unless
one of the following rules applies:
<ul class='itemize'><li id='ics.rank-4.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.rank-4.1'>(4.1)</a></div><div id='ics.rank-4.1.sentence-1' class='sentence'>A conversion that does not convert a pointer or a pointer to member
to
<span class='texttt'><span class='keyword'>bool</span></span>
is better than one that does<a class='hidden_link' href='#ics.rank-4.1.sentence-1'>.</a></div></li><li id='ics.rank-4.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.rank-4.2'>(4.2)</a></div><div id='ics.rank-4.2.sentence-1' class='sentence'>A conversion that promotes an enumeration whose underlying type is fixed to its underlying
type is better than one that promotes to the promoted underlying type, if the two are
different<a class='hidden_link' href='#ics.rank-4.2.sentence-1'>.</a></div></li><li id='ics.rank-4.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.rank-4.3'>(4.3)</a></div><div id='ics.rank-4.3.sentence-1' class='sentence'>If class
<span class='texttt'>B</span>
is derived directly or indirectly from class
<span class='texttt'>A</span>,
conversion of
<span class='texttt'>B<span class='operator'>*</span></span>
to
<span class='texttt'>A<span class='operator'>*</span></span>
is better than conversion of
<span class='texttt'>B<span class='operator'>*</span></span>
to
<span class='texttt'><span class='keyword'>void</span><span class='operator'>*</span></span>,
and conversion of
<span class='texttt'>A<span class='operator'>*</span></span>
to
<span class='texttt'><span class='keyword'>void</span><span class='operator'>*</span></span>
is better than conversion
of
<span class='texttt'>B<span class='operator'>*</span></span>
to
<span class='texttt'><span class='keyword'>void</span><span class='operator'>*</span></span><a class='hidden_link' href='#ics.rank-4.3.sentence-1'>.</a></div></li><li id='ics.rank-4.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#ics.rank-4.4'>(4.4)</a></div><div id='ics.rank-4.4.sentence-1' class='sentence'>If class
<span class='texttt'>B</span>
is derived directly or indirectly from class
<span class='texttt'>A</span>
and class
<span class='texttt'>C</span>
is derived directly or indirectly from
<span class='texttt'>B</span>,
<ul class='itemize'><li id='ics.rank-4.4.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-4.4.1'>(4.4.1)</a></div>conversion of
<span class='texttt'>C<span class='operator'>*</span></span>
to
<span class='texttt'>B<span class='operator'>*</span></span>
is better than conversion of
<span class='texttt'>C<span class='operator'>*</span></span>
to
<span class='texttt'>A<span class='operator'>*</span></span>,
<div id='ics.rank-4.4.1.example-1' class='example'>[<a class='example_link' href='#ics.rank-4.4.1.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> <span class='keyword'>public</span> A <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> C <span class='operator'>:</span> <span class='keyword'>public</span> B <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;
C<span class='operator'>*</span> pc;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span>A<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span>B<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> i <span class='operator'>=</span> f<span class='parenthesis'>(</span>pc<span class='parenthesis'>)</span>;                  <span class='comment'>// calls <span class='tcode_in_codeblock'>f(B*)</span></span>
</pre> —&nbsp;<i>end example</i>]</div> </li><li id='ics.rank-4.4.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-4.4.2'>(4.4.2)</a></div>binding of an expression of type
<span class='texttt'>C</span>
to a reference to type
<span class='texttt'>B</span>
is better than binding an expression of type
<span class='texttt'>C</span>
to a reference to type
<span class='texttt'>A</span>,</li><li id='ics.rank-4.4.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-4.4.3'>(4.4.3)</a></div>conversion of
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span></span>
to
<span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span></span>
is better than conversion of
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span></span>
to
<span class='texttt'>C<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span></span>,</li><li id='ics.rank-4.4.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-4.4.4'>(4.4.4)</a></div>conversion of
<span class='texttt'>C</span>
to
<span class='texttt'>B</span>
is better than conversion of
<span class='texttt'>C</span>
to
<span class='texttt'>A</span>,</li><li id='ics.rank-4.4.5'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-4.4.5'>(4.4.5)</a></div>conversion of
<span class='texttt'>B<span class='operator'>*</span></span>
to
<span class='texttt'>A<span class='operator'>*</span></span>
is better than conversion of
<span class='texttt'>C<span class='operator'>*</span></span>
to
<span class='texttt'>A<span class='operator'>*</span></span>,</li><li id='ics.rank-4.4.6'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-4.4.6'>(4.4.6)</a></div>binding of an expression of type
<span class='texttt'>B</span>
to a reference to type
<span class='texttt'>A</span>
is better than binding an expression of type
<span class='texttt'>C</span>
to a
reference to type
<span class='texttt'>A</span>,</li><li id='ics.rank-4.4.7'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-4.4.7'>(4.4.7)</a></div>conversion of
<span class='texttt'>B<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span></span>
to
<span class='texttt'>C<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span></span>
is better than conversion
of
<span class='texttt'>A<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span></span>
to
<span class='texttt'>C<span class='operator'>&#x200b;::&#x200b;</span><span class='operator'>*</span></span>,
and</li><li id='ics.rank-4.4.8'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#ics.rank-4.4.8'>(4.4.8)</a></div>conversion of
<span class='texttt'>B</span>
to
<span class='texttt'>A</span>
is better than conversion of
<span class='texttt'>C</span>
to
<span class='texttt'>A</span><a class='hidden_link' href='#ics.rank-4.4.sentence-1'>.</a></li></ul></div><div id='ics.rank-4.4.note-1' class='note'>[<a class='note_link' href='#ics.rank-4.4.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='ics.rank-4.4.sentence-2' class='sentence'>Compared conversion sequences will have different source types only in the
context of comparing the second standard conversion sequence of an
initialization by user-defined conversion (see <a href='#match.best' title='12.4.3&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>); in
all other contexts, the source types will be the same and the target
types will be different<a class='hidden_link' href='#ics.rank-4.4.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </li></ul></div> </div></div></div></div><div id='over' class='section'><h2 ><a class='secnum' href='#over' style='min-width:88pt'>12.5</a> Address of overloaded function <a class='abbr_ref' href='over.over'>[over.over]</a></h2><span class='indexparent'><a class='index' id=':overloading,address_of_overloaded_function'></a></span><span class='indexparent'><a class='index' id=':overloaded_function,address_of'></a></span><div class='para' id='over-1'><div class='marginalizedparent'><a class='marginalized' href='#over-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3173'>#</a></div><div id='over-1.sentence-1' class='sentence'>A use of a function name without arguments is resolved to
a function, a pointer to function, or a pointer to member function
for a specific function
that is chosen from a set of selected functions
determined based on the target type required in the context (if any),
as described below<a class='hidden_link' href='#over-1.sentence-1'>.</a></div> <div id='over-1.sentence-2' class='sentence'>The target can be
<ul class='itemize'><li id='over-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#over-1.1'>(1.1)</a></div>an object or reference being initialized (<a href='dcl.init' title='9.4&emsp;Initializers'>[dcl.<span class='shy'></span>init]</a>, <a href='dcl.init.ref' title='9.4.3&emsp;References'>[dcl.<span class='shy'></span>init.<span class='shy'></span>ref]</a>,
<a href='dcl.init.list' title='9.4.4&emsp;List-initialization'>[dcl.<span class='shy'></span>init.<span class='shy'></span>list]</a>),</li><li id='over-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#over-1.2'>(1.2)</a></div>the left side of an <a href='expr.ass' title='7.6.19&emsp;Assignment and compound assignment operators&emsp;[expr.ass]'>assignment</a>,</li><li id='over-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#over-1.3'>(1.3)</a></div>a parameter of a function (<a href='expr.call' title='7.6.1.2&emsp;Function call'>[expr.<span class='shy'></span>call]</a>),</li><li id='over-1.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#over-1.4'>(1.4)</a></div>a parameter of a <a href='#oper' title='12.6&emsp;Overloaded operators&emsp;[over.oper]'>user-defined operator</a>,</li><li id='over-1.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#over-1.5'>(1.5)</a></div>the return value of a function, operator function, or conversion (<a href='stmt.return' title='8.7.3&emsp;The return statement'>[stmt.<span class='shy'></span>return]</a>),</li><li id='over-1.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#over-1.6'>(1.6)</a></div>an explicit type conversion (<a href='expr.type.conv' title='7.6.1.3&emsp;Explicit type conversion (functional notation)'>[expr.<span class='shy'></span>type.<span class='shy'></span>conv]</a>, <a href='expr.static.cast' title='7.6.1.8&emsp;Static cast'>[expr.<span class='shy'></span>static.<span class='shy'></span>cast]</a>,
<a href='expr.cast' title='7.6.3&emsp;Explicit type conversion (cast notation)'>[expr.<span class='shy'></span>cast]</a>), or</li><li id='over-1.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#over-1.7'>(1.7)</a></div>a non-type
<a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter'><span class='textsf'><span class='textit'>template-parameter</span></span></span></a> (<a href='temp.arg.nontype' title='13.4.2&emsp;Template non-type arguments'>[temp.<span class='shy'></span>arg.<span class='shy'></span>nontype]</a>)<a class='hidden_link' href='#over-1.sentence-2'>.</a></li></ul></div> <div id='over-1.sentence-3' class='sentence'>
The function name can be preceded by the <span class='texttt'><span class='operator'>&amp;</span></span> operator<a class='hidden_link' href='#over-1.sentence-3'>.</a></div> <div id='over-1.note-1' class='note'>[<a class='note_link' href='#over-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='over-1.sentence-4' class='sentence'>Any redundant set of parentheses surrounding the function name is
ignored (<a href='expr.prim.paren' title='7.5.3&emsp;Parentheses'>[expr.<span class='shy'></span>prim.<span class='shy'></span>paren]</a>)<a class='hidden_link' href='#over-1.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='over-2'><div class='marginalizedparent'><a class='marginalized' href='#over-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3206'>#</a></div><div id='over-2.sentence-1' class='sentence'>If there is no target, all non-template functions named are selected<a class='hidden_link' href='#over-2.sentence-1'>.</a></div> <div id='over-2.sentence-2' class='sentence'>Otherwise, a non-template function with type <span class='texttt'>F</span>
is selected for the function type <span class='texttt'>FT</span> of the target type
if <span class='texttt'>F</span>
(after possibly applying the function pointer conversion (<a href='conv.fctptr' title='7.3.13&emsp;Function pointer conversions'>[conv.<span class='shy'></span>fctptr]</a>))
is identical to <span class='texttt'>FT</span><a class='hidden_link' href='#over-2.sentence-2'>.</a></div> <div id='over-2.note-1' class='note'>[<a class='note_link' href='#over-2.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='over-2.sentence-3' class='sentence'>That is, the class of which the function is a member is ignored when matching a
pointer-to-member-function type<a class='hidden_link' href='#over-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='over-3'><div class='marginalizedparent'><a class='marginalized' href='#over-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3218'>#</a></div><div id='over-3.sentence-1' class='sentence'>For each function template designated by the name,
template argument deduction is done (<a href='temp.deduct.funcaddr' title='13.10.2.2&emsp;Deducing template arguments taking the address of a function template'>[temp.<span class='shy'></span>deduct.<span class='shy'></span>funcaddr]</a>), and
if the argument deduction succeeds,
the
resulting template argument list is
used to generate a single
function template specialization,
which is added to the set of selected functions
considered<a class='hidden_link' href='#over-3.sentence-1'>.</a></div> <div id='over-3.note-1' class='note'>[<a class='note_link' href='#over-3.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='over-3.sentence-2' class='sentence'>As described in <a href='temp.arg.explicit' title='13.10.1&emsp;Explicit template argument specification'>[temp.<span class='shy'></span>arg.<span class='shy'></span>explicit]</a>, if deduction fails and the
function template name is followed by an explicit template argument list,
the
<a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id'><span class='textsf'><span class='textit'>template-id</span></span></span></a>
is then examined to see whether it identifies a single function template
specialization<a class='hidden_link' href='#over-3.sentence-2'>.</a></div> <div id='over-3.sentence-3' class='sentence'>If it does, the
<a href='temp.names#nt:template-id' title='13.3&emsp;Names of template specializations&emsp;[temp.names]'><span id='ntref:template-id_'><span class='textsf'><span class='textit'>template-id</span></span></span></a>
is considered to be an lvalue for that function template specialization<a class='hidden_link' href='#over-3.sentence-3'>.</a></div> <div id='over-3.sentence-4' class='sentence'>The target type is not used in that determination<a class='hidden_link' href='#over-3.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='over-4'><div class='marginalizedparent'><a class='marginalized' href='#over-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3240'>#</a></div><div id='over-4.sentence-1' class='sentence'>Non-member functions and static member functions
match targets of function pointer type or
reference to function type<a class='hidden_link' href='#over-4.sentence-1'>.</a></div> <div id='over-4.sentence-2' class='sentence'>Non-static member functions match targets of
pointer-to-member-function type<a class='hidden_link' href='#over-4.sentence-2'>.</a></div> <div id='over-4.sentence-3' class='sentence'>If a non-static member function is selected, the reference to the overloaded
function name is required to have the form of a pointer to member as
described in <a href='expr.unary.op' title='7.6.2.1&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a><a class='hidden_link' href='#over-4.sentence-3'>.</a></div></div><div class='para' id='over-5'><div class='marginalizedparent'><a class='marginalized' href='#over-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3251'>#</a></div><div id='over-5.sentence-1' class='sentence'>All functions with
associated constraints
that are not satisfied (<a href='temp.constr.decl' title='13.5.2&emsp;Constrained declarations'>[temp.<span class='shy'></span>constr.<span class='shy'></span>decl]</a>)
are eliminated from the set of selected functions<a class='hidden_link' href='#over-5.sentence-1'>.</a></div> <div id='over-5.sentence-2' class='sentence'>If more than one function in the set remains,
all function template specializations
in the set
are eliminated if the set also contains a function that is not a
function template specialization<a class='hidden_link' href='#over-5.sentence-2'>.</a></div> <div id='over-5.sentence-3' class='sentence'>Any given non-template function
<span class='texttt'>F0</span>
is eliminated if the set contains a second
non-template function that
is more constrained than
<span class='texttt'>F0</span>
according to
the partial ordering rules of <a href='temp.constr.order' title='13.5.4&emsp;Partial ordering by constraints'>[temp.<span class='shy'></span>constr.<span class='shy'></span>order]</a><a class='hidden_link' href='#over-5.sentence-3'>.</a></div> <div id='over-5.sentence-4' class='sentence'>Any given
function template specialization
<span class='texttt'>F1</span>
is eliminated if the set contains a second
function template specialization whose function template
is more specialized than the
function template of
<span class='texttt'>F1</span>
according to
the partial ordering rules of <a href='temp.func.order' title='13.7.6.2&emsp;Partial ordering of function templates'>[temp.<span class='shy'></span>func.<span class='shy'></span>order]</a><a class='hidden_link' href='#over-5.sentence-4'>.</a></div> <div id='over-5.sentence-5' class='sentence'>After such eliminations,
if any, there shall remain exactly one selected function<a class='hidden_link' href='#over-5.sentence-5'>.</a></div></div><div class='para' id='over-6'><div class='marginalizedparent'><a class='marginalized' href='#over-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3282'>#</a></div><div id='over-6.example-1' class='example'>[<a class='example_link' href='#over-6.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>pfd<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>f;        <span class='comment'>// selects <span class='tcode_in_codeblock'>f(double)</span></span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>pfi<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>f;           <span class='comment'>// selects <span class='tcode_in_codeblock'>f(int)</span></span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span>pfe<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>f;           <span class='comment'>// error: type mismatch</span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>rfi<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='operator'>=</span> f;            <span class='comment'>// selects <span class='tcode_in_codeblock'>f(int)</span></span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>&amp;</span>rfd<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span> <span class='operator'>=</span> f;         <span class='comment'>// selects <span class='tcode_in_codeblock'>f(double)</span></span>
<span class='keyword'>void</span> g<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='parenthesis'>(</span><span class='keyword'>int</span> <span class='parenthesis'>(</span><span class='operator'>*</span><span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='operator'>&amp;</span>f;             <span class='comment'>// cast expression as selector</span>
<span class='curlybracket'>}</span>
</pre><div id='over-6.sentence-1' class='sentence'>The initialization of
<span class='texttt'>pfe</span>
is ill-formed because no
<span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
with type
<span class='texttt'><span class='keyword'>int</span><span class='parenthesis'>(</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span>
has been declared, and not because of any ambiguity<a class='hidden_link' href='#over-6.sentence-1'>.</a></div> <div id='over-6.sentence-2' class='sentence'>For another example,</div><pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>static</span> <span class='keyword'>int</span> f<span class='parenthesis'>(</span><span class='keyword'>long</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>int</span> <span class='parenthesis'>(</span>X<span class='operator'>::</span><span class='operator'>*</span>p1<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>  <span class='operator'>=</span> <span class='operator'>&amp;</span>X<span class='operator'>::</span>f;     <span class='comment'>// OK</span>
<span class='keyword'>int</span>    <span class='parenthesis'>(</span><span class='operator'>*</span>p2<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>  <span class='operator'>=</span> <span class='operator'>&amp;</span>X<span class='operator'>::</span>f;     <span class='comment'>// error: mismatch</span>
<span class='keyword'>int</span>    <span class='parenthesis'>(</span><span class='operator'>*</span>p3<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>long</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>X<span class='operator'>::</span>f;     <span class='comment'>// OK</span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span>X<span class='operator'>::</span><span class='operator'>*</span>p4<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>long</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>X<span class='operator'>::</span>f;     <span class='comment'>// error: mismatch</span>
<span class='keyword'>int</span> <span class='parenthesis'>(</span>X<span class='operator'>::</span><span class='operator'>*</span>p5<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>  <span class='operator'>=</span> <span class='operator'>&amp;</span><span class='parenthesis'>(</span>X<span class='operator'>::</span>f<span class='parenthesis'>)</span>;   <span class='comment'>// error: wrong syntax for</span>
                                <span class='comment'>// pointer to member</span>
<span class='keyword'>int</span>    <span class='parenthesis'>(</span><span class='operator'>*</span>p6<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='keyword'>long</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span><span class='parenthesis'>(</span>X<span class='operator'>::</span>f<span class='parenthesis'>)</span>;   <span class='comment'>// OK</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='over-7'><div class='marginalizedparent'><a class='marginalized' href='#over-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3322'>#</a></div><div id='over-7.note-1' class='note'>[<a class='note_link' href='#over-7.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='over-7.sentence-1' class='sentence'>If
<span class='texttt'>f<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
and
<span class='texttt'>g<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
are both overloaded functions, the
cross product of possibilities must be considered
to resolve
<span class='texttt'>f<span class='parenthesis'>(</span><span class='operator'>&amp;</span>g<span class='parenthesis'>)</span></span>,
or the equivalent expression
<span class='texttt'>f<span class='parenthesis'>(</span>g<span class='parenthesis'>)</span></span><a class='hidden_link' href='#over-7.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='over-8'><div class='marginalizedparent'><a class='marginalized' href='#over-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3336'>#</a></div><span class='indexparent'><a class='index' id=':conversion,overload_resolution_and_pointer'></a></span><div id='over-8.note-1' class='note'>[<a class='note_link' href='#over-8.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='over-8.sentence-1' class='sentence'>Even if <span class='texttt'>B</span> is a public base of <span class='texttt'>D</span>,
we have
<pre class='codeblock'>
D<span class='operator'>*</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
B<span class='operator'>*</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p1<span class='parenthesis'>)</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>f;                <span class='comment'>// error</span>

<span class='keyword'>void</span> g<span class='parenthesis'>(</span>D<span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>p2<span class='parenthesis'>)</span><span class='parenthesis'>(</span>B<span class='operator'>*</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='operator'>&amp;</span>g;            <span class='comment'>// error</span>
</pre></div> —&nbsp;<i>end note</i>]</div> </div></div><div id='oper' class='section'><h2 ><a class='secnum' href='#oper' style='min-width:88pt'>12.6</a> Overloaded operators <a class='abbr_ref' href='over.oper'>[over.oper]</a></h2><span class='indexparent'><a class='index' id=':overloading,operator'></a></span><div class='para' id='oper-1'><div class='marginalizedparent'><a class='marginalized' href='#oper-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3355'>#</a></div><div id='oper-1.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':operator,overloaded'></a></span>A function declaration having one of the following
<a href='#nt:operator-function-id' title='12.6&emsp;Overloaded operators&emsp;[over.oper]'><span id='ntref:operator-function-id'><span class='textsf'><span class='textit'>operator-function-id</span></span></span></a><span class='textit'>s</span>
as its name declares an
<a class='hidden_link' href='#def:function,operator' title='12.6&emsp;Overloaded operators&emsp;[over.oper]'><span id='def:function,operator'><span class='textit'>operator function</span></span></a><a class='hidden_link' href='#oper-1.sentence-1'>.</a></div> <div id='oper-1.sentence-2' class='sentence'>A function template declaration having one of the
following <a href='#nt:operator-function-id' title='12.6&emsp;Overloaded operators&emsp;[over.oper]'><span id='ntref:operator-function-id_'><span class='textsf'><span class='textit'>operator-function-id</span></span></span></a><span class='textit'>s</span> as its name
declares an <a class='hidden_link' href='#def:function,operator,template' title='12.6&emsp;Overloaded operators&emsp;[over.oper]'><span id='def:function,operator,template'><span class='textit'>operator function template</span></span></a><a class='hidden_link' href='#oper-1.sentence-2'>.</a></div> <div id='oper-1.sentence-3' class='sentence'>A specialization
of an operator function template is also an operator function<a class='hidden_link' href='#oper-1.sentence-3'>.</a></div> <div id='oper-1.sentence-4' class='sentence'>An operator function is said to
<a class='hidden_link' href='#def:operator,implementation' title='12.6&emsp;Overloaded operators&emsp;[over.oper]'><span id='def:operator,implementation'><span class='textit'>implement</span></span></a>
the operator named in its
<a href='#nt:operator-function-id' title='12.6&emsp;Overloaded operators&emsp;[over.oper]'><span id='ntref:operator-function-id__'><span class='textsf'><span class='textit'>operator-function-id</span></span></span></a><a class='hidden_link' href='#oper-1.sentence-4'>.</a></div><div class='bnf' id='nt:operator-function-id'>
<a class='hidden_link' href='#nt:operator-function-id' title='12.6&emsp;Overloaded operators&emsp;[over.oper]'><span id='nt:operator-function-id'><span id=':operator-function-id'>operator-function-id<span class='textnormal'>:</span></span></span></a><br/><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator__________________________________'></a></span> <a href='#nt:operator' title='12.6&emsp;Overloaded operators&emsp;[over.oper]'><span id='ntref:operator'><span class='textsf'><span class='textit'>operator</span></span></span></a>
</div><div class='bnf' id='nt:operator'>
<a class='hidden_link' href='#nt:operator' title='12.6&emsp;Overloaded operators&emsp;[over.oper]'><span id='nt:operator'><span id=':operator'>operator<span class='textnormal'>:</span></span></span></a> <span class='textnormal'>one of</span><br/><span class='terminal'><span class='keyword'>new</span>      <span class='keyword'>delete</span>   <span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span>    <span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='keyword'>co_await</span> <span class='parenthesis'>(</span><span class='rlap'><span style='white-space:nowrap'>&thinsp;</span><span class='parenthesis'>)</span></span>        <span class='squarebracket'>[</span><span class='rlap'><span style='white-space:nowrap'>&thinsp;</span><span class='squarebracket'>]</span></span>        <span class='operator'>-</span><span class='anglebracket'>&gt;</span>       <span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span></span><br/><span class='terminal'><span class='operator'>~</span>        <span class='operator'>!</span>        <span class='operator'>+</span>        <span class='operator'>-</span>        <span class='operator'>*</span>        <span class='operator'>/</span>        <span class='operator'>%</span>        <span class='operator'>^</span>        <span class='operator'>&amp;</span></span><br/><span class='terminal'><span class='operator'>|</span>        <span class='operator'>=</span>        <span class='operator'>+</span><span class='operator'>=</span>       <span class='operator'>-</span><span class='operator'>=</span>       <span class='operator'>*</span><span class='operator'>=</span>       <span class='operator'>/</span><span class='operator'>=</span>       <span class='operator'>%</span><span class='operator'>=</span>       <span class='operator'>^</span><span class='operator'>=</span>       <span class='operator'>&amp;</span><span class='operator'>=</span></span><br/><span class='terminal'><span class='operator'>|</span><span class='operator'>=</span>       <span class='operator'>=</span><span class='operator'>=</span>       <span class='operator'>!</span><span class='operator'>=</span>       <span class='anglebracket'>&lt;</span>        <span class='anglebracket'>&gt;</span>        <span class='anglebracket'>&lt;</span><span class='operator'>=</span>       <span class='anglebracket'>&gt;</span><span class='operator'>=</span>       <span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span>      <span class='operator'>&amp;</span><span class='operator'>&amp;</span></span><br/><span class='terminal'><span class='operator'>|</span><span class='operator'>|</span>       <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span>       <span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>       <span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span>      <span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span>      <span class='operator'>+</span><span class='operator'>+</span>       <span class='operator'>-</span><span class='operator'>-</span>       ,</span><br/></div>
<div id='oper-1.note-1' class='note'>[<a class='note_link' href='#oper-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='oper-1.sentence-5' class='sentence'>The operators
<span class='texttt'><span class='keyword'>new</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>,
<span class='texttt'><span class='keyword'>delete</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>,
<span class='texttt'><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
and
<span class='texttt'><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>
are formed from more than one token<a class='hidden_link' href='#oper-1.sentence-5'>.</a></div> <div id='oper-1.sentence-6' class='sentence'>The latter two operators are <a href='expr.call' title='7.6.1.2&emsp;Function call&emsp;[expr.call]'>function call</a>
and <a href='expr.sub' title='7.6.1.1&emsp;Subscripting&emsp;[expr.sub]'>subscripting</a><a class='hidden_link' href='#oper-1.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div> 
<span class='indexparent'><a class='index' id=':operator,subscripting'></a></span><span class='indexparent'><a class='index' id=':operator,function_call'></a></span></div><div class='para' id='oper-2'><div class='marginalizedparent'><a class='marginalized' href='#oper-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3399'>#</a></div><div id='oper-2.sentence-1' class='sentence'>Both the unary and binary forms of
<div class='ncsimplebnf'><span class='terminal'><span class='operator'>+</span>      <span class='operator'>-</span>      <span class='operator'>*</span>      <span class='operator'>&amp;</span></span>
</div>
can be overloaded<a class='hidden_link' href='#oper-2.sentence-1'>.</a></div></div><div class='para' id='oper-3'><div class='marginalizedparent'><a class='marginalized' href='#oper-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3406'>#</a></div><div id='oper-3.note-1' class='note'>[<a class='note_link' href='#oper-3.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='oper-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':restriction,operator_overloading'></a></span>The following operators cannot be overloaded:
<div class='ncsimplebnf'><span class='terminal'><span class='operator'>.</span>      <span class='operator'>.</span><span class='operator'>*</span>     <span class='operator'>::</span>     <span class='operator'>?</span><span class='operator'>:</span></span>
</div>
nor can the preprocessing symbols
<span class='texttt'><span class='preprocessordirective'>#</span></span> (<a href='cpp.stringize' title='15.6.2&emsp;The # operator'>[cpp.<span class='shy'></span>stringize]</a>)
and
<span class='texttt'><span class='preprocessordirective'>#</span><span class='preprocessordirective'>#</span></span> (<a href='cpp.concat' title='15.6.3&emsp;The ## operator'>[cpp.<span class='shy'></span>concat]</a>)<a class='hidden_link' href='#oper-3.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='oper-4'><div class='marginalizedparent'><a class='marginalized' href='#oper-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3419'>#</a></div><div id='oper-4.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':call,operator_function'></a></span>Operator functions are usually not called directly; instead they are invoked
to evaluate the operators they implement (<a href='#unary' title='12.6.1&emsp;Unary operators'>[over.<span class='shy'></span>unary]</a> – <a href='#inc' title='12.6.6&emsp;Increment and decrement'>[over.<span class='shy'></span>inc]</a>)<a class='hidden_link' href='#oper-4.sentence-1'>.</a></div> <div id='oper-4.sentence-2' class='sentence'>They can be explicitly called, however, using the
<a href='#nt:operator-function-id' title='12.6&emsp;Overloaded operators&emsp;[over.oper]'><span id='ntref:operator-function-id___'><span class='textsf'><span class='textit'>operator-function-id</span></span></span></a>
as the name of the function in the function call syntax (<a href='expr.call' title='7.6.1.2&emsp;Function call'>[expr.<span class='shy'></span>call]</a>)<a class='hidden_link' href='#oper-4.sentence-2'>.</a></div> <div id='oper-4.example-1' class='example'>[<a class='example_link' href='#oper-4.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
complex z <span class='operator'>=</span> a<span class='operator'>.</span><span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>;     <span class='comment'>// <span class='tcode_in_codeblock'>complex z = a+b;</span></span>
<span class='keyword'>void</span><span class='operator'>*</span> p <span class='operator'>=</span> <span class='keyword'>operator</span> <span class='keyword'>new</span><span class='parenthesis'>(</span><span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span><span class='operator'>*</span>n<span class='parenthesis'>)</span>;
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='oper-5'><div class='marginalizedparent'><a class='marginalized' href='#oper-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3433'>#</a></div><div id='oper-5.sentence-1' class='sentence'>The allocation and deallocation functions,
<span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator___________________________________'></a></span> <span class='texttt'><span class='keyword'>new</span></span><span class='indexparent'><a class='index' id=':new'></a></span>,
<span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator____________________________________'></a></span> <span class='texttt'><span class='texttt'><span class='keyword'>new</span></span><span class='indexparent'><a class='index' id=':new_'></a></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>,
<span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_____________________________________'></a></span> <span class='texttt'><span class='keyword'>delete</span></span><span class='indexparent'><a class='index' id=':delete'></a></span>, and
<span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator______________________________________'></a></span> <span class='texttt'><span class='texttt'><span class='keyword'>delete</span></span><span class='indexparent'><a class='index' id=':delete_'></a></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>,
are described completely in <a href='basic.stc.dynamic' title='6.7.5.4&emsp;Dynamic storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic]</a><a class='hidden_link' href='#oper-5.sentence-1'>.</a></div> <div id='oper-5.sentence-2' class='sentence'>The attributes and restrictions
found in the rest of this subclause do not apply to them unless explicitly
stated in <a href='basic.stc.dynamic' title='6.7.5.4&emsp;Dynamic storage duration'>[basic.<span class='shy'></span>stc.<span class='shy'></span>dynamic]</a><a class='hidden_link' href='#oper-5.sentence-2'>.</a></div></div><div class='para' id='oper-6'><div class='marginalizedparent'><a class='marginalized' href='#oper-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3444'>#</a></div><div id='oper-6.sentence-1' class='sentence'>The <span class='texttt'><span class='keyword'>co_&shy;await</span></span> operator is described completely in <a href='expr.await' title='7.6.2.3&emsp;Await'>[expr.<span class='shy'></span>await]</a><a class='hidden_link' href='#oper-6.sentence-1'>.</a></div> <div id='oper-6.sentence-2' class='sentence'>The attributes and restrictions
found in the rest of this subclause do not apply to it unless explicitly
stated in <a href='expr.await' title='7.6.2.3&emsp;Await'>[expr.<span class='shy'></span>await]</a><a class='hidden_link' href='#oper-6.sentence-2'>.</a></div></div><div class='para' id='oper-7'><div class='marginalizedparent'><a class='marginalized' href='#oper-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3450'>#</a></div><div id='oper-7.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':restriction,overloading'></a></span>An operator function
shall either be a non-static member function or be a non-member function that
has at least one parameter whose type is a class, a reference to a class, an
enumeration, or a reference to an enumeration<a class='hidden_link' href='#oper-7.sentence-1'>.</a></div> <div id='oper-7.sentence-2' class='sentence'>It is not possible to change the precedence, grouping, or number of operands
of operators<a class='hidden_link' href='#oper-7.sentence-2'>.</a></div> <div id='oper-7.sentence-3' class='sentence'>The meaning of
the operators <span class='texttt'><span class='operator'>=</span></span>, (unary) <span class='texttt'><span class='operator'>&amp;</span></span>, and <span class='texttt'>,</span> (comma),
predefined for each type, can be changed for specific class types by
defining operator functions that implement these operators<a class='hidden_link' href='#oper-7.sentence-3'>.</a></div> <div id='oper-7.sentence-4' class='sentence'>Likewise, the meaning of the operators (unary) <span class='texttt'><span class='operator'>&amp;</span></span> and <span class='texttt'>,</span> (comma)
can be changed for specific enumeration types<a class='hidden_link' href='#oper-7.sentence-4'>.</a></div> <div id='oper-7.sentence-5' class='sentence'><span class='indexparent'><a class='index' id=':overloaded_operator,inheritance_of'></a></span>Operator functions are inherited in the same manner as other base class
functions<a class='hidden_link' href='#oper-7.sentence-5'>.</a></div></div><div class='para' id='oper-8'><div class='marginalizedparent'><a class='marginalized' href='#oper-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3468'>#</a></div><div id='oper-8.sentence-1' class='sentence'>An operator function shall be a
prefix unary, binary, function call, subscripting, class member access, increment, or decrement
operator function<a class='hidden_link' href='#oper-8.sentence-1'>.</a></div></div><div class='para' id='oper-9'><div class='marginalizedparent'><a class='marginalized' href='#oper-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3473'>#</a></div><span class='indexparent'><a class='index' id=':operator'></a></span><div id='oper-9.note-1' class='note'>[<a class='note_link' href='#oper-9.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='oper-9.sentence-1' class='sentence'>The identities among certain predefined operators applied to basic types
(for example,
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span>a</span> <span class='math'>&equiv;</span>
<span class='texttt'>a<span class='operator'>+</span><span class='operator'>=</span><span class='literal'>1</span></span>)
need not hold for operator functions<a class='hidden_link' href='#oper-9.sentence-1'>.</a></div> <div id='oper-9.sentence-2' class='sentence'>Some predefined operators, such as
<span class='texttt'><span class='operator'>+</span><span class='operator'>=</span></span>,
require an operand to be an lvalue when applied to basic types;
this is not required by operator functions<a class='hidden_link' href='#oper-9.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='oper-10'><div class='marginalizedparent'><a class='marginalized' href='#oper-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3487'>#</a></div><div id='oper-10.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':argument,overloaded_operator_and_default'></a></span>An operator function cannot have <a href='dcl.fct.default' title='9.3.3.6&emsp;Default arguments&emsp;[dcl.fct.default]'>default arguments</a>,
except where explicitly stated below<a class='hidden_link' href='#oper-10.sentence-1'>.</a></div> <div id='oper-10.sentence-2' class='sentence'>Operator
functions cannot have more or fewer parameters than the
number required for the corresponding operator, as
described in the rest of this subclause<a class='hidden_link' href='#oper-10.sentence-2'>.</a></div></div><div class='para' id='oper-11'><div class='marginalizedparent'><a class='marginalized' href='#oper-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3496'>#</a></div><div id='oper-11.sentence-1' class='sentence'>Operators not mentioned explicitly in subclauses <a href='#ass' title='12.6.2.1&emsp;Simple assignment'>[over.<span class='shy'></span>ass]</a> through <a href='#inc' title='12.6.6&emsp;Increment and decrement'>[over.<span class='shy'></span>inc]</a>
act as ordinary unary and binary
operators obeying the rules of <a href='#unary' title='12.6.1&emsp;Unary operators'>[over.<span class='shy'></span>unary]</a> or <a href='#binary' title='12.6.2&emsp;Binary operators'>[over.<span class='shy'></span>binary]</a><a class='hidden_link' href='#oper-11.sentence-1'>.</a></div> </div><div id='unary' class='section'><h3 ><a class='secnum' href='#unary' style='min-width:103pt'>12.6.1</a> Unary operators <a class='abbr_ref' href='over.unary'>[over.unary]</a></h3><span class='indexparent'><a class='index' id=':unary_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,unary_operator'></a></span><div class='para' id='unary-1'><div class='marginalizedparent'><a class='marginalized' href='#unary-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3507'>#</a></div><div id='unary-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:operator_function,prefix_unary' title='12.6.1&emsp;Unary operators&emsp;[over.unary]'><span id='def:operator_function,prefix_unary'><span class='textit'>prefix unary operator function</span></span></a>
is a function named <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_______________________________________'></a></span>@</span>
for a prefix <a href='expr.unary#nt:unary-operator' title='7.6.2&emsp;Unary expressions&emsp;[expr.unary]'><span id='ntref:unary-operator'><span class='textsf'><span class='textit'>unary-operator</span></span></span></a> <span class='texttt'>@</span> (<a href='expr.unary.op' title='7.6.2.1&emsp;Unary operators'>[expr.<span class='shy'></span>unary.<span class='shy'></span>op]</a>)
that is either
a non-static member function (<a href='class.mfct' title='11.4.1&emsp;Member functions'>[class.<span class='shy'></span>mfct]</a>) with no parameters or
a non-member function with one parameter<a class='hidden_link' href='#unary-1.sentence-1'>.</a></div> <div id='unary-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':unary_operator,interpretation_of'></a></span>For a <a href='expr.unary#nt:unary-expression' title='7.6.2&emsp;Unary expressions&emsp;[expr.unary]'><span id='ntref:unary-expression'><span class='textsf'><span class='textit'>unary-expression</span></span></span></a>
of the form <span class='texttt'>@ <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression'><span class='textsf'><span class='textit'>cast-expression</span></span></span></a></span>,
the operator function is selected by overload resolution (<a href='#match.oper' title='12.4.1.2&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>)<a class='hidden_link' href='#unary-1.sentence-2'>.</a></div> <div id='unary-1.sentence-4' class='sentence'>If a member function is selected,
the expression is interpreted as
<div class='ncsimplebnf'>
<a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression_'><span class='textsf'><span class='textit'>cast-expression</span></span></span></a> <span class='terminal'><span class='operator'>.</span></span> <span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator________________________________________'></a></span> <span class='terminal'>@</span> <span class='terminal'><span class='parenthesis'>(</span></span><span class='terminal'><span class='parenthesis'>)</span></span>
</div>
Otherwise, if a non-member function is selected,
the expression is interpreted as
<div class='ncsimplebnf'>
<span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_________________________________________'></a></span> <span class='terminal'>@</span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.cast#nt:cast-expression' title='7.6.3&emsp;Explicit type conversion (cast notation)&emsp;[expr.cast]'><span id='ntref:cast-expression__'><span class='textsf'><span class='textit'>cast-expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div>
<div id='unary-1.note-1' class='note'>[<a class='note_link' href='#unary-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='unary-1.sentence-3' class='sentence'>The operators <span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span> and <span class='texttt'><span class='operator'>-</span><span class='operator'>-</span></span> (<a href='expr.pre.incr' title='7.6.2.2&emsp;Increment and decrement'>[expr.<span class='shy'></span>pre.<span class='shy'></span>incr]</a>)
are described in <a href='#inc' title='12.6.6&emsp;Increment and decrement'>[over.<span class='shy'></span>inc]</a><a class='hidden_link' href='#unary-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div> </div></div><div class='para' id='unary-2'><div class='marginalizedparent'><a class='marginalized' href='#unary-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3533'>#</a></div><div id='unary-2.sentence-1' class='sentence'>The unary and binary forms of the same operator are considered to have
the same name<a class='hidden_link' href='#unary-2.sentence-1'>.</a></div> <div id='unary-2.note-1' class='note'>[<a class='note_link' href='#unary-2.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='unary-2.sentence-2' class='sentence'>Consequently, a unary operator can hide a binary
operator from an enclosing scope, and vice versa<a class='hidden_link' href='#unary-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </div></div><div id='binary' class='section'><h3 ><a class='secnum' href='#binary' style='min-width:103pt'>12.6.2</a> Binary operators <a class='abbr_ref' href='over.binary'>[over.binary]</a></h3><span class='indexparent'><a class='index' id=':binary_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,binary_operator'></a></span><div class='para' id='binary-1'><div class='marginalizedparent'><a class='marginalized' href='#binary-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3545'>#</a></div><div id='binary-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:operator_function,binary' title='12.6.2&emsp;Binary operators&emsp;[over.binary]'><span id='def:operator_function,binary'><span class='textit'>binary operator function</span></span></a>
is a function named <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator__________________________________________'></a></span>@</span>
for a binary operator <span class='texttt'>@</span> that is either
a non-static member function (<a href='class.mfct' title='11.4.1&emsp;Member functions'>[class.<span class='shy'></span>mfct]</a>) with one parameter or
a non-member function with two parameters<a class='hidden_link' href='#binary-1.sentence-1'>.</a></div> <div id='binary-1.sentence-2' class='sentence'><span class='indexparent'><a class='index' id=':binary_operator,interpretation_of'></a></span>For an expression <span class='texttt'><span class='math'><span class='mathalpha'>x</span></span> @ <span class='math'><span class='mathalpha'>y</span></span></span> with subexpressions <span class='math'><span class='mathalpha'>x</span></span> and <span class='math'><span class='mathalpha'>y</span></span>,
the operator function is selected by overload resolution (<a href='#match.oper' title='12.4.1.2&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>)<a class='hidden_link' href='#binary-1.sentence-2'>.</a></div> <div id='binary-1.sentence-3' class='sentence'>If a member function is selected,
the expression is interpreted as
<div class='ncsimplebnf'>
<span class='math'><span class='mathalpha'>x</span></span> <span class='terminal'><span class='operator'>.</span></span> <span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator___________________________________________'></a></span> <span class='terminal'>@</span> <span class='terminal'><span class='parenthesis'>(</span></span> <span class='math'><span class='mathalpha'>y</span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</div>
Otherwise, if a non-member function is selected,
the expression is interpreted as
<div class='ncsimplebnf'>
<span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator____________________________________________'></a></span> <span class='terminal'>@</span> <span class='terminal'><span class='parenthesis'>(</span></span> <span class='math'><span class='mathalpha'>x</span></span> <span class='terminal'>,</span> <span class='math'><span class='mathalpha'>y</span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div></div><div class='para' id='binary-2'><div class='marginalizedparent'><a class='marginalized' href='#binary-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3565'>#</a></div><div id='binary-2.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:operator_function,equality' title='12.6.2&emsp;Binary operators&emsp;[over.binary]'><span id='def:operator_function,equality'><span class='textit'>equality operator function</span></span></a> is an operator function
for an equality operator (<a href='expr.eq' title='7.6.10&emsp;Equality operators'>[expr.<span class='shy'></span>eq]</a>)<a class='hidden_link' href='#binary-2.sentence-1'>.</a></div> <div id='binary-2.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:operator_function,relational' title='12.6.2&emsp;Binary operators&emsp;[over.binary]'><span id='def:operator_function,relational'><span class='textit'>relational operator function</span></span></a> is an operator function
for a relational operator (<a href='expr.rel' title='7.6.9&emsp;Relational operators'>[expr.<span class='shy'></span>rel]</a>)<a class='hidden_link' href='#binary-2.sentence-2'>.</a></div> <div id='binary-2.sentence-3' class='sentence'>A <a class='hidden_link' href='#def:operator_function,three-way_comparison' title='12.6.2&emsp;Binary operators&emsp;[over.binary]'><span id='def:operator_function,three-way_comparison'><span class='textit'>three-way comparison operator function</span></span></a> is an operator function
for the three-way comparison operator (<a href='expr.spaceship' title='7.6.8&emsp;Three-way comparison operator'>[expr.<span class='shy'></span>spaceship]</a>)<a class='hidden_link' href='#binary-2.sentence-3'>.</a></div> <div id='binary-2.sentence-4' class='sentence'>A <a class='hidden_link' href='#def:operator_function,comparison' title='12.6.2&emsp;Binary operators&emsp;[over.binary]'><span id='def:operator_function,comparison'><span class='textit'>comparison operator function</span></span></a> is
an equality operator function,
a relational operator function, or
a three-way comparison operator function<a class='hidden_link' href='#binary-2.sentence-4'>.</a></div></div><div id='ass' class='section'><h4 ><a class='secnum' href='#ass' style='min-width:118pt'>12.6.2.1</a> Simple assignment <a class='abbr_ref' href='over.ass'>[over.ass]</a></h4><span class='indexparent'><a class='index' id=':assignment_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,assignment_operator'></a></span><div class='para' id='ass-1'><div class='marginalizedparent'><a class='marginalized' href='#ass-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3581'>#</a></div><div id='ass-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:operator_function,simple_assignment' title='12.6.2.1&emsp;Simple assignment&emsp;[over.ass]'><span id='def:operator_function,simple_assignment'><span class='textit'>simple assignment operator function</span></span></a>
is a binary operator function named <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_____________________________________________'></a></span><span class='operator'>=</span></span><a class='hidden_link' href='#ass-1.sentence-1'>.</a></div> <div id='ass-1.sentence-2' class='sentence'>A simple assignment operator function shall be a non-static member function<a class='hidden_link' href='#ass-1.sentence-2'>.</a></div> <div id='ass-1.note-1' class='note'>[<a class='note_link' href='#ass-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='ass-1.sentence-3' class='sentence'>Because only standard conversion sequences are considered when converting
to the left operand of an assignment operation (<a href='#best.ics' title='12.4.3.1&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>),
an expression <span class='texttt'><span class='math'><span class='mathalpha'>x</span></span> <span class='operator'>=</span> <span class='math'><span class='mathalpha'>y</span></span></span> with a subexpression <span class='math'><span class='mathalpha'>x</span></span> of class type
is always interpreted as <span class='texttt'><span class='math'><span class='mathalpha'>x</span></span><span class='operator'>.</span><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator______________________________________________'></a></span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='math'><span class='mathalpha'>y</span></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ass-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='ass-2'><div class='marginalizedparent'><a class='marginalized' href='#ass-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3592'>#</a></div><div id='ass-2.note-1' class='note'>[<a class='note_link' href='#ass-2.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='ass-2.sentence-1' class='sentence'>Since a copy assignment operator is implicitly declared for a class
if not declared by the user (<a href='class.copy.assign' title='11.4.5&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>),
a base class assignment operator function is always hidden by
the copy assignment operator function of the derived class<a class='hidden_link' href='#ass-2.sentence-1'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='ass-3'><div class='marginalizedparent'><a class='marginalized' href='#ass-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3600'>#</a></div><div id='ass-3.note-1' class='note'>[<a class='note_link' href='#ass-3.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='ass-3.sentence-1' class='sentence'>Any assignment operator function, even the copy and move assignment operators,
can be virtual<a class='hidden_link' href='#ass-3.sentence-1'>.</a></div> <div id='ass-3.sentence-2' class='sentence'>For a derived class <span class='texttt'>D</span> with a base class <span class='texttt'>B</span>
for which a virtual copy/move assignment has been declared,
the copy/move assignment operator in <span class='texttt'>D</span> does not override
<span class='texttt'>B</span>'s virtual copy/move assignment operator<a class='hidden_link' href='#ass-3.sentence-2'>.</a></div> <div id='ass-3.example-1' class='example'>[<a class='example_link' href='#ass-3.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>int</span> <span class='keyword'>operator</span><span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> B<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>const</span> B<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> D <span class='operator'>:</span> B <span class='curlybracket'>{</span>
  <span class='keyword'>virtual</span> <span class='keyword'>int</span> <span class='keyword'>operator</span><span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
  <span class='keyword'>virtual</span> D<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span> <span class='parenthesis'>(</span><span class='keyword'>const</span> B<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

D dobj1;
D dobj2;
B<span class='operator'>*</span> bptr <span class='operator'>=</span> <span class='operator'>&amp;</span>dobj1;
<span class='keyword'>void</span> f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  bptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='literal'>99</span><span class='parenthesis'>)</span>;          <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator_______________________________________________'></a></span>=(int)</span></span>
  <span class='operator'>*</span>bptr <span class='operator'>=</span> <span class='literal'>99</span>;                   <span class='comment'>// ditto</span>
  bptr<span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>dobj2<span class='parenthesis'>)</span>;       <span class='comment'>// calls <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator________________________________________________'></a></span>=(const B&amp;)</span></span>
  <span class='operator'>*</span>bptr <span class='operator'>=</span> dobj2;                <span class='comment'>// ditto</span>
  dobj1 <span class='operator'>=</span> dobj2;                <span class='comment'>// calls implicitly-declared <span class='tcode_in_codeblock'>D&#x200b;::&#x200b;<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator_________________________________________________'></a></span>=(const D&amp;)</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div>  —&nbsp;<i>end note</i>]</div> </div></div></div><div id='call' class='section'><h3 ><a class='secnum' href='#call' style='min-width:103pt'>12.6.3</a> Function call <a class='abbr_ref' href='over.call'>[over.call]</a></h3><span class='indexparent'><a class='index' id=':function_call_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,function_call_operator'></a></span><div class='para' id='call-1'><div class='marginalizedparent'><a class='marginalized' href='#call-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3637'>#</a></div><div id='call-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:operator_function,function_call' title='12.6.3&emsp;Function call&emsp;[over.call]'><span id='def:operator_function,function_call'><span class='textit'>function call operator function</span></span></a>
is a function named <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator__________________________________________________'></a></span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
that is a non-static member function with an arbitrary number of parameters<a class='hidden_link' href='#call-1.sentence-1'>.</a></div> <div id='call-1.sentence-2' class='sentence'>It may have default arguments<a class='hidden_link' href='#call-1.sentence-2'>.</a></div> <div id='call-1.sentence-3' class='sentence'>For an expression of the form
<div class='ncsimplebnf'>
<a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression___________'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post#nt:expression-list' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:expression-list_______'><span class='textsf'><span class='textit'>expression-list</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</div>
where the <a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression____________'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> is of class type,
the operator function
is selected by overload resolution (<a href='#call.object' title='12.4.1.1.2&emsp;Call to object of class type'>[over.<span class='shy'></span>call.<span class='shy'></span>object]</a>)<a class='hidden_link' href='#call-1.sentence-3'>.</a></div> <div id='call-1.sentence-4' class='sentence'>If a surrogate call function for a conversion function
named <span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator___________________________________________________'></a></span> <a href='class.conv.fct#nt:conversion-type-id' title='11.4.7.2&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id___'><span class='textsf'><span class='textit'>conversion-type-id</span></span></span></a> is selected,
the expression is interpreted as
<div class='ncsimplebnf'>
<a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression_____________'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> <span class='terminal'><span class='operator'>.</span></span> <span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator____________________________________________________'></a></span> <a href='class.conv.fct#nt:conversion-type-id' title='11.4.7.2&emsp;Conversion functions&emsp;[class.conv.fct]'><span id='ntref:conversion-type-id____'><span class='textsf'><span class='textit'>conversion-type-id</span></span></span></a> <span class='terminal'><span class='parenthesis'>(</span></span><span class='terminal'><span class='parenthesis'>)</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post#nt:expression-list' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:expression-list________'><span class='textsf'><span class='textit'>expression-list</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</div>
Otherwise, the expression is interpreted as
<div class='ncsimplebnf'>
<a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression______________'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> <span class='terminal'><span class='operator'>.</span></span> <span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_____________________________________________________'></a></span> <span class='terminal'><span class='parenthesis'>(</span></span><span class='terminal'><span class='parenthesis'>)</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post#nt:expression-list' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:expression-list_________'><span class='textsf'><span class='textit'>expression-list</span></span></span></a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div></div></div><div id='sub' class='section'><h3 ><a class='secnum' href='#sub' style='min-width:103pt'>12.6.4</a> Subscripting <a class='abbr_ref' href='over.sub'>[over.sub]</a></h3><span class='indexparent'><a class='index' id=':subscripting_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,subscripting_operator'></a></span><div class='para' id='sub-1'><div class='marginalizedparent'><a class='marginalized' href='#sub-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3664'>#</a></div><div id='sub-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:operator_function,subscripting' title='12.6.4&emsp;Subscripting&emsp;[over.sub]'><span id='def:operator_function,subscripting'><span class='textit'>subscripting operator function</span></span></a>
is a function named <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator______________________________________________________'></a></span><span class='squarebracket'>[</span><span class='squarebracket'>]</span></span>
that is a non-static member function with exactly one parameter<a class='hidden_link' href='#sub-1.sentence-1'>.</a></div> <div id='sub-1.sentence-2' class='sentence'>For an expression of the form
<div class='ncsimplebnf'>
<a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression_______________'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> <span class='terminal'><span class='squarebracket'>[</span></span> <a href='dcl.init#nt:expr-or-braced-init-list' title='9.4&emsp;Initializers&emsp;[dcl.init]'><span id='ntref:expr-or-braced-init-list'><span class='textsf'><span class='textit'>expr-or-braced-init-list</span></span></span></a> <span class='terminal'><span class='squarebracket'>]</span></span>
</div>
the operator function
is selected by overload resolution (<a href='#match.oper' title='12.4.1.2&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>)<a class='hidden_link' href='#sub-1.sentence-2'>.</a></div> <div id='sub-1.sentence-3' class='sentence'>If a member function is selected,
the expression is interpreted as
<div class='ncsimplebnf'>
<a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression________________'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> . <span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_______________________________________________________'></a></span> <span class='terminal'><span class='squarebracket'>[</span></span><span class='terminal'><span class='squarebracket'>]</span></span> <span class='terminal'><span class='parenthesis'>(</span></span> <a href='dcl.init#nt:expr-or-braced-init-list' title='9.4&emsp;Initializers&emsp;[dcl.init]'><span id='ntref:expr-or-braced-init-list_'><span class='textsf'><span class='textit'>expr-or-braced-init-list</span></span></span></a> <span class='terminal'><span class='parenthesis'>)</span></span>
</div></div></div><div class='para' id='sub-2'><div class='marginalizedparent'><a class='marginalized' href='#sub-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3680'>#</a></div><div id='sub-2.example-1' class='example'>[<a class='example_link' href='#sub-2.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  Z <span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>initializer_list<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
X x;
x<span class='squarebracket'>[</span><span class='curlybracket'>{</span><span class='literal'>1</span>,<span class='literal'>2</span>,<span class='literal'>3</span><span class='curlybracket'>}</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>7</span>;                 <span class='comment'>// OK: meaning <span class='tcode_in_codeblock'>x.<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator________________________________________________________'></a></span>[]({1,2,3})</span></span>
<span class='keyword'>int</span> a<span class='squarebracket'>[</span><span class='literal'>10</span><span class='squarebracket'>]</span>;
a<span class='squarebracket'>[</span><span class='curlybracket'>{</span><span class='literal'>1</span>,<span class='literal'>2</span>,<span class='literal'>3</span><span class='curlybracket'>}</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='literal'>7</span>;                 <span class='comment'>// error: built-in subscript operator</span>
</pre> —&nbsp;<i>end example</i>]</div> </div></div><div id='ref' class='section'><h3 ><a class='secnum' href='#ref' style='min-width:103pt'>12.6.5</a> Class member access <a class='abbr_ref' href='over.ref'>[over.ref]</a></h3><span class='indexparent'><a class='index' id=':member_access_operator,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,member_access_operator'></a></span><div class='para' id='ref-1'><div class='marginalizedparent'><a class='marginalized' href='#ref-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3697'>#</a></div><div id='ref-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:operator_function,class_member_access' title='12.6.5&emsp;Class member access&emsp;[over.ref]'><span id='def:operator_function,class_member_access'><span class='textit'>class member access operator function</span></span></a>
is a function named <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_________________________________________________________'></a></span><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span>
that is a non-static member function taking no parameters<a class='hidden_link' href='#ref-1.sentence-1'>.</a></div> <div id='ref-1.sentence-2' class='sentence'>For an expression of the form
<div class='ncsimplebnf'>
<a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression_________________'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> <span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <span class='texttt'><span class='keyword'>template</span></span><span class='indexparent'><a class='index' id=':template_'></a></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='expr.prim.id#nt:id-expression' title='7.5.4&emsp;Names&emsp;[expr.prim.id]'><span id='ntref:id-expression____'><span class='textsf'><span class='textit'>id-expression</span></span></span></a>
</div>
the operator function
is selected by overload resolution (<a href='#match.oper' title='12.4.1.2&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>),
and the expression is interpreted as
<div class='ncsimplebnf'>
<span class='terminal'><span class='parenthesis'>(</span></span> <a href='expr.post#nt:postfix-expression' title='7.6.1&emsp;Postfix expressions&emsp;[expr.post]'><span id='ntref:postfix-expression__________________'><span class='textsf'><span class='textit'>postfix-expression</span></span></span></a> . <span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator__________________________________________________________'></a></span> <span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <span class='terminal'><span class='parenthesis'>(</span></span><span class='terminal'><span class='parenthesis'>)</span></span> <span class='terminal'><span class='parenthesis'>)</span></span> <span class='terminal'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> <span class='texttt'><span class='keyword'>template</span></span><span class='indexparent'><a class='index' id=':template__'></a></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a href='expr.prim.id#nt:id-expression' title='7.5.4&emsp;Names&emsp;[expr.prim.id]'><span id='ntref:id-expression_____'><span class='textsf'><span class='textit'>id-expression</span></span></span></a>
</div></div></div></div><div id='inc' class='section'><h3 ><a class='secnum' href='#inc' style='min-width:103pt'>12.6.6</a> Increment and decrement <a class='abbr_ref' href='over.inc'>[over.inc]</a></h3><span class='indexparent'><a class='index' id=':prefix_++_and_--,overloading'></a></span><span class='indexparent'><a class='index' id=':postfix_++_and_--,overloading'></a></span><div class='para' id='inc-1'><div class='marginalizedparent'><a class='marginalized' href='#inc-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3718'>#</a></div><div id='inc-1.sentence-1' class='sentence'>An <a class='hidden_link' href='#def:operator_function,increment' title='12.6.6&emsp;Increment and decrement&emsp;[over.inc]'><span id='def:operator_function,increment'><span class='textit'>increment operator function</span></span></a>
is a function named <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator______________________________________________________________'></a></span><span class='operator'>+</span><span class='operator'>+</span></span><a class='hidden_link' href='#inc-1.sentence-1'>.</a></div> <div id='inc-1.sentence-2' class='sentence'>If this function is a non-static member function with no parameters, or a non-member
function with one parameter,
it defines the prefix increment operator
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span>
for objects of that type<a class='hidden_link' href='#inc-1.sentence-2'>.</a></div> <div id='inc-1.sentence-3' class='sentence'>If the function is a non-static member function with one parameter (which shall be of type
<span class='texttt'><span class='keyword'>int</span></span>)
or a non-member function with two parameters (the second of which shall be of type
<span class='texttt'><span class='keyword'>int</span></span>),
it defines the postfix increment operator
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span>
for objects of that type<a class='hidden_link' href='#inc-1.sentence-3'>.</a></div> <div id='inc-1.sentence-4' class='sentence'>When the postfix increment is called as a result of using the
<span class='texttt'><span class='operator'>+</span><span class='operator'>+</span></span>
operator, the
<span class='texttt'><span class='keyword'>int</span></span>
argument will have value zero<a class='hidden_link' href='#inc-1.sentence-4'>.</a><a class='footnotenum' href='#footnote-126' id='footnoteref-126' title='Calling operator++ explicitly, as in expressions like a.operator++(2), has no special properties: The argument to operator++ is 2.'>126</a></div> <div id='inc-1.example-1' class='example'>[<a class='example_link' href='#inc-1.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> X <span class='curlybracket'>{</span>
  X<span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;            <span class='comment'>// prefix <span class='tcode_in_codeblock'>++a</span></span>
  X    <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;         <span class='comment'>// postfix <span class='tcode_in_codeblock'>a++</span></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span> <span class='curlybracket'>}</span>;
Y<span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span><span class='parenthesis'>)</span>;            <span class='comment'>// prefix <span class='tcode_in_codeblock'>++b</span></span>
Y    <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span>Y<span class='operator'>&amp;</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;       <span class='comment'>// postfix <span class='tcode_in_codeblock'>b++</span></span>

<span class='keyword'>void</span> f<span class='parenthesis'>(</span>X a, Y b<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='operator'>+</span><span class='operator'>+</span>a;                          <span class='comment'>// <span class='tcode_in_codeblock'>a.<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator_______________________________________________________________'></a></span>++();</span></span>
  a<span class='operator'>+</span><span class='operator'>+</span>;                          <span class='comment'>// <span class='tcode_in_codeblock'>a.<span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator________________________________________________________________'></a></span>++(0);</span></span>
  <span class='operator'>+</span><span class='operator'>+</span>b;                          <span class='comment'>// <span class='tcode_in_codeblock'><span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator_________________________________________________________________'></a></span>++(b);</span></span>
  b<span class='operator'>+</span><span class='operator'>+</span>;                          <span class='comment'>// <span class='tcode_in_codeblock'><span class='tcode_in_codeblock'>operator</span><span class='indexparent'><a class='index' id=':operator__________________________________________________________________'></a></span>++(b, 0);</span></span>

  a<span class='operator'>.</span><span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>;               <span class='comment'>// explicit call: like <span class='tcode_in_codeblock'>++a;</span></span>
  a<span class='operator'>.</span><span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='literal'>0</span><span class='parenthesis'>)</span>;              <span class='comment'>// explicit call: like <span class='tcode_in_codeblock'>a++;</span></span>
  <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span>b<span class='parenthesis'>)</span>;                <span class='comment'>// explicit call: like <span class='tcode_in_codeblock'>++b;</span></span>
  <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span>b, <span class='literal'>0</span><span class='parenthesis'>)</span>;             <span class='comment'>// explicit call: like <span class='tcode_in_codeblock'>b++;</span></span>
<span class='curlybracket'>}</span>
</pre> —&nbsp;<i>end example</i>]</div> </div><div class='para' id='inc-2'><div class='marginalizedparent'><a class='marginalized' href='#inc-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3771'>#</a></div><div id='inc-2.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:operator_function,decrement' title='12.6.6&emsp;Increment and decrement&emsp;[over.inc]'><span id='def:operator_function,decrement'><span class='textit'>decrement operator function</span></span></a>
is a function named <span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator___________________________________________________________________'></a></span><span class='operator'>-</span><span class='operator'>-</span></span>
and is handled analogously to an increment operator function<a class='hidden_link' href='#inc-2.sentence-1'>.</a></div> </div><div class='footnote' id='footnote-126'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-126'>126)</a></div><div id='footnote-126.sentence-1' class='sentence'>Calling
<span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator___________________________________________________________'></a></span><span class='operator'>+</span><span class='operator'>+</span></span>
explicitly, as in expressions like
<span class='texttt'>a<span class='operator'>.</span><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator____________________________________________________________'></a></span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='literal'>2</span><span class='parenthesis'>)</span></span>,
has no special properties:
The argument to
<span class='texttt'><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_____________________________________________________________'></a></span><span class='operator'>+</span><span class='operator'>+</span></span>
is
<span class='texttt'><span class='literal'>2</span></span><a class='hidden_link' href='#footnote-126.sentence-1'>.</a></div> <a href='#footnoteref-126'>⮥</a></div></div></div><div id='built' class='section'><h2 ><a class='secnum' href='#built' style='min-width:88pt'>12.7</a> Built-in operators <a class='abbr_ref' href='over.built'>[over.built]</a></h2><span class='indexparent'><a class='index' id=':overloading,built-in_operators_and'></a></span><div class='para' id='built-1'><div class='marginalizedparent'><a class='marginalized' href='#built-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3780'>#</a></div><div id='built-1.sentence-1' class='sentence'>The candidate operator functions that represent the built-in operators
defined in <a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a> are specified in this subclause<a class='hidden_link' href='#built-1.sentence-1'>.</a></div> <div id='built-1.sentence-2' class='sentence'>These candidate
functions participate in the operator overload resolution process as
described in <a href='#match.oper' title='12.4.1.2&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a> and are used for no other purpose<a class='hidden_link' href='#built-1.sentence-2'>.</a></div> <div id='built-1.note-1' class='note'>[<a class='note_link' href='#built-1.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='built-1.sentence-3' class='sentence'>Because built-in operators take only operands with non-class type,
and operator overload resolution occurs only when an operand expression
originally has class or enumeration type,
operator overload resolution can resolve to a built-in operator only
when an operand has a class type that has a user-defined conversion to
a non-class type appropriate for the operator, or when an operand has
an enumeration type that can be converted to a type appropriate
for the operator<a class='hidden_link' href='#built-1.sentence-3'>.</a></div> <div id='built-1.sentence-4' class='sentence'>Also note that some of the candidate operator functions given in this subclause are
more permissive than the built-in operators themselves<a class='hidden_link' href='#built-1.sentence-4'>.</a></div> <div id='built-1.sentence-5' class='sentence'>As
described in <a href='#match.oper' title='12.4.1.2&emsp;Operators in expressions'>[over.<span class='shy'></span>match.<span class='shy'></span>oper]</a>, after a built-in operator is selected
by overload resolution the expression is subject to the requirements for
the built-in operator given in <a href='expr.compound' title='7.6&emsp;Compound expressions'>[expr.<span class='shy'></span>compound]</a>, and therefore to any
additional semantic constraints given there<a class='hidden_link' href='#built-1.sentence-5'>.</a></div> <div id='built-1.sentence-6' class='sentence'>If there is a user-written
candidate with the same name and parameter types as a built-in
candidate operator function, the built-in operator function
is hidden and is not included in the set of candidate functions<a class='hidden_link' href='#built-1.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='built-2'><div class='marginalizedparent'><a class='marginalized' href='#built-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3808'>#</a></div><div id='built-2.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':type,integral,promoted'></a></span><span class='indexparent'><a class='index' id=':type,arithmetic,promoted'></a></span>In this subclause, the term
<a class='hidden_link' href='#def:promoted_integral_type' title='12.7&emsp;Built-in operators&emsp;[over.built]'><span id='def:promoted_integral_type'><span class='textit'>promoted integral type</span></span></a>
is used to refer to those integral types which are preserved by
<a href='conv.prom' title='7.3.6&emsp;Integral promotions&emsp;[conv.prom]'>integral promotion</a> (including e.g.
<span class='texttt'><span class='keyword'>int</span></span>
and
<span class='texttt'><span class='keyword'>long</span></span>
but excluding e.g.
<span class='texttt'><span class='keyword'>char</span></span>)<a class='hidden_link' href='#built-2.sentence-1'>.</a></div> <div id='built-2.note-1' class='note'>[<a class='note_link' href='#built-2.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='built-2.sentence-2' class='sentence'>In all cases where a promoted integral type is
required, an operand of unscoped enumeration type will be acceptable by way of the
integral promotions<a class='hidden_link' href='#built-2.sentence-2'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='built-3'><div class='marginalizedparent'><a class='marginalized' href='#built-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3826'>#</a></div><div id='built-3.sentence-1' class='sentence'>In the remainder of this subclause, <span class='textit'>vq</span> represents either
<span class='texttt'><span class='keyword'>volatile</span></span> or no cv-qualifier<a class='hidden_link' href='#built-3.sentence-1'>.</a></div></div><div class='para' id='built-4'><div class='marginalizedparent'><a class='marginalized' href='#built-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3830'>#</a></div><div id='built-4.sentence-1' class='sentence'>For every pair
(<span class='texttt'><span class='textit'>T</span></span>,
<span class='textit'>vq</span>),
where
<span class='texttt'><span class='textit'>T</span></span>
is an arithmetic type other than <span class='texttt'><span class='keyword'>bool</span></span>,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>vq</span> <span class='textit'>T</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>T</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='textit'>T</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>T</span><span class='operator'>&amp;</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-5'><div class='marginalizedparent'><a class='marginalized' href='#built-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3843'>#</a></div><div id='built-5.sentence-1' class='sentence'>For every pair
(<span class='texttt'><span class='textit'>T</span></span>,
<span class='textit'>vq</span>),
where
<span class='texttt'><span class='textit'>T</span></span>
is an arithmetic type other than
<span class='texttt'><span class='keyword'>bool</span></span>,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>vq</span> <span class='textit'>T</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>T</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='textit'>T</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>T</span><span class='operator'>&amp;</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-6'><div class='marginalizedparent'><a class='marginalized' href='#built-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3857'>#</a></div><div id='built-6.sentence-1' class='sentence'>For every pair
(<span class='texttt'><span class='textit'>T</span></span>,
<span class='textit'>vq</span>),
where
<span class='texttt'><span class='textit'>T</span></span>
is a cv-qualified or cv-unqualified object type,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;
<span class='textit'>T</span><span class='operator'>*</span>    <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='textit'>T</span><span class='operator'>*</span>    <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span>, <span class='keyword'>int</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-7'><div class='marginalizedparent'><a class='marginalized' href='#built-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3872'>#</a></div><div id='built-7.sentence-1' class='sentence'>For every cv-qualified or cv-unqualified object type
<span class='texttt'><span class='textit'>T</span></span>,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>T</span><span class='operator'>&amp;</span>    <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-8'><div class='marginalizedparent'><a class='marginalized' href='#built-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3880'>#</a></div><div id='built-8.sentence-1' class='sentence'>For every function type
<span class='texttt'><span class='textit'>T</span></span> that does not have cv-qualifiers or a <a href='dcl.decl#nt:ref-qualifier' title='9.3&emsp;Declarators&emsp;[dcl.decl]'><span id='ntref:ref-qualifier_______'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a>,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>T</span><span class='operator'>&amp;</span>    <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-9'><div class='marginalizedparent'><a class='marginalized' href='#built-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3888'>#</a></div><div id='built-9.sentence-1' class='sentence'>For every type <span class='texttt'><span class='textit'>T</span></span> there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>T</span><span class='operator'>*</span>    <span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-10'><div class='marginalizedparent'><a class='marginalized' href='#built-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3894'>#</a></div><div id='built-10.sentence-1' class='sentence'>For every floating-point or promoted integral type <span class='texttt'><span class='textit'>T</span></span>,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>T</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='parenthesis'>)</span>;
<span class='textit'>T</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-11'><div class='marginalizedparent'><a class='marginalized' href='#built-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3902'>#</a></div><div id='built-11.sentence-1' class='sentence'>For every promoted integral type
<span class='texttt'><span class='textit'>T</span></span>,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>T</span> <span class='keyword'>operator</span><span class='operator'>~</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-12'><div class='marginalizedparent'><a class='marginalized' href='#built-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3910'>#</a></div><div id='built-12.sentence-1' class='sentence'>For every quintuple
(<span class='texttt'><span class='textit'>C1</span></span>,
<span class='texttt'><span class='textit'>C2</span></span>,
<span class='texttt'><span class='textit'>T</span></span>,
<span class='textit'>cv1</span>,
<span class='textit'>cv2</span>),
where
<span class='texttt'><span class='textit'>C2</span></span>
is a class type,
<span class='texttt'><span class='textit'>C1</span></span>
is the same type as <span class='texttt'><span class='textit'>C2</span></span> or is a derived class of <span class='texttt'><span class='textit'>C2</span></span>, and
<span class='texttt'><span class='textit'>T</span></span>
is an object type or a function type,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>cv12</span> <span class='textit'>T</span><span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='textit'>cv1</span> <span class='textit'>C1</span><span class='operator'>*</span>, <span class='textit'>cv2</span> <span class='textit'>T C2</span><span class='operator'>::</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
</pre>
where <span class='textit'>cv12</span> is the union of <span class='textit'>cv1</span> and <span class='textit'>cv2</span><a class='hidden_link' href='#built-12.sentence-1'>.</a></div> <div id='built-12.sentence-2' class='sentence'>The return type is shown for exposition only; see <a href='expr.mptr.oper' title='7.6.4&emsp;Pointer-to-member operators'>[expr.<span class='shy'></span>mptr.<span class='shy'></span>oper]</a> for the
determination of the operator's result type<a class='hidden_link' href='#built-12.sentence-2'>.</a></div></div><div class='para' id='built-13'><div class='marginalizedparent'><a class='marginalized' href='#built-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3932'>#</a></div><div id='built-13.sentence-1' class='sentence'>For every pair of types <span class='texttt'><span class='textit'>L</span></span> and <span class='texttt'><span class='textit'>R</span></span>,
where each of <span class='texttt'><span class='textit'>L</span></span> and <span class='texttt'><span class='textit'>R</span></span> is a
floating-point or promoted integral type,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>LR</span>      <span class='keyword'>operator</span><span class='operator'>*</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>LR</span>      <span class='keyword'>operator</span><span class='operator'>/</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>LR</span>      <span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>LR</span>      <span class='keyword'>operator</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
</pre>
where
<span class='texttt'><span class='textit'>LR</span></span>
is the result of the usual arithmetic conversions (<a href='expr.arith.conv' title='7.4&emsp;Usual arithmetic conversions'>[expr.<span class='shy'></span>arith.<span class='shy'></span>conv]</a>) between types
<span class='texttt'><span class='textit'>L</span></span>
and
<span class='texttt'><span class='textit'>R</span></span><a class='hidden_link' href='#built-13.sentence-1'>.</a></div></div><div class='para' id='built-14'><div class='marginalizedparent'><a class='marginalized' href='#built-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3956'>#</a></div><div id='built-14.sentence-1' class='sentence'>For every integral type <span class='texttt'><span class='textit'>T</span></span>
there exists a candidate operator function of the form
<pre class='codeblock'>
std<span class='operator'>::</span>strong_ordering <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-15'><div class='marginalizedparent'><a class='marginalized' href='#built-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3963'>#</a></div><div id='built-15.sentence-1' class='sentence'>For every pair of floating-point types
<span class='texttt'><span class='textit'>L</span></span> and <span class='texttt'><span class='textit'>R</span></span>,
there exists a candidate operator function of the form
<pre class='codeblock'>
std<span class='operator'>::</span>partial_ordering <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-16'><div class='marginalizedparent'><a class='marginalized' href='#built-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3971'>#</a></div><div id='built-16.sentence-1' class='sentence'>For every cv-qualified or cv-unqualified object type
<span class='texttt'><span class='textit'>T</span></span>
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>T</span><span class='operator'>*</span>      <span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span>, std<span class='operator'>::</span>ptrdiff_t<span class='parenthesis'>)</span>;
<span class='textit'>T</span><span class='operator'>&amp;</span>      <span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span>, std<span class='operator'>::</span>ptrdiff_t<span class='parenthesis'>)</span>;
<span class='textit'>T</span><span class='operator'>*</span>      <span class='keyword'>operator</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span>, std<span class='operator'>::</span>ptrdiff_t<span class='parenthesis'>)</span>;
<span class='textit'>T</span><span class='operator'>*</span>      <span class='keyword'>operator</span><span class='operator'>+</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>ptrdiff_t, <span class='textit'>T</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
<span class='textit'>T</span><span class='operator'>&amp;</span>      <span class='keyword'>operator</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>std<span class='operator'>::</span>ptrdiff_t, <span class='textit'>T</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-17'><div class='marginalizedparent'><a class='marginalized' href='#built-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3983'>#</a></div><div id='built-17.sentence-1' class='sentence'>For every
<span class='texttt'><span class='textit'>T</span></span>,
where
<span class='texttt'><span class='textit'>T</span></span>
is a pointer to object type,
there exist candidate operator functions of the form
<pre class='codeblock'>
std<span class='operator'>::</span>ptrdiff_t   <span class='keyword'>operator</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-18'><div class='marginalizedparent'><a class='marginalized' href='#built-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L3994'>#</a></div><div id='built-18.sentence-1' class='sentence'>For every <span class='texttt'><span class='textit'>T</span></span>, where <span class='texttt'><span class='textit'>T</span></span> is an enumeration type or a pointer type,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
<span class='textit'>R</span>       <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
</pre>
where <span class='texttt'><span class='textit'>R</span></span> is the result type specified in <a href='expr.spaceship' title='7.6.8&emsp;Three-way comparison operator'>[expr.<span class='shy'></span>spaceship]</a><a class='hidden_link' href='#built-18.sentence-1'>.</a></div></div><div class='para' id='built-19'><div class='marginalizedparent'><a class='marginalized' href='#built-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4008'>#</a></div><div id='built-19.sentence-1' class='sentence'>For every <span class='texttt'><span class='textit'>T</span></span>, where <span class='texttt'><span class='textit'>T</span></span>
is a pointer-to-member type or <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>nullptr_&shy;t</span>,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span> <span class='keyword'>operator</span><span class='operator'>!</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-20'><div class='marginalizedparent'><a class='marginalized' href='#built-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4017'>#</a></div><div id='built-20.sentence-1' class='sentence'>For every pair of promoted integral types
<span class='texttt'><span class='textit'>L</span></span>
and
<span class='texttt'><span class='textit'>R</span></span>,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>LR</span>      <span class='keyword'>operator</span><span class='operator'>%</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>LR</span>      <span class='keyword'>operator</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>LR</span>      <span class='keyword'>operator</span><span class='operator'>^</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>LR</span>      <span class='keyword'>operator</span><span class='operator'>|</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>L</span>       <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>L</span>       <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
</pre>
where
<span class='texttt'><span class='textit'>LR</span></span>
is the result of the usual arithmetic conversions (<a href='expr.arith.conv' title='7.4&emsp;Usual arithmetic conversions'>[expr.<span class='shy'></span>arith.<span class='shy'></span>conv]</a>) between types
<span class='texttt'><span class='textit'>L</span></span>
and
<span class='texttt'><span class='textit'>R</span></span><a class='hidden_link' href='#built-20.sentence-1'>.</a></div></div><div class='para' id='built-21'><div class='marginalizedparent'><a class='marginalized' href='#built-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4038'>#</a></div><div id='built-21.sentence-1' class='sentence'>For every triple
(<span class='texttt'><span class='textit'>L</span></span>, <span class='textit'>vq</span>, <span class='texttt'><span class='textit'>R</span></span>),
where <span class='texttt'><span class='textit'>L</span></span> is an arithmetic type,
and <span class='texttt'><span class='textit'>R</span></span> is a floating-point or promoted integral type,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>*</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>/</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-22'><div class='marginalizedparent'><a class='marginalized' href='#built-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4052'>#</a></div><div id='built-22.sentence-1' class='sentence'>For every pair (<span class='texttt'><span class='textit'>T</span></span>, <span class='textit'>vq</span>),
where <span class='texttt'><span class='textit'>T</span></span> is any type,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span>, <span class='textit'>T</span><span class='operator'>*</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-23'><div class='marginalizedparent'><a class='marginalized' href='#built-23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4060'>#</a></div><div id='built-23.sentence-1' class='sentence'>For every pair
(<span class='texttt'><span class='textit'>T</span></span>,
<span class='textit'>vq</span>),
where
<span class='texttt'><span class='textit'>T</span></span>
is an enumeration or pointer-to-member type,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>vq</span> <span class='textit'>T</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>T</span><span class='operator'>&amp;</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-24'><div class='marginalizedparent'><a class='marginalized' href='#built-24'>24</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4072'>#</a></div><div id='built-24.sentence-1' class='sentence'>For every pair
(<span class='texttt'><span class='textit'>T</span></span>,
<span class='textit'>vq</span>),
where
<span class='texttt'><span class='textit'>T</span></span>
is a cv-qualified or cv-unqualified object type,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span>, std<span class='operator'>::</span>ptrdiff_t<span class='parenthesis'>)</span>;
<span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>T</span><span class='operator'>*</span><span class='textit'>vq</span><span class='operator'>&amp;</span>, std<span class='operator'>::</span>ptrdiff_t<span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-25'><div class='marginalizedparent'><a class='marginalized' href='#built-25'>25</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4085'>#</a></div><div id='built-25.sentence-1' class='sentence'>For every triple
(<span class='texttt'><span class='textit'>L</span></span>,
<span class='textit'>vq</span>,
<span class='texttt'><span class='textit'>R</span></span>),
where
<span class='texttt'><span class='textit'>L</span></span>
is an integral type, and
<span class='texttt'><span class='textit'>R</span></span>
is a promoted integral type,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>%</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&lt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>&amp;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>^</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
<span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>   <span class='keyword'>operator</span><span class='operator'>|</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>vq</span> <span class='textit'>L</span><span class='operator'>&amp;</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-26'><div class='marginalizedparent'><a class='marginalized' href='#built-26'>26</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4105'>#</a></div><div id='built-26.sentence-1' class='sentence'>There also exist candidate operator functions of the form
<pre class='codeblock'>
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='operator'>!</span><span class='parenthesis'>(</span><span class='keyword'>bool</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='keyword'>bool</span>, <span class='keyword'>bool</span><span class='parenthesis'>)</span>;
<span class='keyword'>bool</span>    <span class='keyword'>operator</span><span class='operator'>|</span><span class='operator'>|</span><span class='parenthesis'>(</span><span class='keyword'>bool</span>, <span class='keyword'>bool</span><span class='parenthesis'>)</span>;
</pre></div></div><div class='para' id='built-27'><div class='marginalizedparent'><a class='marginalized' href='#built-27'>27</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4113'>#</a></div><div id='built-27.sentence-1' class='sentence'>For every pair of types <span class='texttt'><span class='textit'>L</span></span> and <span class='texttt'><span class='textit'>R</span></span>,
where each of <span class='texttt'><span class='textit'>L</span></span> and <span class='texttt'><span class='textit'>R</span></span> is a
floating-point or promoted integral type,
there exist candidate operator functions of the form
<pre class='codeblock'>
<span class='textit'>LR</span>      <span class='keyword'>operator</span><span class='operator'>?</span><span class='operator'>:</span><span class='parenthesis'>(</span><span class='keyword'>bool</span>, <span class='textit'>L</span>, <span class='textit'>R</span><span class='parenthesis'>)</span>;
</pre>
where
<span class='texttt'><span class='textit'>LR</span></span>
is the result of the usual arithmetic conversions (<a href='expr.arith.conv' title='7.4&emsp;Usual arithmetic conversions'>[expr.<span class='shy'></span>arith.<span class='shy'></span>conv]</a>) between types
<span class='texttt'><span class='textit'>L</span></span>
and
<span class='texttt'><span class='textit'>R</span></span><a class='hidden_link' href='#built-27.sentence-1'>.</a></div> <div id='built-27.note-1' class='note'>[<a class='note_link' href='#built-27.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='built-27.sentence-2' class='sentence'>As with all these descriptions of candidate functions, this declaration serves
only to describe the built-in operator for purposes of overload resolution<a class='hidden_link' href='#built-27.sentence-2'>.</a></div> <div id='built-27.sentence-3' class='sentence'>The operator
“<span class='texttt'><span class='operator'>?</span><span class='operator'>:</span></span>”
cannot be overloaded<a class='hidden_link' href='#built-27.sentence-3'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='built-28'><div class='marginalizedparent'><a class='marginalized' href='#built-28'>28</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4135'>#</a></div><div id='built-28.sentence-1' class='sentence'>For every type
<span class='texttt'><span class='textit'>T</span></span>,
where
<span class='texttt'><span class='textit'>T</span></span>
is a pointer, pointer-to-member, or scoped enumeration type, there exist candidate operator
functions of the form
<pre class='codeblock'>
<span class='textit'>T</span>       <span class='keyword'>operator</span><span class='operator'>?</span><span class='operator'>:</span><span class='parenthesis'>(</span><span class='keyword'>bool</span>, <span class='textit'>T</span>, <span class='textit'>T</span><span class='parenthesis'>)</span>;
</pre></div></div></div><div id='literal' class='section'><h2 ><a class='secnum' href='#literal' style='min-width:88pt'>12.8</a> User-defined literals <a class='abbr_ref' href='over.literal'>[over.literal]</a></h2><span class='indexparent'><a class='index' id=':user-defined_literal,overloaded'></a></span><span class='indexparent'><a class='index' id=':overloading,user-defined_literal'></a></span><div class='bnf' id='nt:literal-operator-id'>
<a class='hidden_link' href='#nt:literal-operator-id' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='nt:literal-operator-id'><span id=':literal-operator-id'>literal-operator-id<span class='textnormal'>:</span></span></span></a><br/><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator____________________________________________________________________'></a></span> <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal__'><span class='textsf'><span class='textit'>string-literal</span></span></span></a> <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier'><span class='textsf'><span class='textit'>identifier</span></span></span></a><br/><span class='texttt'><span class='keyword'>operator</span></span><span class='indexparent'><a class='index' id=':operator_____________________________________________________________________'></a></span> <a href='lex.ext#nt:user-defined-string-literal' title='5.13.8&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-string-literal'><span class='textsf'><span class='textit'>user-defined-string-literal</span></span></span></a>
</div><div class='para' id='literal-1'><div class='marginalizedparent'><a class='marginalized' href='#literal-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4157'>#</a></div><div id='literal-1.sentence-1' class='sentence'>The <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal___'><span class='textsf'><span class='textit'>string-literal</span></span></span></a> or <a href='lex.ext#nt:user-defined-string-literal' title='5.13.8&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-string-literal_'><span class='textsf'><span class='textit'>user-defined-string-literal</span></span></span></a>
in a <a href='#nt:literal-operator-id' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id'><span class='textsf'><span class='textit'>literal-operator-id</span></span></span></a> shall have no
<a href='lex.ccon#nt:encoding-prefix' title='5.13.3&emsp;Character literals&emsp;[lex.ccon]'><span id='ntref:encoding-prefix'><span class='textsf'><span class='textit'>encoding-prefix</span></span></span></a> and shall contain no characters other than the
implicit terminating <span class='texttt'><span class='literal'>'\0'</span></span><a class='hidden_link' href='#literal-1.sentence-1'>.</a></div> <div id='literal-1.sentence-2' class='sentence'>The <a href='lex.ext#nt:ud-suffix' title='5.13.8&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:ud-suffix'><span class='textsf'><span class='textit'>ud-suffix</span></span></span></a> of the <a href='lex.ext#nt:user-defined-string-literal' title='5.13.8&emsp;User-defined literals&emsp;[lex.ext]'><span id='ntref:user-defined-string-literal__'><span class='textsf'><span class='textit'>user-defined-string-literal</span></span></span></a> or
the <a href='lex.name#nt:identifier' title='5.10&emsp;Identifiers&emsp;[lex.name]'><span id='ntref:identifier_'><span class='textsf'><span class='textit'>identifier</span></span></span></a> in a <a href='#nt:literal-operator-id' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id_'><span class='textsf'><span class='textit'>literal-operator-id</span></span></span></a> is called a
<a class='hidden_link' href='#def:literal,suffix_identifier' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,suffix_identifier'><span class='textit'>literal suffix identifier</span></span></a><a class='hidden_link' href='#literal-1.sentence-2'>.</a></div> <div id='literal-1.sentence-3' class='sentence'>Some literal suffix identifiers are reserved for future standardization;
see <a href='usrlit.suffix' title='16.5.4.3.5&emsp;User-defined literal suffixes'>[usrlit.<span class='shy'></span>suffix]</a><a class='hidden_link' href='#literal-1.sentence-3'>.</a></div> <div id='literal-1.sentence-4' class='sentence'>A declaration whose <a href='#nt:literal-operator-id' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id__'><span class='textsf'><span class='textit'>literal-operator-id</span></span></span></a> uses
such a literal suffix identifier is ill-formed, no diagnostic required<a class='hidden_link' href='#literal-1.sentence-4'>.</a></div></div><div class='para' id='literal-2'><div class='marginalizedparent'><a class='marginalized' href='#literal-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4169'>#</a></div><div id='literal-2.sentence-1' class='sentence'>A declaration whose <a href='dcl.decl#nt:declarator-id' title='9.3&emsp;Declarators&emsp;[dcl.decl]'><span id='ntref:declarator-id'><span class='textsf'><span class='textit'>declarator-id</span></span></span></a> is a
<a href='#nt:literal-operator-id' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id___'><span class='textsf'><span class='textit'>literal-operator-id</span></span></span></a> shall be a declaration of a namespace-scope
function or function template (it could be a friend
function (<a href='class.friend' title='11.9.3&emsp;Friends'>[class.<span class='shy'></span>friend]</a>)), an explicit instantiation or specialization of a
function template, or a <a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration___'><span class='textsf'><span class='textit'>using-declaration</span></span></span></a> (<a href='namespace.udecl' title='9.9&emsp;The using declaration'>[namespace.<span class='shy'></span>udecl]</a>)<a class='hidden_link' href='#literal-2.sentence-1'>.</a></div> <div id='literal-2.sentence-2' class='sentence'>A function declared with a <a href='#nt:literal-operator-id' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id____'><span class='textsf'><span class='textit'>literal-operator-id</span></span></span></a> is a <a class='hidden_link' href='#def:literal,operator' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,operator'><span class='textit'>literal
operator</span></span></a><a class='hidden_link' href='#literal-2.sentence-2'>.</a></div> <div id='literal-2.sentence-3' class='sentence'>A function template declared with a <a href='#nt:literal-operator-id' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='ntref:literal-operator-id_____'><span class='textsf'><span class='textit'>literal-operator-id</span></span></span></a>
is a <a class='hidden_link' href='#def:literal,operator,template' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,operator,template'><span class='textit'>literal operator template</span></span></a><a class='hidden_link' href='#literal-2.sentence-3'>.</a></div></div><div class='para' id='literal-3'><div class='marginalizedparent'><a class='marginalized' href='#literal-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4179'>#</a></div><div id='literal-3.sentence-1' class='sentence'>The declaration of a literal operator shall have a
<a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.3.5&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><span class='textit'>parameter-declaration-clause</span></span></span></a> equivalent to one of the following:
<pre class='codeblock'>
<span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>
<span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span>
<span class='keyword'>long</span> <span class='keyword'>double</span>
<span class='keyword'>char</span>
<span class='keyword'>wchar_t</span>
<span class='keyword'>char8_t</span>
<span class='keyword'>char16_t</span>
<span class='keyword'>char32_t</span>
<span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>wchar_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>char8_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>char16_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
<span class='keyword'>const</span> <span class='keyword'>char32_t</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t
</pre></div><div id='literal-3.sentence-2' class='sentence'>If a parameter has a default argument (<a href='dcl.fct.default' title='9.3.3.6&emsp;Default arguments'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>default]</a>), the program is
ill-formed<a class='hidden_link' href='#literal-3.sentence-2'>.</a></div></div><div class='para' id='literal-4'><div class='marginalizedparent'><a class='marginalized' href='#literal-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4201'>#</a></div><div id='literal-4.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:literal,operator,raw' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,operator,raw'><span class='textit'>raw literal operator</span></span></a> is a literal operator with a single parameter
whose type is <span class='texttt'><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span></span><a class='hidden_link' href='#literal-4.sentence-1'>.</a></div></div><div class='para' id='literal-5'><div class='marginalizedparent'><a class='marginalized' href='#literal-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4205'>#</a></div><div id='literal-5.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:literal,operator,template_numeric' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,operator,template_numeric'><span class='textit'>numeric literal operator template</span></span></a>
is a literal operator template whose <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list'><span class='textsf'><span class='textit'>template-parameter-list</span></span></span></a>
has a single <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter_'><span class='textsf'><span class='textit'>template-parameter</span></span></span></a>
that is a non-type template parameter pack (<a href='temp.variadic' title='13.7.3&emsp;Variadic templates'>[temp.<span class='shy'></span>variadic]</a>)
with element type <span class='texttt'><span class='keyword'>char</span></span><a class='hidden_link' href='#literal-5.sentence-1'>.</a></div> <div id='literal-5.sentence-2' class='sentence'>A <a class='hidden_link' href='#def:literal,operator,template_string' title='12.8&emsp;User-defined literals&emsp;[over.literal]'><span id='def:literal,operator,template_string'><span class='textit'>string literal operator template</span></span></a>
is a literal operator template whose <a href='temp.pre#nt:template-parameter-list' title='13.1&emsp;Preamble&emsp;[temp.pre]'><span id='ntref:template-parameter-list_'><span class='textsf'><span class='textit'>template-parameter-list</span></span></span></a>
comprises
a single non-type <a href='temp.param#nt:template-parameter' title='13.2&emsp;Template parameters&emsp;[temp.param]'><span id='ntref:template-parameter__'><span class='textsf'><span class='textit'>template-parameter</span></span></span></a> of class type<a class='hidden_link' href='#literal-5.sentence-2'>.</a></div> <div id='literal-5.sentence-3' class='sentence'>The declaration of a literal operator template
shall have an empty <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.3.5&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause_'><span class='textsf'><span class='textit'>parameter-declaration-clause</span></span></span></a>
and shall declare either a numeric literal operator template
or a string literal operator template<a class='hidden_link' href='#literal-5.sentence-3'>.</a></div></div><div class='para' id='literal-6'><div class='marginalizedparent'><a class='marginalized' href='#literal-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4220'>#</a></div><div id='literal-6.sentence-1' class='sentence'>Literal operators and literal operator templates shall not have C language linkage<a class='hidden_link' href='#literal-6.sentence-1'>.</a></div></div><div class='para' id='literal-7'><div class='marginalizedparent'><a class='marginalized' href='#literal-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4223'>#</a></div><div id='literal-7.note-1' class='note'>[<a class='note_link' href='#literal-7.note-1'><span class='textit'>Note</span></a><span class='textit'>:</span> <div id='literal-7.sentence-1' class='sentence'>Literal operators and literal operator templates are usually invoked
implicitly through user-defined literals (<a href='lex.ext' title='5.13.8&emsp;User-defined literals'>[lex.<span class='shy'></span>ext]</a>)<a class='hidden_link' href='#literal-7.sentence-1'>.</a></div> <div id='literal-7.sentence-2' class='sentence'>However, except for
the constraints described above, they are ordinary namespace-scope functions and
function templates<a class='hidden_link' href='#literal-7.sentence-2'>.</a></div> <div id='literal-7.sentence-3' class='sentence'>In particular, they are looked up like ordinary functions
and function templates and they follow the same overload resolution rules<a class='hidden_link' href='#literal-7.sentence-3'>.</a></div> <div id='literal-7.sentence-4' class='sentence'>Also,
they can be declared <span class='texttt'><span class='keyword'>inline</span></span> or <span class='texttt'><span class='keyword'>constexpr</span></span>,
they may have internal, module, or external linkage,
they can be called explicitly, their addresses can be
taken, etc<a class='hidden_link' href='#literal-7.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div> </div><div class='para' id='literal-8'><div class='marginalizedparent'><a class='marginalized' href='#literal-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0b54fd56b85dc886854b1297d620569582a82e63/source/overloading.tex#L4236'>#</a></div><div id='literal-8.example-1' class='example'>[<a class='example_link' href='#literal-8.example-1'><span class='textit'>Example</span></a><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _km<span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;                  <span class='comment'>// OK</span>
string <span class='keyword'>operator</span> <span class='literal'>""</span> _i18n<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>; <span class='comment'>// OK</span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='keyword'>double</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _\u03C0<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;    <span class='comment'>// OK: UCN for lowercase pi</span>
<span class='keyword'>float</span> <span class='keyword'>operator</span> <span class='literal'>""_e</span><span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;                   <span class='comment'>// OK</span>
<span class='keyword'>float</span> <span class='keyword'>operator</span> <span class='literal'>""E</span><span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;                    <span class='comment'>// error: reserved literal suffix (<a href='usrlit.suffix' title='16.5.4.3.5&emsp;User-defined literal suffixes'>[usrlit.<span class='shy'></span>suffix]</a>, <a href='lex.ext' title='5.13.8&emsp;User-defined literals'>[lex.<span class='shy'></span>ext]</a>)</span>
<span class='keyword'>double</span> <span class='keyword'>operator</span><span class='literal'>""_Bq</span><span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;                  <span class='comment'>// OK: does not use the reserved identifier <span class='tcode_in_codeblock'>_&shy;Bq</span> (<a href='lex.name' title='5.10&emsp;Identifiers'>[lex.<span class='shy'></span>name]</a>)</span>
<span class='keyword'>double</span> <span class='keyword'>operator</span><span class='literal'>""</span> _Bq<span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;                 <span class='comment'>// uses the reserved identifier <span class='tcode_in_codeblock'>_&shy;Bq</span> (<a href='lex.name' title='5.10&emsp;Identifiers'>[lex.<span class='shy'></span>name]</a>)</span>
<span class='keyword'>float</span> <span class='keyword'>operator</span> <span class='literal'>" "</span> B<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>;                  <span class='comment'>// error: non-empty <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal____'><span class='textsf'><span class='textit'>string-literal</span></span></span></a></span>
string <span class='keyword'>operator</span> <span class='literal'>""</span> <span class='literal'>5X</span><span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, std<span class='operator'>::</span>size_t<span class='parenthesis'>)</span>;    <span class='comment'>// error: invalid literal suffix identifier</span>
<span class='keyword'>double</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _miles<span class='parenthesis'>(</span><span class='keyword'>double</span><span class='parenthesis'>)</span>;                  <span class='comment'>// error: invalid <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.3.5&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause__'><span class='textsf'><span class='textit'>parameter-declaration-clause</span></span></span></a></span>
<span class='keyword'>template</span> <span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _j<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='parenthesis'>)</span>; <span class='comment'>// error: invalid <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.3.5&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause___'><span class='textsf'><span class='textit'>parameter-declaration-clause</span></span></span></a></span>
<span class='keyword'>extern</span> <span class='literal'>"C"</span> <span class='keyword'>void</span> <span class='keyword'>operator</span> <span class='literal'>""</span> _m<span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span><span class='parenthesis'>)</span>;        <span class='comment'>// error: C language linkage</span>
</pre> —&nbsp;<i>end example</i>]</div> </div></div></div></body></html>