<!DOCTYPE html><html lang='en'><head><title>[basic.scope.class]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>6</a> Basics <a class='abbr_ref' href='./#basic'>[basic]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>6.4</a> Scope <a class='abbr_ref' href='basic.scope#class'>[basic.scope]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>6.4.7</a> Class scope <a class='abbr_ref'>[basic.scope.class]</a></h3><div class='texpara'><a class='index' id=':scope,class'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/basic.tex#L1183'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>The potential scope of a name declared in a class consists not
only of the declarative region following the name's point of
declaration, but also of all complete-class contexts (<a href='class.mem' title='11.4&emsp;Class members'>[class.<span class='shy'></span>mem]</a>)
of that class<a class='hidden_link' href='#1.sentence-1'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/basic.tex#L1189'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'>A name <span class='texttt'>N</span> used in a class <span class='texttt'>S</span> shall refer to the same
declaration in its context and when re-evaluated in the completed scope
of <span class='texttt'>S</span><a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>No diagnostic is required for a violation of this rule<a class='hidden_link' href='#2.sentence-2'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/basic.tex#L1194'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>A name declared within a member function hides a declaration of
the same name whose scope extends to or past the end of the member
function's class<a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/basic.tex#L1199'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>The potential scope of a declaration in a class that extends to or past the
end of a class definition also extends to the regions defined by its
member definitions, even if the members are defined lexically outside
the class (this includes static data member definitions, nested class
definitions, and member function definitions, including the member function
body and any portion of the
declarator part of such definitions which follows the <a href='dcl.decl.general#nt:declarator-id' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:declarator-id'><span class='textsf'><i >declarator-id</i></span></span></a>,
including a <a href='dcl.fct#nt:parameter-declaration-clause' title='9.3.4.6&emsp;Functions&emsp;[dcl.fct]'><span id='ntref:parameter-declaration-clause'><span class='textsf'><i >parameter-declaration-clause</i></span></span></a> and any <a href='dcl.fct.default' title='9.3.4.7&emsp;Default arguments&emsp;[dcl.fct.default]'>default
arguments</a>)<a class='hidden_link' href='#4.sentence-1'>.</a></div></div></div><div class='para nonNormativeOnly' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/basic.tex#L1210'>#</a></div><div class='texpara'><div id='example-1' class='example'><div class='texpara'>[<i>Example&nbsp;<a href='#example-1'>1</a></i>: <span class='codeblock'><span class='keyword'>typedef</span> <span class='keyword'>int</span>  c;
<span class='keyword'>enum</span> <span class='curlybracket'>{</span> i <span class='operator'>=</span> <span class='literal'>1</span> <span class='curlybracket'>}</span>;

<span class='keyword'>class</span> X <span class='curlybracket'>{</span>
  <span class='keyword'>char</span>  v<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span>;                       <span class='comment'>// error: <span class='tcode_in_codeblock'>i</span> refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;i</span> but when reevaluated is <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;i</span></span>
  <span class='keyword'>int</span>  f<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span>c<span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>    <span class='comment'>// OK: <span class='tcode_in_codeblock'>X&#x200b;::&#x200b;c</span></span>
  <span class='keyword'>char</span>  c;
  <span class='keyword'>enum</span> <span class='curlybracket'>{</span> i <span class='operator'>=</span> <span class='literal'>2</span> <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>typedef</span> <span class='keyword'>char</span><span class='operator'>*</span>  T;
<span class='keyword'>struct</span> Y <span class='curlybracket'>{</span>
  T  a;                             <span class='comment'>// error: <span class='tcode_in_codeblock'>T</span> refers to <span class='tcode_in_codeblock'>&#x200b;::&#x200b;T</span> but when reevaluated is <span class='tcode_in_codeblock'>Y&#x200b;::&#x200b;T</span></span>
  <span class='keyword'>typedef</span> <span class='keyword'>long</span>  T;
  T  b;
<span class='curlybracket'>}</span>;

<span class='keyword'>typedef</span> <span class='keyword'>int</span> I;
<span class='keyword'>class</span> D <span class='curlybracket'>{</span>
  <span class='keyword'>typedef</span> I I;                      <span class='comment'>// error, even though no reordering involved</span>
<span class='curlybracket'>}</span>;
</span> â€”&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/2c6009b1c756eb2e0391e9460d8f70b29015cc9c/source/basic.tex#L1237'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>The name of a class member shall only be used as follows:
<ul class='itemize'><li id='6.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.1'>(6.1)</a></div>in the scope of its class (as described above) or a class
<a href='class.derived' title='11.7&emsp;Derived classes&emsp;[class.derived]'>derived</a> from its class,</li><li id='6.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.2'>(6.2)</a></div>after the <span class='texttt'><span class='operator'>.</span></span> operator applied to an expression of the type
of its class (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) or a class derived from its class,</li><li id='6.3'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.3'>(6.3)</a></div>after the <span class='texttt'><span class='operator'>-</span><span class='anglebracket'>&gt;</span></span> operator applied to a pointer to an object of
its class (<a href='expr.ref' title='7.6.1.5&emsp;Class member access'>[expr.<span class='shy'></span>ref]</a>) or a class derived from its class,</li><li id='6.4'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#6.4'>(6.4)</a></div>after the <span class='texttt'><span class='operator'>&#x200b;::&#x200b;</span></span> scope resolution operator (<a href='expr.prim.id.qual' title='7.5.4.3&emsp;Qualified names'>[expr.<span class='shy'></span>prim.<span class='shy'></span>id.<span class='shy'></span>qual]</a>)
applied to the name of its class or a class derived from its class<a class='hidden_link' href='#6.sentence-1'>.</a></li></ul></div></div></div></div></body></html>