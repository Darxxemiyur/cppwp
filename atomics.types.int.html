<!DOCTYPE html><html lang='en'><head><title>[atomics.types.int]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>31</a> Atomic operations library <a class='abbr_ref' href='./#atomics'>[atomics]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>31.8</a> Class template <span class='texttt'>atomic</span> <a class='abbr_ref' href='atomics.types.generic#atomics.types.int'>[atomics.types.generic]</a></h2><h3 ><a class='secnum' style='min-width:103pt'>31.8.2</a> Specializations for integers <a class='abbr_ref'>[atomics.types.int]</a></h3><span class='indexparent'><a class='index' id='lib:atomic<integral>'></a></span><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/atomics.tex#L2089'>#</a></div><div id='1.sentence-1' class='sentence'>There are specializations of the <span class='texttt'>atomic</span>
class template for the integral types
<span class='texttt'><span class='keyword'>char</span></span>,
<span class='texttt'><span class='keyword'>signed</span> <span class='keyword'>char</span></span>,
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>char</span></span>,
<span class='texttt'><span class='keyword'>short</span></span>,
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>short</span></span>,
<span class='texttt'><span class='keyword'>int</span></span>,
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>int</span></span>,
<span class='texttt'><span class='keyword'>long</span></span>,
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>long</span></span>,
<span class='texttt'><span class='keyword'>long</span> <span class='keyword'>long</span></span>,
<span class='texttt'><span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span></span>,
<span class='texttt'><span class='keyword'>char8_&shy;t</span></span>,
<span class='texttt'><span class='keyword'>char16_&shy;t</span></span>,
<span class='texttt'><span class='keyword'>char32_&shy;t</span></span>,
<span class='texttt'><span class='keyword'>wchar_&shy;t</span></span>,
and any other types needed by the typedefs in the header <span class='indexparent'><a class='index' id=':<cstdint>'></a></span><span class='texttt'><span class='anglebracket'>&lt;</span>cstdint<span class='anglebracket'>&gt;</span></span> (<a href='cstdint.syn'>[cstdint.syn]</a>)<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>For each such type <span class='texttt'><span class='textit'>integral</span></span>, the specialization
<span class='texttt'>atomic<span class='anglebracket'>&lt;</span><span class='textit'>integral</span><span class='anglebracket'>&gt;</span></span> provides additional atomic operations appropriate to integral types<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.note-1' class='note'>[&nbsp;<a class='note_link' href='#1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='1.sentence-3' class='sentence'>The specialization <span class='texttt'>atomic<span class='anglebracket'>&lt;</span><span class='keyword'>bool</span><span class='anglebracket'>&gt;</span></span>
uses the primary template (<a href='atomics.types.generic'>[atomics.types.generic]</a>)<a class='hidden_link' href='#1.sentence-3'>.</a></div> â€”&nbsp;<i>end note</i></div>&nbsp;]</div> <pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> atomic<span class='anglebracket'>&lt;</span><span class='textit'>integral</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
    <span class='keyword'>using</span> value_type <span class='operator'>=</span> <span class='textit'>integral</span>;
    <span class='keyword'>using</span> difference_type <span class='operator'>=</span> value_type;

    <span class='keyword'>static</span> <span class='keyword'>constexpr</span> <span class='keyword'>bool</span> is_always_lock_free <span class='operator'>=</span> <span class='indexparent'><a class='index' id=':whether_a_given_atomic_type&#39;s_operations_are_always_lock_free'></a></span><span class='textit'>implementation-defined</span>;
    <span class='keyword'>bool</span> is_lock_free<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> is_lock_free<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>constexpr</span> atomic<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> atomic<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    atomic<span class='parenthesis'>(</span><span class='keyword'>const</span> atomic<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    atomic<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> atomic<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    atomic<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> atomic<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;

    <span class='keyword'>void</span> store<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> store<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> load<span class='parenthesis'>(</span>memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> load<span class='parenthesis'>(</span>memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>operator</span> <span class='textit'>integral</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>operator</span> <span class='textit'>integral</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    <span class='textit'>integral</span> exchange<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> exchange<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                               memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                               memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                                 memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                                 memory_order, memory_order<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                               memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_weak<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                               memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                                 memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>bool</span> compare_exchange_strong<span class='parenthesis'>(</span><span class='textit'>integral</span><span class='operator'>&amp;</span>, <span class='textit'>integral</span>,
                                 memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='textit'>integral</span> fetch_add<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_add<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_sub<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_sub<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_and<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_and<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_or<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_or<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_xor<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> fetch_xor<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>+</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>-</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>+</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>-</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>&amp;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>&amp;</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>|</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>|</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>^</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='textit'>integral</span> <span class='keyword'>operator</span><span class='operator'>^</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='textit'>integral</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>void</span> wait<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> wait<span class='parenthesis'>(</span><span class='textit'>integral</span>, memory_order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> notify_one<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> notify_one<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> notify_all<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> notify_all<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/atomics.tex#L2199'>#</a></div><div id='2.sentence-1' class='sentence'>The atomic integral specializations
are standard-layout structs<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>They each have
a trivial destructor<a class='hidden_link' href='#2.sentence-2'>.</a></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/atomics.tex#L2205'>#</a></div><div id='3.sentence-1' class='sentence'>Descriptions are provided below only for members that differ from the primary template<a class='hidden_link' href='#3.sentence-1'>.</a></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/atomics.tex#L2208'>#</a></div><div id='4.sentence-1' class='sentence'>The following operations perform arithmetic computations<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='4.sentence-2' class='sentence'>The key, operator, and computation correspondence is:</div><div class='numberedTable' id='tab:atomic.types.int.comp'>Table <a href='#tab:atomic.types.int.comp'>144</a>: Atomic arithmetic computations &emsp;&ensp;[tab:atomic.types.int.comp]<br><table ><tr class='rowsep'><td class='left'><div id='4.sentence-3' class='sentence'><b><span class='texttt'><span class='textit'>key</span></span></b></div></td><td class='left'><div id='4.sentence-4' class='sentence'><b>Op</b></div></td><td class='left'><div id='4.sentence-5' class='sentence'><b>Computation</b></div></td><td class='border left'><div id='4.sentence-6' class='sentence'><b><span class='texttt'><span class='textit'>key</span></span></b></div></td><td class='left'><div id='4.sentence-7' class='sentence'><b>Op</b></div></td><td class='left'><div id='4.sentence-8' class='sentence'><b>Computation</b></div></td></tr><tr class='rowsep'><td class='left'><div id='4.sentence-9' class='sentence'><span class='texttt'>add</span></div></td><td class='left'><div id='4.sentence-10' class='sentence'><span class='texttt'><span class='operator'>+</span></span></div></td><td class='left'><div id='4.sentence-11' class='sentence'>addition</div></td><td class='border left'><div id='4.sentence-12' class='sentence'><span class='texttt'>sub</span></div></td><td class='left'><div id='4.sentence-13' class='sentence'><span class='texttt'><span class='operator'>-</span></span></div></td><td class='left'><div id='4.sentence-14' class='sentence'>subtraction</div></td></tr><tr ><td class='left'><div id='4.sentence-15' class='sentence'><span class='texttt'>or</span></div></td><td class='left'><div id='4.sentence-16' class='sentence'><span class='texttt'><span class='operator'>|</span></span></div></td><td class='left'><div id='4.sentence-17' class='sentence'>bitwise inclusive or</div></td><td class='border left'><div id='4.sentence-18' class='sentence'><span class='texttt'>xor</span></div></td><td class='left'><div id='4.sentence-19' class='sentence'><span class='texttt'><span class='operator'>^</span></span></div></td><td class='left'><div id='4.sentence-20' class='sentence'>bitwise exclusive or</div></td></tr><tr ><td class='left'><div id='4.sentence-21' class='sentence'><span class='texttt'>and</span></div></td><td class='left'><div id='4.sentence-22' class='sentence'><span class='texttt'><span class='operator'>&amp;</span></span></div></td><td class='left'><div id='4.sentence-23' class='sentence'>bitwise and</div></td><td class='empty border left'></td><td class='empty left'></td><td class='empty left'></td></tr></table></div><span class='indexparent'><a class='index' id='lib:atomic_fetch_add'></a></span><span class='indexparent'><a class='index' id='lib:atomic_fetch_and'></a></span><span class='indexparent'><a class='index' id='lib:atomic_fetch_or'></a></span><span class='indexparent'><a class='index' id='lib:atomic_fetch_sub'></a></span><span class='indexparent'><a class='index' id='lib:atomic_fetch_xor'></a></span><span class='indexparent'><a class='index' id='lib:atomic_fetch_add_explicit'></a></span><span class='indexparent'><a class='index' id='lib:atomic_fetch_and_explicit'></a></span><span class='indexparent'><a class='index' id='lib:atomic_fetch_or_explicit'></a></span><span class='indexparent'><a class='index' id='lib:atomic_fetch_sub_explicit'></a></span><span class='indexparent'><a class='index' id='lib:atomic_fetch_xor_explicit'></a></span><span class='indexparent'><a class='index' id='lib:fetch_add,atomic<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<integral>,fetch_add'></a></span><span class='indexparent'><a class='index' id='lib:fetch_and,atomic<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<integral>,fetch_and'></a></span><span class='indexparent'><a class='index' id='lib:fetch_or,atomic<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<integral>,fetch_or'></a></span><span class='indexparent'><a class='index' id='lib:fetch_sub,atomic<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<integral>,fetch_sub'></a></span><span class='indexparent'><a class='index' id='lib:fetch_xor,atomic<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<integral>,fetch_xor'></a></span></div><div class='itemdecl' id='itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:1'>ðŸ”—</a></div><code class='itemdeclcode'>T fetch_<span class='textit'>key</span><span class='parenthesis'>(</span>T operand, memory_order order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
T fetch_<span class='textit'>key</span><span class='parenthesis'>(</span>T operand, memory_order order <span class='operator'>=</span> memory_order<span class='operator'>::</span>seq_cst<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/atomics.tex#L2258'>#</a></div><div id='5.sentence-1' class='sentence'><span class='textit'>Constraints:</span> 
For the <span class='texttt'><span class='keyword'>volatile</span></span> overload of this function,
<span class='texttt'>is_&shy;always_&shy;lock_&shy;free</span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#5.sentence-1'>.</a></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/atomics.tex#L2263'>#</a></div><div id='6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Atomically replaces the value pointed to by
<span class='texttt'><span class='keyword'>this</span></span> with the result of the computation applied to the
value pointed to by <span class='texttt'><span class='keyword'>this</span></span> and the given <span class='texttt'>operand</span><a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='6.sentence-2' class='sentence'>Memory is affected according to the value of <span class='texttt'>order</span><a class='hidden_link' href='#6.sentence-2'>.</a></div> <div id='6.sentence-3' class='sentence'>These operations are atomic read-modify-write operations (<a href='intro.multithread'>[intro.multithread]</a>)<a class='hidden_link' href='#6.sentence-3'>.</a></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/atomics.tex#L2271'>#</a></div><div id='7.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
Atomically, the value pointed to by <span class='texttt'><span class='keyword'>this</span></span> immediately before the effects<a class='hidden_link' href='#7.sentence-1'>.</a></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/atomics.tex#L2275'>#</a></div><div id='8.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':signed_integer_representation,two&#39;s_complement'></a></span><span class='textit'>Remarks:</span> 
For signed integer types,
the result is as if the object value and parameters
were converted to their corresponding unsigned types,
the computation performed on those types, and
the result converted back to the signed type<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.note-1' class='note'>[&nbsp;<a class='note_link' href='#8.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='8.sentence-2' class='sentence'>There are no undefined results arising from the computation<a class='hidden_link' href='#8.sentence-2'>.</a></div> â€”&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator+=,atomic<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<T*>,operator+='></a></span><span class='indexparent'><a class='index' id='lib:operator-=,atomic<T*>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<T*>,operator-='></a></span><span class='indexparent'><a class='index' id='lib:operator+=,atomic<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<integral>,operator+='></a></span><span class='indexparent'><a class='index' id='lib:operator-=,atomic<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<integral>,operator-='></a></span><span class='indexparent'><a class='index' id='lib:operator&amp;=,atomic<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<integral>,operator&amp;='></a></span><span class='indexparent'><a class='index' id='lib:operator|=,atomic<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<integral>,operator|='></a></span><span class='indexparent'><a class='index' id='lib:operator^=,atomic<integral>'></a></span><span class='indexparent'><a class='index' id='lib:atomic<integral>,operator^='></a></span><div class='itemdecl' id='itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#itemdecl:2'>ðŸ”—</a></div><code class='itemdeclcode'>T <span class='keyword'>operator</span> <span class='textit'>op</span><span class='operator'>=</span><span class='parenthesis'>(</span>T operand<span class='parenthesis'>)</span> <span class='keyword'>volatile</span> <span class='keyword'>noexcept</span>;
T <span class='keyword'>operator</span> <span class='textit'>op</span><span class='operator'>=</span><span class='parenthesis'>(</span>T operand<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='9'><div class='marginalizedparent'><a class='marginalized' href='#9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/atomics.tex#L2302'>#</a></div><div id='9.sentence-1' class='sentence'><span class='textit'>Constraints:</span> 
For the <span class='texttt'><span class='keyword'>volatile</span></span> overload of this function,
<span class='texttt'>is_&shy;always_&shy;lock_&shy;free</span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#9.sentence-1'>.</a></div></div></div><div class='para' id='10'><div class='marginalizedparent'><a class='marginalized' href='#10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/0869f240e1b791a7c040d64ea44c435bfb67a237/source/atomics.tex#L2307'>#</a></div><div id='10.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'><span class='keyword'>return</span> fetch_&shy;<span class='textit'>key</span><span class='parenthesis'>(</span>operand<span class='parenthesis'>)</span> <span class='textit'>op</span> operand;</span></div></div></div></div></body></html>