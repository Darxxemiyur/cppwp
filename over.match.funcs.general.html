<!DOCTYPE html><html lang='en'><head><title>[over.match.funcs.general]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>12</a> Overloading <a class='abbr_ref' href='./#over'>[over]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>12.4</a> Overload resolution <a class='abbr_ref' href='over.match#funcs.general'>[over.match]</a></h2><h3 ><a class='secnum' style='min-width:80pt'>12.4.2</a> Candidate functions and argument lists <a class='abbr_ref' href='over.match.funcs#general'>[over.match.funcs]</a></h3><h4 ><a class='secnum' style='min-width:95pt'>12.4.2.1</a> General <a class='abbr_ref'>[over.match.funcs.general]</a></h4><div class='texpara'><a class='index' id=':overloading,candidate_functions'></a><a class='index' id=':overloading,argument_lists'></a></div><div class='para' id='1'><div class='marginalizedparent'><a class='marginalized' href='#1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/overloading.tex#L513'>#</a></div><div class='texpara'><div id='1.sentence-1' class='sentence'>The subclauses of <a href='over.match.funcs' title='12.4.2&emsp;Candidate functions and argument lists'>[over.<span class='shy'></span>match.<span class='shy'></span>funcs]</a> describe
the set of candidate functions and the argument list submitted to
overload resolution in each context in which
overload resolution is used<a class='hidden_link' href='#1.sentence-1'>.</a></div> <div id='1.sentence-2' class='sentence'>The source transformations and constructions defined
in these subclauses are only for the purpose of describing the
overload resolution process<a class='hidden_link' href='#1.sentence-2'>.</a></div> <div id='1.sentence-3' class='sentence'>An implementation is not required
to use such transformations and constructions<a class='hidden_link' href='#1.sentence-3'>.</a></div></div></div><div class='para' id='2'><div class='marginalizedparent'><a class='marginalized' href='#2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/overloading.tex#L524'>#</a></div><div class='texpara'><div id='2.sentence-1' class='sentence'><a class='index' id=':member_function,overload_resolution_and'></a><a class='index' id=':function,overload_resolution_and'></a>The set of candidate functions can contain both member and non-member
functions to be resolved against the same argument list<a class='hidden_link' href='#2.sentence-1'>.</a></div> <div id='2.sentence-2' class='sentence'>So that argument and parameter lists are comparable within this
heterogeneous set, a member function is considered to have an
extra first parameter, called the
<a class='hidden_link' href='#def:implicit_object_parameter' title='12.4.2.1&emsp;General&emsp;[over.match.funcs.general]'><span id='def:implicit_object_parameter'><span class='textit'>implicit object parameter</span></span></a>,
which represents the object for which the member function has been
called<a class='hidden_link' href='#2.sentence-2'>.</a></div> <div id='2.sentence-3' class='sentence'>For the purposes of overload resolution, both static and
non-static member functions have an implicit object parameter,
but constructors do not<a class='hidden_link' href='#2.sentence-3'>.</a></div></div></div><div class='para' id='3'><div class='marginalizedparent'><a class='marginalized' href='#3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/overloading.tex#L539'>#</a></div><div class='texpara'><div id='3.sentence-1' class='sentence'>Similarly, when appropriate, the context can construct an
argument list that contains an
<a class='hidden_link' href='#def:implied_object_argument' title='12.4.2.1&emsp;General&emsp;[over.match.funcs.general]'><span id='def:implied_object_argument'><span class='textit'>implied object argument</span></span></a>
as the first argument in the list to denote
the object to be operated on<a class='hidden_link' href='#3.sentence-1'>.</a></div></div></div><div class='para' id='4'><div class='marginalizedparent'><a class='marginalized' href='#4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/overloading.tex#L546'>#</a></div><div class='texpara'><div id='4.sentence-1' class='sentence'>For non-static member functions, the type of the implicit object
parameter is
<ul class='itemize'><li id='4.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.1'>(4.1)</a></div>“lvalue reference to <span class='mathit'>cv</span> <span class='texttt'>X</span>” for functions declared
without a <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a> or with the
<span class='texttt'><span class='operator'>&amp;</span></span> <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier_'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a></li><li id='4.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#4.2'>(4.2)</a></div>“rvalue reference to <span class='mathit'>cv</span> <span class='texttt'>X</span>” for functions declared with the
<span class='texttt'><span class='operator'>&amp;</span><span class='operator'>&amp;</span></span> <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier__'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a></li></ul>
where
<span class='texttt'>X</span>
is the class of which the function is a member and
<span class='mathit'>cv</span>
is the cv-qualification on the
member function declaration<a class='hidden_link' href='#4.sentence-1'>.</a></div> <div id='example-1' class='example'><div class='texpara'>[<a class='example_link' href='#example-1'><span class='textit'>Example&nbsp;1</span></a><span class='textit'>:</span> <div id='4.sentence-2' class='sentence'>For a
<span class='texttt'><span class='keyword'>const</span></span>
member
function of class
<span class='texttt'>X</span>,
the extra parameter is assumed to have type
“reference to
<span class='texttt'><span class='keyword'>const</span> X</span>”<a class='hidden_link' href='#4.sentence-2'>.</a></div> —&nbsp;<i>end example</i>]</div></div> <div id='4.sentence-3' class='sentence'>
For conversion functions, the function is considered to be a member of the
class of the implied object argument for the purpose of defining the
type of the implicit object parameter<a class='hidden_link' href='#4.sentence-3'>.</a></div> <div id='4.sentence-4' class='sentence'>For non-conversion functions
introduced by a
<a href='namespace.udecl#nt:using-declaration' title='9.9&emsp;The using declaration&emsp;[namespace.udecl]'><span id='ntref:using-declaration'><span class='textsf'><span class='textit'>using-declaration</span></span></span></a>
into a derived class, the function is
considered to be a member of the derived class for the purpose of defining
the type of the implicit object parameter<a class='hidden_link' href='#4.sentence-4'>.</a></div> <div id='4.sentence-5' class='sentence'>For static member functions, the implicit object parameter is considered
to match any object (since if the function is selected, the object is
discarded)<a class='hidden_link' href='#4.sentence-5'>.</a></div> <div id='note-1' class='note'><div class='texpara'>[<a class='note_link' href='#note-1'><span class='textit'>Note&nbsp;1</span></a><span class='textit'>:</span> <div id='4.sentence-6' class='sentence'>No actual type is established for the implicit object parameter
of a static member function, and no attempt will be made to determine a
conversion sequence for that parameter (<a href='over.match.best' title='12.4.4&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>)<a class='hidden_link' href='#4.sentence-6'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='5'><div class='marginalizedparent'><a class='marginalized' href='#5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/overloading.tex#L590'>#</a></div><div class='texpara'><div id='5.sentence-1' class='sentence'><a class='index' id=':implied_object_argument,implicit_conversion_sequences'></a>During overload resolution, the implied object argument is
indistinguishable from other arguments<a class='hidden_link' href='#5.sentence-1'>.</a></div> <div id='5.sentence-2' class='sentence'>The implicit object
parameter, however, retains its identity since
no user-defined conversions can be applied to achieve a type
match with it<a class='hidden_link' href='#5.sentence-2'>.</a></div> <div id='5.sentence-3' class='sentence'><a class='index' id=':implied_object_argument,non-static_member_function_and'></a>For non-static member functions declared without a <a href='dcl.decl.general#nt:ref-qualifier' title='9.3.1&emsp;General&emsp;[dcl.decl.general]'><span id='ntref:ref-qualifier___'><span class='textsf'><span class='textit'>ref-qualifier</span></span></span></a>,
even if the implicit object parameter is not const-qualified,
an rvalue can be bound to the parameter
as long as in all other respects the argument can be
converted to the type of the implicit object parameter<a class='hidden_link' href='#5.sentence-3'>.</a></div> <div id='note-2' class='note'><div class='texpara'>[<a class='note_link' href='#note-2'><span class='textit'>Note&nbsp;2</span></a><span class='textit'>:</span> <div id='5.sentence-4' class='sentence'>The fact that such an argument is an rvalue does not
affect the <a href='over.ics.rank' title='12.4.4.3&emsp;Ranking implicit conversion sequences&emsp;[over.ics.rank]'>ranking</a> of implicit conversion sequences<a class='hidden_link' href='#5.sentence-4'>.</a></div> —&nbsp;<i>end note</i>]</div></div></div></div><div class='para' id='6'><div class='marginalizedparent'><a class='marginalized' href='#6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/overloading.tex#L609'>#</a></div><div class='texpara'><div id='6.sentence-1' class='sentence'>Because other than in list-initialization only one user-defined conversion
is allowed
in an
implicit conversion sequence, special rules apply when selecting
the best user-defined conversion (<a href='over.match.best' title='12.4.4&emsp;Best viable function'>[over.<span class='shy'></span>match.<span class='shy'></span>best]</a>,
<a href='over.best.ics' title='12.4.4.2&emsp;Implicit conversion sequences'>[over.<span class='shy'></span>best.<span class='shy'></span>ics]</a>)<a class='hidden_link' href='#6.sentence-1'>.</a></div> <div id='example-2' class='example'><div class='texpara'>[<a class='example_link' href='#example-2'><span class='textit'>Example&nbsp;2</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>class</span> T <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  T<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;

<span class='keyword'>class</span> C <span class='operator'>:</span> T <span class='curlybracket'>{</span>
<span class='keyword'>public</span><span class='operator'>:</span>
  C<span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>;
T a <span class='operator'>=</span> <span class='literal'>1</span>;            <span class='comment'>// error: no viable conversion (<span class='tcode_in_codeblock'>T(C(1))</span> not considered)</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='para' id='7'><div class='marginalizedparent'><a class='marginalized' href='#7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/overloading.tex#L631'>#</a></div><div class='texpara'><div id='7.sentence-1' class='sentence'>In each case where a candidate is a function template, candidate
function template specializations
are generated using template argument deduction (<a href='temp.over' title='13.10.4&emsp;Overload resolution'>[temp.<span class='shy'></span>over]</a>,
<a href='temp.deduct' title='13.10.3&emsp;Template argument deduction'>[temp.<span class='shy'></span>deduct]</a>)<a class='hidden_link' href='#7.sentence-1'>.</a></div> <div id='7.sentence-2' class='sentence'>If a constructor template or conversion function template
has an <a href='dcl.fct.spec#nt:explicit-specifier' title='9.2.3&emsp;Function specifiers&emsp;[dcl.fct.spec]'><span id='ntref:explicit-specifier'><span class='textsf'><span class='textit'>explicit-specifier</span></span></span></a>
whose <a href='expr.const#nt:constant-expression' title='7.7&emsp;Constant expressions&emsp;[expr.const]'><span id='ntref:constant-expression'><span class='textsf'><span class='textit'>constant-expression</span></span></span></a> is value-dependent (<a href='temp.dep' title='13.8.3&emsp;Dependent names'>[temp.<span class='shy'></span>dep]</a>),
template argument deduction is performed first and then,
if the context requires a candidate that
is not explicit and the generated specialization is explicit (<a href='dcl.fct.spec' title='9.2.3&emsp;Function specifiers'>[dcl.<span class='shy'></span>fct.<span class='shy'></span>spec]</a>),
it will be removed from the candidate set<a class='hidden_link' href='#7.sentence-2'>.</a></div> <div id='7.sentence-3' class='sentence'>Those candidates are then handled as candidate
functions in the usual way<a class='hidden_link' href='#7.sentence-3'>.</a><a class='footnotenum' href='#footnote-121' id='footnoteref-121' title='The process of argument deduction fully determines the parameter types of the function template specializations, i.e., the parameters of function template specializations contain no template parameter types. Therefore, except where specified otherwise, function template specializations and non-template functions ([dcl.fct]) are treated equivalently for the remainder of overload resolution.'>121</a></div> <div id='7.sentence-4' class='sentence'>
A given name can refer to one or more function templates and also
to a set of non-template functions<a class='hidden_link' href='#7.sentence-4'>.</a></div> <div id='7.sentence-5' class='sentence'>In such a case, the
candidate functions generated from each function template are combined
with the set of non-template candidate functions<a class='hidden_link' href='#7.sentence-5'>.</a></div></div></div><div class='para' id='8'><div class='marginalizedparent'><a class='marginalized' href='#8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/88ec08948c822ecddba35e33c556817ebe32f607/source/overloading.tex#L662'>#</a></div><div class='texpara'><div id='8.sentence-1' class='sentence'>A
defaulted move special member function (<a href='class.copy.ctor' title='11.4.5.3&emsp;Copy/move constructors'>[class.<span class='shy'></span>copy.<span class='shy'></span>ctor]</a>, <a href='class.copy.assign' title='11.4.6&emsp;Copy/move assignment operator'>[class.<span class='shy'></span>copy.<span class='shy'></span>assign]</a>)
that is defined as deleted
is excluded from the set of candidate functions in all contexts<a class='hidden_link' href='#8.sentence-1'>.</a></div> <div id='8.sentence-2' class='sentence'>A constructor inherited from class type <span class='texttt'>C</span> (<a href='class.inhctor.init' title='11.10.4&emsp;Initialization by inherited constructor'>[class.<span class='shy'></span>inhctor.<span class='shy'></span>init]</a>)
that has a first parameter of type “reference to <span class='textit'>cv1</span> <span class='texttt'>P</span>”
(including such a constructor instantiated from a template)
is excluded from the set of candidate functions
when constructing an object of type <span class='textit'>cv2</span> <span class='texttt'>D</span>
if the argument list has exactly one argument and
<span class='texttt'>C</span> is reference-related to <span class='texttt'>P</span> and
<span class='texttt'>P</span> is reference-related to <span class='texttt'>D</span><a class='hidden_link' href='#8.sentence-2'>.</a></div> <div id='example-3' class='example'><div class='texpara'>[<a class='example_link' href='#example-3'><span class='textit'>Example&nbsp;3</span></a><span class='textit'>:</span> <span class='codeblock'><span class='keyword'>struct</span> A <span class='curlybracket'>{</span>
  A<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                                  <span class='comment'>// #1</span>
  A<span class='parenthesis'>(</span>A <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                              <span class='comment'>// #2</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>typename</span> T<span class='anglebracket'>&gt;</span> A<span class='parenthesis'>(</span>T <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span>;         <span class='comment'>// #3</span>
<span class='curlybracket'>}</span>;
<span class='keyword'>struct</span> B <span class='operator'>:</span> A <span class='curlybracket'>{</span>
  <span class='keyword'>using</span> A<span class='operator'>::</span>A;
  B<span class='parenthesis'>(</span><span class='keyword'>const</span> B <span class='operator'>&amp;</span><span class='parenthesis'>)</span>;                         <span class='comment'>// #4</span>
  B<span class='parenthesis'>(</span>B <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>default</span>;                    <span class='comment'>// #5, implicitly deleted</span>

  <span class='keyword'>struct</span> X <span class='curlybracket'>{</span> X<span class='parenthesis'>(</span>X <span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>; <span class='curlybracket'>}</span> x;
<span class='curlybracket'>}</span>;
<span class='keyword'>extern</span> B b1;
B b2 <span class='operator'>=</span> <span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span>B<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>b1<span class='parenthesis'>)</span>;            <span class='comment'>// calls #4: #1 is not viable, #2, #3, and #5 are not candidates</span>
<span class='keyword'>struct</span> C <span class='curlybracket'>{</span> <span class='keyword'>operator</span> B<span class='operator'>&amp;</span><span class='operator'>&amp;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>; <span class='curlybracket'>}</span>;
B b3 <span class='operator'>=</span> C<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;                             <span class='comment'>// calls #4</span>
</span> —&nbsp;<i>end example</i>]</div></div></div></div><div class='footnote' id='footnote-121'><div class='footnoteNumberParent'><a class='marginalized' href='#footnote-121'>121)</a></div><div class='texpara'><div id='footnote-121.sentence-1' class='sentence'>The process of argument deduction fully
determines the parameter types of
the
function template specializations,
i.e., the parameters of
function template specializations
contain
no template parameter types<a class='hidden_link' href='#footnote-121.sentence-1'>.</a></div> <div id='footnote-121.sentence-2' class='sentence'>Therefore, except where specified otherwise,
function template specializations
and non-template functions (<a href='dcl.fct' title='9.3.4.6&emsp;Functions'>[dcl.<span class='shy'></span>fct]</a>) are treated equivalently
for the remainder of overload resolution<a class='hidden_link' href='#footnote-121.sentence-2'>.</a></div>&nbsp;<a href='#footnoteref-121'>⮥</a></div></div></div></body></html>