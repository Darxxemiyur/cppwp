<!DOCTYPE html><html lang='en'><head><title>[span.streams]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Normal'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='alternate stylesheet' type='text/css' href='normative-only.css' title='Notes and examples hidden'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:50pt'>29</a> Input/output library <a class='abbr_ref' href='./#input.output'>[input.output]</a></h1><h2 ><a class='secnum' style='min-width:65pt'>29.9</a> Span-based streams <a class='abbr_ref'>[span.streams]</a></h2><div id='overview' class='section'><h3 ><a class='secnum' href='#overview' style='min-width:80pt'>29.9.1</a> Overview <a class='abbr_ref' href='span.streams.overview'>[span.streams.overview]</a></h3><div class='para' id='overview-1'><div class='marginalizedparent'><a class='marginalized' href='#overview-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9292'>#</a></div><div class='texpara'><div id='overview-1.sentence-1' class='sentence'>The header <span id='header:<spanstream>'><span class='texttt'><span class='anglebracket'>&lt;</span>spanstream<span class='anglebracket'>&gt;</span></span></span> defines class templates and types
that associate stream buffers with objects whose types are
specializations of <span class='texttt'>span</span> as described in <a href='views.span' title='22.7.3&emsp;Class template span'>[views.<span class='shy'></span>span]</a><a class='hidden_link' href='#overview-1.sentence-1'>.</a></div> <div id='overview-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#overview-note-1'>1</a></i>: <div id='overview-1.sentence-2' class='sentence'>A user of these classes is responsible for ensuring
that the character sequence represented by the given <span class='texttt'>span</span>
outlives the use of the sequence by objects of the classes in subclause <a href='#' title='29.9&emsp;Span-based streams'>[span.<span class='shy'></span>streams]</a><a class='hidden_link' href='#overview-1.sentence-2'>.</a></div> <div id='overview-1.sentence-3' class='sentence'>Using multiple <span class='texttt'>basic_&shy;spanbuf</span> objects
referring to overlapping underlying sequences from different threads,
where at least one <span class='texttt'>basic_&shy;spanbuf</span> object is used
for writing to the sequence,
results in a data race<a class='hidden_link' href='#overview-1.sentence-3'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div><div id='spanstream.syn' class='section'><h3 ><a class='secnum' href='#spanstream.syn' style='min-width:80pt'>29.9.2</a> Header <span class='texttt'>&lt;spanstream&gt;</span> synopsis <a class='abbr_ref' href='spanstream.syn'>[spanstream.syn]</a></h3><div class='texpara'><span id='lib:wspanstream'><span id='lib:spanstream'><span id='lib:wospanstream'><span id='lib:ospanstream'><span id='lib:wispanstream'><span id='lib:ispanstream'><span id='lib:wspanbuf'><span id='lib:spanbuf'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:spanbuf'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>class</span> basic_spanbuf;

  <span class='keyword'>using</span> spanbuf <span class='operator'>=</span> basic_spanbuf<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wspanbuf <span class='operator'>=</span> basic_spanbuf<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>class</span> basic_ispanstream;

  <span class='keyword'>using</span> ispanstream <span class='operator'>=</span> basic_ispanstream<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wispanstream <span class='operator'>=</span> basic_ispanstream<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>class</span> basic_ospanstream;

  <span class='keyword'>using</span> ospanstream <span class='operator'>=</span> basic_ospanstream<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wospanstream <span class='operator'>=</span> basic_ospanstream<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
    <span class='keyword'>class</span> basic_spanstream;

  <span class='keyword'>using</span> spanstream <span class='operator'>=</span> basic_spanstream<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wspanstream <span class='operator'>=</span> basic_spanstream<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;
<span class='curlybracket'>}</span>
</span></span></span></span></span></span></span></span></span></div></div><div id='spanbuf' class='section'><h3 ><a class='secnum' href='#spanbuf' style='min-width:80pt'>29.9.3</a> Class template <span class='texttt'>spanbuf</span> <a class='abbr_ref' href='spanbuf'>[spanbuf]</a></h3><div id='spanbuf.general' class='section'><h4 ><a class='secnum' href='#spanbuf.general' style='min-width:95pt'>29.9.3.1</a> General <a class='abbr_ref' href='spanbuf.general'>[spanbuf.general]</a></h4><div class='texpara'><span id='lib:basic_spanbuf'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_spanbuf'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_spanbuf
    <span class='operator'>:</span> <span class='keyword'>public</span> basic_streambuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type   <span class='operator'>=</span> charT;
    <span class='keyword'>using</span> int_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>int_type;
    <span class='keyword'>using</span> pos_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>pos_type;
    <span class='keyword'>using</span> off_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>off_type;
    <span class='keyword'>using</span> traits_type <span class='operator'>=</span> traits;

    <span class='comment'>// <a href='#spanbuf.ctor' title='29.9.3.2&emsp;Constructors'>[spanbuf.<span class='shy'></span>ctor]</a>, constructors</span>
    basic_spanbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>:</span> basic_spanbuf<span class='parenthesis'>(</span>ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>
    <span class='keyword'>explicit</span> basic_spanbuf<span class='parenthesis'>(</span>ios_base<span class='operator'>::</span>openmode which<span class='parenthesis'>)</span>
      <span class='operator'>:</span> basic_spanbuf<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>, which<span class='parenthesis'>)</span> <span class='curlybracket'>{</span><span class='curlybracket'>}</span>
    <span class='keyword'>explicit</span> basic_spanbuf<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s,
                           ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    basic_spanbuf<span class='parenthesis'>(</span><span class='keyword'>const</span> basic_spanbuf<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_spanbuf<span class='parenthesis'>(</span>basic_spanbuf<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#spanbuf.assign' title='29.9.3.3&emsp;Assignment and swap'>[spanbuf.<span class='shy'></span>assign]</a>, assignment and swap</span>
    basic_spanbuf<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> basic_spanbuf<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_spanbuf<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>basic_spanbuf<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_spanbuf<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#spanbuf.members' title='29.9.3.4&emsp;Member functions'>[spanbuf.<span class='shy'></span>members]</a>, member functions</span>
    std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> span<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> span<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>protected</span><span class='operator'>:</span>
    <span class='comment'>// <a href='#spanbuf.virtuals' title='29.9.3.5&emsp;Overridden virtual functions'>[spanbuf.<span class='shy'></span>virtuals]</a>, overridden virtual functions</span>
    basic_streambuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> setbuf<span class='parenthesis'>(</span>charT<span class='operator'>*</span>, streamsize<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
    pos_type seekoff<span class='parenthesis'>(</span>off_type off, ios_base<span class='operator'>::</span>seekdir way,
                     ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
    pos_type seekpos<span class='parenthesis'>(</span>pos_type sp,
                     ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
  <span class='keyword'>private</span><span class='operator'>:</span>
    ios_base<span class='operator'>::</span>openmode <i >mode</i>;            <span class='comment'>// <i >exposition only</i></span>
    std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> <i >buf</i>;               <span class='comment'>// <i >exposition only</i></span>
<span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para' id='spanbuf.general-1'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9397'>#</a></div><div class='texpara'><div id='spanbuf.general-1.sentence-1' class='sentence'>The class template <span class='texttt'>basic_&shy;spanbuf</span> is derived from <span class='texttt'>basic_&shy;streambuf</span>
to associate possibly the input sequence and possibly the output sequence
with a sequence of arbitrary characters<a class='hidden_link' href='#spanbuf.general-1.sentence-1'>.</a></div> <div id='spanbuf.general-1.sentence-2' class='sentence'>The sequence is provided by an object of class <span class='texttt'>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#spanbuf.general-1.sentence-2'>.</a></div></div></div><div class='para' id='spanbuf.general-2'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9403'>#</a></div><div class='texpara'><div id='spanbuf.general-2.sentence-1' class='sentence'>For the sake of exposition, the maintained data is presented here as:
<ul class='itemize'><li id='spanbuf.general-2.1'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spanbuf.general-2.1'>(2.1)</a></div><div class='texpara'><div id='spanbuf.general-2.1.sentence-1' class='sentence'><span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>openmode <span class='texttt'><i >mode</i></span></span>, has
<span class='texttt'>in</span> set if the input sequence can be read, and
<span class='texttt'>out</span> set if the output sequence can be written<a class='hidden_link' href='#spanbuf.general-2.1.sentence-1'>.</a></div></div></li><li id='spanbuf.general-2.2'><div class='marginalizedparent' style='left:-27mm'><a class='marginalized' href='#spanbuf.general-2.2'>(2.2)</a></div><div class='texpara'><div id='spanbuf.general-2.2.sentence-1' class='sentence'><span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> <span class='texttt'><i >buf</i></span></span> is the view to
the underlying character sequence<a class='hidden_link' href='#spanbuf.general-2.2.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div id='spanbuf.ctor' class='section'><h4 ><a class='secnum' href='#spanbuf.ctor' style='min-width:95pt'>29.9.3.2</a> Constructors <a class='abbr_ref' href='spanbuf.ctor'>[spanbuf.ctor]</a></h4><div class='texpara'><div id='lib:basic_spanbuf,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_spanbuf,constructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_spanbuf<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s,
                       ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='spanbuf.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9424'>#</a></div><div class='texpara'><div id='spanbuf.ctor-1.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with <span class='texttt'>basic_&shy;streambuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> (<a href='streambuf.cons' title='29.6.3.2&emsp;Constructors'>[streambuf.<span class='shy'></span>cons]</a>),
and <span class='texttt'><i >mode</i></span> with <span class='texttt'>which</span><a class='hidden_link' href='#spanbuf.ctor-1.sentence-1'>.</a></div> <div id='spanbuf.ctor-1.sentence-2' class='sentence'>Initializes the internal pointers as if calling <span class='texttt'>span<span class='parenthesis'>(</span>s<span class='parenthesis'>)</span></span><a class='hidden_link' href='#spanbuf.ctor-1.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_spanbuf,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_spanbuf,constructor_'>ðŸ”—</a></div><code class='itemdeclcode'>basic_spanbuf<span class='parenthesis'>(</span>basic_spanbuf<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='spanbuf.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9437'>#</a></div><div class='texpara'><div id='spanbuf.ctor-2.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span> and
<span class='texttt'><i >mode</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><span class='texttt'><i >mode</i></span><span class='parenthesis'>)</span></span> and
<span class='texttt'><i >buf</i></span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span><span class='texttt'><i >buf</i></span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#spanbuf.ctor-2.sentence-1'>.</a></div> <div id='spanbuf.ctor-2.sentence-2' class='sentence'>The sequence pointers in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>
(<span class='texttt'>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'>egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'>epptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>)
obtain the values which <span class='texttt'>rhs</span> had<a class='hidden_link' href='#spanbuf.ctor-2.sentence-2'>.</a></div> <div id='spanbuf.ctor-2.sentence-3' class='sentence'>It is
<a class='index' id=':whether_basic_spanbuf&#39;s_move_source_is_empty_after_a_move'></a>implementation-defined
whether <span class='texttt'>rhs<span class='operator'>.</span><span class='texttt'><i >buf</i></span><span class='operator'>.</span>&#x200b;empty<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> returns <span class='texttt'><span class='literal'>true</span></span> after the move<a class='hidden_link' href='#spanbuf.ctor-2.sentence-3'>.</a></div></div></div></div><div class='para' id='spanbuf.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9450'>#</a></div><div class='texpara'><div id='spanbuf.ctor-3.sentence-1' class='sentence'><i >Postconditions</i>: Let <span class='texttt'>rhs_&shy;p</span> refer to the state of <span class='texttt'>rhs</span>
just prior to this construction<a class='hidden_link' href='#spanbuf.ctor-3.sentence-1'>.</a></div> <ul class='itemize'><li id='spanbuf.ctor-3.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.ctor-3.1'>(3.1)</a></div><span class='texttt'>span<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>data<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_&shy;p<span class='operator'>.</span>span<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>data<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='spanbuf.ctor-3.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.ctor-3.2'>(3.2)</a></div><span class='texttt'>span<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_&shy;p<span class='operator'>.</span>span<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='spanbuf.ctor-3.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.ctor-3.3'>(3.3)</a></div><span class='texttt'>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_&shy;p<span class='operator'>.</span>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='spanbuf.ctor-3.4'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.ctor-3.4'>(3.4)</a></div><span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_&shy;p<span class='operator'>.</span>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='spanbuf.ctor-3.5'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.ctor-3.5'>(3.5)</a></div><span class='texttt'>egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_&shy;p<span class='operator'>.</span>egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='spanbuf.ctor-3.6'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.ctor-3.6'>(3.6)</a></div><span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_&shy;p<span class='operator'>.</span>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='spanbuf.ctor-3.7'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.ctor-3.7'>(3.7)</a></div><span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_&shy;p<span class='operator'>.</span>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='spanbuf.ctor-3.8'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.ctor-3.8'>(3.8)</a></div><span class='texttt'>epptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_&shy;p<span class='operator'>.</span>epptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li><li id='spanbuf.ctor-3.9'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.ctor-3.9'>(3.9)</a></div><span class='texttt'>getloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> rhs_&shy;p<span class='operator'>.</span>getloc<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span></li></ul></div></div></div></div><div id='spanbuf.assign' class='section'><h4 ><a class='secnum' href='#spanbuf.assign' style='min-width:95pt'>29.9.3.3</a> Assignment and swap <a class='abbr_ref' href='spanbuf.assign'>[spanbuf.assign]</a></h4><div class='texpara'><div id='lib:basic_spanbuf,operator='><div id='lib:operator=,basic_spanbuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:operator=,basic_spanbuf'>ðŸ”—</a></div><code class='itemdeclcode'>basic_spanbuf<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>basic_spanbuf<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='spanbuf.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9475'>#</a></div><div class='texpara'><div id='spanbuf.assign-1.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'>basic_spanbuf tmp<span class='curlybracket'>{</span>std<span class='operator'>::</span>move<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span><span class='curlybracket'>}</span>;
<span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>swap<span class='parenthesis'>(</span>tmp<span class='parenthesis'>)</span>;
<span class='keyword'>return</span> <span class='operator'>*</span><span class='keyword'>this</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:basic_spanbuf,swap'><div id='lib:swap,basic_spanbuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_spanbuf'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_spanbuf<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='spanbuf.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9491'>#</a></div><div class='texpara'><div id='spanbuf.assign-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'>basic_streambuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>::</span>swap<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span>;
std<span class='operator'>::</span>swap<span class='parenthesis'>(</span><i >mode</i>, rhs<span class='operator'>.</span><i >mode</i><span class='parenthesis'>)</span>;
std<span class='operator'>::</span>swap<span class='parenthesis'>(</span><i >buf</i>, rhs<span class='operator'>.</span><i >buf</i><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:basic_spanbuf,swap_'><div id='lib:swap,basic_spanbuf_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_spanbuf_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='spanbuf.assign-3'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.assign-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9508'>#</a></div><div class='texpara'><div id='spanbuf.assign-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#spanbuf.assign-3.sentence-1'>.</a></div></div></div></div></div><div id='spanbuf.members' class='section'><h4 ><a class='secnum' href='#spanbuf.members' style='min-width:95pt'>29.9.3.4</a> Member functions <a class='abbr_ref' href='spanbuf.members'>[spanbuf.members]</a></h4><div class='texpara'><div id='lib:basic_spanbuf,span'><div id='lib:span,basic_spanbuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:span,basic_spanbuf'>ðŸ”—</a></div><code class='itemdeclcode'>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> span<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='spanbuf.members-1'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9521'>#</a></div><div class='texpara'><div id='spanbuf.members-1.sentence-1' class='sentence'><i >Returns</i>: If <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>out</span> is set in <span class='texttt'><i >mode</i></span>,
returns <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>,
otherwise returns <span class='texttt'><i >buf</i></span><a class='hidden_link' href='#spanbuf.members-1.sentence-1'>.</a></div></div><div class='texpara'><div id='spanbuf.members-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#spanbuf.members-note-1'>1</a></i>: <div id='spanbuf.members-1.sentence-2' class='sentence'>In contrast to <span class='texttt'>basic_&shy;stringbuf</span>,
the underlying sequence never grows and is not owned<a class='hidden_link' href='#spanbuf.members-1.sentence-2'>.</a></div> <div id='spanbuf.members-1.sentence-3' class='sentence'>An owning copy can be obtained
by converting the result to <span class='texttt'>basic_&shy;string<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#spanbuf.members-1.sentence-3'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div><div class='texpara'><div id='lib:basic_spanbuf,span_'><div id='lib:span,basic_spanbuf_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:span,basic_spanbuf_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> span<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='spanbuf.members-2'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9541'>#</a></div><div class='texpara'><div id='spanbuf.members-2.sentence-1' class='sentence'><i >Effects</i>: <span class='texttt'><span class='texttt'><i >buf</i></span> <span class='operator'>=</span> s</span><a class='hidden_link' href='#spanbuf.members-2.sentence-1'>.</a></div> <div id='spanbuf.members-2.sentence-2' class='sentence'>Initializes the input and output sequences according to <span class='texttt'><i >mode</i></span><a class='hidden_link' href='#spanbuf.members-2.sentence-2'>.</a></div></div></div></div><div class='para' id='spanbuf.members-3'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9546'>#</a></div><div class='texpara'><div id='spanbuf.members-3.sentence-1' class='sentence'><i >Postconditions</i>: <ul class='itemize'><li id='spanbuf.members-3.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.members-3.1'>(3.1)</a></div><div class='texpara'><div id='spanbuf.members-3.1.sentence-1' class='sentence'>If <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>out</span> is set in <span class='texttt'><i >mode</i></span>,
<span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> s<span class='operator'>.</span>data<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> epptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> s<span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>
is <span class='texttt'><span class='literal'>true</span></span>;
<ul class='itemize'><li id='spanbuf.members-3.1.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#spanbuf.members-3.1.1'>(3.1.1)</a></div>in addition, if <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>ate</span> is set in <span class='texttt'><i >mode</i></span>,
<span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> s<span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span>,</li><li id='spanbuf.members-3.1.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#spanbuf.members-3.1.2'>(3.1.2)</a></div>otherwise <span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#spanbuf.members-3.1.sentence-1'>.</a></li></ul></div></div></li><li id='spanbuf.members-3.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.members-3.2'>(3.2)</a></div><div class='texpara'><div id='spanbuf.members-3.2.sentence-1' class='sentence'>If <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>in</span> is set in <span class='texttt'><i >mode</i></span>,
<span class='texttt'>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> s<span class='operator'>.</span>data<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span>
egptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>+</span> s<span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#spanbuf.members-3.2.sentence-1'>.</a></div></div></li></ul></div></div></div></div></div><div id='spanbuf.virtuals' class='section'><h4 ><a class='secnum' href='#spanbuf.virtuals' style='min-width:95pt'>29.9.3.5</a> Overridden virtual functions <a class='abbr_ref' href='spanbuf.virtuals'>[spanbuf.virtuals]</a></h4><div class='para nonNormativeOnly' id='spanbuf.virtuals-1'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.virtuals-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9569'>#</a></div><div class='texpara'><div id='spanbuf.virtuals-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#spanbuf.virtuals-note-1'>1</a></i>: <div id='spanbuf.virtuals-1.sentence-1' class='sentence'>Because the underlying buffer is of fixed size,
neither <span class='texttt'>overflow</span>, <span class='texttt'>underflow</span>, nor <span class='texttt'>pbackfail</span>
can provide useful behavior<a class='hidden_link' href='#spanbuf.virtuals-1.sentence-1'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div><div class='texpara'><div id='lib:basic_spanbuf,seekoff'><div id='lib:seekoff,basic_spanbuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:seekoff,basic_spanbuf'>ðŸ”—</a></div><code class='itemdeclcode'>pos_type seekoff<span class='parenthesis'>(</span>off_type off, ios_base<span class='operator'>::</span>seekdir way,
                 ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='spanbuf.virtuals-2'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.virtuals-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9583'>#</a></div><div class='texpara'><div id='spanbuf.virtuals-2.sentence-1' class='sentence'><i >Effects</i>: Alters the stream position within one or both of the
controlled sequences, if possible, as follows:
<ul class='itemize'><li id='spanbuf.virtuals-2.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.virtuals-2.1'>(2.1)</a></div><div class='texpara'><div id='spanbuf.virtuals-2.1.sentence-1' class='sentence'>If <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>in</span> is set in <span class='texttt'>which</span>, positions the input sequence;
<span class='texttt'>xnext</span> is <span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'>xbeg</span> is <span class='texttt'>eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#spanbuf.virtuals-2.1.sentence-1'>.</a></div></div></li><li id='spanbuf.virtuals-2.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.virtuals-2.2'>(2.2)</a></div><div class='texpara'><div id='spanbuf.virtuals-2.2.sentence-1' class='sentence'>If <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>out</span> is set in <span class='texttt'>which</span>, positions the output sequence;
<span class='texttt'>xnext</span> is <span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>, <span class='texttt'>xbeg</span> is <span class='texttt'>pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#spanbuf.virtuals-2.2.sentence-1'>.</a></div></div></li></ul></div></div></div></div><div class='para' id='spanbuf.virtuals-3'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.virtuals-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9596'>#</a></div><div class='texpara'><div id='spanbuf.virtuals-3.sentence-1' class='sentence'>If both <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>in</span> and <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>out</span> are set in <span class='texttt'>which</span>
and <span class='texttt'>way</span> is <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>cur</span>,
the positioning operation fails<a class='hidden_link' href='#spanbuf.virtuals-3.sentence-1'>.</a></div></div></div></div><div class='para' id='spanbuf.virtuals-4'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.virtuals-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9601'>#</a></div><div class='texpara'><div id='spanbuf.virtuals-4.sentence-1' class='sentence'>For a sequence to be positioned,
if its next pointer <span class='texttt'>xnext</span> (either <span class='texttt'>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> or <span class='texttt'>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>)
is a null pointer and
the new offset <span class='texttt'>newoff</span> as computed below is nonzero,
the positioning operation fails<a class='hidden_link' href='#spanbuf.virtuals-4.sentence-1'>.</a></div> <div id='spanbuf.virtuals-4.sentence-2' class='sentence'>Otherwise, the function determines <span class='texttt'>baseoff</span>
as a value of type <span class='texttt'>off_&shy;type</span> as follows:
<ul class='itemize'><li id='spanbuf.virtuals-4.1'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.virtuals-4.1'>(4.1)</a></div><span class='texttt'><span class='literal'>0</span></span> when <span class='texttt'>way</span> is <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>beg</span>;</li><li id='spanbuf.virtuals-4.2'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.virtuals-4.2'>(4.2)</a></div><span class='texttt'><span class='parenthesis'>(</span>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> for the output sequence, or
<span class='texttt'><span class='parenthesis'>(</span>gptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> eback<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> for the input sequence
when <span class='texttt'>way</span> is <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>cur</span>;</li><li id='spanbuf.virtuals-4.3'><div class='marginalizedparent' style='left:-39mm'><a class='marginalized' href='#spanbuf.virtuals-4.3'>(4.3)</a></div>when <span class='texttt'>way</span> is <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>end</span> :
<ul class='itemize'><li id='spanbuf.virtuals-4.3.1'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#spanbuf.virtuals-4.3.1'>(4.3.1)</a></div><span class='texttt'><span class='parenthesis'>(</span>pptr<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>-</span> pbase<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
if <span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>out</span> is set in <span class='texttt'><i >mode</i></span> and
<span class='texttt'>ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>in</span> is not set in <span class='texttt'><i >mode</i></span>,</li><li id='spanbuf.virtuals-4.3.2'><div class='marginalizedparent' style='left:-48mm'><a class='marginalized' href='#spanbuf.virtuals-4.3.2'>(4.3.2)</a></div><span class='texttt'>buf<span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> otherwise<a class='hidden_link' href='#spanbuf.virtuals-4.sentence-2'>.</a></li></ul></li></ul></div></div></div></div><div class='para' id='spanbuf.virtuals-5'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.virtuals-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9628'>#</a></div><div class='texpara'><div id='spanbuf.virtuals-5.sentence-1' class='sentence'>If <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">baseoff</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">off</span></span></span></span></span></span></span> would overflow, or
if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">baseoff</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">off</span></span></span></span></span></span></span> is less than zero, or
if <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">baseoff</span></span></span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span class="mjx-texatom MJXc-space2"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">off</span></span></span></span></span></span></span> is greater than <span class='texttt'><span class='texttt'><i >buf</i></span><span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
the positioning operation fails<a class='hidden_link' href='#spanbuf.virtuals-5.sentence-1'>.</a></div> <div id='spanbuf.virtuals-5.sentence-2' class='sentence'>Otherwise, the function computes
<span class='codeblock'>off_type newoff <span class='operator'>=</span> baseoff <span class='operator'>+</span> off;
</span>
and assigns <span class='texttt'>xbeg <span class='operator'>+</span> newoff</span> to the next pointer <span class='texttt'>xnext</span><a class='hidden_link' href='#spanbuf.virtuals-5.sentence-2'>.</a></div></div></div></div><div class='para' id='spanbuf.virtuals-6'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.virtuals-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9639'>#</a></div><div class='texpara'><div id='spanbuf.virtuals-6.sentence-1' class='sentence'><i >Returns</i>: <span class='texttt'>pos_&shy;type<span class='parenthesis'>(</span>off_&shy;type<span class='parenthesis'>(</span><span class='operator'>-</span><span class='literal'>1</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> if the positioning operation fails;
<span class='texttt'>pos_&shy;type<span class='parenthesis'>(</span>newoff<span class='parenthesis'>)</span></span> otherwise<a class='hidden_link' href='#spanbuf.virtuals-6.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_spanbuf,seekpos'><div id='lib:seekpos,basic_spanbuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:seekpos,basic_spanbuf'>ðŸ”—</a></div><code class='itemdeclcode'>pos_type seekpos<span class='parenthesis'>(</span>pos_type sp, ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>in <span class='operator'>|</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='spanbuf.virtuals-7'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.virtuals-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9651'>#</a></div><div class='texpara'><div id='spanbuf.virtuals-7.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> seekoff<span class='parenthesis'>(</span>off_type<span class='parenthesis'>(</span>sp<span class='parenthesis'>)</span>, ios_base<span class='operator'>::</span>beg, which<span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:basic_spanbuf,setbuf'><div id='lib:setbuf,basic_spanbuf'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:setbuf,basic_spanbuf'>ðŸ”—</a></div><code class='itemdeclcode'>basic_streambuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> setbuf<span class='parenthesis'>(</span>charT<span class='operator'>*</span> s, streamsize n<span class='parenthesis'>)</span> <span class='keyword'>override</span>;
</code></div></div></div></div><div class='para' id='spanbuf.virtuals-8'><div class='marginalizedparent'><a class='marginalized' href='#spanbuf.virtuals-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9665'>#</a></div><div class='texpara'><div id='spanbuf.virtuals-8.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>span<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>s, n<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='keyword'>return</span> <span class='keyword'>this</span>;
</span></div></div></div></div></div></div><div id='ispanstream' class='section'><h3 ><a class='secnum' href='#ispanstream' style='min-width:80pt'>29.9.4</a> Class template <span class='texttt'>basic_&shy;ispanstream</span> <a class='abbr_ref' href='ispanstream'>[ispanstream]</a></h3><div id='ispanstream.general' class='section'><h4 ><a class='secnum' href='#ispanstream.general' style='min-width:95pt'>29.9.4.1</a> General <a class='abbr_ref' href='ispanstream.general'>[ispanstream.general]</a></h4><div class='texpara'><span id='lib:basic_ispanstream'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ispanstream'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_ispanstream
    <span class='operator'>:</span> <span class='keyword'>public</span> basic_istream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type   <span class='operator'>=</span> charT;
    <span class='keyword'>using</span> int_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>int_type;
    <span class='keyword'>using</span> pos_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>pos_type;
    <span class='keyword'>using</span> off_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>off_type;
    <span class='keyword'>using</span> traits_type <span class='operator'>=</span> traits;

    <span class='comment'>// <a href='#ispanstream.ctor' title='29.9.4.2&emsp;Constructors'>[ispanstream.<span class='shy'></span>ctor]</a>, constructors</span>
    <span class='keyword'>explicit</span> basic_ispanstream<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s,
                               ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
    basic_ispanstream<span class='parenthesis'>(</span><span class='keyword'>const</span> basic_ispanstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_ispanstream<span class='parenthesis'>(</span>basic_ispanstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ROS<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> basic_ispanstream<span class='parenthesis'>(</span>ROS<span class='operator'>&amp;</span><span class='operator'>&amp;</span> s<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#ispanstream.assign' title='29.9.4.3&emsp;Assignment and swap'>[ispanstream.<span class='shy'></span>assign]</a>, assignment and swap</span>
    basic_ispanstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> basic_ispanstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_ispanstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>basic_ispanstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ispanstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#ispanstream.members' title='29.9.4.4&emsp;Member functions'>[ispanstream.<span class='shy'></span>members]</a>, member functions</span>
    basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='anglebracket'>&gt;</span> span<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> span<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ROS<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> span<span class='parenthesis'>(</span>ROS<span class='operator'>&amp;</span><span class='operator'>&amp;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

  <span class='keyword'>private</span><span class='operator'>:</span>
    basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> sb;    <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ispanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_ispanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></span></div><div class='para nonNormativeOnly' id='ispanstream.general-1'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9719'>#</a></div><div class='texpara'><div id='ispanstream.general-note-1' class='note'><div class='texpara'>[<i>Note&nbsp;<a href='#ispanstream.general-note-1'>1</a></i>: <div id='ispanstream.general-1.sentence-1' class='sentence'>Constructing an <span class='texttt'>ispanstream</span> from a <a href='lex.string#nt:string-literal' title='5.13.5&emsp;String literals&emsp;[lex.string]'><span id='ntref:string-literal'><span class='textsf'><i >string-literal</i></span></span></a>
includes the termination character <span class='texttt'><span class='literal'>'\0'</span></span>
in the underlying <span class='texttt'>spanbuf</span><a class='hidden_link' href='#ispanstream.general-1.sentence-1'>.</a></div> â€”&nbsp;<i>end note</i>]</div></div></div></div></div><div id='ispanstream.ctor' class='section'><h4 ><a class='secnum' href='#ispanstream.ctor' style='min-width:95pt'>29.9.4.2</a> Constructors <a class='abbr_ref' href='ispanstream.ctor'>[ispanstream.ctor]</a></h4><div class='texpara'><div id='lib:basic_ispanstream,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ispanstream,constructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_ispanstream<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s, ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ispanstream.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9734'>#</a></div><div class='texpara'><div id='ispanstream.ctor-1.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with
<span class='texttt'>basic_&shy;istream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
and <span class='texttt'>sb</span> with
<span class='texttt'>basic_&shy;spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>s, which <span class='operator'>|</span> ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>in<span class='parenthesis'>)</span></span> (<a href='#spanbuf.ctor' title='29.9.3.2&emsp;Constructors'>[spanbuf.<span class='shy'></span>ctor]</a>)<a class='hidden_link' href='#ispanstream.ctor-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ispanstream,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ispanstream,constructor_'>ðŸ”—</a></div><code class='itemdeclcode'>basic_ispanstream<span class='parenthesis'>(</span>basic_ispanstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ispanstream.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9748'>#</a></div><div class='texpara'><div id='ispanstream.ctor-2.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span>
and <span class='texttt'>sb</span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>sb<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ispanstream.ctor-2.sentence-1'>.</a></div> <div id='ispanstream.ctor-2.sentence-2' class='sentence'>Next, <span class='texttt'>basic_&shy;istream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>set_&shy;rdbuf<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span> is called
to install the contained <span class='texttt'>basic_&shy;spanbuf</span><a class='hidden_link' href='#ispanstream.ctor-2.sentence-2'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ispanstream,constructor__'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ispanstream,constructor__'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ROS<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> basic_ispanstream<span class='parenthesis'>(</span>ROS<span class='operator'>&amp;</span><span class='operator'>&amp;</span> s<span class='parenthesis'>)</span>
</code></div></div></div><div class='para' id='ispanstream.ctor-3'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.ctor-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9762'>#</a></div><div class='texpara'><div id='ispanstream.ctor-3.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>ROS</span> models <span class='texttt'>ranges<span class='operator'>&#x200b;::&#x200b;</span><a href='range.range#concept:borrowed_range' title='24.4.2&emsp;Ranges&emsp;[range.range]'><span id='conceptref:borrowed_range'><span class='texttt'>borrowed_&shy;range</span></span></a></span><a class='hidden_link' href='#ispanstream.ctor-3.sentence-1'>.</a></div> <div id='ispanstream.ctor-3.sentence-2' class='sentence'><span class='texttt'><span class='operator'>!</span><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to'><span class='texttt'>convertible_&shy;to</span></span></a><span class='anglebracket'>&lt;</span>ROS, std<span class='operator'>&#x200b;::&#x200b;</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to_'><span class='texttt'>convertible_&shy;to</span></span></a><span class='anglebracket'>&lt;</span>ROS, std<span class='operator'>&#x200b;::&#x200b;</span>span<span class='anglebracket'>&lt;</span>charT <span class='keyword'>const</span><span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ispanstream.ctor-3.sentence-2'>.</a></div></div></div></div><div class='para' id='ispanstream.ctor-4'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.ctor-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9768'>#</a></div><div class='texpara'><div id='ispanstream.ctor-4.sentence-1' class='sentence'><i >Effects</i>: Let <span class='texttt'>sp</span> be <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>span<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>ROS<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>s<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ispanstream.ctor-4.sentence-1'>.</a></div> <div id='ispanstream.ctor-4.sentence-2' class='sentence'>Equivalent to
<span class='codeblock'>basic_ispanstream<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const_cast</span><span class='anglebracket'>&lt;</span>charT<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>sp<span class='operator'>.</span>data<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>, sp<span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span></div></div></div></div></div><div id='ispanstream.assign' class='section'><h4 ><a class='secnum' href='#ispanstream.assign' style='min-width:95pt'>29.9.4.3</a> Assignment and swap <a class='abbr_ref' href='ispanstream.assign'>[ispanstream.assign]</a></h4><div class='texpara'><div id='lib:basic_ispanstream,swap'><div id='lib:swap,basic_ispanstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_ispanstream'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ispanstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ispanstream.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9785'>#</a></div><div class='texpara'><div id='ispanstream.assign-1.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'>basic_istream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>::</span>swap<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span>;
sb<span class='operator'>.</span>swap<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>sb<span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:basic_ispanstream,swap_'><div id='lib:swap,basic_ispanstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_ispanstream_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ispanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_ispanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ispanstream.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9801'>#</a></div><div class='texpara'><div id='ispanstream.assign-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to  <span class='texttt'>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ispanstream.assign-2.sentence-1'>.</a></div></div></div></div></div><div id='ispanstream.members' class='section'><h4 ><a class='secnum' href='#ispanstream.members' style='min-width:95pt'>29.9.4.4</a> Member functions <a class='abbr_ref' href='ispanstream.members'>[ispanstream.members]</a></h4><div class='texpara'><div id='lib:basic_ispanstream,rdbuf'><div id='lib:rdbuf,basic_ispanstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:rdbuf,basic_ispanstream'>ðŸ”—</a></div><code class='itemdeclcode'>basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='ispanstream.members-1'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9814'>#</a></div><div class='texpara'><div id='ispanstream.members-1.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> <span class='keyword'>const_cast</span><span class='anglebracket'>&lt;</span>basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:basic_ispanstream,span'><div id='lib:span,basic_ispanstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:span,basic_ispanstream'>ðŸ”—</a></div><code class='itemdeclcode'>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='anglebracket'>&gt;</span> span<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='ispanstream.members-2'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9828'>#</a></div><div class='texpara'><div id='ispanstream.members-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>span<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:basic_ispanstream,span_'><div id='lib:span,basic_ispanstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:span,basic_ispanstream_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> span<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='ispanstream.members-3'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9839'>#</a></div><div class='texpara'><div id='ispanstream.members-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>span<span class='parenthesis'>(</span>s<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ispanstream.members-3.sentence-1'>.</a></div></div></div></div><div class='texpara'><div class='itemdecl' id='ispanstream.members-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#ispanstream.members-itemdecl:4'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> ROS<span class='anglebracket'>&gt;</span> <span class='keyword'>void</span> span<span class='parenthesis'>(</span>ROS<span class='operator'>&amp;</span><span class='operator'>&amp;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div><div class='para' id='ispanstream.members-4'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.members-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9849'>#</a></div><div class='texpara'><div id='ispanstream.members-4.sentence-1' class='sentence'><i >Constraints</i>: <span class='texttt'>ROS</span> models <span class='texttt'>ranges<span class='operator'>&#x200b;::&#x200b;</span><a href='range.range#concept:borrowed_range' title='24.4.2&emsp;Ranges&emsp;[range.range]'><span id='conceptref:borrowed_range_'><span class='texttt'>borrowed_&shy;range</span></span></a></span><a class='hidden_link' href='#ispanstream.members-4.sentence-1'>.</a></div> <div id='ispanstream.members-4.sentence-2' class='sentence'><span class='texttt'><span class='parenthesis'>(</span><span class='operator'>!</span><a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to__'><span class='texttt'>convertible_&shy;to</span></span></a><span class='anglebracket'>&lt;</span>ROS, std<span class='operator'>&#x200b;::&#x200b;</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span> <span class='operator'>&amp;</span><span class='operator'>&amp;</span> <a href='concept.convertible#concept:convertible_to' title='18.4.4&emsp;Concept convertible_&shy;to&emsp;[concept.convertible]'><span id='conceptref:convertible_to___'><span class='texttt'>convertible_&shy;to</span></span></a><span class='anglebracket'>&lt;</span>ROS, std<span class='operator'>&#x200b;::&#x200b;</span>span<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span></span>
is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#ispanstream.members-4.sentence-2'>.</a></div></div></div></div><div class='para' id='ispanstream.members-5'><div class='marginalizedparent'><a class='marginalized' href='#ispanstream.members-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9855'>#</a></div><div class='texpara'><div id='ispanstream.members-5.sentence-1' class='sentence'><i >Effects</i>: Let <span class='texttt'>sp</span> be <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>span<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>std<span class='operator'>&#x200b;::&#x200b;</span>forward<span class='anglebracket'>&lt;</span>ROS<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>s<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#ispanstream.members-5.sentence-1'>.</a></div> <div id='ispanstream.members-5.sentence-2' class='sentence'>Equivalent to:
<span class='codeblock'><span class='keyword'>this</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>span<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='keyword'>const_cast</span><span class='anglebracket'>&lt;</span>charT<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>sp<span class='operator'>.</span>data<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>, sp<span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</span></div></div></div></div></div></div><div id='ospanstream' class='section'><h3 ><a class='secnum' href='#ospanstream' style='min-width:80pt'>29.9.5</a> Class template <span class='texttt'>basic_&shy;ospanstream</span> <a class='abbr_ref' href='ospanstream'>[ospanstream]</a></h3><div id='ospanstream.general' class='section'><h4 ><a class='secnum' href='#ospanstream.general' style='min-width:95pt'>29.9.5.1</a> General <a class='abbr_ref' href='ospanstream.general'>[ospanstream.general]</a></h4><div class='texpara'><span id='lib:basic_ospanstream'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ospanstream'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_ospanstream
    <span class='operator'>:</span> <span class='keyword'>public</span> basic_ostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type   <span class='operator'>=</span> charT;
    <span class='keyword'>using</span> int_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>int_type;
    <span class='keyword'>using</span> pos_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>pos_type;
    <span class='keyword'>using</span> off_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>off_type;
    <span class='keyword'>using</span> traits_type <span class='operator'>=</span> traits;

    <span class='comment'>// <a href='#ospanstream.ctor' title='29.9.5.2&emsp;Constructors'>[ospanstream.<span class='shy'></span>ctor]</a>, constructors</span>
    <span class='keyword'>explicit</span> basic_ospanstream<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s,
                               ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
    basic_ospanstream<span class='parenthesis'>(</span><span class='keyword'>const</span> basic_ospanstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_ospanstream<span class='parenthesis'>(</span>basic_ospanstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#ospanstream.assign' title='29.9.5.3&emsp;Assignment and swap'>[ospanstream.<span class='shy'></span>assign]</a>, assignment and swap</span>
    basic_ospanstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> basic_ospanstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_ospanstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>basic_ospanstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ospanstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#ospanstream.members' title='29.9.5.4&emsp;Member functions'>[ospanstream.<span class='shy'></span>members]</a>, member functions</span>
    basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> span<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> span<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>private</span><span class='operator'>:</span>
    basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> sb;    <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ospanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_ospanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></span></div></div><div id='ospanstream.ctor' class='section'><h4 ><a class='secnum' href='#ospanstream.ctor' style='min-width:95pt'>29.9.5.2</a> Constructors <a class='abbr_ref' href='ospanstream.ctor'>[ospanstream.ctor]</a></h4><div class='texpara'><div id='lib:basic_ospanstream,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ospanstream,constructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_ospanstream<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s,
                           ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>out<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='ospanstream.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#ospanstream.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9915'>#</a></div><div class='texpara'><div id='ospanstream.ctor-1.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with
<span class='texttt'>basic_&shy;ostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
and <span class='texttt'>sb</span> with
<span class='texttt'>basic_&shy;spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>s, which <span class='operator'>|</span> ios_&shy;base<span class='operator'>&#x200b;::&#x200b;</span>out<span class='parenthesis'>)</span></span> (<a href='#spanbuf.ctor' title='29.9.3.2&emsp;Constructors'>[spanbuf.<span class='shy'></span>ctor]</a>)<a class='hidden_link' href='#ospanstream.ctor-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_ospanstream,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_ospanstream,constructor_'>ðŸ”—</a></div><code class='itemdeclcode'>basic_ospanstream<span class='parenthesis'>(</span>basic_ospanstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div><div class='para' id='ospanstream.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#ospanstream.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9929'>#</a></div><div class='texpara'><div id='ospanstream.ctor-2.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span>
and <span class='texttt'>sb</span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>sb<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ospanstream.ctor-2.sentence-1'>.</a></div> <div id='ospanstream.ctor-2.sentence-2' class='sentence'>Next, <span class='texttt'>basic_&shy;ostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>set_&shy;rdbuf<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
is called to install the contained <span class='texttt'>basic_&shy;spanbuf</span><a class='hidden_link' href='#ospanstream.ctor-2.sentence-2'>.</a></div></div></div></div></div><div id='ospanstream.assign' class='section'><h4 ><a class='secnum' href='#ospanstream.assign' style='min-width:95pt'>29.9.5.3</a> Assignment and swap <a class='abbr_ref' href='ospanstream.assign'>[ospanstream.assign]</a></h4><div class='texpara'><div id='lib:basic_ospanstream,swap'><div id='lib:swap,basic_ospanstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_ospanstream'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ospanstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ospanstream.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#ospanstream.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9945'>#</a></div><div class='texpara'><div id='ospanstream.assign-1.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'>basic_ostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>::</span>swap<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span>;
sb<span class='operator'>.</span>swap<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>sb<span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:basic_ospanstream,swap_'><div id='lib:swap,basic_ospanstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_ospanstream_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_ospanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_ospanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='ospanstream.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#ospanstream.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9961'>#</a></div><div class='texpara'><div id='ospanstream.assign-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ospanstream.assign-2.sentence-1'>.</a></div></div></div></div></div><div id='ospanstream.members' class='section'><h4 ><a class='secnum' href='#ospanstream.members' style='min-width:95pt'>29.9.5.4</a> Member functions <a class='abbr_ref' href='ospanstream.members'>[ospanstream.members]</a></h4><div class='texpara'><div id='lib:basic_ospanstream,rdbuf'><div id='lib:rdbuf,basic_ospanstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:rdbuf,basic_ospanstream'>ðŸ”—</a></div><code class='itemdeclcode'>basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='ospanstream.members-1'><div class='marginalizedparent'><a class='marginalized' href='#ospanstream.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9974'>#</a></div><div class='texpara'><div id='ospanstream.members-1.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> <span class='keyword'>const_cast</span><span class='anglebracket'>&lt;</span>basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:basic_ospanstream,span'><div id='lib:span,basic_ospanstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:span,basic_ospanstream'>ðŸ”—</a></div><code class='itemdeclcode'>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> span<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='ospanstream.members-2'><div class='marginalizedparent'><a class='marginalized' href='#ospanstream.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9988'>#</a></div><div class='texpara'><div id='ospanstream.members-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>span<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:basic_ospanstream,span_'><div id='lib:span,basic_ospanstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:span,basic_ospanstream_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> span<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='ospanstream.members-3'><div class='marginalizedparent'><a class='marginalized' href='#ospanstream.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L9999'>#</a></div><div class='texpara'><div id='ospanstream.members-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>span<span class='parenthesis'>(</span>s<span class='parenthesis'>)</span></span><a class='hidden_link' href='#ospanstream.members-3.sentence-1'>.</a></div></div></div></div></div></div><div id='spanstream' class='section'><h3 ><a class='secnum' href='#spanstream' style='min-width:80pt'>29.9.6</a> Class template <span class='texttt'>basic_&shy;spanstream</span> <a class='abbr_ref' href='spanstream'>[spanstream]</a></h3><div id='spanstream.general' class='section'><h4 ><a class='secnum' href='#spanstream.general' style='min-width:95pt'>29.9.6.1</a> General <a class='abbr_ref' href='spanstream.general'>[spanstream.general]</a></h4><div class='texpara'><span id='lib:basic_spanstream'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_spanstream'>ðŸ”—</a></div><span class='codeblock'><span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits <span class='operator'>=</span> char_traits<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_spanstream
    <span class='operator'>:</span> <span class='keyword'>public</span> basic_iostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type   <span class='operator'>=</span> charT;
    <span class='keyword'>using</span> int_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>int_type;
    <span class='keyword'>using</span> pos_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>pos_type;
    <span class='keyword'>using</span> off_type    <span class='operator'>=</span> <span class='keyword'>typename</span> traits<span class='operator'>::</span>off_type;
    <span class='keyword'>using</span> traits_type <span class='operator'>=</span> traits;

    <span class='comment'>// <a href='#spanstream.ctor' title='29.9.6.2&emsp;Constructors'>[spanstream.<span class='shy'></span>ctor]</a>, constructors</span>
    <span class='keyword'>explicit</span> basic_spanstream<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s,
                              ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>out <span class='operator'>|</span> ios_base<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
    basic_spanstream<span class='parenthesis'>(</span><span class='keyword'>const</span> basic_spanstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_spanstream<span class='parenthesis'>(</span>basic_spanstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#spanstream.assign' title='29.9.6.3&emsp;Assignment and swap'>[spanstream.<span class='shy'></span>assign]</a>, assignment and swap</span>
    basic_spanstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> basic_spanstream<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_spanstream<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span>basic_spanstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_spanstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;

    <span class='comment'>// <a href='#spanstream.members' title='29.9.6.4&emsp;Member functions'>[spanstream.<span class='shy'></span>members]</a>, members</span>
    basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;

    std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> span<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>void</span> span<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
  <span class='keyword'>private</span><span class='operator'>:</span>
    basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span> sb;    <span class='comment'>// <i >exposition only</i></span>
  <span class='curlybracket'>}</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
    <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_spanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_spanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</span></span></div></div><div id='spanstream.ctor' class='section'><h4 ><a class='secnum' href='#spanstream.ctor' style='min-width:95pt'>29.9.6.2</a> Constructors <a class='abbr_ref' href='spanstream.ctor'>[spanstream.ctor]</a></h4><div class='texpara'><div id='lib:basic_spanstream,constructor'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_spanstream,constructor'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_spanstream<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s,
                          ios_base<span class='operator'>::</span>openmode which <span class='operator'>=</span> ios_base<span class='operator'>::</span>out <span class='operator'>|</span> ios_bas<span class='operator'>::</span>in<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='spanstream.ctor-1'><div class='marginalizedparent'><a class='marginalized' href='#spanstream.ctor-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L10055'>#</a></div><div class='texpara'><div id='spanstream.ctor-1.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with
<span class='texttt'>basic_&shy;ostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
and <span class='texttt'>sb</span> with
<span class='texttt'>basic_&shy;spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>s, which<span class='parenthesis'>)</span></span> (<a href='#spanbuf.ctor' title='29.9.3.2&emsp;Constructors'>[spanbuf.<span class='shy'></span>ctor]</a>)<a class='hidden_link' href='#spanstream.ctor-1.sentence-1'>.</a></div></div></div></div><div class='texpara'><div id='lib:basic_spanstream,constructor_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:basic_spanstream,constructor_'>ðŸ”—</a></div><code class='itemdeclcode'>basic_spanstream<span class='parenthesis'>(</span>basic_spanstream<span class='operator'>&amp;</span><span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div><div class='para' id='spanstream.ctor-2'><div class='marginalizedparent'><a class='marginalized' href='#spanstream.ctor-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L10069'>#</a></div><div class='texpara'><div id='spanstream.ctor-2.sentence-1' class='sentence'><i >Effects</i>: Initializes the base class with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span></span>
and <span class='texttt'>sb</span> with <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>move<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>sb<span class='parenthesis'>)</span></span><a class='hidden_link' href='#spanstream.ctor-2.sentence-1'>.</a></div> <div id='spanstream.ctor-2.sentence-2' class='sentence'>Next, <span class='texttt'>basic_&shy;iostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&#x200b;::&#x200b;</span>set_&shy;rdbuf<span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span></span>
is called to install the contained <span class='texttt'>basic_&shy;spanbuf</span><a class='hidden_link' href='#spanstream.ctor-2.sentence-2'>.</a></div></div></div></div></div><div id='spanstream.assign' class='section'><h4 ><a class='secnum' href='#spanstream.assign' style='min-width:95pt'>29.9.6.3</a> Assignment and swap <a class='abbr_ref' href='spanstream.assign'>[spanstream.assign]</a></h4><div class='texpara'><div id='lib:basic_spanstream,swap'><div id='lib:swap,basic_spanstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_spanstream'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_spanstream<span class='operator'>&amp;</span> rhs<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='spanstream.assign-1'><div class='marginalizedparent'><a class='marginalized' href='#spanstream.assign-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L10085'>#</a></div><div class='texpara'><div id='spanstream.assign-1.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'>basic_iostream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>::</span>swap<span class='parenthesis'>(</span>rhs<span class='parenthesis'>)</span>;
sb<span class='operator'>.</span>swap<span class='parenthesis'>(</span>rhs<span class='operator'>.</span>sb<span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:basic_spanstream,swap_'><div id='lib:swap,basic_spanstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:swap,basic_spanstream_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT, <span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>void</span> swap<span class='parenthesis'>(</span>basic_spanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> x, basic_spanstream<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> y<span class='parenthesis'>)</span>;
</code></div></div></div></div><div class='para' id='spanstream.assign-2'><div class='marginalizedparent'><a class='marginalized' href='#spanstream.assign-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L10101'>#</a></div><div class='texpara'><div id='spanstream.assign-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>x<span class='operator'>.</span>swap<span class='parenthesis'>(</span>y<span class='parenthesis'>)</span></span><a class='hidden_link' href='#spanstream.assign-2.sentence-1'>.</a></div></div></div></div></div><div id='spanstream.members' class='section'><h4 ><a class='secnum' href='#spanstream.members' style='min-width:95pt'>29.9.6.4</a> Member functions <a class='abbr_ref' href='spanstream.members'>[spanstream.members]</a></h4><div class='texpara'><div id='lib:basic_spanstream,rdbuf'><div id='lib:rdbuf,basic_spanstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:rdbuf,basic_spanstream'>ðŸ”—</a></div><code class='itemdeclcode'>basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='spanstream.members-1'><div class='marginalizedparent'><a class='marginalized' href='#spanstream.members-1'>1</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L10114'>#</a></div><div class='texpara'><div id='spanstream.members-1.sentence-1' class='sentence'><i >Effects</i>: Equivalent to:
<span class='codeblock'><span class='keyword'>return</span> <span class='keyword'>const_cast</span><span class='anglebracket'>&lt;</span>basic_spanbuf<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>addressof<span class='parenthesis'>(</span>sb<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</span></div></div></div></div><div class='texpara'><div id='lib:basic_spanstream,span'><div id='lib:span,basic_spanstream'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:span,basic_spanstream'>ðŸ”—</a></div><code class='itemdeclcode'>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> span<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='spanstream.members-2'><div class='marginalizedparent'><a class='marginalized' href='#spanstream.members-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L10128'>#</a></div><div class='texpara'><div id='spanstream.members-2.sentence-1' class='sentence'><i >Effects</i>: Equivalent to: <span class='texttt'><span class='keyword'>return</span> rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>span<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div class='texpara'><div id='lib:basic_spanstream,span_'><div id='lib:span,basic_spanstream_'><div class='itemdecl'><div class='marginalizedparent'><a class='itemDeclLink' href='#lib:span,basic_spanstream_'>ðŸ”—</a></div><code class='itemdeclcode'><span class='keyword'>void</span> span<span class='parenthesis'>(</span>std<span class='operator'>::</span>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div></div></div></div><div class='para' id='spanstream.members-3'><div class='marginalizedparent'><a class='marginalized' href='#spanstream.members-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/b2264247505861345c6d297d673209b06c67737f/source/iostreams.tex#L10139'>#</a></div><div class='texpara'><div id='spanstream.members-3.sentence-1' class='sentence'><i >Effects</i>: Equivalent to <span class='texttt'>rdbuf<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='operator'>-</span><span class='anglebracket'>&gt;</span>span<span class='parenthesis'>(</span>s<span class='parenthesis'>)</span></span><a class='hidden_link' href='#spanstream.members-3.sentence-1'>.</a></div></div></div></div></div></div></div></body></html>