<!DOCTYPE html><html lang='en'><head><title>[format]</title><meta charset='UTF-8'/><link rel='stylesheet' type='text/css' href='14882.css'/><link rel='stylesheet' type='text/css' href='expanded.css' title='Notes and examples expanded'/><link rel='alternate stylesheet' type='text/css' href='colored.css' title='Notes and examples colored'/><link rel='icon' href='icon.png'/></head><body><div class='wrapper'><h1 ><a class='secnum' style='min-width:73pt'>20</a> General utilities library <a class='abbr_ref' href='./#utilities'>[utilities]</a></h1><h2 ><a class='secnum' style='min-width:88pt'>20.20</a> Formatting <a class='abbr_ref'>[format]</a></h2><div id='syn' class='section'><h3 ><a class='secnum' href='#syn' style='min-width:103pt'>20.20.1</a> Header <span class='texttt'>&lt;format&gt;</span> synopsis <a class='abbr_ref' href='format.syn'>[format.syn]</a></h3><span class='indexparent'><a class='index' id=':<format>'></a></span><span class='indexparent'><a class='index' id='lib:format_parse_context'></a></span><span class='indexparent'><a class='index' id='lib:wformat_parse_context'></a></span><span class='indexparent'><a class='index' id='lib:format_context'></a></span><span class='indexparent'><a class='index' id='lib:wformat_context'></a></span><span class='indexparent'><a class='index' id='lib:format_args'></a></span><span class='indexparent'><a class='index' id='lib:wformat_args'></a></span><span class='indexparent'><a class='index' id='lib:format_args_t'></a></span><span class='indexparent'><a class='index' id='lib:format_to_n_result'></a></span><span class='indexparent'><a class='index' id='lib:out,format_to_n_result'></a></span><span class='indexparent'><a class='index' id='lib:format_to_n_result,out'></a></span><span class='indexparent'><a class='index' id='lib:size,format_to_n_result'></a></span><span class='indexparent'><a class='index' id='lib:format_to_n_result,size'></a></span><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='comment'>// <a href='#functions'>[format.functions]</a>, formatting functions</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    string format<span class='parenthesis'>(</span>string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    wstring format<span class='parenthesis'>(</span>wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    string format<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    wstring format<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

  string vformat<span class='parenthesis'>(</span>string_view fmt, format_args args<span class='parenthesis'>)</span>;
  wstring vformat<span class='parenthesis'>(</span>wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;
  string vformat<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, format_args args<span class='parenthesis'>)</span>;
  wstring vformat<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    Out format_to<span class='parenthesis'>(</span>Out out, string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    Out format_to<span class='parenthesis'>(</span>Out out, wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    Out format_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    Out format_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
    Out vformat_to<span class='parenthesis'>(</span>Out out, string_view fmt,
                   format_args_t<span class='anglebracket'>&lt;</span>type_identity_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span>, <span class='keyword'>char</span><span class='anglebracket'>&gt;</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
    Out vformat_to<span class='parenthesis'>(</span>Out out, wstring_view fmt,
                   format_args_t<span class='anglebracket'>&lt;</span>type_identity_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span>, <span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
    Out vformat_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt,
                   format_args_t<span class='anglebracket'>&lt;</span>type_identity_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span>, <span class='keyword'>char</span><span class='anglebracket'>&gt;</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
    Out vformat_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt,
                   format_args_t<span class='anglebracket'>&lt;</span>type_identity_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span>, <span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span> args<span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> format_to_n_result <span class='curlybracket'>{</span>
    Out out;
    iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> size;
  <span class='curlybracket'>}</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                        string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                        wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                        <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt,
                                        <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                        <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt,
                                        <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    size_t formatted_size<span class='parenthesis'>(</span>string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    size_t formatted_size<span class='parenthesis'>(</span>wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    size_t formatted_size<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    size_t formatted_size<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#formatter'>[format.formatter]</a>, formatter</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T, <span class='keyword'>class</span> charT <span class='operator'>=</span> <span class='keyword'>char</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter;

  <span class='comment'>// <a href='#parse.ctx'>[format.parse.ctx]</a>, class template <span class='tcode_in_codeblock'>basic_&shy;format_&shy;parse_&shy;context</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> basic_format_parse_context;
  <span class='keyword'>using</span> format_parse_context <span class='operator'>=</span> basic_format_parse_context<span class='anglebracket'>&lt;</span><span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wformat_parse_context <span class='operator'>=</span> basic_format_parse_context<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;

  <span class='comment'>// <a href='#context'>[format.context]</a>, class template <span class='tcode_in_codeblock'>basic_&shy;format_&shy;context</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> basic_format_context;
  <span class='keyword'>using</span> format_context <span class='operator'>=</span> basic_format_context<span class='anglebracket'>&lt;</span><span class='textit'><span class='texttt'>unspecified</span></span>, <span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wformat_context <span class='operator'>=</span> basic_format_context<span class='anglebracket'>&lt;</span><span class='textit'><span class='texttt'>unspecified</span></span>, <span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;

  <span class='comment'>// <a href='#arguments'>[format.arguments]</a>, arguments</span>
  <span class='comment'>// <a href='#arg'>[format.arg]</a>, class template <span class='tcode_in_codeblock'>basic_&shy;format_&shy;arg</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> basic_format_arg;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Visitor, <span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span>
    <span class='textit'><span class='texttt'>see below</span></span> visit_format_arg<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span> vis, basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span> arg<span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#arg.store'>[format.arg.store]</a>, class template <span class='tcode_in_codeblock'><span class='textit'>format-arg-store</span></span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> <span class='textit'>format-arg-store</span>;      <span class='comment'>// <span class='textit'>exposition only</span></span>

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context <span class='operator'>=</span> format_context, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    <span class='textit'>format-arg-store</span><span class='anglebracket'>&lt;</span>Context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
      make_format_args<span class='parenthesis'>(</span><span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
    <span class='textit'>format-arg-store</span><span class='anglebracket'>&lt;</span>wformat_context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span>
      make_wformat_args<span class='parenthesis'>(</span><span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;

  <span class='comment'>// <a href='#args'>[format.args]</a>, class template <span class='tcode_in_codeblock'>basic_&shy;format_&shy;args</span></span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span> <span class='keyword'>class</span> basic_format_args;
  <span class='keyword'>using</span> format_args <span class='operator'>=</span> basic_format_args<span class='anglebracket'>&lt;</span>format_context<span class='anglebracket'>&gt;</span>;
  <span class='keyword'>using</span> wformat_args <span class='operator'>=</span> basic_format_args<span class='anglebracket'>&lt;</span>wformat_context<span class='anglebracket'>&gt;</span>;

  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
    <span class='keyword'>using</span> <span class='indexparent'><a class='index' id='lib:format_args_t_'></a></span>format_args_t <span class='operator'>=</span> basic_format_args<span class='anglebracket'>&lt;</span>basic_format_context<span class='anglebracket'>&lt;</span>Out, charT<span class='anglebracket'>&gt;</span><span class='anglebracket'>&gt;</span>;

  <span class='comment'>// <a href='#error'>[format.error]</a>, class <span class='tcode_in_codeblock'>format_&shy;error</span></span>
  <span class='keyword'>class</span> format_error;
<span class='curlybracket'>}</span>
</pre><div class='para' id='syn-1'><div class='marginalizedparent'><a class='marginalized' href='#syn-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19265'>#</a></div><div id='syn-1.sentence-1' class='sentence'>The class template <span class='texttt'>format_&shy;to_&shy;n_&shy;result</span>
has the template parameters, data members, and special members specified above<a class='hidden_link' href='#syn-1.sentence-1'>.</a></div> <div id='syn-1.sentence-2' class='sentence'>It has no base classes or members other than those specified<a class='hidden_link' href='#syn-1.sentence-2'>.</a></div></div></div><div id='string' class='section'><h3 ><a class='secnum' href='#string' style='min-width:103pt'>20.20.2</a> Format string <a class='abbr_ref' href='format.string'>[format.string]</a></h3><div id='string.general' class='section'><h4 ><a class='secnum' href='#string.general' style='min-width:118pt'>20.20.2.1</a> In general <a class='abbr_ref' href='format.string.general'>[format.string.general]</a></h4><div class='para' id='string.general-1'><div class='marginalizedparent'><a class='marginalized' href='#string.general-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19273'>#</a></div><div id='string.general-1.sentence-1' class='sentence'>A <a class='hidden_link' href='#def:format_string' id='def:format_string'><i >format string</i></a> for arguments <span class='texttt'>args</span> is
a (possibly empty) sequence of
<a class='hidden_link' href='#def:replacement_field,format_string' id='def:replacement_field,format_string'><i >replacement fields</i></a>,
<a class='hidden_link' href='#def:escape_sequence,format_string' id='def:escape_sequence,format_string'><i >escape sequences</i></a>,
and characters other than <span class='texttt'><span class='curlybracket'>{</span></span> and <span class='texttt'><span class='curlybracket'>}</span></span><a class='hidden_link' href='#string.general-1.sentence-1'>.</a></div> <div id='string.general-1.sentence-2' class='sentence'>Let <span class='texttt'>charT</span> be the character type of the format string<a class='hidden_link' href='#string.general-1.sentence-2'>.</a></div> <div id='string.general-1.sentence-3' class='sentence'>Each character that is not part of
a replacement field or an escape sequence
is copied unchanged to the output<a class='hidden_link' href='#string.general-1.sentence-3'>.</a></div> <div id='string.general-1.sentence-4' class='sentence'>An escape sequence is one of <span class='texttt'><span class='curlybracket'>{</span><span class='curlybracket'>{</span></span> or <span class='texttt'><span class='curlybracket'>}</span><span class='curlybracket'>}</span></span><a class='hidden_link' href='#string.general-1.sentence-4'>.</a></div> <div id='string.general-1.sentence-5' class='sentence'>It is replaced with <span class='texttt'><span class='curlybracket'>{</span></span> or <span class='texttt'><span class='curlybracket'>}</span></span>, respectively, in the output<a class='hidden_link' href='#string.general-1.sentence-5'>.</a></div> <div id='string.general-1.sentence-6' class='sentence'>The syntax of replacement fields is as follows:</div><pre class='ncbnf'><span class='sffamily'></span><i>replacement-field</i><span class='textnormal'>:</span>
&#9;<span class='terminal'><span class='curlybracket'>{</span></span> arg-id<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> format-specifier<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='curlybracket'>}</span></span>
</pre><pre class='ncbnf'><span class='sffamily'></span><i>arg-id</i><span class='textnormal'>:</span>
&#9;<span class='terminal'><span class='literal'>0</span></span>
&#9;positive-integer
</pre><pre class='ncbnf'><span class='sffamily'></span><i>positive-integer</i><span class='textnormal'>:</span>
&#9;<a class='grammarterm' href='lex.icon#nt:nonzero-digit'>nonzero-digit</a>
&#9;positive-integer <a class='grammarterm' href='lex.name#nt:digit'>digit</a>
</pre><pre class='ncbnf'><span class='sffamily'></span><i>nonnegative-integer</i><span class='textnormal'>:</span>
&#9;<a class='grammarterm' href='lex.name#nt:digit'>digit</a>
&#9;nonnegative-integer <a class='grammarterm' href='lex.name#nt:digit'>digit</a>
</pre><pre class='ncbnf'><span class='sffamily'></span><i><a class='grammarterm' href='lex.icon#nt:nonzero-digit'>nonzero-digit</a></i><span class='textnormal'>:</span> <span class='textnormal'>one of</span>
&#9;<span class='terminal'><span class='literal'>1</span> <span class='literal'>2</span> <span class='literal'>3</span> <span class='literal'>4</span> <span class='literal'>5</span> <span class='literal'>6</span> <span class='literal'>7</span> <span class='literal'>8</span> <span class='literal'>9</span></span>
</pre><pre class='ncbnf'><span class='sffamily'></span><i><a class='grammarterm' href='lex.name#nt:digit'>digit</a></i><span class='textnormal'>:</span> <span class='textnormal'>one of</span>
&#9;<span class='terminal'><span class='literal'>0</span> <span class='literal'>1</span> <span class='literal'>2</span> <span class='literal'>3</span> <span class='literal'>4</span> <span class='literal'>5</span> <span class='literal'>6</span> <span class='literal'>7</span> <span class='literal'>8</span> <span class='literal'>9</span></span>
</pre><pre class='ncbnf'><span class='sffamily'></span><i>format-specifier</i><span class='textnormal'>:</span>
&#9;<span class='terminal'><span class='operator'>:</span></span> format-spec
</pre><pre class='ncbnf'><span class='sffamily'></span><i>format-spec</i><span class='textnormal'>:</span>
&#9;<span class='textnormal'>as specified by the <span class='texttt'>formatter</span> specialization for the argument type</span>
</pre></div><div class='para' id='string.general-2'><div class='marginalizedparent'><a class='marginalized' href='#string.general-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19331'>#</a></div><div id='string.general-2.sentence-1' class='sentence'>The <span class='textsf'><span class='textit'>arg-id</span></span> field specifies the index of
the argument in <span class='texttt'>args</span>
whose value is to be formatted and inserted into the output
instead of the replacement field<a class='hidden_link' href='#string.general-2.sentence-1'>.</a></div> <div id='string.general-2.sentence-2' class='sentence'>If there is no argument with
the index <span class='textsf'><span class='textit'>arg-id</span></span> in <span class='texttt'>args</span>,
the string is not a format string for <span class='texttt'>args</span><a class='hidden_link' href='#string.general-2.sentence-2'>.</a></div> <div id='string.general-2.sentence-3' class='sentence'>The optional <span class='textsf'><span class='textit'>format-specifier</span></span> field
explicitly specifies a format for the replacement value<a class='hidden_link' href='#string.general-2.sentence-3'>.</a></div></div><div class='para' id='string.general-3'><div class='marginalizedparent'><a class='marginalized' href='#string.general-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19342'>#</a></div><div id='string.general-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#string.general-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
string s <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0}-{{"</span>, <span class='literal'>8</span><span class='parenthesis'>)</span>;         <span class='comment'>// value of <span class='tcode_in_codeblock'>s</span> is <span class='tcode_in_codeblock'>"8-{"</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='string.general-4'><div class='marginalizedparent'><a class='marginalized' href='#string.general-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19349'>#</a></div><div id='string.general-4.sentence-1' class='sentence'>If all <span class='textsf'><span class='textit'>arg-id</span></span>s in a format string are omitted
(including those in the <span class='textsf'><span class='textit'>format-spec</span></span>,
as interpreted by the corresponding <span class='texttt'>formatter</span> specialization),
argument indices 0, 1, 2, &hellip; will automatically be used in that order<a class='hidden_link' href='#string.general-4.sentence-1'>.</a></div> <div id='string.general-4.sentence-2' class='sentence'>If some <span class='textsf'><span class='textit'>arg-id</span></span>s are omitted and some are present,
the string is not a format string<a class='hidden_link' href='#string.general-4.sentence-2'>.</a></div> <div id='string.general-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#string.general-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='string.general-4.sentence-3' class='sentence'>A format string cannot contain a
mixture of automatic and manual indexing<a class='hidden_link' href='#string.general-4.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='string.general-4.example-1' class='example'>[&nbsp;<a class='example_link' href='#string.general-4.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
string s0 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{} to {}"</span>,   <span class='literal'>"a"</span>, <span class='literal'>"b"</span><span class='parenthesis'>)</span>; <span class='comment'>// OK, automatic indexing</span>
string s1 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{1} to {0}"</span>, <span class='literal'>"a"</span>, <span class='literal'>"b"</span><span class='parenthesis'>)</span>; <span class='comment'>// OK, manual indexing</span>
string s2 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0} to {}"</span>,  <span class='literal'>"a"</span>, <span class='literal'>"b"</span><span class='parenthesis'>)</span>; <span class='comment'>// not a format string (mixing automatic and manual indexing),</span>
                                            <span class='comment'>// throws <span class='tcode_in_codeblock'>format_&shy;error</span></span>
string s3 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{} to {1}"</span>,  <span class='literal'>"a"</span>, <span class='literal'>"b"</span><span class='parenthesis'>)</span>; <span class='comment'>// not a format string (mixing automatic and manual indexing),</span>
                                            <span class='comment'>// throws <span class='tcode_in_codeblock'>format_&shy;error</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='string.general-5'><div class='marginalizedparent'><a class='marginalized' href='#string.general-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19371'>#</a></div><div id='string.general-5.sentence-1' class='sentence'>The <span class='textsf'><span class='textit'>format-spec</span></span> field contains
<a class='hidden_link' href='#def:format_specification,format_string' id='def:format_specification,format_string'><i >format specifications</i></a>
that define how the value should be presented<a class='hidden_link' href='#string.general-5.sentence-1'>.</a></div> <div id='string.general-5.sentence-2' class='sentence'>Each type can define its own
interpretation of the <span class='textsf'><span class='textit'>format-spec</span></span> field<a class='hidden_link' href='#string.general-5.sentence-2'>.</a></div> <div id='string.general-5.sentence-3' class='sentence'>If <span class='textsf'><span class='textit'>format-spec</span></span> does not conform
to the format specifications for
the argument type referred to by <span class='textsf'><span class='textit'>arg-id</span></span>,
the string is not a format string for <span class='texttt'>args</span><a class='hidden_link' href='#string.general-5.sentence-3'>.</a></div> <div id='string.general-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#string.general-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <ul class='itemize'><li ><div id='string.general-5.sentence-1' class='sentence'>For arithmetic, pointer, and string types
the <span class='textsf'><span class='textit'>format-spec</span></span>
is interpreted as a <span class='textsf'><span class='textit'>std-format-spec</span></span>
as described in  (<a href='#string.std'>[format.string.std]</a>)<a class='hidden_link' href='#string.general-5.sentence-1'>.</a></div></li><li ><div id='string.general-5.sentence-1' class='sentence'>For chrono types
the <span class='textsf'><span class='textit'>format-spec</span></span>
is interpreted as a <span class='textsf'><span class='textit'>chrono-format-spec</span></span>
as described in  (<a href='time.format'>[time.format]</a>)<a class='hidden_link' href='#string.general-5.sentence-1'>.</a></div></li><li ><div id='string.general-5.sentence-1' class='sentence'>For user-defined <span class='texttt'>formatter</span> specializations,
the behavior of the <span class='texttt'>parse</span> member function
determines how the <span class='textsf'><span class='textit'>format-spec</span></span>
is interpreted<a class='hidden_link' href='#string.general-5.sentence-1'>.</a></div></li></ul> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='string.std' class='section'><h4 ><a class='secnum' href='#string.std' style='min-width:118pt'>20.20.2.2</a> Standard format specifiers <a class='abbr_ref' href='format.string.std'>[format.string.std]</a></h4><div class='para' id='string.std-1'><div class='marginalizedparent'><a class='marginalized' href='#string.std-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19403'>#</a></div><div id='string.std-1.sentence-1' class='sentence'>Each <span class='texttt'>formatter</span> specializations
described in <a href='#formatter.spec'>[format.formatter.spec]</a>
for fundamental and string types
interprets <span class='textsf'><span class='textit'>format-spec</span></span> as a
<span class='textsf'><span class='textit'>std-format-spec</span></span><a class='hidden_link' href='#string.std-1.sentence-1'>.</a></div> <div id='string.std-1.note-1' class='note'>[&nbsp;<a class='note_link' href='#string.std-1.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='string.std-1.sentence-2' class='sentence'>The format specification can be used to specify such details as
field width, alignment, padding, and decimal precision<a class='hidden_link' href='#string.std-1.sentence-2'>.</a></div> <div id='string.std-1.sentence-3' class='sentence'>Some of the formatting options
are only supported for arithmetic types<a class='hidden_link' href='#string.std-1.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='string.std-1.sentence-4' class='sentence'>
The syntax of format specifications is as follows:</div><pre class='ncbnf'><span class='sffamily'></span><i>std-format-spec</i><span class='textnormal'>:</span>
&#9;fill-and-align<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <a class='grammarterm' href='lex.fcon#nt:sign'>sign</a><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='preprocessordirective'>#</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='literal'>0</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> width<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> precision<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'>L</span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> type<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span>
</pre><pre class='ncbnf'><span class='sffamily'></span><i>fill-and-align</i><span class='textnormal'>:</span>
&#9;fill<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> align
</pre><pre class='ncbnf'><span class='sffamily'></span><i>fill</i><span class='textnormal'>:</span>
&#9;<span class='textnormal'>any character other than <span class='texttt'><span class='curlybracket'>{</span></span> or <span class='texttt'><span class='curlybracket'>}</span></span></span>
</pre><pre class='ncbnf'><span class='sffamily'></span><i>align</i><span class='textnormal'>:</span> <span class='textnormal'>one of</span>
&#9;<span class='terminal'><span class='anglebracket'>&lt;</span> <span class='anglebracket'>&gt;</span> <span class='operator'>^</span></span>
</pre><pre class='ncbnf'><span class='sffamily'></span><i><a class='grammarterm' href='lex.fcon#nt:sign'>sign</a></i><span class='textnormal'>:</span> <span class='textnormal'>one of</span>
&#9;<span class='terminal'><span class='operator'>+</span> <span class='operator'>-</span></span> <span class='textnormal'>space</span>
</pre><pre class='ncbnf'><span class='sffamily'></span><i>width</i><span class='textnormal'>:</span>
&#9;positive-integer
&#9;<span class='terminal'><span class='curlybracket'>{</span></span> arg-id<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='curlybracket'>}</span></span>
</pre><pre class='ncbnf'><span class='sffamily'></span><i>precision</i><span class='textnormal'>:</span>
&#9;<span class='terminal'><span class='operator'>.</span></span> nonnegative-integer
&#9;<span class='terminal'><span class='operator'>.</span></span> <span class='terminal'><span class='curlybracket'>{</span></span> arg-id<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='terminal'><span class='curlybracket'>}</span></span>
</pre><pre class='ncbnf'><span class='sffamily'></span><i>type</i><span class='textnormal'>:</span> <span class='textnormal'>one of</span>
&#9;<span class='terminal'>a A b B c d e E f F g G o p s x X</span>
</pre></div><div class='para' id='string.std-2'><div class='marginalizedparent'><a class='marginalized' href='#string.std-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19459'>#</a></div><div id='string.std-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#string.std-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='string.std-2.sentence-1' class='sentence'>The <span class='textsf'><span class='textit'>fill</span></span> character can be any character
other than <span class='texttt'><span class='curlybracket'>{</span></span> or <span class='texttt'><span class='curlybracket'>}</span></span><a class='hidden_link' href='#string.std-2.sentence-1'>.</a></div> <div id='string.std-2.sentence-2' class='sentence'>The presence of a fill character is signaled by the
character following it, which must be one of the alignment options<a class='hidden_link' href='#string.std-2.sentence-2'>.</a></div> <div id='string.std-2.sentence-3' class='sentence'>If the second character of <span class='textsf'><span class='textit'>std-format-spec</span></span>
is not a valid alignment option,
then it is assumed that both the fill character and the alignment option are
absent<a class='hidden_link' href='#string.std-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='string.std-3'><div class='marginalizedparent'><a class='marginalized' href='#string.std-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19471'>#</a></div><div id='string.std-3.sentence-1' class='sentence'>The <span class='textsf'><span class='textit'>align</span></span> specifier applies to all argument types<a class='hidden_link' href='#string.std-3.sentence-1'>.</a></div> <div id='string.std-3.sentence-2' class='sentence'>The meaning of the various alignment options is as specified in Table <a href='#tab:format.align'>59</a><a class='hidden_link' href='#string.std-3.sentence-2'>.</a></div> <div id='string.std-3.example-1' class='example'>[&nbsp;<a class='example_link' href='#string.std-3.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>char</span> c <span class='operator'>=</span> <span class='literal'>120</span>;
string s0 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:6}"</span>, <span class='literal'>42</span><span class='parenthesis'>)</span>;         <span class='comment'>// value of <span class='tcode_in_codeblock'>s0</span> is <span class='tcode_in_codeblock'>"&nbsp;&nbsp;&nbsp;&nbsp;42"</span></span>
string s1 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:6}"</span>, <span class='literal'>'x'</span><span class='parenthesis'>)</span>;        <span class='comment'>// value of <span class='tcode_in_codeblock'>s1</span> is <span class='tcode_in_codeblock'>"x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"</span></span>
string s2 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:*&lt;6}"</span>, <span class='literal'>'x'</span><span class='parenthesis'>)</span>;      <span class='comment'>// value of <span class='tcode_in_codeblock'>s2</span> is <span class='tcode_in_codeblock'>"x*****"</span></span>
string s3 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:*&gt;6}"</span>, <span class='literal'>'x'</span><span class='parenthesis'>)</span>;      <span class='comment'>// value of <span class='tcode_in_codeblock'>s3</span> is <span class='tcode_in_codeblock'>"*****x"</span></span>
string s4 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:*^6}"</span>, <span class='literal'>'x'</span><span class='parenthesis'>)</span>;      <span class='comment'>// value of <span class='tcode_in_codeblock'>s4</span> is <span class='tcode_in_codeblock'>"**x***"</span></span>
string s5 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:6d}"</span>, c<span class='parenthesis'>)</span>;         <span class='comment'>// value of <span class='tcode_in_codeblock'>s5</span> is <span class='tcode_in_codeblock'>"&nbsp;&nbsp;&nbsp;120"</span></span>
string s6 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:6}"</span>, <span class='literal'>true</span><span class='parenthesis'>)</span>;       <span class='comment'>// value of <span class='tcode_in_codeblock'>s6</span> is <span class='tcode_in_codeblock'>"true&nbsp;&nbsp;"</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div>  <div id='string.std-3.note-1' class='note'>[&nbsp;<a class='note_link' href='#string.std-3.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='string.std-3.sentence-3' class='sentence'>Unless a minimum field width is defined, the field width is determined by
the size of the content and the alignment option has no effect<a class='hidden_link' href='#string.std-3.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> <div class='numberedTable' id='tab:format.align'>Table <a href='#tab:format.align'>59</a>: Meaning of <span class='textsf'><span class='textit'>align</span></span> options &emsp;&ensp;[tab:format.align]<br><table ><tr class='rowsep'><td class='center'><div id='string.std-3.sentence-4' class='sentence'><b>Option</b></div></td><td class='center'><div id='string.std-3.sentence-5' class='sentence'><b>Meaning</b></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-3.sentence-6' class='sentence'><span class='texttt'><span class='anglebracket'>&lt;</span></span></div></td><td class='justify'><div id='string.std-3.sentence-7' class='sentence'>Forces the field to be aligned to the start of the available space<a class='hidden_link' href='#string.std-3.sentence-7'>.</a></div> <div id='string.std-3.sentence-8' class='sentence'>This is the default for
non-arithmetic types, <span class='texttt'>charT</span>, and <span class='texttt'><span class='keyword'>bool</span></span>,
unless an integer presentation type is specified<a class='hidden_link' href='#string.std-3.sentence-8'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-3.sentence-9' class='sentence'><span class='texttt'><span class='anglebracket'>&gt;</span></span></div></td><td class='justify'><div id='string.std-3.sentence-10' class='sentence'>Forces the field to be aligned to the end of the available space<a class='hidden_link' href='#string.std-3.sentence-10'>.</a></div> <div id='string.std-3.sentence-11' class='sentence'>This is the default for
arithmetic types other than <span class='texttt'>charT</span> and <span class='texttt'><span class='keyword'>bool</span></span>
or when an integer presentation type is specified<a class='hidden_link' href='#string.std-3.sentence-11'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-3.sentence-12' class='sentence'><span class='texttt'><span class='operator'>^</span></span></div></td><td class='justify'><div id='string.std-3.sentence-13' class='sentence'>Forces the field to be centered within the available space
by inserting
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.593em; padding-bottom: 0.593em;">⌊</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 0.566em; padding: 0px 0.12em;"><span class="mjx-numerator" style="font-size: 70.7%; width: 0.8em; top: -1.159em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-denominator" style="font-size: 70.7%; width: 0.8em; bottom: -0.665em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 0.566em;" class="mjx-line"></span></span><span style="height: 1.29em; vertical-align: -0.47em;" class="mjx-vsize"></span></span><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.593em; padding-bottom: 0.593em;">⌋</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span>
characters before and
<span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.593em; padding-bottom: 0.593em;">⌈</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span><span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 0.566em; padding: 0px 0.12em;"><span class="mjx-numerator" style="font-size: 70.7%; width: 0.8em; top: -1.159em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span><span class="mjx-denominator" style="font-size: 70.7%; width: 0.8em; bottom: -0.665em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 0.566em;" class="mjx-line"></span></span><span style="height: 1.29em; vertical-align: -0.47em;" class="mjx-vsize"></span></span><span class="mjx-mstyle"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.593em; padding-bottom: 0.593em;">⌉</span></span></span></span></span></span><span class="mjx-texatom"><span class="mjx-mrow"></span></span></span></span></span>
characters after the value, where
<span class='math'><span class='mathalpha'>n</span></span> is the total number of fill characters to insert<a class='hidden_link' href='#string.std-3.sentence-13'>.</a></div></td></tr></table></div></div><div class='para' id='string.std-4'><div class='marginalizedparent'><a class='marginalized' href='#string.std-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19519'>#</a></div><div id='string.std-4.sentence-1' class='sentence'>The <span class='textsf'><span class='textit'>sign</span></span> option is only valid
for arithmetic types other than <span class='texttt'>charT</span> and <span class='texttt'><span class='keyword'>bool</span></span>
or when an integer presentation type is specified<a class='hidden_link' href='#string.std-4.sentence-1'>.</a></div> <div id='string.std-4.sentence-2' class='sentence'>The meaning of the various options is as specified in Table <a href='#tab:format.sign'>60</a><a class='hidden_link' href='#string.std-4.sentence-2'>.</a></div><div class='numberedTable' id='tab:format.sign'>Table <a href='#tab:format.sign'>60</a>: Meaning of <span class='textsf'><span class='textit'>sign</span></span> options &emsp;&ensp;[tab:format.sign]<br><table ><tr class='rowsep'><td class='center'><div id='string.std-4.sentence-3' class='sentence'><b>Option</b></div></td><td class='center'><div id='string.std-4.sentence-4' class='sentence'><b>Meaning</b></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-4.sentence-5' class='sentence'><span class='texttt'><span class='operator'>+</span></span></div></td><td class='justify'><div id='string.std-4.sentence-6' class='sentence'>Indicates that a sign should be used for both non-negative and negative
numbers<a class='hidden_link' href='#string.std-4.sentence-6'>.</a></div> <div id='string.std-4.sentence-7' class='sentence'>The <span class='texttt'><span class='operator'>+</span></span> sign is inserted before the output of <span class='texttt'>to_&shy;chars</span> for
non-negative numbers other than negative zero<a class='hidden_link' href='#string.std-4.sentence-7'>.</a></div> <div id='string.std-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#string.std-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='string.std-4.sentence-8' class='sentence'>For negative numbers and negative zero
the output of <span class='texttt'>to_&shy;chars</span> will already contain the sign
so no additional transformation is performed<a class='hidden_link' href='#string.std-4.sentence-8'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </td></tr><tr class='rowsep'><td class='left'><div id='string.std-4.sentence-9' class='sentence'><span class='texttt'><span class='operator'>-</span></span></div></td><td class='justify'><div id='string.std-4.sentence-10' class='sentence'>Indicates that a sign should be used for
negative numbers and negative zero only (this is the default behavior)<a class='hidden_link' href='#string.std-4.sentence-10'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-4.sentence-11' class='sentence'>space</div></td><td class='justify'><div id='string.std-4.sentence-12' class='sentence'>Indicates that a leading space should be used for
non-negative numbers other than negative zero, and
a minus sign for negative numbers and negative zero<a class='hidden_link' href='#string.std-4.sentence-12'>.</a></div></td></tr></table></div></div><div class='para' id='string.std-5'><div class='marginalizedparent'><a class='marginalized' href='#string.std-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19552'>#</a></div><div id='string.std-5.sentence-1' class='sentence'>The <span class='textsf'><span class='textit'>sign</span></span> option applies to floating-point infinity and NaN.
<div id='string.std-5.example-1' class='example'>[&nbsp;<a class='example_link' href='#string.std-5.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>double</span> inf <span class='operator'>=</span> numeric_limits<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>infinity<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
<span class='keyword'>double</span> nan <span class='operator'>=</span> numeric_limits<span class='anglebracket'>&lt;</span><span class='keyword'>double</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>quiet_NaN<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
string s0 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:},{0:+},{0:-},{0: }"</span>, <span class='literal'>1</span><span class='parenthesis'>)</span>;        <span class='comment'>// value of <span class='tcode_in_codeblock'>s0</span> is <span class='tcode_in_codeblock'>"1,+1,1, 1"</span></span>
string s1 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:},{0:+},{0:-},{0: }"</span>, <span class='operator'>-</span><span class='literal'>1</span><span class='parenthesis'>)</span>;       <span class='comment'>// value of <span class='tcode_in_codeblock'>s1</span> is <span class='tcode_in_codeblock'>"-1,-1,-1,-1"</span></span>
string s2 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:},{0:+},{0:-},{0: }"</span>, inf<span class='parenthesis'>)</span>;      <span class='comment'>// value of <span class='tcode_in_codeblock'>s2</span> is <span class='tcode_in_codeblock'>"inf,+inf,inf, inf"</span></span>
string s3 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:},{0:+},{0:-},{0: }"</span>, nan<span class='parenthesis'>)</span>;      <span class='comment'>// value of <span class='tcode_in_codeblock'>s3</span> is <span class='tcode_in_codeblock'>"nan,+nan,nan, nan"</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div class='para' id='string.std-6'><div class='marginalizedparent'><a class='marginalized' href='#string.std-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19565'>#</a></div><div id='string.std-6.sentence-1' class='sentence'>The <span class='texttt'><span class='preprocessordirective'>#</span></span> option causes the
<a class='hidden_link' href='#def:alternate_form,format_string' id='def:alternate_form,format_string'><i >alternate form</i></a>
to be used for the conversion<a class='hidden_link' href='#string.std-6.sentence-1'>.</a></div> <div id='string.std-6.sentence-2' class='sentence'>This option is valid for arithmetic types other than
<span class='texttt'>charT</span> and <span class='texttt'><span class='keyword'>bool</span></span>
or when an integer presentation type is specified, and not otherwise<a class='hidden_link' href='#string.std-6.sentence-2'>.</a></div> <div id='string.std-6.sentence-3' class='sentence'>For integral types,
the alternate form inserts the
base prefix (if any) specified in Table <a href='#tab:format.type.int'>62</a>
into the output after the sign character (possibly space) if there is one, or
before the output of <span class='texttt'>to_&shy;chars</span> otherwise<a class='hidden_link' href='#string.std-6.sentence-3'>.</a></div> <div id='string.std-6.sentence-4' class='sentence'>For floating-point types,
the alternate form causes the result of the conversion of finite values
to always contain a decimal-point character,
even if no digits follow it<a class='hidden_link' href='#string.std-6.sentence-4'>.</a></div> <div id='string.std-6.sentence-5' class='sentence'>Normally, a decimal-point character appears in the result of these
conversions only if a digit follows it<a class='hidden_link' href='#string.std-6.sentence-5'>.</a></div> <div id='string.std-6.sentence-6' class='sentence'>In addition, for <span class='texttt'>g</span> and <span class='texttt'>G</span> conversions,
trailing zeros are not removed from the result<a class='hidden_link' href='#string.std-6.sentence-6'>.</a></div></div><div class='para' id='string.std-7'><div class='marginalizedparent'><a class='marginalized' href='#string.std-7'>7</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19590'>#</a></div><div id='string.std-7.sentence-1' class='sentence'>If <span class='texttt'><span class='curlybracket'>{</span> <span class='textsf'><span class='textit'>arg-id</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mstyle" style="font-size: 113.1%; color: black;"><span class="mjx-mrow" style="font-size: 88.4%;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">o</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.446em;">p</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.372em; padding-bottom: 0.298em;">t</span></span></span></span></span></span></span></span></span> <span class='curlybracket'>}</span></span> is used in
a <span class='textsf'><span class='textit'>width</span></span> or <span class='textsf'><span class='textit'>precision</span></span>,
the value of the corresponding formatting argument is used in its place<a class='hidden_link' href='#string.std-7.sentence-1'>.</a></div> <div id='string.std-7.sentence-2' class='sentence'>If the corresponding formatting argument is not of integral type, or
its value is
negative for <span class='textsf'><span class='textit'>precision</span></span> or
non-positive for <span class='textsf'><span class='textit'>width</span></span>,
an exception of type <span class='texttt'>format_&shy;error</span> is thrown<a class='hidden_link' href='#string.std-7.sentence-2'>.</a></div></div><div class='para' id='string.std-8'><div class='marginalizedparent'><a class='marginalized' href='#string.std-8'>8</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19600'>#</a></div><div id='string.std-8.sentence-1' class='sentence'>The <span class='textsf'><span class='textit'>positive-integer</span></span> in
<span class='textsf'><span class='textit'>width</span></span> is a decimal integer defining the minimum field width<a class='hidden_link' href='#string.std-8.sentence-1'>.</a></div> <div id='string.std-8.sentence-2' class='sentence'>If <span class='textsf'><span class='textit'>width</span></span> is not specified,
there is no minimum field width, and
the field width is determined based on the content of the field<a class='hidden_link' href='#string.std-8.sentence-2'>.</a></div></div><div class='para' id='string.std-9'><div class='marginalizedparent'><a class='marginalized' href='#string.std-9'>9</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19608'>#</a></div><div id='string.std-9.sentence-1' class='sentence'><span class='indexparent'><a class='index' id=':string,width'></a></span>The <a class='hidden_link' href='#def:width' id='def:width'><i >width</i></a> of a string is defined as
the estimated number of column positions appropriate
for displaying it in a terminal<a class='hidden_link' href='#string.std-9.sentence-1'>.</a></div> <div id='string.std-9.note-1' class='note'>[&nbsp;<a class='note_link' href='#string.std-9.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='string.std-9.sentence-2' class='sentence'>This is similar to the semantics of the POSIX <span class='texttt'>wcswidth</span> function<a class='hidden_link' href='#string.std-9.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='string.std-10'><div class='marginalizedparent'><a class='marginalized' href='#string.std-10'>10</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19617'>#</a></div><div id='string.std-10.sentence-1' class='sentence'>For the purposes of width computation,
a string is assumed to be in
a locale-independent, implementation-defined encoding<a class='hidden_link' href='#string.std-10.sentence-1'>.</a></div> <div id='string.std-10.sentence-2' class='sentence'>Implementations should use a Unicode encoding
on platforms capable of displaying Unicode text in a terminal<a class='hidden_link' href='#string.std-10.sentence-2'>.</a></div> <div id='string.std-10.note-1' class='note'>[&nbsp;<a class='note_link' href='#string.std-10.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='string.std-10.sentence-3' class='sentence'>This is the case for Windows-based and many POSIX-based operating systems<a class='hidden_link' href='#string.std-10.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='string.std-11'><div class='marginalizedparent'><a class='marginalized' href='#string.std-11'>11</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19627'>#</a></div><div id='string.std-11.sentence-1' class='sentence'>For a string in a Unicode encoding,
implementations should estimate the width of a string
as the sum of estimated widths of
the first code points in its extended grapheme clusters<a class='hidden_link' href='#string.std-11.sentence-1'>.</a></div> <div id='string.std-11.sentence-2' class='sentence'>The extended grapheme clusters of a string are defined by UAX #29<a class='hidden_link' href='#string.std-11.sentence-2'>.</a></div> <div id='string.std-11.sentence-3' class='sentence'>The estimated width of the following code points is 2:
<ul class='itemize'><li id='string.std-11.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.1'>(11.1)</a></div><span class='texttt'>U<span class='operator'>+</span><span class='literal'>1100</span><span class='operator'>-</span>U<span class='operator'>+</span><span class='literal'>115F</span></span></li><li id='string.std-11.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.2'>(11.2)</a></div><span class='texttt'>U<span class='operator'>+</span><span class='literal'>2329</span><span class='operator'>-</span>U<span class='operator'>+</span><span class='literal'>232A</span></span></li><li id='string.std-11.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.3'>(11.3)</a></div><span class='texttt'>U<span class='operator'>+</span><span class='literal'>2E80</span><span class='operator'>-</span>U<span class='operator'>+</span><span class='literal'>303E</span></span></li><li id='string.std-11.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.4'>(11.4)</a></div><span class='texttt'>U<span class='operator'>+</span><span class='literal'>3040</span><span class='operator'>-</span>U<span class='operator'>+</span>A4CF</span></li><li id='string.std-11.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.5'>(11.5)</a></div><span class='texttt'>U<span class='operator'>+</span>AC00<span class='operator'>-</span>U<span class='operator'>+</span>D7A3</span></li><li id='string.std-11.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.6'>(11.6)</a></div><span class='texttt'>U<span class='operator'>+</span>F900<span class='operator'>-</span>U<span class='operator'>+</span>FAFF</span></li><li id='string.std-11.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.7'>(11.7)</a></div><span class='texttt'>U<span class='operator'>+</span>FE10<span class='operator'>-</span>U<span class='operator'>+</span>FE19</span></li><li id='string.std-11.8'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.8'>(11.8)</a></div><span class='texttt'>U<span class='operator'>+</span>FE30<span class='operator'>-</span>U<span class='operator'>+</span>FE6F</span></li><li id='string.std-11.9'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.9'>(11.9)</a></div><span class='texttt'>U<span class='operator'>+</span>FF00<span class='operator'>-</span>U<span class='operator'>+</span>FF60</span></li><li id='string.std-11.10'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.10'>(11.10)</a></div><span class='texttt'>U<span class='operator'>+</span>FFE0<span class='operator'>-</span>U<span class='operator'>+</span>FFE6</span></li><li id='string.std-11.11'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.11'>(11.11)</a></div><span class='texttt'>U<span class='operator'>+</span><span class='literal'>1F300</span><span class='operator'>-</span>U<span class='operator'>+</span><span class='literal'>1F64F</span></span></li><li id='string.std-11.12'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.12'>(11.12)</a></div><span class='texttt'>U<span class='operator'>+</span><span class='literal'>1F900</span><span class='operator'>-</span>U<span class='operator'>+</span><span class='literal'>1F9FF</span></span></li><li id='string.std-11.13'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.13'>(11.13)</a></div><span class='texttt'>U<span class='operator'>+</span><span class='literal'>20000</span><span class='operator'>-</span>U<span class='operator'>+</span><span class='literal'>2FFFD</span></span></li><li id='string.std-11.14'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-11.14'>(11.14)</a></div><span class='texttt'>U<span class='operator'>+</span><span class='literal'>30000</span><span class='operator'>-</span>U<span class='operator'>+</span><span class='literal'>3FFFD</span></span></li></ul>
The estimated width of other code points is 1<a class='hidden_link' href='#string.std-11.sentence-3'>.</a></div></div><div class='para' id='string.std-12'><div class='marginalizedparent'><a class='marginalized' href='#string.std-12'>12</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19652'>#</a></div><div id='string.std-12.sentence-1' class='sentence'>For a string in a non-Unicode encoding, the width of a string is unspecified<a class='hidden_link' href='#string.std-12.sentence-1'>.</a></div></div><div class='para' id='string.std-13'><div class='marginalizedparent'><a class='marginalized' href='#string.std-13'>13</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19655'>#</a></div><div id='string.std-13.sentence-1' class='sentence'>A zero (<span class='texttt'><span class='literal'>0</span></span>) character
preceding the <span class='textsf'><span class='textit'>width</span></span> field
pads the field with leading zeros (following any indication of sign or base)
to the field width,
except when applied to an infinity or NaN.
This option is only valid for
arithmetic types other than <span class='texttt'>charT</span> and <span class='texttt'><span class='keyword'>bool</span></span>
or when an integer presentation type is specified<a class='hidden_link' href='#string.std-13.sentence-1'>.</a></div> <div id='string.std-13.sentence-2' class='sentence'>If the <span class='texttt'><span class='literal'>0</span></span> character and an <span class='textsf'><span class='textit'>align</span></span> option both appear,
the <span class='texttt'><span class='literal'>0</span></span> character is ignored<a class='hidden_link' href='#string.std-13.sentence-2'>.</a></div> <div id='string.std-13.example-1' class='example'>[&nbsp;<a class='example_link' href='#string.std-13.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>char</span> c <span class='operator'>=</span> <span class='literal'>120</span>;
string s1 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:+06d}"</span>, c<span class='parenthesis'>)</span>;       <span class='comment'>// value of <span class='tcode_in_codeblock'>s1</span> is <span class='tcode_in_codeblock'>"+00120"</span></span>
string s2 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:#06x}"</span>, <span class='literal'>0xa</span><span class='parenthesis'>)</span>;     <span class='comment'>// value of <span class='tcode_in_codeblock'>s2</span> is <span class='tcode_in_codeblock'>"0x000a"</span></span>
string s3 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:&lt;06}"</span>, <span class='operator'>-</span><span class='literal'>42</span><span class='parenthesis'>)</span>;      <span class='comment'>// value of <span class='tcode_in_codeblock'>s3</span> is <span class='tcode_in_codeblock'>"-42&nbsp;&nbsp;&nbsp;"</span> (<span class='tcode_in_codeblock'>0</span> is ignored because of <span class='tcode_in_codeblock'>&lt;</span> alignment)</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div><div class='para' id='string.std-14'><div class='marginalizedparent'><a class='marginalized' href='#string.std-14'>14</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19675'>#</a></div><div id='string.std-14.sentence-1' class='sentence'>The <span class='textsf'><span class='textit'>nonnegative-integer</span></span> in
<span class='textsf'><span class='textit'>precision</span></span> is a decimal integer defining
the precision or maximum field size<a class='hidden_link' href='#string.std-14.sentence-1'>.</a></div> <div id='string.std-14.sentence-2' class='sentence'>It can only be used with floating-point and string types<a class='hidden_link' href='#string.std-14.sentence-2'>.</a></div> <div id='string.std-14.sentence-3' class='sentence'>For floating-point types this field specifies the formatting precision<a class='hidden_link' href='#string.std-14.sentence-3'>.</a></div> <div id='string.std-14.sentence-4' class='sentence'>For string types, this field provides an upper bound
for the estimated width of the prefix of
the input string that is copied into the output<a class='hidden_link' href='#string.std-14.sentence-4'>.</a></div> <div id='string.std-14.sentence-5' class='sentence'>For a string in a Unicode encoding,
the formatter copies to the output
the longest prefix of whole extended grapheme clusters
whose estimated width is no greater than the precision<a class='hidden_link' href='#string.std-14.sentence-5'>.</a></div></div><div class='para' id='string.std-15'><div class='marginalizedparent'><a class='marginalized' href='#string.std-15'>15</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19690'>#</a></div><div id='string.std-15.sentence-1' class='sentence'>When the <span class='texttt'>L</span> option is used, the form used for the conversion is called
the <a class='hidden_link' href='#def:locale-specific_form,format_string' id='def:locale-specific_form,format_string'><i >locale-specific form</i></a><a class='hidden_link' href='#string.std-15.sentence-1'>.</a></div> <div id='string.std-15.sentence-2' class='sentence'>The <span class='texttt'>L</span> option is only valid for arithmetic types, and
its effect depends upon the type<a class='hidden_link' href='#string.std-15.sentence-2'>.</a></div> <ul class='itemize'><li id='string.std-15.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-15.1'>(15.1)</a></div><div id='string.std-15.1.sentence-1' class='sentence'>For integral types, the locale-specific form
causes the context's locale to be used
to insert the appropriate digit group separator characters<a class='hidden_link' href='#string.std-15.1.sentence-1'>.</a></div></li><li id='string.std-15.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-15.2'>(15.2)</a></div><div id='string.std-15.2.sentence-1' class='sentence'>For floating-point types, the locale-specific form
causes the context's locale to be used
to insert the appropriate digit group and radix separator characters<a class='hidden_link' href='#string.std-15.2.sentence-1'>.</a></div></li><li id='string.std-15.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#string.std-15.3'>(15.3)</a></div><div id='string.std-15.3.sentence-1' class='sentence'>For the textual representation of <span class='texttt'><span class='keyword'>bool</span></span>, the locale-specific form
causes the context's locale to be used
to insert the appropriate string as if obtained
with <span class='texttt'>numpunct<span class='operator'>&#x200b;::&#x200b;</span>truename</span> or <span class='texttt'>numpunct<span class='operator'>&#x200b;::&#x200b;</span>falsename</span><a class='hidden_link' href='#string.std-15.3.sentence-1'>.</a></div></li></ul></div><div class='para' id='string.std-16'><div class='marginalizedparent'><a class='marginalized' href='#string.std-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19713'>#</a></div><div id='string.std-16.sentence-1' class='sentence'>The <span class='textsf'><span class='textit'>type</span></span> determines how the data should be presented<a class='hidden_link' href='#string.std-16.sentence-1'>.</a></div></div><div class='para' id='string.std-17'><div class='marginalizedparent'><a class='marginalized' href='#string.std-17'>17</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19716'>#</a></div><div id='string.std-17.sentence-1' class='sentence'>The available string presentation types are specified in Table <a href='#tab:format.type.string'>61</a><a class='hidden_link' href='#string.std-17.sentence-1'>.</a></div><div class='numberedTable' id='tab:format.type.string'>Table <a href='#tab:format.type.string'>61</a>: Meaning of <span class='textsf'><span class='textit'>type</span></span> options for strings &emsp;&ensp;[tab:format.type.string]<br><table ><tr class='rowsep'><td class='center'><div id='string.std-17.sentence-2' class='sentence'><b>Type</b></div></td><td class='center'><div id='string.std-17.sentence-3' class='sentence'><b>Meaning</b></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-17.sentence-4' class='sentence'>none, <span class='texttt'>s</span></div></td><td class='left'><div id='string.std-17.sentence-5' class='sentence'>Copies the string to the output<a class='hidden_link' href='#string.std-17.sentence-5'>.</a></div></td></tr></table></div></div><div class='para' id='string.std-18'><div class='marginalizedparent'><a class='marginalized' href='#string.std-18'>18</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19728'>#</a></div><div id='string.std-18.sentence-1' class='sentence'>The meaning of some non-string presentation types
is defined in terms of a call to <span class='texttt'>to_&shy;chars</span><a class='hidden_link' href='#string.std-18.sentence-1'>.</a></div> <div id='string.std-18.sentence-2' class='sentence'>In such cases,
let <span class='texttt'>[</span><span class='texttt'>first, last</span><span class='texttt'>)</span> be a range
large enough to hold the <span class='texttt'>to_&shy;chars</span> output
and <span class='texttt'>value</span> be the formatting argument value<a class='hidden_link' href='#string.std-18.sentence-2'>.</a></div> <div id='string.std-18.sentence-3' class='sentence'>Formatting is done as if by calling <span class='texttt'>to_&shy;chars</span> as specified
and copying the output through the output iterator of the format context<a class='hidden_link' href='#string.std-18.sentence-3'>.</a></div> <div id='string.std-18.note-1' class='note'>[&nbsp;<a class='note_link' href='#string.std-18.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='string.std-18.sentence-4' class='sentence'>Additional padding and adjustments are performed
prior to copying the output through the output iterator
as specified by the format specifiers<a class='hidden_link' href='#string.std-18.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='string.std-19'><div class='marginalizedparent'><a class='marginalized' href='#string.std-19'>19</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19743'>#</a></div><div id='string.std-19.sentence-1' class='sentence'>The available integer presentation types
for integral types other than <span class='texttt'><span class='keyword'>bool</span></span> and <span class='texttt'>charT</span>
are specified in Table <a href='#tab:format.type.int'>62</a><a class='hidden_link' href='#string.std-19.sentence-1'>.</a></div> <div id='string.std-19.example-1' class='example'>[&nbsp;<a class='example_link' href='#string.std-19.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
string s0 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{}"</span>, <span class='literal'>42</span><span class='parenthesis'>)</span>;                           <span class='comment'>// value of <span class='tcode_in_codeblock'>s0</span> is <span class='tcode_in_codeblock'>"42"</span></span>
string s1 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:b} {0:d} {0:o} {0:x}"</span>, <span class='literal'>42</span><span class='parenthesis'>)</span>;      <span class='comment'>// value of <span class='tcode_in_codeblock'>s1</span> is <span class='tcode_in_codeblock'>"101010 42 52 2a"</span></span>
string s2 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{0:#x} {0:#X}"</span>, <span class='literal'>42</span><span class='parenthesis'>)</span>;                <span class='comment'>// value of <span class='tcode_in_codeblock'>s2</span> is <span class='tcode_in_codeblock'>"0x2a 0X2A"</span></span>
string s3 <span class='operator'>=</span> format<span class='parenthesis'>(</span><span class='literal'>"{:L}"</span>, <span class='literal'>1234</span><span class='parenthesis'>)</span>;                       <span class='comment'>// value of <span class='tcode_in_codeblock'>s3</span> might be <span class='tcode_in_codeblock'>"1,234"</span></span>
                                                        <span class='comment'>// (depending on the locale)</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> <div class='numberedTable' id='tab:format.type.int'>Table <a href='#tab:format.type.int'>62</a>: Meaning of <span class='textsf'><span class='textit'>type</span></span> options for integer types &emsp;&ensp;[tab:format.type.int]<br><table ><tr class='rowsep'><td class='center'><div id='string.std-19.sentence-2' class='sentence'><b>Type</b></div></td><td class='center'><div id='string.std-19.sentence-3' class='sentence'><b>Meaning</b></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-19.sentence-4' class='sentence'><span class='texttt'>b</span></div></td><td class='justify'><div id='string.std-19.sentence-5' class='sentence'><span class='texttt'>to_&shy;chars<span class='parenthesis'>(</span>first, last, value, <span class='literal'>2</span><span class='parenthesis'>)</span></span>;
<span class='indexparent'><a class='index' id=':base_prefix'></a></span>the base prefix is <span class='texttt'><span class='literal'>0b</span></span><a class='hidden_link' href='#string.std-19.sentence-5'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-19.sentence-6' class='sentence'><span class='texttt'>B</span></div></td><td class='justify'><div id='string.std-19.sentence-7' class='sentence'>The same as <span class='texttt'>b</span>, except that
<span class='indexparent'><a class='index' id=':base_prefix_'></a></span>the base prefix is <span class='texttt'><span class='literal'>0B</span></span><a class='hidden_link' href='#string.std-19.sentence-7'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-19.sentence-8' class='sentence'><span class='texttt'>c</span></div></td><td class='justify'><div id='string.std-19.sentence-9' class='sentence'>Copies the character <span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>value<span class='parenthesis'>)</span></span> to the output<a class='hidden_link' href='#string.std-19.sentence-9'>.</a></div> <div id='string.std-19.sentence-10' class='sentence'>Throws <span class='texttt'>format_&shy;error</span> if <span class='texttt'>value</span> is not
in the range of representable values for <span class='texttt'>charT</span><a class='hidden_link' href='#string.std-19.sentence-10'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-19.sentence-11' class='sentence'><span class='texttt'>d</span></div></td><td class='justify'><div id='string.std-19.sentence-12' class='sentence'><span class='texttt'>to_&shy;chars<span class='parenthesis'>(</span>first, last, value<span class='parenthesis'>)</span></span><a class='hidden_link' href='#string.std-19.sentence-12'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-19.sentence-13' class='sentence'><span class='texttt'>o</span></div></td><td class='justify'><div id='string.std-19.sentence-14' class='sentence'><span class='texttt'>to_&shy;chars<span class='parenthesis'>(</span>first, last, value, <span class='literal'>8</span><span class='parenthesis'>)</span></span>;
<span class='indexparent'><a class='index' id=':base_prefix__'></a></span>the base prefix is <span class='texttt'><span class='literal'>0</span></span> if <span class='texttt'>value</span> is nonzero and is empty otherwise<a class='hidden_link' href='#string.std-19.sentence-14'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-19.sentence-15' class='sentence'><span class='texttt'>x</span></div></td><td class='justify'><div id='string.std-19.sentence-16' class='sentence'><span class='texttt'>to_&shy;chars<span class='parenthesis'>(</span>first, last, value, <span class='literal'>16</span><span class='parenthesis'>)</span></span>;
<span class='indexparent'><a class='index' id=':base_prefix___'></a></span>the base prefix is <span class='texttt'><span class='literal'>0x</span></span><a class='hidden_link' href='#string.std-19.sentence-16'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-19.sentence-17' class='sentence'><span class='texttt'>X</span></div></td><td class='justify'><div id='string.std-19.sentence-18' class='sentence'>The same as <span class='texttt'>x</span>, except that
it uses uppercase letters for digits above 9 and
<span class='indexparent'><a class='index' id=':base_prefix____'></a></span>the base prefix is <span class='texttt'><span class='literal'>0X</span></span><a class='hidden_link' href='#string.std-19.sentence-18'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-19.sentence-19' class='sentence'>none</div></td><td class='justify'><div id='string.std-19.sentence-20' class='sentence'>The same as <span class='texttt'>d</span><a class='hidden_link' href='#string.std-19.sentence-20'>.</a></div> <div id='string.std-19.note-1' class='note'>[&nbsp;<a class='note_link' href='#string.std-19.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='string.std-19.sentence-21' class='sentence'>If the formatting argument type is <span class='texttt'>charT</span> or <span class='texttt'><span class='keyword'>bool</span></span>,
the default is instead <span class='texttt'>c</span> or <span class='texttt'>s</span>, respectively<a class='hidden_link' href='#string.std-19.sentence-21'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </td></tr></table></div></div><div class='para' id='string.std-20'><div class='marginalizedparent'><a class='marginalized' href='#string.std-20'>20</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19810'>#</a></div><div id='string.std-20.sentence-1' class='sentence'>The available <span class='texttt'>charT</span> presentation types are specified in Table <a href='#tab:format.type.char'>63</a><a class='hidden_link' href='#string.std-20.sentence-1'>.</a></div><div class='numberedTable' id='tab:format.type.char'>Table <a href='#tab:format.type.char'>63</a>: Meaning of <span class='textsf'><span class='textit'>type</span></span> options for <span class='texttt'>charT</span> &emsp;&ensp;[tab:format.type.char]<br><table ><tr class='rowsep'><td class='center'><div id='string.std-20.sentence-2' class='sentence'><b>Type</b></div></td><td class='center'><div id='string.std-20.sentence-3' class='sentence'><b>Meaning</b></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-20.sentence-4' class='sentence'>none, <span class='texttt'>c</span></div></td><td class='left'><div id='string.std-20.sentence-5' class='sentence'>Copies the character to the output<a class='hidden_link' href='#string.std-20.sentence-5'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-20.sentence-6' class='sentence'><span class='texttt'>b</span>, <span class='texttt'>B</span>, <span class='texttt'>d</span>, <span class='texttt'>o</span>, <span class='texttt'>x</span>, <span class='texttt'>X</span></div></td><td class='left'><div id='string.std-20.sentence-7' class='sentence'>As specified in Table <a href='#tab:format.type.int'>62</a><a class='hidden_link' href='#string.std-20.sentence-7'>.</a></div></td></tr></table></div></div><div class='para' id='string.std-21'><div class='marginalizedparent'><a class='marginalized' href='#string.std-21'>21</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19825'>#</a></div><div id='string.std-21.sentence-1' class='sentence'>The available <span class='texttt'><span class='keyword'>bool</span></span> presentation types are specified in Table <a href='#tab:format.type.bool'>64</a><a class='hidden_link' href='#string.std-21.sentence-1'>.</a></div><div class='numberedTable' id='tab:format.type.bool'>Table <a href='#tab:format.type.bool'>64</a>: Meaning of <span class='textsf'><span class='textit'>type</span></span> options for <span class='texttt'><span class='keyword'>bool</span></span> &emsp;&ensp;[tab:format.type.bool]<br><table ><tr class='rowsep'><td class='center'><div id='string.std-21.sentence-2' class='sentence'><b>Type</b></div></td><td class='center'><div id='string.std-21.sentence-3' class='sentence'><b>Meaning</b></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-21.sentence-4' class='sentence'>none,
<span class='texttt'>s</span></div></td><td class='left'><div id='string.std-21.sentence-5' class='sentence'>Copies textual representation, either <span class='texttt'><span class='literal'>true</span></span> or <span class='texttt'><span class='literal'>false</span></span>, to the output<a class='hidden_link' href='#string.std-21.sentence-5'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-21.sentence-6' class='sentence'><span class='texttt'>b</span>, <span class='texttt'>B</span>, <span class='texttt'>c</span>, <span class='texttt'>d</span>, <span class='texttt'>o</span>, <span class='texttt'>x</span>, <span class='texttt'>X</span></div></td><td class='left'><div id='string.std-21.sentence-7' class='sentence'>As specified in Table <a href='#tab:format.type.int'>62</a>
for the value
<span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>char</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>value<span class='parenthesis'>)</span></span><a class='hidden_link' href='#string.std-21.sentence-7'>.</a></div></td></tr></table></div></div><div class='para' id='string.std-22'><div class='marginalizedparent'><a class='marginalized' href='#string.std-22'>22</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19843'>#</a></div><div id='string.std-22.sentence-1' class='sentence'>The available floating-point presentation types and their meanings
for values other than infinity and NaN are
specified in Table <a href='#tab:format.type.float'>65</a><a class='hidden_link' href='#string.std-22.sentence-1'>.</a></div> <div id='string.std-22.sentence-2' class='sentence'>For lower-case presentation types, infinity and NaN are formatted as
<span class='texttt'>inf</span> and <span class='texttt'>nan</span>, respectively<a class='hidden_link' href='#string.std-22.sentence-2'>.</a></div> <div id='string.std-22.sentence-3' class='sentence'>For upper-case presentation types, infinity and NaN are formatted as
<span class='texttt'>INF</span> and <span class='texttt'>NAN</span>, respectively<a class='hidden_link' href='#string.std-22.sentence-3'>.</a></div> <div id='string.std-22.note-1' class='note'>[&nbsp;<a class='note_link' href='#string.std-22.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='string.std-22.sentence-4' class='sentence'>In either case, a sign is included
if indicated by the <span class='textsf'><span class='textit'>sign</span></span> option<a class='hidden_link' href='#string.std-22.sentence-4'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> <div class='numberedTable' id='tab:format.type.float'>Table <a href='#tab:format.type.float'>65</a>: Meaning of <span class='textsf'><span class='textit'>type</span></span> options for floating-point types &emsp;&ensp;[tab:format.type.float]<br><table ><tr class='rowsep'><td class='center'><div id='string.std-22.sentence-5' class='sentence'><b>Type</b></div></td><td class='center'><div id='string.std-22.sentence-6' class='sentence'><b>Meaning</b></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-22.sentence-7' class='sentence'><span class='texttt'>a</span></div></td><td class='justify'><div id='string.std-22.sentence-8' class='sentence'>If <span class='textsf'><span class='textit'>precision</span></span> is specified, equivalent to
<pre class='codeblock'>
to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>hex, precision<span class='parenthesis'>)</span>
</pre>
where <span class='texttt'>precision</span> is the specified formatting precision; equivalent to
<pre class='codeblock'>
to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>hex<span class='parenthesis'>)</span>
</pre>
otherwise<a class='hidden_link' href='#string.std-22.sentence-8'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-22.sentence-9' class='sentence'><span class='texttt'>A</span></div></td><td class='justify'><div id='string.std-22.sentence-10' class='sentence'>The same as <span class='texttt'>a</span>, except that
it uses uppercase letters for digits above 9 and
<span class='texttt'>P</span> to indicate the exponent<a class='hidden_link' href='#string.std-22.sentence-10'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-22.sentence-11' class='sentence'><span class='texttt'>e</span></div></td><td class='justify'><div id='string.std-22.sentence-12' class='sentence'>Equivalent to
<pre class='codeblock'>
to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>scientific, precision<span class='parenthesis'>)</span>
</pre>
where <span class='texttt'>precision</span> is the specified formatting precision,
or <span class='texttt'><span class='literal'>6</span></span> if <span class='textsf'><span class='textit'>precision</span></span> is not specified<a class='hidden_link' href='#string.std-22.sentence-12'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-22.sentence-13' class='sentence'><span class='texttt'>E</span></div></td><td class='justify'><div id='string.std-22.sentence-14' class='sentence'>The same as <span class='texttt'>e</span>, except that it uses <span class='texttt'>E</span> to indicate exponent<a class='hidden_link' href='#string.std-22.sentence-14'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-22.sentence-15' class='sentence'><span class='texttt'>f</span>, <span class='texttt'>F</span></div></td><td class='justify'><div id='string.std-22.sentence-16' class='sentence'>Equivalent to
<pre class='codeblock'>
to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>fixed, precision<span class='parenthesis'>)</span>
</pre>
where <span class='texttt'>precision</span> is the specified formatting precision,
or <span class='texttt'><span class='literal'>6</span></span> if <span class='textsf'><span class='textit'>precision</span></span> is not specified<a class='hidden_link' href='#string.std-22.sentence-16'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-22.sentence-17' class='sentence'><span class='texttt'>g</span></div></td><td class='justify'><div id='string.std-22.sentence-18' class='sentence'>Equivalent to
<pre class='codeblock'>
to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>general, precision<span class='parenthesis'>)</span>
</pre>
where <span class='texttt'>precision</span> is the specified formatting precision,
or <span class='texttt'><span class='literal'>6</span></span> if <span class='textsf'><span class='textit'>precision</span></span> is not specified<a class='hidden_link' href='#string.std-22.sentence-18'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-22.sentence-19' class='sentence'><span class='texttt'>G</span></div></td><td class='justify'><div id='string.std-22.sentence-20' class='sentence'>The same as <span class='texttt'>g</span>, except that
it uses <span class='texttt'>E</span> to indicate exponent<a class='hidden_link' href='#string.std-22.sentence-20'>.</a></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-22.sentence-21' class='sentence'>none</div></td><td class='justify'><div id='string.std-22.sentence-22' class='sentence'>If <span class='textsf'><span class='textit'>precision</span></span> is specified, equivalent to
<pre class='codeblock'>
to_chars<span class='parenthesis'>(</span>first, last, value, chars_format<span class='operator'>::</span>general, precision<span class='parenthesis'>)</span>
</pre>
where <span class='texttt'>precision</span> is the specified formatting precision; equivalent to
<pre class='codeblock'>
to_chars<span class='parenthesis'>(</span>first, last, value<span class='parenthesis'>)</span>
</pre>
otherwise<a class='hidden_link' href='#string.std-22.sentence-22'>.</a></div></td></tr></table></div></div><div class='para' id='string.std-23'><div class='marginalizedparent'><a class='marginalized' href='#string.std-23'>23</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19927'>#</a></div><div id='string.std-23.sentence-1' class='sentence'>The available pointer presentation types and their mapping to
<span class='texttt'>to_&shy;chars</span> are specified in Table <a href='#tab:format.type.ptr'>66</a><a class='hidden_link' href='#string.std-23.sentence-1'>.</a></div> <div id='string.std-23.note-1' class='note'>[&nbsp;<a class='note_link' href='#string.std-23.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='string.std-23.sentence-2' class='sentence'>Pointer presentation types also apply to <span class='texttt'>nullptr_&shy;t</span><a class='hidden_link' href='#string.std-23.sentence-2'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> <div class='numberedTable' id='tab:format.type.ptr'>Table <a href='#tab:format.type.ptr'>66</a>: Meaning of <span class='textsf'><span class='textit'>type</span></span> options for pointer types &emsp;&ensp;[tab:format.type.ptr]<br><table ><tr class='rowsep'><td class='center'><div id='string.std-23.sentence-3' class='sentence'><b>Type</b></div></td><td class='center'><div id='string.std-23.sentence-4' class='sentence'><b>Meaning</b></div></td></tr><tr class='rowsep'><td class='left'><div id='string.std-23.sentence-5' class='sentence'>none, <span class='texttt'>p</span></div></td><td class='justify'><div id='string.std-23.sentence-6' class='sentence'>If <span class='texttt'>uintptr_&shy;t</span> is defined,
<pre class='codeblock'>
to_chars<span class='parenthesis'>(</span>first, last, <span class='keyword'>reinterpret_cast</span><span class='anglebracket'>&lt;</span>uintptr_t<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>value<span class='parenthesis'>)</span>, <span class='literal'>16</span><span class='parenthesis'>)</span>
</pre>
with the prefix <span class='texttt'><span class='literal'>0x</span></span> added to the output;
otherwise, implementation-defined<a class='hidden_link' href='#string.std-23.sentence-6'>.</a></div></td></tr></table></div></div></div></div><div id='err.report' class='section'><h3 ><a class='secnum' href='#err.report' style='min-width:103pt'>20.20.3</a> Error reporting <a class='abbr_ref' href='format.err.report'>[format.err.report]</a></h3><div class='para' id='err.report-1'><div class='marginalizedparent'><a class='marginalized' href='#err.report-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19949'>#</a></div><div id='err.report-1.sentence-1' class='sentence'>Formatting functions throw <span class='texttt'>format_&shy;error</span> if
an argument <span class='texttt'>fmt</span> is passed that
is not a format string for <span class='texttt'>args</span><a class='hidden_link' href='#err.report-1.sentence-1'>.</a></div> <div id='err.report-1.sentence-2' class='sentence'>They propagate exceptions thrown by operations of
<span class='texttt'>formatter</span> specializations and iterators<a class='hidden_link' href='#err.report-1.sentence-2'>.</a></div> <div id='err.report-1.sentence-3' class='sentence'>Failure to allocate storage is reported by
throwing an exception as described in <a href='res.on.exception.handling'>[res.on.exception.handling]</a><a class='hidden_link' href='#err.report-1.sentence-3'>.</a></div></div></div><div id='functions' class='section'><h3 ><a class='secnum' href='#functions' style='min-width:103pt'>20.20.4</a> Formatting functions <a class='abbr_ref' href='format.functions'>[format.functions]</a></h3><div class='para' id='functions-1'><div class='marginalizedparent'><a class='marginalized' href='#functions-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19960'>#</a></div><div id='functions-1.sentence-1' class='sentence'>In the description of the functions, operator <span class='texttt'><span class='operator'>+</span></span> is used
for some of the iterator categories for which it does not have to be defined<a class='hidden_link' href='#functions-1.sentence-1'>.</a></div> <div id='functions-1.sentence-2' class='sentence'>In these cases the semantics of <span class='texttt'>a <span class='operator'>+</span> n</span> are
the same as in <a href='algorithms.requirements'>[algorithms.requirements]</a><a class='hidden_link' href='#functions-1.sentence-2'>.</a></div> <span class='indexparent'><a class='index' id='lib:format'></a></span></div><div class='itemdecl' id='functions-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#functions-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  string format<span class='parenthesis'>(</span>string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='functions-2'><div class='marginalizedparent'><a class='marginalized' href='#functions-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19973'>#</a></div><div id='functions-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to:
<pre class='codeblock'>
<span class='keyword'>return</span> vformat<span class='parenthesis'>(</span>fmt, make_format_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:format_'></a></span><div class='itemdecl' id='functions-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#functions-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  wstring format<span class='parenthesis'>(</span>wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='functions-3'><div class='marginalizedparent'><a class='marginalized' href='#functions-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L19988'>#</a></div><div id='functions-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to:
<pre class='codeblock'>
<span class='keyword'>return</span> vformat<span class='parenthesis'>(</span>fmt, make_wformat_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:format__'></a></span><div class='itemdecl' id='functions-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#functions-itemdecl:3'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  string format<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='functions-4'><div class='marginalizedparent'><a class='marginalized' href='#functions-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20003'>#</a></div><div id='functions-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to:
<pre class='codeblock'>
<span class='keyword'>return</span> vformat<span class='parenthesis'>(</span>loc, fmt, make_format_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:format___'></a></span><div class='itemdecl' id='functions-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#functions-itemdecl:4'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  wstring format<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='functions-5'><div class='marginalizedparent'><a class='marginalized' href='#functions-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20018'>#</a></div><div id='functions-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to:
<pre class='codeblock'>
<span class='keyword'>return</span> vformat<span class='parenthesis'>(</span>loc, fmt, make_wformat_args<span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:vformat'></a></span><div class='itemdecl' id='functions-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#functions-itemdecl:5'>🔗</a></div><code class='itemdeclcode'>string vformat<span class='parenthesis'>(</span>string_view fmt, format_args args<span class='parenthesis'>)</span>;
wstring vformat<span class='parenthesis'>(</span>wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;
string vformat<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, format_args args<span class='parenthesis'>)</span>;
wstring vformat<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, wformat_args args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='functions-6'><div class='marginalizedparent'><a class='marginalized' href='#functions-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20035'>#</a></div><div id='functions-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
A string object holding the character representation of
formatting arguments provided by <span class='texttt'>args</span> formatted according to
specifications given in <span class='texttt'>fmt</span><a class='hidden_link' href='#functions-6.sentence-1'>.</a></div> <div id='functions-6.sentence-2' class='sentence'>If present, <span class='texttt'>loc</span> is used for locale-specific formatting<a class='hidden_link' href='#functions-6.sentence-2'>.</a></div></div></div><div class='para' id='functions-7'><div class='marginalizedparent'><a class='marginalized' href='#functions-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20042'>#</a></div><div id='functions-7.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
As specified in <a href='#err.report'>[format.err.report]</a><a class='hidden_link' href='#functions-7.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:format_to'></a></span><div class='itemdecl' id='functions-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#functions-itemdecl:6'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  Out format_to<span class='parenthesis'>(</span>Out out, string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  Out format_to<span class='parenthesis'>(</span>Out out, wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='functions-8'><div class='marginalizedparent'><a class='marginalized' href='#functions-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20056'>#</a></div><div id='functions-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to:
<pre class='codeblock'>
<span class='keyword'>using</span> context <span class='operator'>=</span> basic_format_context<span class='anglebracket'>&lt;</span>Out, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>fmt<span class='parenthesis'>)</span><span class='operator'>::</span>value_type<span class='anglebracket'>&gt;</span>;
<span class='keyword'>return</span> vformat_to<span class='parenthesis'>(</span>out, fmt, make_format_args<span class='anglebracket'>&lt;</span>context<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:format_to_'></a></span><div class='itemdecl' id='functions-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#functions-itemdecl:7'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  Out format_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  Out format_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='functions-9'><div class='marginalizedparent'><a class='marginalized' href='#functions-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20074'>#</a></div><div id='functions-9.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to:
<pre class='codeblock'>
<span class='keyword'>using</span> context <span class='operator'>=</span> basic_format_context<span class='anglebracket'>&lt;</span>Out, <span class='keyword'>decltype</span><span class='parenthesis'>(</span>fmt<span class='parenthesis'>)</span><span class='operator'>::</span>value_type<span class='anglebracket'>&gt;</span>;
<span class='keyword'>return</span> vformat_to<span class='parenthesis'>(</span>out, loc, fmt, make_format_args<span class='anglebracket'>&lt;</span>context<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:vformat_to'></a></span><div class='itemdecl' id='functions-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#functions-itemdecl:8'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
  Out vformat_to<span class='parenthesis'>(</span>Out out, string_view fmt,
                 format_args_t<span class='anglebracket'>&lt;</span>type_identity_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span>, <span class='keyword'>char</span><span class='anglebracket'>&gt;</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
  Out vformat_to<span class='parenthesis'>(</span>Out out, wstring_view fmt,
                 format_args_t<span class='anglebracket'>&lt;</span>type_identity_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span>, <span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
  Out vformat_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt,
                 format_args_t<span class='anglebracket'>&lt;</span>type_identity_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span>, <span class='keyword'>char</span><span class='anglebracket'>&gt;</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out<span class='anglebracket'>&gt;</span>
  Out vformat_to<span class='parenthesis'>(</span>Out out, <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt,
                 format_args_t<span class='anglebracket'>&lt;</span>type_identity_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span>, <span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='functions-10'><div class='marginalizedparent'><a class='marginalized' href='#functions-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20100'>#</a></div><div id='functions-10.sentence-1' class='sentence'>Let <span class='texttt'>charT</span> be <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>fmt<span class='parenthesis'>)</span><span class='operator'>&#x200b;::&#x200b;</span>value_&shy;type</span><a class='hidden_link' href='#functions-10.sentence-1'>.</a></div></div></div><div class='para' id='functions-11'><div class='marginalizedparent'><a class='marginalized' href='#functions-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20103'>#</a></div><div id='functions-11.sentence-1' class='sentence'><span class='textit'>Constraints:</span> 
<span class='texttt'>Out</span> satisfies <span class='texttt'><span class='texttt'>output_&shy;iterator</span><span class='indexparent'><a class='index' id=':output_iterator'></a></span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#functions-11.sentence-1'>.</a></div></div></div><div class='para' id='functions-12'><div class='marginalizedparent'><a class='marginalized' href='#functions-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20107'>#</a></div><div id='functions-12.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
<span class='texttt'>Out</span> models <span class='texttt'><span class='texttt'>output_&shy;iterator</span><span class='indexparent'><a class='index' id=':output_iterator_'></a></span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#functions-12.sentence-1'>.</a></div></div></div><div class='para' id='functions-13'><div class='marginalizedparent'><a class='marginalized' href='#functions-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20111'>#</a></div><div id='functions-13.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Places the character representation of formatting
the arguments provided by <span class='texttt'>args</span>,
formatted according to the specifications given in <span class='texttt'>fmt</span>,
into the range <span class='texttt'>[</span><span class='texttt'>out, out <span class='operator'>+</span> N</span><span class='texttt'>)</span>,
where <span class='texttt'>N</span> is
<span class='texttt'>formatted_&shy;size<span class='parenthesis'>(</span>fmt, args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> for the functions without a <span class='texttt'>loc</span> parameter and
<span class='texttt'>formatted_&shy;size<span class='parenthesis'>(</span>loc, fmt, args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> for the functions with a <span class='texttt'>loc</span> parameter<a class='hidden_link' href='#functions-13.sentence-1'>.</a></div> <div id='functions-13.sentence-2' class='sentence'>If present, <span class='texttt'>loc</span> is used for locale-specific formatting<a class='hidden_link' href='#functions-13.sentence-2'>.</a></div></div></div><div class='para' id='functions-14'><div class='marginalizedparent'><a class='marginalized' href='#functions-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20122'>#</a></div><div id='functions-14.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>out <span class='operator'>+</span> N</span><a class='hidden_link' href='#functions-14.sentence-1'>.</a></div></div></div><div class='para' id='functions-15'><div class='marginalizedparent'><a class='marginalized' href='#functions-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20126'>#</a></div><div id='functions-15.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
As specified in <a href='#err.report'>[format.err.report]</a><a class='hidden_link' href='#functions-15.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:format_to_n'></a></span><div class='itemdecl' id='functions-itemdecl:9'><div class='marginalizedparent'><a class='itemDeclLink' href='#functions-itemdecl:9'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                      string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                      wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                      <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt,
                                      <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  format_to_n_result<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> format_to_n<span class='parenthesis'>(</span>Out out, iter_difference_t<span class='anglebracket'>&lt;</span>Out<span class='anglebracket'>&gt;</span> n,
                                      <span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt,
                                      <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='functions-16'><div class='marginalizedparent'><a class='marginalized' href='#functions-16'>16</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20150'>#</a></div><div id='functions-16.sentence-1' class='sentence'>Let
<ul class='itemize'><li id='functions-16.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#functions-16.1'>(16.1)</a></div><span class='texttt'>charT</span> be <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>fmt<span class='parenthesis'>)</span><span class='operator'>&#x200b;::&#x200b;</span>value_&shy;type</span>,</li><li id='functions-16.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#functions-16.2'>(16.2)</a></div><span class='texttt'>N</span> be
<span class='texttt'>formatted_&shy;size<span class='parenthesis'>(</span>fmt, args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> for the functions without a <span class='texttt'>loc</span> parameter and
<span class='texttt'>formatted_&shy;size<span class='parenthesis'>(</span>loc, fmt, args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span></span> for the functions with a <span class='texttt'>loc</span> parameter, and</li><li id='functions-16.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#functions-16.3'>(16.3)</a></div><span class='texttt'>M</span> be <span class='texttt'>clamp<span class='parenthesis'>(</span>n, <span class='literal'>0</span>, N<span class='parenthesis'>)</span></span>.</li></ul></div></div></div><div class='para' id='functions-17'><div class='marginalizedparent'><a class='marginalized' href='#functions-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20160'>#</a></div><div id='functions-17.sentence-1' class='sentence'><span class='textit'>Constraints:</span> 
<span class='texttt'>Out</span> satisfies <span class='texttt'><span class='texttt'>output_&shy;iterator</span><span class='indexparent'><a class='index' id=':output_iterator__'></a></span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#functions-17.sentence-1'>.</a></div></div></div><div class='para' id='functions-18'><div class='marginalizedparent'><a class='marginalized' href='#functions-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20164'>#</a></div><div id='functions-18.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
<span class='texttt'>Out</span> models <span class='texttt'><span class='texttt'>output_&shy;iterator</span><span class='indexparent'><a class='index' id=':output_iterator___'></a></span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span>, and
<span class='texttt'>formatter<span class='anglebracket'>&lt;</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='texttt'>, charT<span class='anglebracket'>&gt;</span></span>
meets the <span class='textit'>Formatter</span> requirements (<a href='#formatter.requirements'>[formatter.requirements]</a>)
for each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> in <span class='texttt'>Args</span><a class='hidden_link' href='#functions-18.sentence-1'>.</a></div></div></div><div class='para' id='functions-19'><div class='marginalizedparent'><a class='marginalized' href='#functions-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20171'>#</a></div><div id='functions-19.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Places the first <span class='texttt'>M</span> characters of the character representation of
formatting the arguments provided by <span class='texttt'>args</span>,
formatted according to the specifications given in <span class='texttt'>fmt</span>,
into the range <span class='texttt'>[</span><span class='texttt'>out, out <span class='operator'>+</span> M</span><span class='texttt'>)</span><a class='hidden_link' href='#functions-19.sentence-1'>.</a></div> <div id='functions-19.sentence-2' class='sentence'>If present, <span class='texttt'>loc</span> is used for locale-specific formatting<a class='hidden_link' href='#functions-19.sentence-2'>.</a></div></div></div><div class='para' id='functions-20'><div class='marginalizedparent'><a class='marginalized' href='#functions-20'>20</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20179'>#</a></div><div id='functions-20.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='curlybracket'>{</span>out <span class='operator'>+</span> M, N<span class='curlybracket'>}</span></span><a class='hidden_link' href='#functions-20.sentence-1'>.</a></div></div></div><div class='para' id='functions-21'><div class='marginalizedparent'><a class='marginalized' href='#functions-21'>21</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20183'>#</a></div><div id='functions-21.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
As specified in <a href='#err.report'>[format.err.report]</a><a class='hidden_link' href='#functions-21.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:formatted_size'></a></span><div class='itemdecl' id='functions-itemdecl:10'><div class='marginalizedparent'><a class='itemDeclLink' href='#functions-itemdecl:10'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  size_t formatted_size<span class='parenthesis'>(</span>string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  size_t formatted_size<span class='parenthesis'>(</span>wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  size_t formatted_size<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, string_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  size_t formatted_size<span class='parenthesis'>(</span><span class='keyword'>const</span> locale<span class='operator'>&amp;</span> loc, wstring_view fmt, <span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='functions-22'><div class='marginalizedparent'><a class='marginalized' href='#functions-22'>22</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20201'>#</a></div><div id='functions-22.sentence-1' class='sentence'>Let <span class='texttt'>charT</span> be <span class='texttt'><span class='keyword'>decltype</span><span class='parenthesis'>(</span>fmt<span class='parenthesis'>)</span><span class='operator'>&#x200b;::&#x200b;</span>value_&shy;type</span><a class='hidden_link' href='#functions-22.sentence-1'>.</a></div></div></div><div class='para' id='functions-23'><div class='marginalizedparent'><a class='marginalized' href='#functions-23'>23</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20204'>#</a></div><div id='functions-23.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
<span class='texttt'>formatter<span class='anglebracket'>&lt;</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='texttt'>, charT<span class='anglebracket'>&gt;</span></span>
meets the <span class='textit'>Formatter</span> requirements (<a href='#formatter.requirements'>[formatter.requirements]</a>)
for each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> in <span class='texttt'>Args</span><a class='hidden_link' href='#functions-23.sentence-1'>.</a></div></div></div><div class='para' id='functions-24'><div class='marginalizedparent'><a class='marginalized' href='#functions-24'>24</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20210'>#</a></div><div id='functions-24.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The number of characters in the character representation of
formatting arguments <span class='texttt'>args</span>
formatted according to specifications given in <span class='texttt'>fmt</span><a class='hidden_link' href='#functions-24.sentence-1'>.</a></div> <div id='functions-24.sentence-2' class='sentence'>If present, <span class='texttt'>loc</span> is used for locale-specific formatting<a class='hidden_link' href='#functions-24.sentence-2'>.</a></div></div></div><div class='para' id='functions-25'><div class='marginalizedparent'><a class='marginalized' href='#functions-25'>25</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20217'>#</a></div><div id='functions-25.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
As specified in <a href='#err.report'>[format.err.report]</a><a class='hidden_link' href='#functions-25.sentence-1'>.</a></div></div></div></div><div id='formatter' class='section'><h3 ><a class='secnum' href='#formatter' style='min-width:103pt'>20.20.5</a> Formatter <a class='abbr_ref' href='format.formatter'>[format.formatter]</a></h3><div id='formatter.requirements' class='section'><h4 ><a class='secnum' href='#formatter.requirements' style='min-width:118pt'>20.20.5.1</a> Formatter requirements <a class='abbr_ref' href='formatter.requirements'>[formatter.requirements]</a></h4><div class='para' id='formatter.requirements-1'><div class='marginalizedparent'><a class='marginalized' href='#formatter.requirements-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20226'>#</a></div><div id='formatter.requirements-1.sentence-1' class='sentence'>A type <span class='texttt'>F</span> meets the <span class='indexparent'><a class='index' id=':Formatter'></a></span><span class='textit'>Formatter</span> requirements if:
<ul class='itemize'><li id='formatter.requirements-1.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.requirements-1.1'>(1.1)</a></div>it meets the
<ul class='itemize'><li id='formatter.requirements-1.1.1'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#formatter.requirements-1.1.1'>(1.1.1)</a></div><span class='textit'>Cpp17DefaultConstructible</span> (Table <a href='utility.arg.requirements#tab:cpp17.defaultconstructible'>27</a>),</li><li id='formatter.requirements-1.1.2'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#formatter.requirements-1.1.2'>(1.1.2)</a></div><span class='textit'>Cpp17CopyConstructible</span> (Table <a href='utility.arg.requirements#tab:cpp17.copyconstructible'>29</a>),</li><li id='formatter.requirements-1.1.3'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#formatter.requirements-1.1.3'>(1.1.3)</a></div><span class='textit'>Cpp17CopyAssignable</span> (Table <a href='utility.arg.requirements#tab:cpp17.copyassignable'>31</a>), and</li><li id='formatter.requirements-1.1.4'><div class='marginalizedparent' style='left:-9em'><a class='marginalized' href='#formatter.requirements-1.1.4'>(1.1.4)</a></div><span class='textit'>Cpp17Destructible</span> (Table <a href='utility.arg.requirements#tab:cpp17.destructible'>32</a>)</li></ul>
requirements,</li><li id='formatter.requirements-1.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.requirements-1.2'>(1.2)</a></div>it is swappable (<a href='swappable.requirements'>[swappable.requirements]</a>) for lvalues, and</li><li id='formatter.requirements-1.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.requirements-1.3'>(1.3)</a></div>the expressions shown in Table <a href='#tab:formatter'>67</a> are valid and
have the indicated semantics<a class='hidden_link' href='#formatter.requirements-1.sentence-1'>.</a></li></ul></div></div><div class='para' id='formatter.requirements-2'><div class='marginalizedparent'><a class='marginalized' href='#formatter.requirements-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20247'>#</a></div><div id='formatter.requirements-2.sentence-1' class='sentence'>Given character type <span class='texttt'>charT</span>, output iterator type
<span class='texttt'>Out</span>, and formatting argument type <span class='texttt'>T</span>,
in Table <a href='#tab:formatter'>67</a>:
<ul class='itemize'><li id='formatter.requirements-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.requirements-2.1'>(2.1)</a></div><span class='texttt'>f</span> is a value of type <span class='texttt'>F</span>,</li><li id='formatter.requirements-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.requirements-2.2'>(2.2)</a></div><span class='texttt'>u</span> is an lvalue of type <span class='texttt'>T</span>,</li><li id='formatter.requirements-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.requirements-2.3'>(2.3)</a></div><span class='texttt'>t</span> is a value of a type convertible to (possibly const) <span class='texttt'>T</span>,</li><li id='formatter.requirements-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.requirements-2.4'>(2.4)</a></div><span class='texttt'>PC</span> is <span class='texttt'>basic_&shy;format_&shy;parse_&shy;context<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span>,</li><li id='formatter.requirements-2.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.requirements-2.5'>(2.5)</a></div><span class='texttt'>FC</span> is <span class='texttt'>basic_&shy;format_&shy;context<span class='anglebracket'>&lt;</span>Out, charT<span class='anglebracket'>&gt;</span></span>,</li><li id='formatter.requirements-2.6'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.requirements-2.6'>(2.6)</a></div><span class='texttt'>pc</span> is an lvalue of type <span class='texttt'>PC</span>, and</li><li id='formatter.requirements-2.7'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.requirements-2.7'>(2.7)</a></div><span class='texttt'>fc</span> is an lvalue of type <span class='texttt'>FC</span><a class='hidden_link' href='#formatter.requirements-2.sentence-1'>.</a></li></ul></div> <div id='formatter.requirements-2.sentence-2' class='sentence'><span class='texttt'>pc<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> points to the beginning of the
<span class='textsf'><span class='textit'>format-spec</span></span> (<a href='#string'>[format.string]</a>)
of the replacement field being formatted
in the format string<a class='hidden_link' href='#formatter.requirements-2.sentence-2'>.</a></div> <div id='formatter.requirements-2.sentence-3' class='sentence'>If <span class='textsf'><span class='textit'>format-spec</span></span> is empty then either
<span class='texttt'>pc<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> pc<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> or
<span class='texttt'><span class='operator'>*</span>pc<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>'}'</span></span><a class='hidden_link' href='#formatter.requirements-2.sentence-3'>.</a></div><div class='numberedTable' id='tab:formatter'>Table <a href='#tab:formatter'>67</a>: <span class='textit'>Formatter</span> requirements &emsp;&ensp;[tab:formatter]<br><table ><tr class='rowsep'><td class='justify'><div id='formatter.requirements-2.sentence-4' class='sentence'><b>Expression</b></div></td><td class='justify'><div id='formatter.requirements-2.sentence-5' class='sentence'><b>Return type</b></div></td><td class='justify'><div id='formatter.requirements-2.sentence-6' class='sentence'><b>Requirement</b></div></td></tr><tr class='capsep'><td class='justify'><div id='formatter.requirements-2.sentence-7' class='sentence'><span class='texttt'>f<span class='operator'>.</span>parse<span class='parenthesis'>(</span>pc<span class='parenthesis'>)</span></span></div></td><td class='justify'><div id='formatter.requirements-2.sentence-8' class='sentence'><span class='texttt'>PC<span class='operator'>&#x200b;::&#x200b;</span>iterator</span></div></td><td class='justify'><div id='formatter.requirements-2.sentence-9' class='sentence'>Parses <span class='textsf'><span class='textit'>format-spec</span></span> (<a href='#string'>[format.string]</a>)
for type <span class='texttt'>T</span>
in the range <span class='texttt'>[</span><span class='texttt'>pc<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, pc<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><span class='texttt'>)</span>
until the first unmatched character<a class='hidden_link' href='#formatter.requirements-2.sentence-9'>.</a></div> <div id='formatter.requirements-2.sentence-10' class='sentence'>Throws <span class='texttt'>format_&shy;error</span> unless the whole range is parsed
or the unmatched character is <span class='texttt'><span class='curlybracket'>}</span></span><a class='hidden_link' href='#formatter.requirements-2.sentence-10'>.</a></div> <div id='formatter.requirements-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#formatter.requirements-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='formatter.requirements-2.sentence-11' class='sentence'>This allows formatters to emit meaningful error messages<a class='hidden_link' href='#formatter.requirements-2.sentence-11'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='formatter.requirements-2.sentence-12' class='sentence'>
Stores the parsed format specifiers in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span> and
returns an iterator past the end of the parsed range<a class='hidden_link' href='#formatter.requirements-2.sentence-12'>.</a></div></td></tr><tr class='rowsep'><td class='justify'><div id='formatter.requirements-2.sentence-13' class='sentence'><span class='texttt'>f<span class='operator'>.</span>format<span class='parenthesis'>(</span>t, fc<span class='parenthesis'>)</span></span></div></td><td class='justify'><div id='formatter.requirements-2.sentence-14' class='sentence'><span class='texttt'>FC<span class='operator'>&#x200b;::&#x200b;</span>iterator</span></div></td><td class='justify'><div id='formatter.requirements-2.sentence-15' class='sentence'>Formats <span class='texttt'>t</span> according to the specifiers stored in <span class='texttt'><span class='operator'>*</span><span class='keyword'>this</span></span>,
writes the output to <span class='texttt'>fc<span class='operator'>.</span>out<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> and
returns an iterator past the end of the output range<a class='hidden_link' href='#formatter.requirements-2.sentence-15'>.</a></div> <div id='formatter.requirements-2.sentence-16' class='sentence'>The output shall only depend on
<span class='texttt'>t</span>,
<span class='texttt'>fc<span class='operator'>.</span>locale<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
and the range <span class='texttt'>[</span><span class='texttt'>pc<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, pc<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><span class='texttt'>)</span>
from the last call to <span class='texttt'>f<span class='operator'>.</span>parse<span class='parenthesis'>(</span>pc<span class='parenthesis'>)</span></span><a class='hidden_link' href='#formatter.requirements-2.sentence-16'>.</a></div></td></tr><tr class='rowsep'><td class='justify'><div id='formatter.requirements-2.sentence-17' class='sentence'><span class='texttt'>f<span class='operator'>.</span>format<span class='parenthesis'>(</span>u, fc<span class='parenthesis'>)</span></span></div></td><td class='justify'><div id='formatter.requirements-2.sentence-18' class='sentence'><span class='texttt'>FC<span class='operator'>&#x200b;::&#x200b;</span>iterator</span></div></td><td class='justify'><div id='formatter.requirements-2.sentence-19' class='sentence'>As above, but does not modify <span class='texttt'>u</span><a class='hidden_link' href='#formatter.requirements-2.sentence-19'>.</a></div></td></tr></table></div></div></div><div id='formatter.spec' class='section'><h4 ><a class='secnum' href='#formatter.spec' style='min-width:118pt'>20.20.5.2</a> Formatter specializations <a class='abbr_ref' href='format.formatter.spec'>[format.formatter.spec]</a></h4><span class='indexparent'><a class='index' id='lib:formatter'></a></span><div class='para' id='formatter.spec-1'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20306'>#</a></div><div id='formatter.spec-1.sentence-1' class='sentence'>The functions defined in <a href='#functions'>[format.functions]</a> use
specializations of the class template <span class='texttt'>formatter</span> to format
individual arguments<a class='hidden_link' href='#formatter.spec-1.sentence-1'>.</a></div></div><div class='para' id='formatter.spec-2'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20312'>#</a></div><div id='formatter.spec-2.sentence-1' class='sentence'>Let <span class='texttt'>charT</span> be either <span class='texttt'><span class='keyword'>char</span></span> or <span class='texttt'><span class='keyword'>wchar_&shy;t</span></span><a class='hidden_link' href='#formatter.spec-2.sentence-1'>.</a></div> <div id='formatter.spec-2.sentence-2' class='sentence'>Each specialization of <span class='texttt'>formatter</span> is either enabled or disabled,
as described below<a class='hidden_link' href='#formatter.spec-2.sentence-2'>.</a></div> <div id='formatter.spec-2.note-1' class='note'>[&nbsp;<a class='note_link' href='#formatter.spec-2.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='formatter.spec-2.sentence-3' class='sentence'>Enabled specializations meet the <span class='textit'>Formatter</span> requirements,
and disabled specializations do not<a class='hidden_link' href='#formatter.spec-2.sentence-3'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <div id='formatter.spec-2.sentence-4' class='sentence'>
Each header that declares the template <span class='texttt'>formatter</span>
provides the following enabled specializations:
<ul class='itemize'><li id='formatter.spec-2.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.spec-2.1'>(2.1)</a></div><span class='indexparent'><a class='index' id='lib:formatter,specializations,character_types'></a></span>The specializations
<pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>char</span>, <span class='keyword'>char</span><span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>char</span>, <span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_t</span>, <span class='keyword'>wchar_t</span><span class='anglebracket'>&gt;</span>;
</pre></li><li id='formatter.spec-2.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.spec-2.2'>(2.2)</a></div><span class='indexparent'><a class='index' id='lib:formatter,specializations,string_types'></a></span>For each <span class='texttt'>charT</span>,
the string type specializations
<pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>charT<span class='operator'>*</span>, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>*</span>, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span>size_t N<span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='squarebracket'>[</span>N<span class='squarebracket'>]</span>, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> traits, <span class='keyword'>class</span> Allocator<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>basic_string<span class='anglebracket'>&lt;</span>charT, traits, Allocator<span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>basic_string_view<span class='anglebracket'>&lt;</span>charT, traits<span class='anglebracket'>&gt;</span>, charT<span class='anglebracket'>&gt;</span>;
</pre></li><li id='formatter.spec-2.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.spec-2.3'>(2.3)</a></div><span class='indexparent'><a class='index' id='lib:formatter,specializations,arithmetic_types'></a></span>For each <span class='texttt'>charT</span>,
for each cv-unqualified arithmetic type <span class='texttt'>ArithmeticT</span>
other than
<span class='texttt'><span class='keyword'>char</span></span>,
<span class='texttt'><span class='keyword'>wchar_&shy;t</span></span>,
<span class='texttt'><span class='keyword'>char8_&shy;t</span></span>,
<span class='texttt'><span class='keyword'>char16_&shy;t</span></span>, or
<span class='texttt'><span class='keyword'>char32_&shy;t</span></span>,
a specialization
<pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>ArithmeticT, charT<span class='anglebracket'>&gt;</span>;
</pre></li><li id='formatter.spec-2.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.spec-2.4'>(2.4)</a></div><span class='indexparent'><a class='index' id='lib:formatter,specializations,pointer_types'></a></span><span class='indexparent'><a class='index' id='lib:formatter,specializations,nullptr_t'></a></span>For each <span class='texttt'>charT</span>,
the pointer type specializations
<pre class='codeblock'>
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span>nullptr_t, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>void</span><span class='operator'>*</span>, charT<span class='anglebracket'>&gt;</span>;
<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span>, charT<span class='anglebracket'>&gt;</span>;
</pre></li></ul>
The <span class='texttt'>parse</span> member functions of these formatters
interpret the format specification
as a <span class='textsf'><span class='textit'>std-format-spec</span></span>
as described in <a href='#string.std'>[format.string.std]</a><a class='hidden_link' href='#formatter.spec-2.sentence-4'>.</a></div> <div id='formatter.spec-2.note-2' class='note'>[&nbsp;<a class='note_link' href='#formatter.spec-2.note-2'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='formatter.spec-2.sentence-5' class='sentence'>Specializations such as <span class='texttt'>formatter<span class='anglebracket'>&lt;</span><span class='keyword'>wchar_&shy;t</span>, <span class='keyword'>char</span><span class='anglebracket'>&gt;</span></span>
and <span class='texttt'>formatter<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span>, <span class='keyword'>wchar_&shy;t</span><span class='anglebracket'>&gt;</span></span>
that would require implicit
multibyte / wide string or character conversion are disabled<a class='hidden_link' href='#formatter.spec-2.sentence-5'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div><div class='para' id='formatter.spec-3'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20383'>#</a></div><div id='formatter.spec-3.sentence-1' class='sentence'>For any types <span class='texttt'>T</span> and <span class='texttt'>charT</span> for which
neither the library nor the user provides
an explicit or partial specialization of
the class template <span class='texttt'>formatter</span>,
<span class='texttt'>formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span></span> is disabled<a class='hidden_link' href='#formatter.spec-3.sentence-1'>.</a></div></div><div class='para' id='formatter.spec-4'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20390'>#</a></div><div id='formatter.spec-4.sentence-1' class='sentence'>If the library provides an explicit or partial specialization of
<span class='texttt'>formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span></span>, that specialization is enabled
except as noted otherwise<a class='hidden_link' href='#formatter.spec-4.sentence-1'>.</a></div></div><div class='para' id='formatter.spec-5'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-5'>5</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20395'>#</a></div><div id='formatter.spec-5.sentence-1' class='sentence'>If <span class='texttt'>F</span> is a disabled specialization of <span class='texttt'>formatter</span>, these
values are <span class='texttt'><span class='literal'>false</span></span>:
<ul class='itemize'><li id='formatter.spec-5.1'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.spec-5.1'>(5.1)</a></div><span class='texttt'>is_&shy;default_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span>,</li><li id='formatter.spec-5.2'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.spec-5.2'>(5.2)</a></div><span class='texttt'>is_&shy;copy_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span>,</li><li id='formatter.spec-5.3'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.spec-5.3'>(5.3)</a></div><span class='texttt'>is_&shy;move_&shy;constructible_&shy;v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span>,</li><li id='formatter.spec-5.4'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.spec-5.4'>(5.4)</a></div><span class='texttt'>is_&shy;copy_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span>, and</li><li id='formatter.spec-5.5'><div class='marginalizedparent' style='left:-7em'><a class='marginalized' href='#formatter.spec-5.5'>(5.5)</a></div><span class='texttt'>is_&shy;move_&shy;assignable_&shy;v<span class='anglebracket'>&lt;</span>F<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#formatter.spec-5.sentence-1'>.</a></li></ul></div></div><div class='para' id='formatter.spec-6'><div class='marginalizedparent'><a class='marginalized' href='#formatter.spec-6'>6</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20406'>#</a></div><div id='formatter.spec-6.sentence-1' class='sentence'>An enabled specialization <span class='texttt'>formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span></span> meets the
<span class='textit'>Formatter</span> requirements (<a href='#formatter.requirements'>[formatter.requirements]</a>)<a class='hidden_link' href='#formatter.spec-6.sentence-1'>.</a></div> <div id='formatter.spec-6.example-1' class='example'>[&nbsp;<a class='example_link' href='#formatter.spec-6.example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='preprocessordirective'>#include</span> <span class='anglebracket'>&lt;</span>format<span class='anglebracket'>&gt;</span>

<span class='keyword'>enum</span> color <span class='curlybracket'>{</span> red, green, blue <span class='curlybracket'>}</span>;
<span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> color_names<span class='squarebracket'>[</span><span class='squarebracket'>]</span> <span class='operator'>=</span> <span class='curlybracket'>{</span> <span class='literal'>"red"</span>, <span class='literal'>"green"</span>, <span class='literal'>"blue"</span> <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> std<span class='operator'>::</span>formatter<span class='anglebracket'>&lt;</span>color<span class='anglebracket'>&gt;</span> <span class='operator'>:</span> std<span class='operator'>::</span>formatter<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  <span class='keyword'>auto</span> format<span class='parenthesis'>(</span>color c, format_context<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>return</span> formatter<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>format<span class='parenthesis'>(</span>color_names<span class='squarebracket'>[</span>c<span class='squarebracket'>]</span>, ctx<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

<span class='keyword'>struct</span> err <span class='curlybracket'>{</span><span class='curlybracket'>}</span>;

std<span class='operator'>::</span>string s0 <span class='operator'>=</span> std<span class='operator'>::</span>format<span class='parenthesis'>(</span><span class='literal'>"{}"</span>, <span class='literal'>42</span><span class='parenthesis'>)</span>;         <span class='comment'>// OK, library-provided formatter</span>
std<span class='operator'>::</span>string s1 <span class='operator'>=</span> std<span class='operator'>::</span>format<span class='parenthesis'>(</span><span class='literal'>"{}"</span>, <span class='literal'>L"foo"</span><span class='parenthesis'>)</span>;     <span class='comment'>// error: disabled formatter</span>
std<span class='operator'>::</span>string s2 <span class='operator'>=</span> std<span class='operator'>::</span>format<span class='parenthesis'>(</span><span class='literal'>"{}"</span>, red<span class='parenthesis'>)</span>;        <span class='comment'>// OK, user-provided formatter</span>
std<span class='operator'>::</span>string s3 <span class='operator'>=</span> std<span class='operator'>::</span>format<span class='parenthesis'>(</span><span class='literal'>"{}"</span>, err<span class='curlybracket'>{</span><span class='curlybracket'>}</span><span class='parenthesis'>)</span>;      <span class='comment'>// error: disabled formatter</span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='parse.ctx' class='section'><h4 ><a class='secnum' href='#parse.ctx' style='min-width:118pt'>20.20.5.3</a> Class template <span class='texttt'>basic_&shy;format_&shy;parse_&shy;context</span> <a class='abbr_ref' href='format.parse.ctx'>[format.parse.ctx]</a></h4><span class='indexparent'><a class='index' id='lib:basic_format_parse_context'></a></span><span class='indexparent'><a class='index' id='lib:char_type,basic_format_parse_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_parse_context,char_type'></a></span><span class='indexparent'><a class='index' id='lib:const_iterator,basic_format_parse_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_parse_context,const_iterator'></a></span><span class='indexparent'><a class='index' id='lib:iterator,basic_format_parse_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_parse_context,iterator'></a></span><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_format_parse_context <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type <span class='operator'>=</span> charT;
    <span class='keyword'>using</span> const_iterator <span class='operator'>=</span> <span class='keyword'>typename</span> basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span><span class='operator'>::</span>const_iterator;
    <span class='keyword'>using</span> iterator <span class='operator'>=</span> const_iterator;

  <span class='keyword'>private</span><span class='operator'>:</span>
    iterator begin_;                                    <span class='comment'>// <span class='textit'>exposition only</span></span>
    iterator end_;                                      <span class='comment'>// <span class='textit'>exposition only</span></span>
    <span class='keyword'>enum</span> indexing <span class='curlybracket'>{</span> unknown, manual, automatic <span class='curlybracket'>}</span>;       <span class='comment'>// <span class='textit'>exposition only</span></span>
    indexing indexing_;                                 <span class='comment'>// <span class='textit'>exposition only</span></span>
    size_t next_arg_id_;                                <span class='comment'>// <span class='textit'>exposition only</span></span>
    size_t num_args_;                                   <span class='comment'>// <span class='textit'>exposition only</span></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> basic_format_parse_context<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> fmt,
                                                  size_t num_args <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
    basic_format_parse_context<span class='parenthesis'>(</span><span class='keyword'>const</span> basic_format_parse_context<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;
    basic_format_parse_context<span class='operator'>&amp;</span> <span class='keyword'>operator</span><span class='operator'>=</span><span class='parenthesis'>(</span><span class='keyword'>const</span> basic_format_parse_context<span class='operator'>&amp;</span><span class='parenthesis'>)</span> <span class='operator'>=</span> <span class='keyword'>delete</span>;

    <span class='keyword'>constexpr</span> const_iterator begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> const_iterator end<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> advance_to<span class='parenthesis'>(</span>const_iterator it<span class='parenthesis'>)</span>;

    <span class='keyword'>constexpr</span> size_t next_arg_id<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>constexpr</span> <span class='keyword'>void</span> check_arg_id<span class='parenthesis'>(</span>size_t id<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre><div class='para' id='parse.ctx-1'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20470'>#</a></div><div id='parse.ctx-1.sentence-1' class='sentence'>An instance of <span class='texttt'>basic_&shy;format_&shy;parse_&shy;context</span> holds
the format string parsing state consisting of
the format string range being parsed and
the argument counter for automatic indexing<a class='hidden_link' href='#parse.ctx-1.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:basic_format_parse_context,constructor'></a></span></div><div class='itemdecl' id='parse.ctx-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#parse.ctx-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>explicit</span> basic_format_parse_context<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span> fmt,
                                              size_t num_args <span class='operator'>=</span> <span class='literal'>0</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='parse.ctx-2'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20483'>#</a></div><div id='parse.ctx-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes
<span class='texttt'>begin_&shy;</span> with <span class='texttt'>fmt<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>end_&shy;</span> with <span class='texttt'>fmt<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span>,
<span class='texttt'>indexing_&shy;</span> with <span class='texttt'>unknown</span>,
<span class='texttt'>next_&shy;arg_&shy;id_&shy;</span> with <span class='texttt'><span class='literal'>0</span></span>, and
<span class='texttt'>num_&shy;args_&shy;</span> with <span class='texttt'>num_&shy;args</span><a class='hidden_link' href='#parse.ctx-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:begin,basic_format_parse_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_parse_context,begin'></a></span><div class='itemdecl' id='parse.ctx-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#parse.ctx-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> const_iterator begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='parse.ctx-3'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20499'>#</a></div><div id='parse.ctx-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>begin_&shy;</span><a class='hidden_link' href='#parse.ctx-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:end,basic_format_parse_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_parse_context,end'></a></span><div class='itemdecl' id='parse.ctx-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#parse.ctx-itemdecl:3'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> const_iterator end<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='parse.ctx-4'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20510'>#</a></div><div id='parse.ctx-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>end_&shy;</span><a class='hidden_link' href='#parse.ctx-4.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:advance_to,basic_format_parse_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_parse_context,advance_to'></a></span><div class='itemdecl' id='parse.ctx-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#parse.ctx-itemdecl:4'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> advance_to<span class='parenthesis'>(</span>const_iterator it<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='parse.ctx-5'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20521'>#</a></div><div id='parse.ctx-5.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
<span class='texttt'>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> is reachable from <span class='texttt'>it</span><a class='hidden_link' href='#parse.ctx-5.sentence-1'>.</a></div></div></div><div class='para' id='parse.ctx-6'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20525'>#</a></div><div id='parse.ctx-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>begin_&shy; <span class='operator'>=</span> it;</span></div></div></div><span class='indexparent'><a class='index' id='lib:next_arg_id,basic_format_parse_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_parse_context,next_arg_id'></a></span><div class='itemdecl' id='parse.ctx-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#parse.ctx-itemdecl:5'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> size_t next_arg_id<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='parse.ctx-7'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20536'>#</a></div><div id='parse.ctx-7.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>indexing_&shy; <span class='operator'>!</span><span class='operator'>=</span> manual</span>, equivalent to:
<pre class='codeblock'>
<span class='keyword'>if</span> <span class='parenthesis'>(</span>indexing_ <span class='operator'>=</span><span class='operator'>=</span> unknown<span class='parenthesis'>)</span>
  indexing_ <span class='operator'>=</span> automatic;
<span class='keyword'>return</span> next_arg_id_<span class='operator'>+</span><span class='operator'>+</span>;
</pre></div></div></div><div class='para' id='parse.ctx-8'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20545'>#</a></div><div id='parse.ctx-8.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
<span class='texttt'>format_&shy;error</span> if <span class='texttt'>indexing_&shy; <span class='operator'>=</span><span class='operator'>=</span> manual</span>
which indicates mixing of automatic and manual argument indexing<a class='hidden_link' href='#parse.ctx-8.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:check_arg_id,basic_format_parse_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_parse_context,check_arg_id'></a></span><div class='itemdecl' id='parse.ctx-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#parse.ctx-itemdecl:6'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>constexpr</span> <span class='keyword'>void</span> check_arg_id<span class='parenthesis'>(</span>size_t id<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='parse.ctx-9'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20557'>#</a></div><div id='parse.ctx-9.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
If <span class='texttt'>indexing_&shy; <span class='operator'>!</span><span class='operator'>=</span> automatic</span>, equivalent to:
<pre class='codeblock'>
<span class='keyword'>if</span> <span class='parenthesis'>(</span>indexing_ <span class='operator'>=</span><span class='operator'>=</span> unknown<span class='parenthesis'>)</span>
  indexing_ <span class='operator'>=</span> manual;
</pre></div></div></div><div class='para' id='parse.ctx-10'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20565'>#</a></div><div id='parse.ctx-10.sentence-1' class='sentence'><span class='textit'>Throws:</span> 
<span class='texttt'>format_&shy;error</span> if
<span class='texttt'>indexing_&shy; <span class='operator'>=</span><span class='operator'>=</span> automatic</span> which indicates mixing of automatic and
manual argument indexing<a class='hidden_link' href='#parse.ctx-10.sentence-1'>.</a></div></div></div><div class='para' id='parse.ctx-11'><div class='marginalizedparent'><a class='marginalized' href='#parse.ctx-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20571'>#</a></div><div id='parse.ctx-11.sentence-1' class='sentence'><span class='textit'>Remarks:</span> 
Call expressions where <span class='texttt'>id <span class='anglebracket'>&gt;</span><span class='operator'>=</span> num_&shy;args_&shy;</span> are not
core constant expressions (<a href='expr.const'>[expr.const]</a>)<a class='hidden_link' href='#parse.ctx-11.sentence-1'>.</a></div></div></div></div><div id='context' class='section'><h4 ><a class='secnum' href='#context' style='min-width:118pt'>20.20.5.4</a> Class template <span class='texttt'>basic_&shy;format_&shy;context</span> <a class='abbr_ref' href='format.context'>[format.context]</a></h4><span class='indexparent'><a class='index' id='lib:basic_format_context'></a></span><span class='indexparent'><a class='index' id='lib:iterator,basic_format_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_context,iterator'></a></span><span class='indexparent'><a class='index' id='lib:char_type,basic_format_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_context,char_type'></a></span><span class='indexparent'><a class='index' id='lib:formatter_type,basic_format_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_context,formatter_type'></a></span><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Out, <span class='keyword'>class</span> charT<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_format_context <span class='curlybracket'>{</span>
    basic_format_args<span class='anglebracket'>&lt;</span>basic_format_context<span class='anglebracket'>&gt;</span> args_;      <span class='comment'>// <span class='textit'>exposition only</span></span>
    Out out_;                                           <span class='comment'>// <span class='textit'>exposition only</span></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>using</span> iterator <span class='operator'>=</span> Out;
    <span class='keyword'>using</span> char_type <span class='operator'>=</span> charT;
    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>using</span> formatter_type <span class='operator'>=</span> formatter<span class='anglebracket'>&lt;</span>T, charT<span class='anglebracket'>&gt;</span>;

    basic_format_arg<span class='anglebracket'>&lt;</span>basic_format_context<span class='anglebracket'>&gt;</span> arg<span class='parenthesis'>(</span>size_t id<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
    std<span class='operator'>::</span>locale locale<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;

    iterator out<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>void</span> advance_to<span class='parenthesis'>(</span>iterator it<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre><div class='para' id='context-1'><div class='marginalizedparent'><a class='marginalized' href='#context-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20604'>#</a></div><div id='context-1.sentence-1' class='sentence'>An instance of <span class='texttt'>basic_&shy;format_&shy;context</span> holds formatting state
consisting of the formatting arguments and the output iterator<a class='hidden_link' href='#context-1.sentence-1'>.</a></div></div><div class='para' id='context-2'><div class='marginalizedparent'><a class='marginalized' href='#context-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20608'>#</a></div><div id='context-2.sentence-1' class='sentence'><span class='texttt'>Out</span> shall model <span class='texttt'><span class='texttt'>output_&shy;iterator</span><span class='indexparent'><a class='index' id=':output_iterator____'></a></span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> charT<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#context-2.sentence-1'>.</a></div></div><div class='para' id='context-3'><div class='marginalizedparent'><a class='marginalized' href='#context-3'>3</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20611'>#</a></div><div id='context-3.sentence-1' class='sentence'><span class='indexparent'><a class='index' id='lib:format_context_'></a></span><span class='texttt'>format_&shy;context</span> is an alias for
a specialization of <span class='texttt'>basic_&shy;format_&shy;context</span>
with an output iterator
that appends to <span class='texttt'>string</span>,
such as <span class='texttt'>back_&shy;insert_&shy;iterator<span class='anglebracket'>&lt;</span>string<span class='anglebracket'>&gt;</span></span><a class='hidden_link' href='#context-3.sentence-1'>.</a></div> <div id='context-3.sentence-2' class='sentence'><span class='indexparent'><a class='index' id='lib:wformat_context_'></a></span>Similarly, <span class='texttt'>wformat_&shy;context</span> is an alias for
a specialization of <span class='texttt'>basic_&shy;format_&shy;context</span>
with an output iterator
that appends to <span class='texttt'>wstring</span><a class='hidden_link' href='#context-3.sentence-2'>.</a></div></div><div class='para' id='context-4'><div class='marginalizedparent'><a class='marginalized' href='#context-4'>4</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20624'>#</a></div><div id='context-4.note-1' class='note'>[&nbsp;<a class='note_link' href='#context-4.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='context-4.sentence-1' class='sentence'>For a given type <span class='texttt'>charT</span>,
implementations are encouraged to provide
a single instantiation of <span class='texttt'>basic_&shy;format_&shy;context</span>
for appending to
<span class='texttt'>basic_&shy;string<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span>,
<span class='texttt'>vector<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span>,
or any other container with contiguous storage
by wrapping those in temporary objects with a uniform interface
(such as a <span class='texttt'>span<span class='anglebracket'>&lt;</span>charT<span class='anglebracket'>&gt;</span></span>) and polymorphic reallocation<a class='hidden_link' href='#context-4.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div>  <span class='indexparent'><a class='index' id='lib:arg,basic_format_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_context,arg'></a></span></div><div class='itemdecl' id='context-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#context-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>basic_format_arg<span class='anglebracket'>&lt;</span>basic_format_context<span class='anglebracket'>&gt;</span> arg<span class='parenthesis'>(</span>size_t id<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div><div class='itemdescr'></div><div class='para' id='context-5'><div class='marginalizedparent'><a class='marginalized' href='#context-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20643'>#</a></div><div id='context-5.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>args_&shy;<span class='operator'>.</span>get<span class='parenthesis'>(</span>id<span class='parenthesis'>)</span></span><a class='hidden_link' href='#context-5.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:locale,basic_format_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_context,locale'></a></span><div class='itemdecl' id='context-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#context-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>std<span class='operator'>::</span>locale locale<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='context-6'><div class='marginalizedparent'><a class='marginalized' href='#context-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20654'>#</a></div><div id='context-6.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
The locale passed to the formatting function
if the latter takes one,
and <span class='texttt'>std<span class='operator'>&#x200b;::&#x200b;</span>locale<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span> otherwise<a class='hidden_link' href='#context-6.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:out,basic_format_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_context,out'></a></span><div class='itemdecl' id='context-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#context-itemdecl:3'>🔗</a></div><code class='itemdeclcode'>iterator out<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='context-7'><div class='marginalizedparent'><a class='marginalized' href='#context-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20667'>#</a></div><div id='context-7.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>out_&shy;</span><a class='hidden_link' href='#context-7.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:advance_to,basic_format_context'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_context,advance_to'></a></span><div class='itemdecl' id='context-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#context-itemdecl:4'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> advance_to<span class='parenthesis'>(</span>iterator it<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='context-8'><div class='marginalizedparent'><a class='marginalized' href='#context-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20678'>#</a></div><div id='context-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>out_&shy; <span class='operator'>=</span> it;</span></div></div></div><span class='indexparent'><a class='index' id=':left-pad'></a></span><div id='context-example-1' class='example'>[&nbsp;<a class='example_link' href='#context-example-1'><span class='textit'>Example</span></a><div class='exampleBody'><span class='textit'>:</span> <pre class='codeblock'>
<span class='keyword'>struct</span> S <span class='curlybracket'>{</span> <span class='keyword'>int</span> value; <span class='curlybracket'>}</span>;

<span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='anglebracket'>&gt;</span> <span class='keyword'>struct</span> std<span class='operator'>::</span>formatter<span class='anglebracket'>&lt;</span>S<span class='anglebracket'>&gt;</span> <span class='curlybracket'>{</span>
  size_t width_arg_id <span class='operator'>=</span> <span class='literal'>0</span>;

  <span class='comment'>// Parses a width argument id in the format <span class='tcode_in_codeblock'>{</span> <span class='textsf'><span class='textit'>digit</span></span> <span class='tcode_in_codeblock'>}</span>.</span>
  <span class='keyword'>constexpr</span> <span class='keyword'>auto</span> parse<span class='parenthesis'>(</span>format_parse_context<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>auto</span> iter <span class='operator'>=</span> ctx<span class='operator'>.</span>begin<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>auto</span> get_char <span class='operator'>=</span> <span class='squarebracket'>[</span><span class='operator'>&amp;</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='curlybracket'>{</span> <span class='keyword'>return</span> iter <span class='operator'>!</span><span class='operator'>=</span> ctx<span class='operator'>.</span>end<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>?</span> <span class='operator'>*</span>iter <span class='operator'>:</span> <span class='literal'>0</span>; <span class='curlybracket'>}</span>;
    <span class='keyword'>if</span> <span class='parenthesis'>(</span>get_char<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>'{'</span><span class='parenthesis'>)</span>
      <span class='keyword'>return</span> iter;
    <span class='operator'>+</span><span class='operator'>+</span>iter;
    <span class='keyword'>char</span> c <span class='operator'>=</span> get_char<span class='parenthesis'>(</span><span class='parenthesis'>)</span>;
    <span class='keyword'>if</span> <span class='parenthesis'>(</span><span class='operator'>!</span>isdigit<span class='parenthesis'>(</span>c<span class='parenthesis'>)</span> <span class='operator'>|</span><span class='operator'>|</span> <span class='parenthesis'>(</span><span class='operator'>+</span><span class='operator'>+</span>iter, get_char<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>!</span><span class='operator'>=</span> <span class='literal'>'}'</span><span class='parenthesis'>)</span>
      <span class='keyword'>throw</span> format_error<span class='parenthesis'>(</span><span class='literal'>"invalid format"</span><span class='parenthesis'>)</span>;
    width_arg_id <span class='operator'>=</span> c <span class='operator'>-</span> <span class='literal'>'0'</span>;
    ctx<span class='operator'>.</span>check_arg_id<span class='parenthesis'>(</span>width_arg_id<span class='parenthesis'>)</span>;
    <span class='keyword'>return</span> <span class='operator'>+</span><span class='operator'>+</span>iter;
  <span class='curlybracket'>}</span>

  <span class='comment'>// Formats an <span class='tcode_in_codeblock'>S</span> with width given by the argument <span class='tcode_in_codeblock'>width_&shy;arg_&shy;id</span>.</span>
  <span class='keyword'>auto</span> format<span class='parenthesis'>(</span>S s, format_context<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
    <span class='keyword'>int</span> width <span class='operator'>=</span> visit_format_arg<span class='parenthesis'>(</span><span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span><span class='keyword'>auto</span> value<span class='parenthesis'>)</span> <span class='operator'>-</span><span class='anglebracket'>&gt;</span> <span class='keyword'>int</span> <span class='curlybracket'>{</span>
      <span class='keyword'>if</span> <span class='keyword'>constexpr</span> <span class='parenthesis'>(</span><span class='operator'>!</span>is_integral_v<span class='anglebracket'>&lt;</span><span class='keyword'>decltype</span><span class='parenthesis'>(</span>value<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>)</span>
        <span class='keyword'>throw</span> format_error<span class='parenthesis'>(</span><span class='literal'>"width is not integral"</span><span class='parenthesis'>)</span>;
      <span class='keyword'>else</span> <span class='keyword'>if</span> <span class='parenthesis'>(</span>value <span class='anglebracket'>&lt;</span> <span class='literal'>0</span> <span class='operator'>|</span><span class='operator'>|</span> value <span class='anglebracket'>&gt;</span> numeric_limits<span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='operator'>::</span>max<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
        <span class='keyword'>throw</span> format_error<span class='parenthesis'>(</span><span class='literal'>"invalid width"</span><span class='parenthesis'>)</span>;
      <span class='keyword'>else</span>
        <span class='keyword'>return</span> value;
      <span class='curlybracket'>}</span>, ctx<span class='operator'>.</span>arg<span class='parenthesis'>(</span>width_arg_id<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
    <span class='keyword'>return</span> format_to<span class='parenthesis'>(</span>ctx<span class='operator'>.</span>out<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, <span class='literal'>"{0:x&lt;{1}}"</span>, s<span class='operator'>.</span>value, width<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>
<span class='curlybracket'>}</span>;

std<span class='operator'>::</span>string s <span class='operator'>=</span> std<span class='operator'>::</span>format<span class='parenthesis'>(</span><span class='literal'>"{0:{1}}"</span>, S<span class='curlybracket'>{</span><span class='literal'>42</span><span class='curlybracket'>}</span>, <span class='literal'>10</span><span class='parenthesis'>)</span>;  <span class='comment'>// value of <span class='tcode_in_codeblock'>s</span> is <span class='tcode_in_codeblock'>"xxxxxxxx42"</span></span>
</pre> —&nbsp;<i>end example</i></div>&nbsp;]</div> </div></div><div id='arguments' class='section'><h3 ><a class='secnum' href='#arguments' style='min-width:103pt'>20.20.6</a> Arguments <a class='abbr_ref' href='format.arguments'>[format.arguments]</a></h3><div id='arg' class='section'><h4 ><a class='secnum' href='#arg' style='min-width:118pt'>20.20.6.1</a> Class template <span class='texttt'>basic_&shy;format_&shy;arg</span> <a class='abbr_ref' href='format.arg'>[format.arg]</a></h4><span class='indexparent'><a class='index' id='lib:basic_format_arg'></a></span><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_format_arg <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>class</span> handle;

  <span class='keyword'>private</span><span class='operator'>:</span>
    <span class='keyword'>using</span> char_type <span class='operator'>=</span> <span class='keyword'>typename</span> Context<span class='operator'>::</span>char_type;                              <span class='comment'>// <span class='textit'>exposition only</span></span>

    variant<span class='anglebracket'>&lt;</span>monostate, <span class='keyword'>bool</span>, char_type,
            <span class='keyword'>int</span>, <span class='keyword'>unsigned</span> <span class='keyword'>int</span>, <span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span>, <span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span>,
            <span class='keyword'>float</span>, <span class='keyword'>double</span>, <span class='keyword'>long</span> <span class='keyword'>double</span>,
            <span class='keyword'>const</span> char_type<span class='operator'>*</span>, basic_string_view<span class='anglebracket'>&lt;</span>char_type<span class='anglebracket'>&gt;</span>,
            <span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span>, handle<span class='anglebracket'>&gt;</span> value;                                         <span class='comment'>// <span class='textit'>exposition only</span></span>

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;           <span class='comment'>// <span class='textit'>exposition only</span></span>
    <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>float</span> n<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;                                <span class='comment'>// <span class='textit'>exposition only</span></span>
    <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>double</span> n<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;                               <span class='comment'>// <span class='textit'>exposition only</span></span>
    <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span> n<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;                          <span class='comment'>// <span class='textit'>exposition only</span></span>
    <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>const</span> char_type<span class='operator'>*</span> s<span class='parenthesis'>)</span>;                              <span class='comment'>// <span class='textit'>exposition only</span></span>

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span>
        basic_string_view<span class='anglebracket'>&lt;</span>char_type, traits<span class='anglebracket'>&gt;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;                       <span class='comment'>// <span class='textit'>exposition only</span></span>

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> traits, <span class='keyword'>class</span> Allocator<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span>
        <span class='keyword'>const</span> basic_string<span class='anglebracket'>&lt;</span>char_type, traits, Allocator<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;          <span class='comment'>// <span class='textit'>exposition only</span></span>

    <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;                              <span class='comment'>// <span class='textit'>exposition only</span></span>

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span>
      <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;                           <span class='comment'>// <span class='textit'>exposition only</span></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    basic_format_arg<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre><div class='para' id='arg-1'><div class='marginalizedparent'><a class='marginalized' href='#arg-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20772'>#</a></div><div id='arg-1.sentence-1' class='sentence'>An instance of <span class='texttt'>basic_&shy;format_&shy;arg</span> provides access to
a formatting argument for user-defined formatters<a class='hidden_link' href='#arg-1.sentence-1'>.</a></div></div><div class='para' id='arg-2'><div class='marginalizedparent'><a class='marginalized' href='#arg-2'>2</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20776'>#</a></div><div id='arg-2.sentence-1' class='sentence'>The behavior of a program that adds specializations of
<span class='texttt'>basic_&shy;format_&shy;arg</span> is undefined<a class='hidden_link' href='#arg-2.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:basic_format_arg,constructor'></a></span></div><div class='itemdecl' id='arg-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>basic_format_arg<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-3'><div class='marginalizedparent'><a class='marginalized' href='#arg-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20786'>#</a></div><div id='arg-3.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'><span class='operator'>!</span><span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>this</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#arg-3.sentence-1'>.</a></div></div></div><div class='itemdecl' id='arg-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> v<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-4'><div class='marginalizedparent'><a class='marginalized' href='#arg-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20796'>#</a></div><div id='arg-4.sentence-1' class='sentence'><span class='textit'>Constraints:</span> 
The template specialization
<pre class='codeblock'>
<span class='keyword'>typename</span> Context<span class='operator'>::</span><span class='keyword'>template</span> formatter_type<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span>
</pre>
meets the <span class='textit'>Formatter</span> requirements (<a href='#formatter.requirements'>[formatter.requirements]</a>)<a class='hidden_link' href='#arg-4.sentence-1'>.</a></div> <div id='arg-4.sentence-2' class='sentence'>The extent to which an implementation determines that
the specialization meets the <span class='textit'>Formatter</span> requirements
is unspecified,
except that as a minimum the expression
<pre class='codeblock'>
<span class='keyword'>typename</span> Context<span class='operator'>::</span><span class='keyword'>template</span> formatter_type<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>
  <span class='operator'>.</span>format<span class='parenthesis'>(</span>declval<span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span>, declval<span class='anglebracket'>&lt;</span>Context<span class='operator'>&amp;</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span>
</pre>
shall be well-formed when treated as an unevaluated operand<a class='hidden_link' href='#arg-4.sentence-2'>.</a></div></div></div><div class='para' id='arg-5'><div class='marginalizedparent'><a class='marginalized' href='#arg-5'>5</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20813'>#</a></div><div id='arg-5.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
<ul class='itemize'><li id='arg-5.1'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#arg-5.1'>(5.1)</a></div>if <span class='texttt'>T</span> is <span class='texttt'><span class='keyword'>bool</span></span> or <span class='texttt'>char_&shy;type</span>,
initializes <span class='texttt'>value</span> with <span class='texttt'>v</span>;</li><li id='arg-5.2'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#arg-5.2'>(5.2)</a></div>otherwise, if <span class='texttt'>T</span> is <span class='texttt'><span class='keyword'>char</span></span> and <span class='texttt'>char_&shy;type</span> is
<span class='texttt'><span class='keyword'>wchar_&shy;t</span></span>, initializes <span class='texttt'>value</span> with
<span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>wchar_&shy;t</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-5.3'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#arg-5.3'>(5.3)</a></div>otherwise, if <span class='texttt'>T</span> is a signed integer type (<a href='basic.fundamental'>[basic.fundamental]</a>)
and <span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>int</span><span class='parenthesis'>)</span></span>,
initializes <span class='texttt'>value</span> with <span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-5.4'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#arg-5.4'>(5.4)</a></div>otherwise, if <span class='texttt'>T</span> is an unsigned integer type and
<span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>unsigned</span> <span class='keyword'>int</span><span class='parenthesis'>)</span></span>, initializes
<span class='texttt'>value</span> with <span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-5.5'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#arg-5.5'>(5.5)</a></div>otherwise, if <span class='texttt'>T</span> is a signed integer type and
<span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span><span class='parenthesis'>)</span></span>, initializes
<span class='texttt'>value</span> with <span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-5.6'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#arg-5.6'>(5.6)</a></div>otherwise, if <span class='texttt'>T</span> is an unsigned integer type and
<span class='texttt'><span class='keyword'>sizeof</span><span class='parenthesis'>(</span>T<span class='parenthesis'>)</span> <span class='anglebracket'>&lt;</span><span class='operator'>=</span> <span class='keyword'>sizeof</span><span class='parenthesis'>(</span><span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span><span class='parenthesis'>)</span></span>, initializes
<span class='texttt'>value</span> with
<span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>unsigned</span> <span class='keyword'>long</span> <span class='keyword'>long</span> <span class='keyword'>int</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span>;</li><li id='arg-5.7'><div class='marginalizedparent' style='left:-10em'><a class='marginalized' href='#arg-5.7'>(5.7)</a></div>otherwise, initializes <span class='texttt'>value</span> with <span class='texttt'>handle<span class='parenthesis'>(</span>v<span class='parenthesis'>)</span></span><a class='hidden_link' href='#arg-5.sentence-1'>.</a></li></ul></div></div></div><div class='itemdecl' id='arg-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:3'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>float</span> n<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>double</span> n<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
<span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>long</span> <span class='keyword'>double</span> n<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-6'><div class='marginalizedparent'><a class='marginalized' href='#arg-6'>6</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20852'>#</a></div><div id='arg-6.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes <span class='texttt'>value</span> with <span class='texttt'>n</span><a class='hidden_link' href='#arg-6.sentence-1'>.</a></div></div></div><div class='itemdecl' id='arg-itemdecl:4'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:4'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>const</span> char_type<span class='operator'>*</span> s<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-7'><div class='marginalizedparent'><a class='marginalized' href='#arg-7'>7</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20862'>#</a></div><div id='arg-7.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
<span class='texttt'>s</span> points to a NTCTS (<a href='defns.ntcts'>[defns.ntcts]</a>)<a class='hidden_link' href='#arg-7.sentence-1'>.</a></div></div></div><div class='para' id='arg-8'><div class='marginalizedparent'><a class='marginalized' href='#arg-8'>8</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20866'>#</a></div><div id='arg-8.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes <span class='texttt'>value</span> with <span class='texttt'>s</span><a class='hidden_link' href='#arg-8.sentence-1'>.</a></div></div></div><div class='itemdecl' id='arg-itemdecl:5'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:5'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> traits<span class='anglebracket'>&gt;</span>
  <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span>basic_string_view<span class='anglebracket'>&lt;</span>char_type, traits<span class='anglebracket'>&gt;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-9'><div class='marginalizedparent'><a class='marginalized' href='#arg-9'>9</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20877'>#</a></div><div id='arg-9.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes <span class='texttt'>value</span> with <span class='texttt'>s</span><a class='hidden_link' href='#arg-9.sentence-1'>.</a></div></div></div><div class='itemdecl' id='arg-itemdecl:6'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:6'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> traits, <span class='keyword'>class</span> Allocator<span class='anglebracket'>&gt;</span>
  <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span>
    <span class='keyword'>const</span> basic_string<span class='anglebracket'>&lt;</span>char_type, traits, Allocator<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> s<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-10'><div class='marginalizedparent'><a class='marginalized' href='#arg-10'>10</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20889'>#</a></div><div id='arg-10.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes <span class='texttt'>value</span> with
<span class='texttt'>basic_&shy;string_&shy;view<span class='anglebracket'>&lt;</span>char_&shy;type<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>s<span class='operator'>.</span>data<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, s<span class='operator'>.</span>size<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#arg-10.sentence-1'>.</a></div></div></div><div class='itemdecl' id='arg-itemdecl:7'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:7'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span>nullptr_t<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-11'><div class='marginalizedparent'><a class='marginalized' href='#arg-11'>11</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20900'>#</a></div><div id='arg-11.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes <span class='texttt'>value</span> with
  <span class='texttt'><span class='keyword'>static_&shy;cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='literal'>nullptr</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#arg-11.sentence-1'>.</a></div></div></div><div class='itemdecl' id='arg-itemdecl:8'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:8'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> basic_format_arg<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>*</span> p<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-12'><div class='marginalizedparent'><a class='marginalized' href='#arg-12'>12</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20911'>#</a></div><div id='arg-12.sentence-1' class='sentence'><span class='textit'>Constraints:</span> 
<span class='texttt'>is_&shy;void_&shy;v<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span></span> is <span class='texttt'><span class='literal'>true</span></span><a class='hidden_link' href='#arg-12.sentence-1'>.</a></div></div></div><div class='para' id='arg-13'><div class='marginalizedparent'><a class='marginalized' href='#arg-13'>13</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20915'>#</a></div><div id='arg-13.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes <span class='texttt'>value</span> with <span class='texttt'>p</span><a class='hidden_link' href='#arg-13.sentence-1'>.</a></div></div></div><div class='para' id='arg-14'><div class='marginalizedparent'><a class='marginalized' href='#arg-14'>14</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20919'>#</a></div><div id='arg-14.note-1' class='note'>[&nbsp;<a class='note_link' href='#arg-14.note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='arg-14.sentence-1' class='sentence'>Constructing <span class='texttt'>basic_&shy;format_&shy;arg</span> from
a pointer to a member is ill-formed unless
the user provides an enabled specialization of
<span class='texttt'>formatter</span> for that pointer to member type<a class='hidden_link' href='#arg-14.sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><span class='indexparent'><a class='index' id='lib:operator_bool,basic_format_arg'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_arg,operator_bool'></a></span><div class='itemdecl' id='arg-itemdecl:9'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:9'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>explicit</span> <span class='keyword'>operator</span> <span class='keyword'>bool</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-15'><div class='marginalizedparent'><a class='marginalized' href='#arg-15'>15</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20935'>#</a></div><div id='arg-15.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='operator'>!</span>holds_&shy;alternative<span class='anglebracket'>&lt;</span>monostate<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>value<span class='parenthesis'>)</span></span><a class='hidden_link' href='#arg-15.sentence-1'>.</a></div></div></div><div class='para' id='arg-16'><div class='marginalizedparent'><a class='marginalized' href='#arg-16'>16</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20940'>#</a></div><div id='arg-16.sentence-1' class='sentence'>The class <span class='texttt'>handle</span> allows formatting an object of a user-defined type<a class='hidden_link' href='#arg-16.sentence-1'>.</a></div><span class='indexparent'><a class='index' id='lib:basic_format_arg::handle'></a></span><span class='indexparent'><a class='index' id='lib:handle,basic_format_arg'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_arg,handle'></a></span><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span><span class='operator'>::</span>handle <span class='curlybracket'>{</span>
    <span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span> ptr_;                                           <span class='comment'>// <span class='textit'>exposition only</span></span>
    <span class='keyword'>void</span> <span class='parenthesis'>(</span><span class='operator'>*</span>format_<span class='parenthesis'>)</span><span class='parenthesis'>(</span>basic_format_parse_context<span class='anglebracket'>&lt;</span>char_type<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>,
                    Context<span class='operator'>&amp;</span>, <span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span><span class='parenthesis'>)</span>;                     <span class='comment'>// <span class='textit'>exposition only</span></span>

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> handle<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> val<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;   <span class='comment'>// <span class='textit'>exposition only</span></span>

    <span class='keyword'>friend</span> <span class='keyword'>class</span> basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span>;                     <span class='comment'>// <span class='textit'>exposition only</span></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>void</span> format<span class='parenthesis'>(</span>basic_format_parse_context<span class='anglebracket'>&lt;</span>char_type<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span>, Context<span class='operator'>&amp;</span> ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre><span class='indexparent'><a class='index' id='lib:basic_format_arg::handle,constructor'></a></span></div><div class='itemdecl' id='arg-itemdecl:10'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:10'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> T<span class='anglebracket'>&gt;</span> <span class='keyword'>explicit</span> handle<span class='parenthesis'>(</span><span class='keyword'>const</span> T<span class='operator'>&amp;</span> val<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-17'><div class='marginalizedparent'><a class='marginalized' href='#arg-17'>17</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20969'>#</a></div><div id='arg-17.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes
<span class='texttt'>ptr_&shy;</span> with <span class='texttt'>addressof<span class='parenthesis'>(</span>val<span class='parenthesis'>)</span></span> and
<span class='texttt'>format_&shy;</span> with
<pre class='codeblock'>
<span class='squarebracket'>[</span><span class='squarebracket'>]</span><span class='parenthesis'>(</span>basic_format_parse_context<span class='anglebracket'>&lt;</span>char_type<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> parse_ctx,
   Context<span class='operator'>&amp;</span> format_ctx, <span class='keyword'>const</span> <span class='keyword'>void</span><span class='operator'>*</span> ptr<span class='parenthesis'>)</span> <span class='curlybracket'>{</span>
  <span class='keyword'>typename</span> Context<span class='operator'>::</span><span class='keyword'>template</span> formatter_type<span class='anglebracket'>&lt;</span>T<span class='anglebracket'>&gt;</span> f;
  parse_ctx<span class='operator'>.</span>advance_to<span class='parenthesis'>(</span>f<span class='operator'>.</span>parse<span class='parenthesis'>(</span>parse_ctx<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
  format_ctx<span class='operator'>.</span>advance_to<span class='parenthesis'>(</span>f<span class='operator'>.</span>format<span class='parenthesis'>(</span><span class='operator'>*</span><span class='keyword'>static_cast</span><span class='anglebracket'>&lt;</span><span class='keyword'>const</span> T<span class='operator'>*</span><span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>ptr<span class='parenthesis'>)</span>, format_ctx<span class='parenthesis'>)</span><span class='parenthesis'>)</span>;
<span class='curlybracket'>}</span>
</pre></div></div></div><span class='indexparent'><a class='index' id='lib:format,basic_format_arg::handle'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_arg::handle,format'></a></span><div class='itemdecl' id='arg-itemdecl:11'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:11'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>void</span> format<span class='parenthesis'>(</span>basic_format_parse_context<span class='anglebracket'>&lt;</span>char_type<span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> parse_ctx, Context<span class='operator'>&amp;</span> format_ctx<span class='parenthesis'>)</span> <span class='keyword'>const</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-18'><div class='marginalizedparent'><a class='marginalized' href='#arg-18'>18</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L20990'>#</a></div><div id='arg-18.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'>format_&shy;<span class='parenthesis'>(</span>parse_&shy;ctx, format_&shy;ctx, ptr_&shy;<span class='parenthesis'>)</span>;</span></div></div></div><span class='indexparent'><a class='index' id='lib:visit_format_arg'></a></span><div class='itemdecl' id='arg-itemdecl:12'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg-itemdecl:12'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Visitor, <span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span>
  <span class='textit'><span class='texttt'>see below</span></span> visit_format_arg<span class='parenthesis'>(</span>Visitor<span class='operator'>&amp;</span><span class='operator'>&amp;</span> vis, basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span> arg<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg-19'><div class='marginalizedparent'><a class='marginalized' href='#arg-19'>19</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21002'>#</a></div><div id='arg-19.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to: <span class='texttt'><span class='keyword'>return</span> visit<span class='parenthesis'>(</span>forward<span class='anglebracket'>&lt;</span>Visitor<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>vis<span class='parenthesis'>)</span>, arg<span class='operator'>.</span>value<span class='parenthesis'>)</span>;</span></div></div></div></div><div id='arg.store' class='section'><h4 ><a class='secnum' href='#arg.store' style='min-width:118pt'>20.20.6.2</a> Class template <span class='texttt'><span class='textit'>format-arg-store</span></span> <a class='abbr_ref' href='format.arg.store'>[format.arg.store]</a></h4><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='keyword'>struct</span> <span class='textit'>format-arg-store</span> <span class='curlybracket'>{</span>      <span class='comment'>// <span class='textit'>exposition only</span></span>
    array<span class='anglebracket'>&lt;</span>basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span>, <span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Args<span class='parenthesis'>)</span><span class='anglebracket'>&gt;</span> args;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre><div class='para' id='arg.store-1'><div class='marginalizedparent'><a class='marginalized' href='#arg.store-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21018'>#</a></div><div id='arg.store-1.sentence-1' class='sentence'>An instance of <span class='texttt'><span class='textit'>format-arg-store</span></span> stores formatting arguments<a class='hidden_link' href='#arg.store-1.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:make_format_args'></a></span></div><div class='itemdecl' id='arg.store-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg.store-itemdecl:1'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context <span class='operator'>=</span> format_context, <span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='textit'>format-arg-store</span><span class='anglebracket'>&lt;</span>Context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> make_format_args<span class='parenthesis'>(</span><span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg.store-2'><div class='marginalizedparent'><a class='marginalized' href='#arg.store-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21028'>#</a></div><div id='arg.store-2.sentence-1' class='sentence'><span class='textit'>Preconditions:</span> 
The type
<span class='texttt'><span class='keyword'>typename</span> Context<span class='operator'>&#x200b;::&#x200b;</span><span class='keyword'>template</span> formatter_&shy;type<span class='anglebracket'>&lt;</span></span><span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span><span class='texttt'><span class='anglebracket'>&gt;</span></span>
meets the <span class='textit'>Formatter</span> requirements (<a href='#formatter.requirements'>[formatter.requirements]</a>)
for each <span class="mjx-chtml"><span class="mjx-math"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-type-R" style="padding-top: 0.372em; padding-bottom: 0.225em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span> in <span class='texttt'>Args</span><a class='hidden_link' href='#arg.store-2.sentence-1'>.</a></div></div></div><div class='para' id='arg.store-3'><div class='marginalizedparent'><a class='marginalized' href='#arg.store-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21035'>#</a></div><div id='arg.store-3.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'><span class='curlybracket'>{</span>basic_&shy;format_&shy;arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='parenthesis'>)</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='curlybracket'>}</span></span><a class='hidden_link' href='#arg.store-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:make_wformat_args'></a></span><div class='itemdecl' id='arg.store-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#arg.store-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  <span class='textit'>format-arg-store</span><span class='anglebracket'>&lt;</span>wformat_context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span> make_wformat_args<span class='parenthesis'>(</span><span class='keyword'>const</span> Args<span class='operator'>&amp;</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> args<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='arg.store-4'><div class='marginalizedparent'><a class='marginalized' href='#arg.store-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21047'>#</a></div><div id='arg.store-4.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Equivalent to:
<span class='texttt'><span class='keyword'>return</span> make_&shy;format_&shy;args<span class='anglebracket'>&lt;</span>wformat_&shy;context<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span>args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>)</span>;</span></div></div></div></div><div id='args' class='section'><h4 ><a class='secnum' href='#args' style='min-width:118pt'>20.20.6.3</a> Class template <span class='texttt'>basic_&shy;format_&shy;args</span> <a class='abbr_ref' href='format.args'>[format.args]</a></h4><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span> Context<span class='anglebracket'>&gt;</span>
  <span class='keyword'>class</span> basic_format_args <span class='curlybracket'>{</span>
    size_t size_;                               <span class='comment'>// <span class='textit'>exposition only</span></span>
    <span class='keyword'>const</span> basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span><span class='operator'>*</span> data_;     <span class='comment'>// <span class='textit'>exposition only</span></span>

  <span class='keyword'>public</span><span class='operator'>:</span>
    basic_format_args<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    <span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
      basic_format_args<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='textit'>format-arg-store</span><span class='anglebracket'>&lt;</span>Context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> store<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;

    basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span> get<span class='parenthesis'>(</span>size_t i<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre><div class='para' id='args-1'><div class='marginalizedparent'><a class='marginalized' href='#args-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21073'>#</a></div><div id='args-1.sentence-1' class='sentence'>An instance of <span class='texttt'>basic_&shy;format_&shy;args</span> provides access to formatting
arguments<a class='hidden_link' href='#args-1.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:basic_format_args,constructor'></a></span></div><div class='itemdecl' id='args-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#args-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>basic_format_args<span class='parenthesis'>(</span><span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='args-2'><div class='marginalizedparent'><a class='marginalized' href='#args-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21083'>#</a></div><div id='args-2.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes <span class='texttt'>size_&shy;</span> with <span class='texttt'><span class='literal'>0</span></span><a class='hidden_link' href='#args-2.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:basic_format_args,constructor_'></a></span><div class='itemdecl' id='args-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#args-itemdecl:2'>🔗</a></div><code class='itemdeclcode'><span class='keyword'>template</span><span class='anglebracket'>&lt;</span><span class='keyword'>class</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span> Args<span class='anglebracket'>&gt;</span>
  basic_format_args<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='textit'>format-arg-store</span><span class='anglebracket'>&lt;</span>Context, Args<span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='anglebracket'>&gt;</span><span class='operator'>&amp;</span> store<span class='parenthesis'>)</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='args-3'><div class='marginalizedparent'><a class='marginalized' href='#args-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21095'>#</a></div><div id='args-3.sentence-1' class='sentence'><span class='textit'>Effects:</span> 
Initializes
<span class='texttt'>size_&shy;</span> with <span class='texttt'><span class='keyword'>sizeof</span><span class='operator'>.</span><span class='operator'>.</span><span class='operator'>.</span><span class='parenthesis'>(</span>Args<span class='parenthesis'>)</span></span> and
<span class='texttt'>data_&shy;</span> with <span class='texttt'>store<span class='operator'>.</span>args<span class='operator'>.</span>data<span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#args-3.sentence-1'>.</a></div></div></div><span class='indexparent'><a class='index' id='lib:get,basic_format_args'></a></span><span class='indexparent'><a class='index' id='lib:basic_format_args,get'></a></span><div class='itemdecl' id='args-itemdecl:3'><div class='marginalizedparent'><a class='itemDeclLink' href='#args-itemdecl:3'>🔗</a></div><code class='itemdeclcode'>basic_format_arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span> get<span class='parenthesis'>(</span>size_t i<span class='parenthesis'>)</span> <span class='keyword'>const</span> <span class='keyword'>noexcept</span>;
</code></div><div class='itemdescr'></div><div class='para' id='args-4'><div class='marginalizedparent'><a class='marginalized' href='#args-4'>4</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21108'>#</a></div><div id='args-4.sentence-1' class='sentence'><span class='textit'>Returns:</span> 
<span class='texttt'>i <span class='anglebracket'>&lt;</span> size_&shy; <span class='operator'>?</span>&nbsp;data_&shy;<span class='squarebracket'>[</span>i<span class='squarebracket'>]</span> <span class='operator'>:</span>&nbsp;basic_&shy;format_&shy;arg<span class='anglebracket'>&lt;</span>Context<span class='anglebracket'>&gt;</span><span class='parenthesis'>(</span><span class='parenthesis'>)</span></span><a class='hidden_link' href='#args-4.sentence-1'>.</a></div></div></div><div id='args-note-1' class='note'>[&nbsp;<a class='note_link' href='#args-note-1'><span class='textit'>Note</span></a><div class='noteBody'><span class='textit'>:</span> <div id='args-sentence-1' class='sentence'>Implementations are encouraged
to optimize the representation of <span class='texttt'>basic_&shy;format_&shy;args</span>
for small number of formatting arguments
by storing indices of type alternatives separately from values
and packing the former<a class='hidden_link' href='#args-sentence-1'>.</a></div> —&nbsp;<i>end note</i></div>&nbsp;]</div> </div></div><div id='error' class='section'><h3 ><a class='secnum' href='#error' style='min-width:103pt'>20.20.7</a> Class <span class='texttt'>format_&shy;error</span> <a class='abbr_ref' href='format.error'>[format.error]</a></h3><span class='indexparent'><a class='index' id='lib:format_error'></a></span><pre class='codeblock'>
<span class='keyword'>namespace</span> std <span class='curlybracket'>{</span>
  <span class='keyword'>class</span> format_error <span class='operator'>:</span> <span class='keyword'>public</span> runtime_error <span class='curlybracket'>{</span>
  <span class='keyword'>public</span><span class='operator'>:</span>
    <span class='keyword'>explicit</span> format_error<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> what_arg<span class='parenthesis'>)</span>;
    <span class='keyword'>explicit</span> format_error<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what_arg<span class='parenthesis'>)</span>;
  <span class='curlybracket'>}</span>;
<span class='curlybracket'>}</span>
</pre><div class='para' id='error-1'><div class='marginalizedparent'><a class='marginalized' href='#error-1'>1</a></div><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21134'>#</a></div><div id='error-1.sentence-1' class='sentence'>The class <span class='texttt'>format_&shy;error</span> defines the type of objects thrown as
exceptions to report errors from the formatting library<a class='hidden_link' href='#error-1.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:format_error,constructor'></a></span></div><div class='itemdecl' id='error-itemdecl:1'><div class='marginalizedparent'><a class='itemDeclLink' href='#error-itemdecl:1'>🔗</a></div><code class='itemdeclcode'>format_error<span class='parenthesis'>(</span><span class='keyword'>const</span> string<span class='operator'>&amp;</span> what_arg<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='error-2'><div class='marginalizedparent'><a class='marginalized' href='#error-2'>2</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21144'>#</a></div><div id='error-2.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'>strcmp<span class='parenthesis'>(</span>what<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, what_&shy;arg<span class='operator'>.</span>c_&shy;str<span class='parenthesis'>(</span><span class='parenthesis'>)</span><span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span></span><a class='hidden_link' href='#error-2.sentence-1'>.</a></div> <span class='indexparent'><a class='index' id='lib:format_error,constructor_'></a></span></div></div><div class='itemdecl' id='error-itemdecl:2'><div class='marginalizedparent'><a class='itemDeclLink' href='#error-itemdecl:2'>🔗</a></div><code class='itemdeclcode'>format_error<span class='parenthesis'>(</span><span class='keyword'>const</span> <span class='keyword'>char</span><span class='operator'>*</span> what_arg<span class='parenthesis'>)</span>;
</code></div><div class='itemdescr'></div><div class='para' id='error-3'><div class='marginalizedparent'><a class='marginalized' href='#error-3'>3</a></div><div class='itemdescr'><div class='sourceLinkParent'><a class='sourceLink' href='https://github.com/cplusplus/draft/tree/3a3350ee86fb2dbc86752af66d56102d237d8c4f/source/utilities.tex#L21155'>#</a></div><div id='error-3.sentence-1' class='sentence'><span class='textit'>Postconditions:</span> 
<span class='texttt'>strcmp<span class='parenthesis'>(</span>what<span class='parenthesis'>(</span><span class='parenthesis'>)</span>, what_&shy;arg<span class='parenthesis'>)</span> <span class='operator'>=</span><span class='operator'>=</span> <span class='literal'>0</span></span><a class='hidden_link' href='#error-3.sentence-1'>.</a></div></div></div></div></div></body></html>